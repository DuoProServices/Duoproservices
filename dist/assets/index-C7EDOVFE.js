const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-uttN7Dgu.js","assets/vendor-Bkl8wCMx.js","assets/supabase-DEvIEdQL.js","assets/ui-DfG9emDj.js"])))=>i.map(i=>d[i]);
var oD=Object.defineProperty;var lD=(e,t,r)=>t in e?oD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Gt=(e,t,r)=>lD(e,typeof t!="symbol"?t+"":t,r);import{r as C,b as ph,g as nr,R as fe,L as Sc,c as K1,u as Br,a as cD,d as oT,e as lT,f as xm,B as AD,h as uD,i as pr}from"./vendor-Bkl8wCMx.js";import{c as dD,_ as cl,a as cT,b as fD}from"./supabase-DEvIEdQL.js";import{G as Bx,M as Ja,P as gh,a as jf,b as Ws,C as Mr,S as Za,c as tr,t as me,d as fs,I as AT,U as Qr,F as Mt,e as He,T as Mn,f as Os,g as Fs,h as As,i as dr,A as xh,K as uT,L as hD,j as Ht,k as zp,l as Gp,m as ea,H as No,n as ji,X as In,o as Co,p as Sx,q as Ec,B as qp,D as Zt,r as SN,s as mD,u as V1,v as pD,w as dT,x as ht,y as Zn,z as Nf,E as es,J as gD,N as EN,O as Pi,R as vo,Q as Cf,V as Fc,W as FN,Y as aa,Z as Kc,_ as ja,$ as wi,a0 as fT,a1 as TN,a2 as Wp,a3 as Sv,a4 as xD,a5 as Bf,a6 as Sf,a7 as vD,a8 as Ex,a9 as jl,aa as hT,ab as bD,ac as Fx,ad as yD,ae as wD,af as Tx,ag as Vc,ah as jD,ai as mT,aj as Tc,ak as ND,al as nu,am as CD,an as pT,ao as BD,ap as gT,aq as SD,ar as xT,as as ED,at as FD,au as TD,av as PD,aw as kD,ax as OD,ay as ID,az as UD,aA as _D,aB as DD,aC as LD}from"./ui-DfG9emDj.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var vT={exports:{}},Px={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QD=C,RD=Symbol.for("react.element"),MD=Symbol.for("react.fragment"),$D=Object.prototype.hasOwnProperty,HD=QD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KD={key:!0,ref:!0,__self:!0,__source:!0};function bT(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)$D.call(t,n)&&!KD.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:RD,type:e,key:i,ref:o,props:a,_owner:HD.current}}Px.Fragment=MD;Px.jsx=bT;Px.jsxs=bT;vT.exports=Px;var s=vT.exports,my={},PN=ph;my.createRoot=PN.createRoot,my.hydrateRoot=PN.hydrateRoot;var VD=typeof Element<"u",zD=typeof Map=="function",GD=typeof Set=="function",qD=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Bp(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Bp(e[n],t[n]))return!1;return!0}var i;if(zD&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!Bp(n.value[1],t.get(n.value[0])))return!1;return!0}if(GD&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(qD&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(VD&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!Bp(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var WD=function(t,r){try{return Bp(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const YD=nr(WD);var XD=function(e,t,r,n,a,i,o,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var A=[r,n,a,i,o,l],u=0;c=new Error(t.replace(/%s/g,function(){return A[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},JD=XD;const kN=nr(JD);var ZD=function(t,r,n,a){var i=n?n.call(a,t,r):void 0;if(i!==void 0)return!!i;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),A=0;A<o.length;A++){var u=o[A];if(!c(u))return!1;var d=t[u],h=r[u];if(i=n?n.call(a,d,h,u):void 0,i===!1||i===void 0&&d!==h)return!1}return!0};const eL=nr(ZD);var yT=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(yT||{}),Ev={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},ON=Object.values(yT),z1={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},tL=Object.entries(z1).reduce((e,[t,r])=>(e[r]=t,e),{}),Wa="data-rh",KA={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},VA=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},rL=e=>{let t=VA(e,"title");const r=VA(e,KA.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=VA(e,KA.DEFAULT_TITLE);return t||n||void 0},nL=e=>VA(e,KA.ON_CHANGE_CLIENT_STATE)||(()=>{}),Fv=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),sL=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let i=0;i<a.length;i+=1){const l=a[i].toLowerCase();if(e.indexOf(l)!==-1&&n[l])return r.concat(n)}}return r},[]),aL=e=>console&&typeof console.warn=="function"&&console.warn(e),Sd=(e,t,r)=>{const n={};return r.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&aL(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,i)=>{const o={};i.filter(c=>{let A;const u=Object.keys(c);for(let h=0;h<u.length;h+=1){const f=u[h],g=f.toLowerCase();t.indexOf(g)!==-1&&!(A==="rel"&&c[A].toLowerCase()==="canonical")&&!(g==="rel"&&c[g].toLowerCase()==="stylesheet")&&(A=g),t.indexOf(f)!==-1&&(f==="innerHTML"||f==="cssText"||f==="itemprop")&&(A=f)}if(!A||!c[A])return!1;const d=c[A].toLowerCase();return n[A]||(n[A]={}),o[A]||(o[A]={}),n[A][d]?!1:(o[A][d]=!0,!0)}).reverse().forEach(c=>a.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const A=l[c],u={...n[A],...o[A]};n[A]=u}return a},[]).reverse()},iL=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},oL=e=>({baseTag:sL(["href"],e),bodyAttributes:Fv("bodyAttributes",e),defer:VA(e,KA.DEFER),encode:VA(e,KA.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Fv("htmlAttributes",e),linkTags:Sd("link",["rel","href"],e),metaTags:Sd("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Sd("noscript",["innerHTML"],e),onChangeClientState:nL(e),scriptTags:Sd("script",["src","innerHTML"],e),styleTags:Sd("style",["cssText"],e),title:rL(e),titleAttributes:Fv("titleAttributes",e),prioritizeSeoTags:iL(e,KA.PRIORITIZE_SEO_TAGS)}),wT=e=>Array.isArray(e)?e.join(""):e,lL=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},Tv=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(lL(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},IN=(e,t)=>({...e,[t]:void 0}),cL=["noscript","script","style"],py=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),jT=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),AL=(e,t,r,n)=>{const a=jT(r),i=wT(t);return a?`<${e} ${Wa}="true" ${a}>${py(i,n)}</${e}>`:`<${e} ${Wa}="true">${py(i,n)}</${e}>`},uL=(e,t,r=!0)=>t.reduce((n,a)=>{const i=a,o=Object.keys(i).filter(A=>!(A==="innerHTML"||A==="cssText")).reduce((A,u)=>{const d=typeof i[u]>"u"?u:`${u}="${py(i[u],r)}"`;return A?`${A} ${d}`:d},""),l=i.innerHTML||i.cssText||"",c=cL.indexOf(e)===-1;return`${n}<${e} ${Wa}="true" ${o}${c?"/>":`>${l}</${e}>`}`},""),NT=(e,t={})=>Object.keys(e).reduce((r,n)=>{const a=z1[n];return r[a||n]=e[n],r},t),dL=(e,t,r)=>{const n={key:t,[Wa]:!0},a=NT(r,n);return[fe.createElement("title",a,t)]},Sp=(e,t)=>t.map((r,n)=>{const a={key:n,[Wa]:!0};return Object.keys(r).forEach(i=>{const l=z1[i]||i;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[l]=r[i]}),fe.createElement(e,a)}),xa=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>dL(e,t.title,t.titleAttributes),toString:()=>AL(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>NT(t),toString:()=>jT(t)};default:return{toComponent:()=>Sp(e,t),toString:()=>uL(e,t,r)}}},fL=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const a=Tv(e,Ev.meta),i=Tv(t,Ev.link),o=Tv(r,Ev.script);return{priorityMethods:{toComponent:()=>[...Sp("meta",a.priority),...Sp("link",i.priority),...Sp("script",o.priority)],toString:()=>`${xa("meta",a.priority,n)} ${xa("link",i.priority,n)} ${xa("script",o.priority,n)}`},metaTags:a.default,linkTags:i.default,scriptTags:o.default}},hL=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:i,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:A}=e;let{linkTags:u,metaTags:d,scriptTags:h}=e,f={toComponent:()=>{},toString:()=>""};return A&&({priorityMethods:f,linkTags:u,metaTags:d,scriptTags:h}=fL(e)),{priority:f,base:xa("base",t,n),bodyAttributes:xa("bodyAttributes",r,n),htmlAttributes:xa("htmlAttributes",a,n),link:xa("link",u,n),meta:xa("meta",d,n),noscript:xa("noscript",i,n),script:xa("script",h,n),style:xa("style",o,n),title:xa("title",{title:l,titleAttributes:c},n)}},gy=hL,vm=[],CT=!!(typeof window<"u"&&window.document&&window.document.createElement),xy=class{constructor(e,t){Gt(this,"instances",[]);Gt(this,"canUseDOM",CT);Gt(this,"context");Gt(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?vm:this.instances,add:e=>{(this.canUseDOM?vm:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?vm:this.instances).indexOf(e);(this.canUseDOM?vm:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=gy({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},mL={},BT=fe.createContext(mL),yc,ST=(yc=class extends C.Component{constructor(r){super(r);Gt(this,"helmetData");this.helmetData=new xy(this.props.context||{},yc.canUseDOM)}render(){return fe.createElement(BT.Provider,{value:this.helmetData.value},this.props.children)}},Gt(yc,"canUseDOM",CT),yc),fA=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${Wa}]`),a=[].slice.call(n),i=[];let o;return t&&t.length&&t.forEach(l=>{const c=document.createElement(e);for(const A in l)if(Object.prototype.hasOwnProperty.call(l,A))if(A==="innerHTML")c.innerHTML=l.innerHTML;else if(A==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const u=A,d=typeof l[u]>"u"?"":l[u];c.setAttribute(A,d)}c.setAttribute(Wa,"true"),a.some((A,u)=>(o=u,c.isEqualNode(A)))?a.splice(o,1):i.push(c)}),a.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),i.forEach(l=>r.appendChild(l)),{oldTags:a,newTags:i}},vy=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(Wa),a=n?n.split(","):[],i=[...a],o=Object.keys(t);for(const l of o){const c=t[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),a.indexOf(l)===-1&&a.push(l);const A=i.indexOf(l);A!==-1&&i.splice(A,1)}for(let l=i.length-1;l>=0;l-=1)r.removeAttribute(i[l]);a.length===i.length?r.removeAttribute(Wa):r.getAttribute(Wa)!==o.join(",")&&r.setAttribute(Wa,o.join(","))},pL=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=wT(e)),vy("title",t)},UN=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:i,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:A,styleTags:u,title:d,titleAttributes:h}=e;vy("body",n),vy("html",a),pL(d,h);const f={baseTag:fA("base",r),linkTags:fA("link",i),metaTags:fA("meta",o),noscriptTags:fA("noscript",l),scriptTags:fA("script",A),styleTags:fA("style",u)},g={},p={};Object.keys(f).forEach(b=>{const{newTags:m,oldTags:x}=f[b];m.length&&(g[b]=m),x.length&&(p[b]=f[b].oldTags)}),t&&t(),c(e,g,p)},Ed=null,gL=e=>{Ed&&cancelAnimationFrame(Ed),e.defer?Ed=requestAnimationFrame(()=>{UN(e,()=>{Ed=null})}):(UN(e),Ed=null)},xL=gL,_N=class extends C.Component{constructor(){super(...arguments);Gt(this,"rendered",!1)}shouldComponentUpdate(t){return!eL(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let n=null;const a=oL(t.get().map(i=>{const o={...i.props};return delete o.context,o}));ST.canUseDOM?xL(a):gy&&(n=gy(a)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},hy,Nl=(hy=class extends C.Component{shouldComponentUpdate(e){return!YD(IN(this.props,"helmetData"),IN(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return kN(ON.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${ON.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),kN(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return fe.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:a,...i}=n.props,o=Object.keys(i).reduce((c,A)=>(c[tL[A]||A]=i[A],c),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,a),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,o,a);break;default:t=this.mapObjectTypeChildren(n,t,o,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof xy)){const a=n;n=new xy(a.context,!0),delete r.helmetData}return n?fe.createElement(_N,{...r,context:n.value}):fe.createElement(BT.Consumer,null,a=>fe.createElement(_N,{...r,context:a}))}},Gt(hy,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),hy);const ET=C.createContext(void 0),vL={en:{"nav.home":"Home","nav.services":"Services","nav.about":"About","nav.contact":"Contact","nav.login":"Client Portal","header.about":"About","header.services":"Services","header.pricing":"Pricing","header.process":"Process","header.faq":"FAQ","header.schedule":"Schedule","header.contact":"Contact","header.getStarted":"Get Started","header.brandName":"Canadian Tax Pro","header.brandTagline":"Professional Tax Services","hero.badge":"Trusted Canadian Tax Professional","hero.title":"Complete Financial & Tax Solutions for Canadians","hero.subtitle":"Expert services in tax preparation, bookkeeping, and financial reporting for individuals, newcomers, and small businesses across Canada. Your partner in financial compliance and growth.","hero.description":"Expert services in tax preparation, bookkeeping, and financial reporting for individuals, newcomers, and small businesses across Canada. Your partner in financial compliance and growth.","hero.cta":"Get Started Today","hero.ctaPrimary":"Get Started Today","hero.ctaSecondary":"View Services","hero.learn":"Learn More","hero.expertiseLabel":"Expertise in","hero.expertiseValue":"T1 Personal Returns","hero.supportingLabel":"Supporting","hero.supportingValue":"Small Businesses","hero.service1Title":"Personal Tax","hero.service1Desc":"T1 returns for individuals & newcomers","hero.service2Title":"Small Business","hero.service2Desc":"Complete tax solutions for entrepreneurs","hero.service3Title":"Bookkeeping","hero.service3Desc":"Professional accounting services","hero.service4Title":"Financial Reports","hero.service4Desc":"Detailed analysis & insights","about.section":"About Us","about.title":"Your Trusted Partner in Canadian Tax Compliance","about.p1":"As a dedicated Canadian tax professional, I specialize in helping individuals, newcomers, and small business owners navigate the complexities of the Canadian tax system with confidence.","about.p2":"Whether you're filing your first T1 personal tax return in Canada, managing a small business, or seeking guidance on tax compliance, I provide personalized service that puts your needs first. My commitment is to ensure accuracy, maximize your eligible deductions, and keep you fully compliant with CRA requirements.","about.value1Title":"Compliance & Accuracy","about.value1Desc":"Ensuring full compliance with CRA regulations and accurate tax filings every time.","about.value2Title":"Professional Excellence","about.value2Desc":"Years of experience in Canadian tax law and dedication to staying current with regulations.","about.value3Title":"Client-Focused Service","about.value3Desc":"Personalized attention and support tailored to your unique tax situation.","about.craCompliant":"CRA Compliant Services","about.craCompliantDesc":"All services are designed to meet and exceed Canada Revenue Agency standards and requirements.","about.teamSection":"Who We Are","about.teamTitle":"Meet Your Tax Professionals","about.team1Name":"Veronica Prass","about.team1Title":"Founder & Tax Professional","about.team1Bio":"Specialized in personal and small business tax returns with a focus on helping newcomers navigate the Canadian tax system.","about.team2Name":"Germana Azevedo","about.team2Title":"Senior Tax Consultant","about.team2Bio":"Expert in tax compliance and planning with extensive experience serving diverse Canadian clients.","about.viewLinkedIn":"View LinkedIn Profile","services.section":"Services","services.title":"Comprehensive Financial Services for Every Need","services.description":"From personal tax returns to full bookkeeping and financial reporting, we offer complete solutions designed to meet your Canadian financial obligations with accuracy and efficiency.","services.personal":"Personal Tax Returns","services.personal.desc":"Complete tax preparation and filing for individuals and newcomers to Canada","services.business":"Small Business Tax","services.business.desc":"Comprehensive tax solutions for entrepreneurs and small business owners","services.newcomer":"Newcomer Services","services.newcomer.desc":"Specialized support for new immigrants navigating Canadian taxes for the first time","services.main1Title":"Personal Tax","services.main1Desc":"Complete tax preparation and filing services for individuals and newcomers to Canada.","services.main2Title":"Small Business","services.main2Desc":"Comprehensive tax and compliance services for sole proprietors and small business owners.","services.main3Title":"Bookkeeping","services.main3Desc":"Professional bookkeeping and financial record management for your business.","services.main4Title":"Financial Reports & Management","services.main4Desc":"Management reports, financial analysis, and controller services for business insights.","services.personal1Title":"T1 Personal Tax Returns","services.personal1Desc":"Complete preparation and filing of individual income tax returns.","services.personal1Feature1":"Employment income (T4 slips)","services.personal1Feature2":"Investment income and capital gains","services.personal1Feature3":"RRSP contributions and deductions","services.personal1Feature4":"Medical expenses and credits","services.personal2Title":"Newcomer Tax Services","services.personal2Desc":"Specialized support for new immigrants navigating Canadian taxes.","services.personal2Feature1":"First-time tax filer assistance","services.personal2Feature2":"Residency status determination","services.personal2Feature3":"Foreign income reporting","services.personal2Feature4":"Tax treaty benefits","services.personal3Title":"Tax Compliance & Review","services.personal3Desc":"Ensuring your tax filings meet all CRA requirements.","services.personal3Feature1":"Prior year tax review","services.personal3Feature2":"Notice of Assessment review","services.personal3Feature3":"Missing slips and documentation","services.personal3Feature4":"Amendment requests (T1-ADJ)","services.business1Title":"Business Tax Filings","services.business1Desc":"Essential tax services for sole proprietors and small businesses.","services.business1Feature1":"T2125 Statement of Business Activities","services.business1Feature2":"Business expense optimization","services.business1Feature3":"Home office deductions","services.business1Feature4":"Quarterly tax planning","services.business2Title":"GST/HST Returns","services.business2Desc":"Complete GST/HST registration, filing, and compliance services.","services.business2Feature1":"GST/HST registration","services.business2Feature2":"Monthly/quarterly return preparation","services.business2Feature3":"Input tax credit optimization","services.business2Feature4":"GST/HST compliance review","services.business3Title":"Business Planning","services.business3Desc":"Strategic business and tax planning for growth.","services.business3Feature1":"Business structure consultation","services.business3Feature2":"Tax-efficient compensation planning","services.business3Feature3":"Incorporation advice","services.business3Feature4":"Growth strategy tax planning","services.bookkeeping1Title":"Monthly Bookkeeping","services.bookkeeping1Desc":"Professional monthly bookkeeping and reconciliation services.","services.bookkeeping1Feature1":"Bank reconciliation","services.bookkeeping1Feature2":"Accounts payable/receivable","services.bookkeeping1Feature3":"Financial statements preparation","services.bookkeeping1Feature4":"Monthly financial reports","services.bookkeeping2Title":"Expense Tracking","services.bookkeeping2Desc":"Comprehensive expense categorization and tracking.","services.bookkeeping2Feature1":"Receipt management","services.bookkeeping2Feature2":"Expense categorization","services.bookkeeping2Feature3":"Vendor payment tracking","services.bookkeeping2Feature4":"Tax-deductible expense identification","services.bookkeeping3Title":"Financial Records","services.bookkeeping3Desc":"Complete financial record organization and management.","services.bookkeeping3Feature1":"Document organization","services.bookkeeping3Feature2":"Digital record keeping","services.bookkeeping3Feature3":"Audit-ready documentation","services.bookkeeping3Feature4":"Year-end preparation","services.reports1Title":"Management Reports","services.reports1Desc":"Comprehensive management reports for informed decision-making.","services.reports1Feature1":"Profit & Loss statements","services.reports1Feature2":"Cash flow reports","services.reports1Feature3":"Budget vs Actual analysis","services.reports1Feature4":"Custom management dashboards","services.reports2Title":"Financial Analysis","services.reports2Desc":"In-depth financial analysis to drive business performance.","services.reports2Feature1":"Financial ratio analysis","services.reports2Feature2":"Profitability analysis","services.reports2Feature3":"Cost structure analysis","services.reports2Feature4":"Trend and variance analysis","services.reports3Title":"Controller Services","services.reports3Desc":"Strategic controller services for financial oversight and planning.","services.reports3Feature1":"KPI tracking and reporting","services.reports3Feature2":"Performance metrics","services.reports3Feature3":"Financial planning & forecasting","services.reports3Feature4":"Strategic business insights","services.notSureTitle":"Not Sure Which Service You Need?","services.notSureDesc":"Contact us for a free consultation to discuss your specific financial and tax situation.","process.section":"How It Works","process.title":"A Simple, Transparent Process","process.description":"From initial consultation to final filing, every step is designed to be clear, efficient, and stress-free.","process.tabPersonal":"Personal Tax","process.tabBusiness":"Business Services","process.step1Title":"Initial Payment ($50)","process.step1Desc":"Pay a small deposit of $50 CAD to start your tax filing. The remaining balance is due after we complete your return.","process.step1Time":"2 minutes","process.step2Title":"Document Upload","process.step2Desc":"Upload your tax documents (T4s, receipts, slips, etc.) through our secure portal with automatic OCR extraction.","process.step2Time":"15-30 minutes","process.step3Title":"Tax Calculation & Review","process.step3Desc":"We analyze your documents, calculate your refund/owing, and prepare your complete tax return.","process.step3Time":"3-5 business days","process.step4Title":"Final Payment & Approval","process.step4Desc":"Review your completed return, pay the remaining balance, and approve for CRA submission.","process.step4Time":"30 minutes","process.step5Title":"Filed with CRA","process.step5Desc":"Your tax return is electronically filed with the CRA. You'll receive your refund in 2-3 weeks!","process.step5Time":"Same day","process.business1Title":"Free Initial Consultation","process.business1Desc":"Schedule a complimentary consultation to discuss your business needs and scope of work.","process.business1Time":"30-45 minutes","process.business2Title":"Proposal & Scope Review","process.business2Desc":"Receive a detailed proposal with pricing, timeline, and customized service plan.","process.business2Time":"1-2 days","process.business3Title":"Onboarding & Setup","process.business3Desc":"Complete onboarding, documentation, and initial setup of your business accounts.","process.business3Time":"3-5 days","process.business4Title":"Ongoing Service Delivery","process.business4Desc":"Regular service delivery with monthly reports, continuous support, and strategic guidance.","process.business4Time":"Ongoing","process.businessBannerTitle":"üéâ First Consultation is FREE!","process.businessBannerDesc":"For Small Business, Bookkeeping, and Financial Reports services, we start with a complimentary consultation to understand your needs and provide a customized proposal.","process.businessBannerButton":"Schedule Free Consultation","process.turnaroundTitle":"Average Turnaround Time: 5-7 Business Days","process.turnaroundDesc":"From document submission to final filing. Rush service available for urgent situations.","process.benefit1":"Free initial consultation","process.benefit2":"Secure document handling","process.benefit3":"Electronic CRA filing","faq.section":"Frequently Asked Questions","faq.title":"Common Questions About Canadian Tax Services","faq.description":"Find answers to the most common questions about tax filing, compliance, and working with a tax professional in Canada.","faq.stillHaveTitle":"Still Have Questions?","faq.stillHaveDesc":"Don't hesitate to reach out. I'm here to help clarify any aspect of your Canadian tax obligations.","faq.contactLink":"Contact me today","contact.section":"Get In Touch","contact.title":"Ready to Get Started?","contact.description":"Contact me today for a free consultation. I'm here to answer your questions and help you navigate your Canadian tax obligations with confidence.","contact.infoTitle":"Contact Information","contact.locationLabel":"Location","contact.hoursLabel":"Hours","contact.locationValue":"Serving clients across Canada","contact.hoursValue":"Mon-Fri: 9am-6pm EST","contact.taxSeasonTitle":"Tax Season Hours","contact.taxSeasonDesc":"During tax season (February - April), extended hours are available including evenings and weekends by appointment.","contact.virtualDesc":"Virtual consultations available for clients across all Canadian provinces and territories.","contact.formTitle":"Send Me a Message","contact.nameLabel":"Full Name","contact.emailLabel":"Email Address","contact.phoneLabel":"Phone Number","contact.whatsappLabel":"WhatsApp","contact.subjectLabel":"Subject","contact.messageLabel":"Message","contact.namePlaceholder":"John Smith","contact.emailPlaceholder":"john@example.com","contact.phonePlaceholder":"(555) 123-4567","contact.subjectPlaceholder":"T1 Personal Tax Return","contact.messagePlaceholder":"Please describe your tax situation and how I can help you...","contact.privacyTitle":"Privacy Notice:","contact.privacyText":"Your information is kept strictly confidential and will only be used to respond to your inquiry.","contact.consentText":"By submitting this form, you agree to be contacted regarding your tax service inquiry.","contact.submitButton":"Send Message","contact.scheduleTitle":"Schedule a Free Consultation","contact.scheduleDesc":"Book a convenient time to discuss your tax and financial needs.","scheduling.section":"Book Appointment","scheduling.title":"Schedule Your Free Consultation","scheduling.description":"Select a date and time that works best for you. I'll confirm your appointment within 24 hours.","scheduling.selectDate":"Select a Date","scheduling.selectTime":"Select a Time","scheduling.noTimesAvailable":"No times available for this date","scheduling.bookingDetails":"Booking Details","scheduling.selectedDate":"Selected Date","scheduling.selectedTime":"Selected Time","scheduling.fullName":"Full Name","scheduling.email":"Email Address","scheduling.phone":"Phone Number","scheduling.serviceType":"Service Type","scheduling.selectService":"Select a service","scheduling.servicePersonal":"T1 Personal Tax Return","scheduling.serviceNewcomer":"Newcomer Tax Services","scheduling.serviceSmallBusiness":"Small Business Filing","scheduling.serviceCompliance":"Tax Compliance & Review","scheduling.servicePlanning":"Tax Planning & Advice","scheduling.serviceRepresentation":"CRA Representation","scheduling.additionalNotes":"Additional Notes (Optional)","scheduling.notesPlaceholder":"Please share any specific questions or concerns...","scheduling.confirmBooking":"Confirm Booking","scheduling.morning":"Morning","scheduling.afternoon":"Afternoon","scheduling.evening":"Evening","scheduling.virtualMeeting":"This will be a virtual consultation via video call.","scheduling.bookingSuccess":"Booking request submitted! You'll receive a confirmation email shortly.","clientPortal.title":"Client Portal","clientPortal.subtitle":"Manage your tax documents securely","clientPortal.login":"Client Login","clientPortal.signup":"Create Account","clientPortal.email":"Email","clientPortal.password":"Password","clientPortal.name":"Full Name","clientPortal.signInButton":"Sign In","clientPortal.signUpButton":"Create Account","clientPortal.alreadyHaveAccount":"Already have an account?","clientPortal.noAccount":"Don't have an account?","clientPortal.signInHere":"Sign in here","clientPortal.signUpHere":"Sign up here","clientPortal.welcomeBack":"Welcome back","clientPortal.logout":"Logout","clientPortal.uploadDocuments":"Upload Documents","clientPortal.myDocuments":"My Documents","clientPortal.noDocuments":"No documents uploaded yet","clientPortal.uploadNew":"Upload New Document","clientPortal.selectCategory":"Select Document Category","clientPortal.description":"Description (optional)","clientPortal.chooseFile":"Choose File","clientPortal.uploadButton":"Upload Document","clientPortal.uploading":"Uploading...","clientPortal.cancel":"Cancel","clientPortal.delete":"Delete","clientPortal.uploadedOn":"Uploaded on","clientPortal.fileSize":"Size","clientPortal.category":"Category","clientPortal.forgotPassword":"Forgot password?","forgotPassword.title":"Reset Password","forgotPassword.subtitle":"Enter your email and we'll send you a link to reset your password","forgotPassword.emailHint":"We'll send a password reset link to this email address","forgotPassword.sendButton":"Send Reset Link","forgotPassword.successTitle":"Check Your Email","forgotPassword.successMessage":"We've sent a password reset link to your email address. Click the link in the email to reset your password.","forgotPassword.checkSpam":"If you don't see the email, check your spam folder.","forgotPassword.backToLogin":"Back to login","resetPassword.title":"Create New Password","resetPassword.subtitle":"Enter your new password below","resetPassword.newPassword":"New Password","resetPassword.confirmPassword":"Confirm Password","resetPassword.passwordHint":"Must be at least 6 characters","resetPassword.updateButton":"Update Password","docCategory.t4":"T4 - Employment Income","docCategory.t4e":"T4E - Employment Insurance","docCategory.t4a":"T4A - Pension, Retirement, Scholarships","docCategory.t5":"T5 - Investment Income","docCategory.t5008":"T5008 - Securities Transactions","docCategory.rl1":"RL-1 - Quebec Employment Income","docCategory.rl2":"RL-2 - Quebec Retirement Income","docCategory.rental":"Rental Income","docCategory.selfEmployed":"Self-Employment / Freelance","docCategory.foreign":"Foreign Income","docCategory.medical":"Medical Expenses","docCategory.education":"Education (T2202/RL-8)","docCategory.homeOffice":"Home Office Expenses (T2200)","docCategory.rrsp":"RRSP Contributions","docCategory.charity":"Charitable Donations","docCategory.childcare":"Childcare Expenses","docCategory.property":"Property Tax","docCategory.other":"Other Documents","messages.title":"Messages","messages.noMessages":"No messages yet","messages.writeMessage":"Write a message...","messages.send":"Send","messages.you":"You","messages.admin":"Tax Advisor","messages.today":"Today","messages.yesterday":"Yesterday","messages.sending":"Sending...","messages.loadMore":"Load more messages","portal.documents":"Documents","portal.payments":"Payments","portal.messages":"Messages","portal.status":"Status","onboarding.title":"Complete Your Profile","onboarding.subtitle":"Let's get your account set up","onboarding.step":"Step","onboarding.of":"of","onboarding.step1Title":"Basic Information","onboarding.step1Desc":"Tell us about yourself","onboarding.step2Title":"Service Type","onboarding.step2Desc":"What service do you need?","onboarding.step3Title":"Tax Return Details","onboarding.step3Desc":"Additional information for your tax return","onboarding.fullName":"Full Name","onboarding.fullNamePlaceholder":"John Doe","onboarding.phone":"Phone Number","onboarding.email":"Email","onboarding.address":"Street Address","onboarding.addressPlaceholder":"123 Main Street","onboarding.city":"City","onboarding.cityPlaceholder":"Toronto","onboarding.province":"Province","onboarding.selectProvince":"Select province","onboarding.postalCode":"Postal Code","onboarding.serviceCategory":"Which service do you need?","onboarding.personal":"Personal Tax","onboarding.personalDesc":"T1 personal tax returns for individuals and newcomers","onboarding.smallBusiness":"Small Business","onboarding.smallBusinessDesc":"Business tax filings, GST/HST returns, and planning","onboarding.bookkeeping":"Bookkeeping","onboarding.bookkeepingDesc":"Monthly bookkeeping, expense tracking, and financial records","onboarding.financialReports":"Financial Reports & Management","onboarding.financialReportsDesc":"Management reports, financial analysis, and controller services","onboarding.personalInfo":"Personal Information","onboarding.dateOfBirth":"Date of Birth","onboarding.sin":"Social Insurance Number (SIN)","onboarding.statusInfo":"Status Information","onboarding.maritalStatus":"Marital Status","onboarding.selectMaritalStatus":"Select status","onboarding.single":"Single","onboarding.married":"Married","onboarding.commonLaw":"Common-law","onboarding.divorced":"Divorced","onboarding.widowed":"Widowed","onboarding.numberOfDependents":"Number of Dependents","onboarding.firstTimeInCanada":"First time filing in Canada?","onboarding.selectYesNo":"Select yes or no","onboarding.yes":"Yes","onboarding.no":"No","onboarding.residencyStatus":"Residency Status","onboarding.selectResidencyStatus":"Select status","onboarding.resident":"Resident","onboarding.nonResident":"Non-resident","onboarding.deemedResident":"Deemed Resident","onboarding.incomeInfo":"Employment & Income","onboarding.incomeType":"Income Type","onboarding.selectIncomeType":"Select type","onboarding.employment":"Employment","onboarding.selfEmployed":"Self-Employed","onboarding.both":"Both","onboarding.other":"Other","onboarding.workProvince":"Work Province","onboarding.back":"Back","onboarding.continue":"Continue","onboarding.complete":"Complete Setup","onboarding.saving":"Saving...","onboarding.saveProgress":"Save Progress & Continue Later","onboarding.fillAllFields":"Please fill in all required fields","onboarding.selectServiceCategory":"Please select a service category","onboarding.profileCompleted":"Profile completed! Welcome to your dashboard.","onboarding.progressSaved":"Progress saved successfully","onboarding.saveFailed":"Failed to save profile","onboardingSuccess.title":"Registration Complete!","onboardingSuccess.subtitle":"Your profile has been successfully set up.","onboardingSuccess.description":"You now have access to your client portal.","onboardingSuccess.nextSteps":"You can now upload documents, track your service progress, and communicate with us directly through your portal.","onboardingSuccess.accessPortal":"Access Client Portal","onboardingSuccess.contact":"Need help? Contact us anytime.","footer.description":"Expert Canadian tax services for individuals, newcomers, and small businesses. Ensuring compliance and maximizing your returns.","footer.quickLinks":"Quick Links","footer.services":"Services","footer.contact":"Contact","footer.service1":"T1 Personal Returns","footer.service2":"Newcomer Services","footer.service3":"Small Business Filing","footer.service4":"Tax Compliance","footer.service5":"CRA Representation","footer.copyright":"Canadian Tax Pro. All rights reserved.","footer.privacy":"Privacy Policy","footer.terms":"Terms of Service","footer.disclaimer":"This website is for informational purposes. Tax advice is provided on a case-by-case basis during consultations. All services comply with Canada Revenue Agency regulations.","admin.panel":"Admin Panel","admin.welcomeBack":"Welcome back","admin.clientPortal":"Client Portal","admin.signOut":"Sign Out","admin.adminHub":"Admin Hub","admin.selectModule":"Select a module below to get started","admin.clientsTitle":"Customer Dashboard","admin.clientsDesc":"Manage all customers, view details, documents, and filing status","admin.bookkeepingTitle":"Bookkeeping Dashboard","admin.bookkeepingDesc":"Track expenses, manage invoices, and handle day-to-day accounting","admin.financialTitle":"Financial Dashboard","admin.financialDesc":"View KPIs, revenue analytics, and comprehensive financial reports","admin.generalDashboardTitle":"General Dashboard","admin.generalDashboardDesc":"Overview of all system operations and quick access to key functions","admin.marketingTitle":"Marketing Dashboard","admin.marketingDesc":"Create professional marketing images and manage campaigns","admin.customerDashboard":"Customer Dashboard","admin.customersTotal":"customers total","admin.customer":"customer","admin.customers":"customers","admin.viewProfile":"View Profile","admin.pending":"Pending","admin.active":"Active","admin.completed":"Completed","admin.searchCustomers":"Search customers...","admin.filterAll":"All","admin.filterPersonal":"Personal Tax","admin.filterBusiness":"Small Business","admin.filterBookkeeping":"Bookkeeping","admin.filterReports":"Financial Reports","admin.noCustomers":"No customers found","admin.backToHub":"Back to Hub","taxFiling.overview":"Overview","taxFiling.documents":"Documents","taxFiling.messages":"Messages","taxFiling.taxYear":"Tax Year","taxFiling.filingType":"Filing Type","taxFiling.status":"Status","taxFiling.created":"Created","taxFiling.lastUpdated":"Last Updated","taxFiling.statusPending":"Pending Payment","taxFiling.statusDocuments":"Documents Upload","taxFiling.statusReview":"Under Review","taxFiling.statusReady":"Ready for Payment","taxFiling.statusCompleted":"Completed","taxFiling.paymentTimeline":"Payment Timeline","taxFiling.step1":"Initial Payment","taxFiling.step1Desc":"Pay $50 CAD deposit to start","taxFiling.step2":"Upload Documents","taxFiling.step2Desc":"Upload your tax documents","taxFiling.step3":"We Prepare","taxFiling.step3Desc":"We calculate and prepare your return","taxFiling.step4":"Final Payment","taxFiling.step4Desc":"Pay remaining balance","taxFiling.step5":"Filed","taxFiling.step5Desc":"Submitted to CRA","taxFiling.payInitial":"Pay $50 Initial Deposit","taxFiling.uploadDocuments":"Upload Documents","taxFiling.viewReport":"View Tax Report","taxFiling.payFinal":"Pay Final Balance","taxFiling.downloadReceipt":"Download Receipt","taxFiling.initialPaymentPaid":"Initial Payment Paid","taxFiling.finalPaymentPaid":"Final Payment Paid","taxFiling.paidOn":"Paid on","taxFiling.amount":"Amount","taxFiling.refundAmount":"Estimated Refund","taxFiling.owingAmount":"Amount Owing to CRA","taxFiling.finalPrice":"Final Service Price","taxFiling.backToDashboard":"Back to Dashboard"},fr:{"nav.home":"Accueil","nav.services":"Services","nav.about":"√Ä propos","nav.contact":"Contact","nav.login":"Portail Client","header.about":"√Ä propos","header.services":"Services","header.pricing":"Tarifs","header.process":"Processus","header.faq":"FAQ","header.schedule":"Programme","header.contact":"Contact","header.getStarted":"Commencer","header.brandName":"Fiscaliste Canadien","header.brandTagline":"Services Fiscaux Professionnels","hero.badge":"Fiscaliste Canadien de Confiance","hero.title":"Solutions Financi√®res et Fiscales Compl√®tes pour les Canadiens","hero.subtitle":"Services experts en pr√©paration fiscale, comptabilit√© et rapports financiers pour particuliers, nouveaux arrivants et petites entreprises partout au Canada. Votre partenaire en conformit√© financi√®re et croissance.","hero.description":"Services experts en pr√©paration fiscale, comptabilit√© et rapports financiers pour particuliers, nouveaux arrivants et petites entreprises partout au Canada. Votre partenaire en conformit√© financi√®re et croissance.","hero.cta":"Commencer Aujourd'hui","hero.ctaPrimary":"Commencer Aujourd'hui","hero.ctaSecondary":"Voir les Services","hero.learn":"En Savoir Plus","hero.expertiseLabel":"Expertise en","hero.expertiseValue":"D√©clarations T1 Personnelles","hero.supportingLabel":"Soutien aux","hero.supportingValue":"Petites Entreprises","hero.service1Title":"Imp√¥t Personnel","hero.service1Desc":"D√©clarations T1 pour particuliers et nouveaux arrivants","hero.service2Title":"Petite Entreprise","hero.service2Desc":"Solutions fiscales compl√®tes pour entrepreneurs","hero.service3Title":"Comptabilit√©","hero.service3Desc":"Services comptables professionnels","hero.service4Title":"Rapports Financiers","hero.service4Desc":"Analyse et perspectives d√©taill√©es","about.section":"√Ä Propos","about.title":"Votre Partenaire de Confiance en Conformit√© Fiscale Canadienne","about.p1":"En tant que fiscaliste canadien d√©vou√©, je me sp√©cialise dans l'aide aux particuliers, nouveaux arrivants et propri√©taires de petites entreprises pour naviguer les complexit√©s du syst√®me fiscal canadien avec confiance.","about.p2":"Que vous produisiez votre premi√®re d√©claration T1 au Canada, que vous g√©riez une petite entreprise ou que vous cherchiez des conseils sur la conformit√© fiscale, je fournis un service personnalis√© qui place vos besoins en premier. Mon engagement est d'assurer l'exactitude, de maximiser vos d√©ductions admissibles et de vous maintenir en pleine conformit√© avec les exigences de l'ARC.","about.value1Title":"Conformit√© et Pr√©cision","about.value1Desc":"Assurer la pleine conformit√© aux r√©glementations de l'ARC et des d√©clarations fiscales exactes √† chaque fois.","about.value2Title":"Excellence Professionnelle","about.value2Desc":"Des ann√©es d'exp√©rience en droit fiscal canadien et un engagement √† rester √† jour avec les r√©glementations.","about.value3Title":"Service Centr√© sur le Client","about.value3Desc":"Attention personnalis√©e et soutien adapt√© √† votre situation fiscale unique.","about.craCompliant":"Services Conformes √† l'ARC","about.craCompliantDesc":"Tous les services sont con√ßus pour respecter et d√©passer les normes et exigences de l'Agence du revenu du Canada.","about.teamSection":"Qui Sommes-Nous","about.teamTitle":"Rencontrez Vos Fiscalistes","about.team1Name":"Veronica Prass","about.team1Title":"Fondatrice et Fiscaliste","about.team1Bio":"Sp√©cialis√©e dans les d√©clarations fiscales personnelles et de petites entreprises, avec un accent sur l'aide aux nouveaux arrivants pour naviguer le syst√®me fiscal canadien.","about.team2Name":"Germana Azevedo","about.team2Title":"Consultante Fiscale Senior","about.team2Bio":"Experte en conformit√© et planification fiscale avec une vaste exp√©rience au service de clients canadiens diversifi√©s.","about.viewLinkedIn":"Voir le Profil LinkedIn","services.section":"Services","services.title":"Services Financiers Complets pour Tous les Besoins","services.description":"Des d√©clarations fiscales personnelles √† la comptabilit√© compl√®te et aux rapports financiers, nous offrons des solutions compl√®tes con√ßues pour r√©pondre √† vos obligations financi√®res canadiennes avec pr√©cision et efficacit√©.","services.personal":"D√©clarations d'Imp√¥t Personnel","services.personal.desc":"Pr√©paration et production compl√®tes de d√©clarations fiscales pour particuliers et nouveaux arrivants au Canada","services.business":"Imp√¥t des Petites Entreprises","services.business.desc":"Solutions fiscales compl√®tes pour entrepreneurs et propri√©taires de petites entreprises","services.newcomer":"Services pour Nouveaux Arrivants","services.newcomer.desc":"Soutien sp√©cialis√© pour les nouveaux immigrants qui naviguent le syst√®me fiscal canadien pour la premi√®re fois","services.main1Title":"Imp√¥t Personnel","services.main1Desc":"Services complets de pr√©paration et de production de d√©clarations fiscales pour particuliers et nouveaux arrivants au Canada.","services.main2Title":"Petite Entreprise","services.main2Desc":"Services fiscaux et de conformit√© complets pour travailleurs autonomes et propri√©taires de petites entreprises.","services.main3Title":"Comptabilit√©","services.main3Desc":"Comptabilit√© professionnelle et gestion des dossiers financiers pour votre entreprise.","services.main4Title":"Rapports Financiers et Gestion","services.main4Desc":"Rapports de gestion, analyse financi√®re et services de contr√¥leur pour des perspectives commerciales.","services.personal1Title":"D√©clarations T1 d'Imp√¥t Personnel","services.personal1Desc":"Pr√©paration et production compl√®tes de d√©clarations de revenus des particuliers.","services.personal1Feature1":"Revenu d'emploi (feuillets T4)","services.personal1Feature2":"Revenu de placements et gains en capital","services.personal1Feature3":"Cotisations REER et d√©ductions","services.personal1Feature4":"Frais m√©dicaux et cr√©dits","services.personal2Title":"Services Fiscaux pour Nouveaux Arrivants","services.personal2Desc":"Soutien sp√©cialis√© pour les nouveaux immigrants qui naviguent les imp√¥ts canadiens.","services.personal2Feature1":"Aide pour les premiers d√©clarants","services.personal2Feature2":"D√©termination du statut de r√©sidence","services.personal2Feature3":"D√©claration de revenus √©trangers","services.personal2Feature4":"Avantages des conventions fiscales","services.personal3Title":"Conformit√© et R√©vision Fiscale","services.personal3Desc":"S'assurer que vos d√©clarations fiscales r√©pondent √† toutes les exigences de l'ARC.","services.personal3Feature1":"R√©vision des ann√©es ant√©rieures","services.personal3Feature2":"R√©vision de l'avis de cotisation","services.personal3Feature3":"Feuillets et documentation manquants","services.personal3Feature4":"Demandes de modification (T1-ADJ)","services.business1Title":"D√©clarations Fiscales d'Entreprise","services.business1Desc":"Services fiscaux essentiels pour travailleurs autonomes et petites entreprises.","services.business1Feature1":"T2125 √âtat des activit√©s d'une entreprise","services.business1Feature2":"Optimisation des d√©penses d'entreprise","services.business1Feature3":"D√©ductions pour bureau √† domicile","services.business1Feature4":"Planification fiscale trimestrielle","services.business2Title":"D√©clarations TPS/TVH","services.business2Desc":"Services complets d'inscription, de production et de conformit√© TPS/TVH.","services.business2Feature1":"Inscription TPS/TVH","services.business2Feature2":"Pr√©paration de d√©clarations mensuelles/trimestrielles","services.business2Feature3":"Optimisation des cr√©dits de taxe sur intrants","services.business2Feature4":"R√©vision de conformit√© TPS/TVH","services.business3Title":"Planification d'Entreprise","services.business3Desc":"Planification strat√©gique d'entreprise et fiscale pour la croissance.","services.business3Feature1":"Consultation sur la structure d'entreprise","services.business3Feature2":"Planification de r√©mun√©ration fiscalement avantageuse","services.business3Feature3":"Conseils sur l'incorporation","services.business3Feature4":"Planification fiscale de strat√©gie de croissance","services.bookkeeping1Title":"Comptabilit√© Mensuelle","services.bookkeeping1Desc":"Services professionnels de comptabilit√© et de rapprochement mensuels.","services.bookkeeping1Feature1":"Rapprochement bancaire","services.bookkeeping1Feature2":"Comptes cr√©diteurs/d√©biteurs","services.bookkeeping1Feature3":"Pr√©paration d'√©tats financiers","services.bookkeeping1Feature4":"Rapports financiers mensuels","services.bookkeeping2Title":"Suivi des D√©penses","services.bookkeeping2Desc":"Cat√©gorisation et suivi complets des d√©penses.","services.bookkeeping2Feature1":"Gestion des re√ßus","services.bookkeeping2Feature2":"Cat√©gorisation des d√©penses","services.bookkeeping2Feature3":"Suivi des paiements aux fournisseurs","services.bookkeeping2Feature4":"Identification des d√©penses d√©ductibles d'imp√¥t","services.bookkeeping3Title":"Dossiers Financiers","services.bookkeeping3Desc":"Organisation et gestion compl√®tes des dossiers financiers.","services.bookkeeping3Feature1":"Organisation de documents","services.bookkeeping3Feature2":"Tenue de dossiers num√©riques","services.bookkeeping3Feature3":"Documentation pr√™te pour audit","services.bookkeeping3Feature4":"Pr√©paration de fin d'ann√©e","services.reports1Title":"Rapports de Gestion","services.reports1Desc":"Rapports de gestion complets pour une prise de d√©cision √©clair√©e.","services.reports1Feature1":"√âtats des profits et pertes","services.reports1Feature2":"Rapports de flux de tr√©sorerie","services.reports1Feature3":"Analyse budget vs r√©el","services.reports1Feature4":"Tableaux de bord de gestion personnalis√©s","services.reports2Title":"Analyse Financi√®re","services.reports2Desc":"Analyse financi√®re approfondie pour stimuler la performance de l'entreprise.","services.reports2Feature1":"Analyse des ratios financiers","services.reports2Feature2":"Analyse de rentabilit√©","services.reports2Feature3":"Analyse de structure de co√ªts","services.reports2Feature4":"Analyse des tendances et √©carts","services.reports3Title":"Services de Contr√¥leur","services.reports3Desc":"Services strat√©giques de contr√¥leur pour la surveillance et la planification financi√®res.","services.reports3Feature1":"Suivi et rapports des KPI","services.reports3Feature2":"M√©triques de performance","services.reports3Feature3":"Planification et pr√©visions financi√®res","services.reports3Feature4":"Perspectives commerciales strat√©giques","services.notSureTitle":"Pas S√ªr du Service Dont Vous Avez Besoin?","services.notSureDesc":"Contactez-nous pour une consultation gratuite afin de discuter de votre situation financi√®re et fiscale sp√©cifique.","process.section":"Comment √áa Marche","process.title":"Un Processus Simple et Transparent","process.description":"De la consultation initiale au d√©p√¥t final, chaque √©tape est con√ßue pour √™tre claire, efficace et sans stress.","process.tabPersonal":"Imp√¥t Personnel","process.tabBusiness":"Services Entreprise","process.step1Title":"Paiement Initial (50$)","process.step1Desc":"Payez un petit d√©p√¥t de 50$ CAD pour commencer votre d√©claration. Le solde restant est d√ª apr√®s avoir termin√©.","process.step1Time":"2 minutes","process.step2Title":"T√©l√©chargement de Documents","process.step2Desc":"T√©l√©chargez vos documents fiscaux (T4, re√ßus, feuillets, etc.) via notre portail s√©curis√© avec extraction OCR automatique.","process.step2Time":"15-30 minutes","process.step3Title":"Calcul et R√©vision Fiscale","process.step3Desc":"Nous analysons vos documents, calculons votre remboursement/montant d√ª et pr√©parons votre d√©claration compl√®te.","process.step3Time":"3-5 jours ouvrables","process.step4Title":"Paiement Final et Approbation","process.step4Desc":"R√©visez votre d√©claration termin√©e, payez le solde restant et approuvez pour soumission √† l'ARC.","process.step4Time":"30 minutes","process.step5Title":"D√©pos√© √† l'ARC","process.step5Desc":"Votre d√©claration est d√©pos√©e √©lectroniquement √† l'ARC. Vous recevrez votre remboursement dans 2-3 semaines!","process.step5Time":"Jour m√™me","process.business1Title":"Consultation Initiale Gratuite","process.business1Desc":"Planifiez une consultation gratuite pour discuter de vos besoins d'entreprise et de la port√©e des travaux.","process.business1Time":"30-45 minutes","process.business2Title":"Proposition et R√©vision de la Port√©e","process.business2Desc":"Recevez une proposition d√©taill√©e avec tarification, calendrier et plan de service personnalis√©.","process.business2Time":"1-2 jours","process.business3Title":"Int√©gration et Configuration","process.business3Desc":"Compl√©tez l'int√©gration, la documentation et la configuration initiale de vos comptes d'entreprise.","process.business3Time":"3-5 jours","process.business4Title":"Prestation de Services Continue","process.business4Desc":"Prestation r√©guli√®re de services avec rapports mensuels, soutien continu et conseils strat√©giques.","process.business4Time":"Continu","process.businessBannerTitle":"üéâ Premi√®re Consultation GRATUITE!","process.businessBannerDesc":"Pour les services de Petites Entreprises, Comptabilit√© et Rapports Financiers, nous commen√ßons par une consultation gratuite pour comprendre vos besoins et fournir une proposition personnalis√©e.","process.businessBannerButton":"Planifier une Consultation Gratuite","process.turnaroundTitle":"Temps de Traitement Moyen: 5-7 Jours Ouvrables","process.turnaroundDesc":"De la soumission des documents au d√©p√¥t final. Service acc√©l√©r√© disponible pour les situations urgentes.","process.benefit1":"Consultation initiale gratuite","process.benefit2":"Traitement s√©curis√© des documents","process.benefit3":"D√©p√¥t √©lectronique √† l'ARC","faq.section":"Questions Fr√©quemment Pos√©es","faq.title":"Questions Courantes sur les Services Fiscaux Canadiens","faq.description":"Trouvez des r√©ponses aux questions les plus courantes sur la d√©claration fiscale, la conformit√© et le travail avec un fiscaliste au Canada.","faq.stillHaveTitle":"Vous Avez Encore des Questions?","faq.stillHaveDesc":"N'h√©sitez pas √† nous contacter. Je suis l√† pour clarifier tout aspect de vos obligations fiscales canadiennes.","faq.contactLink":"Contactez-moi aujourd'hui","contact.section":"Contactez-Nous","contact.title":"Pr√™t √† Commencer?","contact.description":"Contactez-moi aujourd'hui pour une consultation gratuite. Je suis l√† pour r√©pondre √† vos questions et vous aider √† naviguer vos obligations fiscales canadiennes en toute confiance.","contact.infoTitle":"Informations de Contact","contact.locationLabel":"Emplacement","contact.hoursLabel":"Heures","contact.locationValue":"Service aux clients partout au Canada","contact.hoursValue":"Lun-Ven: 9h-18h HNE","contact.taxSeasonTitle":"Heures de la Saison des Imp√¥ts","contact.taxSeasonDesc":"Pendant la saison des imp√¥ts (f√©vrier - avril), des heures prolong√©es sont disponibles, y compris les soirs et week-ends sur rendez-vous.","contact.virtualDesc":"Consultations virtuelles disponibles pour les clients de toutes les provinces et territoires canadiens.","contact.formTitle":"Envoyez-Moi un Message","contact.nameLabel":"Nom Complet","contact.emailLabel":"Adresse Email","contact.phoneLabel":"Num√©ro de T√©l√©phone","contact.whatsappLabel":"WhatsApp","contact.subjectLabel":"Sujet","contact.messageLabel":"Message","contact.namePlaceholder":"Jean Dupont","contact.emailPlaceholder":"jean@exemple.com","contact.phonePlaceholder":"(555) 123-4567","contact.subjectPlaceholder":"D√©claration T1 d'Imp√¥t Personnel","contact.messagePlaceholder":"Veuillez d√©crire votre situation fiscale et comment je peux vous aider...","contact.privacyTitle":"Avis de Confidentialit√©:","contact.privacyText":"Vos informations sont gard√©es strictement confidentielles et ne seront utilis√©es que pour r√©pondre √† votre demande.","contact.consentText":"En soumettant ce formulaire, vous acceptez d'√™tre contact√© concernant votre demande de service fiscal.","contact.submitButton":"Envoyer le Message","contact.scheduleTitle":"Planifier une Consultation Gratuite","contact.scheduleDesc":"R√©servez un moment convenable pour discuter de vos besoins fiscaux et financiers.","scheduling.section":"Prendre Rendez-Vous","scheduling.title":"Planifiez Votre Consultation Gratuite","scheduling.description":"S√©lectionnez une date et une heure qui vous conviennent le mieux. Je confirmerai votre rendez-vous dans les 24 heures.","scheduling.selectDate":"S√©lectionner une Date","scheduling.selectTime":"S√©lectionner une Heure","scheduling.noTimesAvailable":"Aucune heure disponible pour cette date","scheduling.bookingDetails":"D√©tails de la R√©servation","scheduling.selectedDate":"Date S√©lectionn√©e","scheduling.selectedTime":"Heure S√©lectionn√©e","scheduling.fullName":"Nom Complet","scheduling.email":"Adresse Email","scheduling.phone":"Num√©ro de T√©l√©phone","scheduling.serviceType":"Type de Service","scheduling.selectService":"S√©lectionner un service","scheduling.servicePersonal":"D√©claration T1 d'Imp√¥t Personnel","scheduling.serviceNewcomer":"Services Fiscaux pour Nouveaux Arrivants","scheduling.serviceSmallBusiness":"D√©claration de Petite Entreprise","scheduling.serviceCompliance":"Conformit√© et R√©vision Fiscale","scheduling.servicePlanning":"Planification et Conseils Fiscaux","scheduling.serviceRepresentation":"Repr√©sentation Aupr√®s de l'ARC","scheduling.additionalNotes":"Notes Suppl√©mentaires (Optionnel)","scheduling.notesPlaceholder":"Veuillez partager toute question ou pr√©occupation sp√©cifique...","scheduling.confirmBooking":"Confirmer la R√©servation","scheduling.morning":"Matin","scheduling.afternoon":"Apr√®s-midi","scheduling.evening":"Soir","scheduling.virtualMeeting":"Ce sera une consultation virtuelle par appel vid√©o.","scheduling.bookingSuccess":"Demande de r√©servation soumise! Vous recevrez un email de confirmation sous peu.","clientPortal.title":"Portail Client","clientPortal.subtitle":"G√©rez vos documents fiscaux en toute s√©curit√©","clientPortal.login":"Connexion Client","clientPortal.signup":"Cr√©er un Compte","clientPortal.email":"Email","clientPortal.password":"Mot de Passe","clientPortal.name":"Nom Complet","clientPortal.signInButton":"Se Connecter","clientPortal.signUpButton":"Cr√©er un Compte","clientPortal.alreadyHaveAccount":"Vous avez d√©j√† un compte?","clientPortal.noAccount":"Vous n'avez pas de compte?","clientPortal.signInHere":"Connectez-vous ici","clientPortal.signUpHere":"Inscrivez-vous ici","clientPortal.welcomeBack":"Bon retour","clientPortal.logout":"D√©connexion","clientPortal.uploadDocuments":"T√©l√©charger des Documents","clientPortal.myDocuments":"Mes Documents","clientPortal.noDocuments":"Aucun document t√©l√©charg√© pour le moment","clientPortal.uploadNew":"T√©l√©charger un Nouveau Document","clientPortal.selectCategory":"S√©lectionner la Cat√©gorie de Document","clientPortal.description":"Description (optionnel)","clientPortal.chooseFile":"Choisir un Fichier","clientPortal.uploadButton":"T√©l√©charger le Document","clientPortal.uploading":"T√©l√©chargement...","clientPortal.cancel":"Annuler","clientPortal.delete":"Supprimer","clientPortal.uploadedOn":"T√©l√©charg√© le","clientPortal.fileSize":"Taille","clientPortal.category":"Cat√©gorie","clientPortal.forgotPassword":"Mot de passe oubli√©?","forgotPassword.title":"R√©initialiser le Mot de Passe","forgotPassword.subtitle":"Entrez votre email et nous vous enverrons un lien pour r√©initialiser votre mot de passe","forgotPassword.emailHint":"Nous enverrons un lien de r√©initialisation √† cette adresse email","forgotPassword.sendButton":"Envoyer le Lien de R√©initialisation","forgotPassword.successTitle":"V√©rifiez Votre Email","forgotPassword.successMessage":"Nous avons envoy√© un lien de r√©initialisation √† votre adresse email. Cliquez sur le lien dans l'email pour r√©initialiser votre mot de passe.","forgotPassword.checkSpam":"Si vous ne voyez pas l'email, v√©rifiez votre dossier spam.","forgotPassword.backToLogin":"Retour √† la connexion","resetPassword.title":"Cr√©er un Nouveau Mot de Passe","resetPassword.subtitle":"Entrez votre nouveau mot de passe ci-dessous","resetPassword.newPassword":"Nouveau Mot de Passe","resetPassword.confirmPassword":"Confirmer le Mot de Passe","resetPassword.passwordHint":"Doit comporter au moins 6 caract√®res","resetPassword.updateButton":"Mettre √† Jour le Mot de Passe","docCategory.t4":"T4 - Revenu d'Emploi","docCategory.t4e":"T4E - Assurance-Emploi","docCategory.t4a":"T4A - Pension, Retraite, Bourses","docCategory.t5":"T5 - Revenu de Placements","docCategory.t5008":"T5008 - Transactions de Titres","docCategory.rl1":"RL-1 - Revenu d'Emploi Qu√©bec","docCategory.rl2":"RL-2 - Revenu de Retraite Qu√©bec","docCategory.rental":"Revenu de Location","docCategory.selfEmployed":"Travail Autonome / Freelance","docCategory.foreign":"Revenu √âtranger","docCategory.medical":"Frais M√©dicaux","docCategory.education":"√âducation (T2202/RL-8)","docCategory.homeOffice":"Frais de Bureau √† Domicile (T2200)","docCategory.rrsp":"Cotisations REER","docCategory.charity":"Dons de Charit√©","docCategory.childcare":"Frais de Garde d'Enfants","docCategory.property":"Taxe Fonci√®re","docCategory.other":"Autres Documents","messages.title":"Messages","messages.noMessages":"Aucun message pour le moment","messages.writeMessage":"√âcrire un message...","messages.send":"Envoyer","messages.you":"Vous","messages.admin":"Conseiller Fiscal","messages.today":"Aujourd'hui","messages.yesterday":"Hier","messages.sending":"Envoi...","messages.loadMore":"Charger plus de messages","portal.documents":"Documents","portal.payments":"Paiements","portal.messages":"Messages","portal.status":"Statut","onboarding.title":"Compl√©tez Votre Profil","onboarding.subtitle":"Configurons votre compte","onboarding.step":"√âtape","onboarding.of":"de","onboarding.step1Title":"Informations de Base","onboarding.step1Desc":"Parlez-nous de vous","onboarding.step2Title":"Type de Service","onboarding.step2Desc":"De quel service avez-vous besoin?","onboarding.step3Title":"D√©tails de la D√©claration Fiscale","onboarding.step3Desc":"Informations suppl√©mentaires pour votre d√©claration fiscale","onboarding.fullName":"Nom Complet","onboarding.fullNamePlaceholder":"Jean Dupont","onboarding.phone":"Num√©ro de T√©l√©phone","onboarding.email":"Email","onboarding.address":"Adresse","onboarding.addressPlaceholder":"123 Rue Principale","onboarding.city":"Ville","onboarding.cityPlaceholder":"Toronto","onboarding.province":"Province","onboarding.selectProvince":"S√©lectionner la province","onboarding.postalCode":"Code Postal","onboarding.serviceCategory":"De quel service avez-vous besoin?","onboarding.personal":"Imp√¥t Personnel","onboarding.personalDesc":"D√©clarations T1 d'imp√¥t personnel pour particuliers et nouveaux arrivants","onboarding.smallBusiness":"Petite Entreprise","onboarding.smallBusinessDesc":"D√©clarations fiscales d'entreprise, d√©clarations TPS/TVH et planification","onboarding.bookkeeping":"Comptabilit√©","onboarding.bookkeepingDesc":"Comptabilit√© mensuelle, suivi des d√©penses et dossiers financiers","onboarding.financialReports":"Rapports Financiers et Gestion","onboarding.financialReportsDesc":"Rapports de gestion, analyse financi√®re et services de contr√¥leur","onboarding.personalInfo":"Informations Personnelles","onboarding.dateOfBirth":"Date de Naissance","onboarding.sin":"Num√©ro d'Assurance Sociale (NAS)","onboarding.statusInfo":"Informations de Statut","onboarding.maritalStatus":"√âtat Civil","onboarding.selectMaritalStatus":"S√©lectionner le statut","onboarding.single":"C√©libataire","onboarding.married":"Mari√©(e)","onboarding.commonLaw":"Union de Fait","onboarding.divorced":"Divorc√©(e)","onboarding.widowed":"Veuf/Veuve","onboarding.numberOfDependents":"Nombre de Personnes √† Charge","onboarding.firstTimeInCanada":"Premi√®re d√©claration au Canada?","onboarding.selectYesNo":"S√©lectionner oui ou non","onboarding.yes":"Oui","onboarding.no":"Non","onboarding.residencyStatus":"Statut de R√©sidence","onboarding.selectResidencyStatus":"S√©lectionner le statut","onboarding.resident":"R√©sident","onboarding.nonResident":"Non-r√©sident","onboarding.deemedResident":"R√©sident R√©put√©","onboarding.incomeInfo":"Emploi et Revenu","onboarding.incomeType":"Type de Revenu","onboarding.selectIncomeType":"S√©lectionner le type","onboarding.employment":"Emploi","onboarding.selfEmployed":"Travailleur Autonome","onboarding.both":"Les Deux","onboarding.other":"Autre","onboarding.workProvince":"Province de Travail","onboarding.back":"Retour","onboarding.continue":"Continuer","onboarding.complete":"Terminer la Configuration","onboarding.saving":"Enregistrement...","onboarding.saveProgress":"Enregistrer la Progression et Continuer Plus Tard","onboarding.fillAllFields":"Veuillez remplir tous les champs requis","onboarding.selectServiceCategory":"Veuillez s√©lectionner une cat√©gorie de service","onboarding.profileCompleted":"Profil compl√©t√©! Bienvenue dans votre tableau de bord.","onboarding.progressSaved":"Progression enregistr√©e avec succ√®s","onboarding.saveFailed":"√âchec de l'enregistrement du profil","onboardingSuccess.title":"Inscription Compl√®te!","onboardingSuccess.subtitle":"Votre profil a √©t√© configur√© avec succ√®s.","onboardingSuccess.description":"Vous avez maintenant acc√®s √† votre portail client.","onboardingSuccess.nextSteps":"Vous pouvez maintenant t√©l√©charger des documents, suivre l'avancement de votre service et communiquer directement avec nous via votre portail.","onboardingSuccess.accessPortal":"Acc√©der au Portail Client","onboardingSuccess.contact":"Besoin d'aide? Contactez-nous √† tout moment.","footer.description":"Services fiscaux canadiens experts pour particuliers, nouveaux arrivants et petites entreprises. Assurer la conformit√© et maximiser vos rendements.","footer.quickLinks":"Liens Rapides","footer.services":"Services","footer.contact":"Contact","footer.service1":"D√©clarations T1 Personnelles","footer.service2":"Services pour Nouveaux Arrivants","footer.service3":"D√©clarations de Petite Entreprise","footer.service4":"Conformit√© Fiscale","footer.service5":"Repr√©sentation Aupr√®s de l'ARC","footer.copyright":"Fiscaliste Canadien. Tous droits r√©serv√©s.","footer.privacy":"Politique de Confidentialit√©","footer.terms":"Conditions d'Utilisation","footer.disclaimer":"Ce site web est √† des fins informatives. Les conseils fiscaux sont fournis au cas par cas lors des consultations. Tous les services sont conformes aux r√©glementations de l'Agence du revenu du Canada.","admin.panel":"Panneau Admin","admin.welcomeBack":"Bon retour","admin.clientPortal":"Portail Client","admin.signOut":"D√©connexion","admin.adminHub":"Centre Admin","admin.selectModule":"S√©lectionnez un module ci-dessous pour commencer","admin.clientsTitle":"Tableau de Bord Client","admin.clientsDesc":"G√©rer tous les clients, voir les d√©tails, documents et statut de d√©claration","admin.bookkeepingTitle":"Tableau de Bord Comptabilit√©","admin.bookkeepingDesc":"Suivre les d√©penses, g√©rer les factures et g√©rer la comptabilit√© quotidienne","admin.financialTitle":"Tableau de Bord Financier","admin.financialDesc":"Voir les KPI, analyses de revenus et rapports financiers complets","admin.generalDashboardTitle":"Tableau de Bord G√©n√©ral","admin.generalDashboardDesc":"Aper√ßu de toutes les op√©rations syst√®me et acc√®s rapide aux fonctions cl√©s","admin.marketingTitle":"Tableau de Bord Marketing","admin.marketingDesc":"Cr√©er des images marketing professionnelles et g√©rer les campagnes","admin.customerDashboard":"Tableau de Bord Client","admin.customersTotal":"clients au total","admin.customer":"client","admin.customers":"clients","admin.viewProfile":"Voir le Profil","admin.pending":"En Attente","admin.active":"Actif","admin.completed":"Compl√©t√©","admin.searchCustomers":"Rechercher des clients...","admin.filterAll":"Tous","admin.filterPersonal":"Imp√¥t Personnel","admin.filterBusiness":"Petite Entreprise","admin.filterBookkeeping":"Comptabilit√©","admin.filterReports":"Rapports Financiers","admin.noCustomers":"Aucun client trouv√©","admin.backToHub":"Retour au Centre","taxFiling.overview":"Aper√ßu","taxFiling.documents":"Documents","taxFiling.messages":"Messages","taxFiling.taxYear":"Ann√©e Fiscale","taxFiling.filingType":"Type de D√©claration","taxFiling.status":"Statut","taxFiling.created":"Cr√©√©","taxFiling.lastUpdated":"Derni√®re Mise √† Jour","taxFiling.statusPending":"Paiement en Attente","taxFiling.statusDocuments":"T√©l√©chargement de Documents","taxFiling.statusReview":"En R√©vision","taxFiling.statusReady":"Pr√™t pour Paiement","taxFiling.statusCompleted":"Compl√©t√©","taxFiling.paymentTimeline":"Calendrier de Paiement","taxFiling.step1":"Paiement Initial","taxFiling.step1Desc":"Payer un d√©p√¥t de 50$ CAD pour commencer","taxFiling.step2":"T√©l√©charger les Documents","taxFiling.step2Desc":"T√©l√©chargez vos documents fiscaux","taxFiling.step3":"Nous Pr√©parons","taxFiling.step3Desc":"Nous calculons et pr√©parons votre d√©claration","taxFiling.step4":"Paiement Final","taxFiling.step4Desc":"Payer le solde restant","taxFiling.step5":"D√©pos√©","taxFiling.step5Desc":"Soumis √† l'ARC","taxFiling.payInitial":"Payer le D√©p√¥t Initial de 50$","taxFiling.uploadDocuments":"T√©l√©charger les Documents","taxFiling.viewReport":"Voir le Rapport Fiscal","taxFiling.payFinal":"Payer le Solde Final","taxFiling.downloadReceipt":"T√©l√©charger le Re√ßu","taxFiling.initialPaymentPaid":"Paiement Initial Pay√©","taxFiling.finalPaymentPaid":"Paiement Final Pay√©","taxFiling.paidOn":"Pay√© le","taxFiling.amount":"Montant","taxFiling.refundAmount":"Remboursement Estim√©","taxFiling.owingAmount":"Montant D√ª √† l'ARC","taxFiling.finalPrice":"Prix Final du Service","taxFiling.backToDashboard":"Retour au Tableau de Bord"}};function bL({children:e}){const[t,r]=C.useState("en"),n=C.useCallback(i=>vL[t][i]||i,[t]),a=C.useMemo(()=>({language:t,setLanguage:r,t:n}),[t,n]);return s.jsx(ET.Provider,{value:a,children:e})}function $r(){const e=C.useContext(ET);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}const Vt="pwlacumydrxvshklvttp",ta="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB3bGFjdW15ZHJ4dnNoa2x2dHRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNjM3MTQsImV4cCI6MjA4MTczOTcxNH0.uj1rVapx5bBzp6YVFbcOwxCDZftpLzjwfMJ4aCy_B_A",yL=`https://${Vt}.supabase.co`,Le=dD(yL,ta),wL=Object.freeze(Object.defineProperty({__proto__:null,supabase:Le},Symbol.toStringTag,{value:"Module"})),FT=C.createContext(void 0);function jL({children:e}){const[t,r]=C.useState(null),[n,a]=C.useState(!0);C.useEffect(()=>{let d=!0;return(async()=>{var f;try{const{data:g,error:p}=await Le.auth.getSession();if(p&&p.name==="AbortError")return;if(p)throw p;d&&g.session&&g.session.user&&r({id:g.session.user.id,email:g.session.user.email,name:((f=g.session.user.user_metadata)==null?void 0:f.name)||g.session.user.email})}catch(g){if((g==null?void 0:g.name)==="AbortError")return}finally{d&&a(!1)}})(),()=>{d=!1}},[]);const i=C.useCallback(async(d,h)=>{var f;try{const{data:g,error:p}=await Le.auth.signInWithPassword({email:d,password:h});if(p)throw p;g.user&&r({id:g.user.id,email:g.user.email,name:((f=g.user.user_metadata)==null?void 0:f.name)||d})}catch(g){throw console.error("Sign in error:",g),new Error(g.message||"Failed to sign in")}},[]),o=C.useCallback(async(d,h,f)=>{var g,p;try{console.log("üöÄ [AuthContext] Starting signup process for:",d);const b="https://undefined.supabase.co/functions/v1/make-server-c2a25be0/auth/signup";console.log("üåê [AuthContext] Server URL:",b),console.log("üì¶ [AuthContext] Payload:",{email:d,password:"***",name:f});const m=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify({email:d,password:h,name:f})});console.log("üì° [AuthContext] Server response status:",m.status),console.log("üì° [AuthContext] Server response ok:",m.ok);const x=await m.json();if(console.log("üì¶ [AuthContext] Server response body:",x),!m.ok||x.error)throw console.error("‚ùå [AuthContext] Signup error from server:",x.error),new Error(x.error||"Failed to create account");console.log("‚úÖ [AuthContext] User created successfully:",x.user),console.log("üîê [AuthContext] Signing in user...");const{data:y,error:w}=await Le.auth.signInWithPassword({email:d,password:h});if(w)throw console.error("‚ùå [AuthContext] Sign in error after signup:",w),w;console.log("‚úÖ [AuthContext] User signed in successfully"),console.log("üë§ [AuthContext] User data:",y.user),r({id:y.user.id,email:y.user.email,name:((g=y.user.user_metadata)==null?void 0:g.name)||f});try{console.log("üíæ [AuthContext] Creating user permissions in KV..."),(await fetch("https://undefined.supabase.co/functions/v1/make-server-c2a25be0/kv/set",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.session.access_token}`},body:JSON.stringify({key:`user-permissions:${y.user.id}`,value:{userId:y.user.id,email:y.user.email,name:((p=y.user.user_metadata)==null?void 0:p.name)||f,role:"client",modules:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}})})).ok?console.log("‚úÖ [AuthContext] User permissions created in KV store successfully!"):console.error("‚ö†Ô∏è [AuthContext] Failed to create permissions in KV store")}catch(N){console.error("‚ö†Ô∏è [AuthContext] Error creating permissions in KV:",N)}return console.log("üéâ [AuthContext] Signup process completed successfully!"),y}catch(b){throw console.error("‚ùå [AuthContext] Sign up error:",b),console.error("‚ùå [AuthContext] Error message:",b.message),console.error("‚ùå [AuthContext] Error stack:",b.stack),b}},[]),l=C.useCallback(async()=>{try{await Le.auth.signOut(),r(null)}catch(d){throw console.error("Sign out error:",d),d}},[]),c=C.useCallback(async d=>{try{const{error:h}=await Le.auth.resetPasswordForEmail(d,{redirectTo:`${window.location.origin}/reset-password`});if(h)throw h}catch(h){throw console.error("Reset password error:",h),new Error(h.message||"Failed to send reset email")}},[]),A=C.useCallback(async d=>{try{const{error:h}=await Le.auth.updateUser({password:d});if(h)throw h}catch(h){throw console.error("Update password error:",h),new Error(h.message||"Failed to update password")}},[]),u=C.useMemo(()=>({user:t,loading:n,signIn:i,signUp:o,signOut:l,resetPassword:c,updatePassword:A}),[t,n,i,o,l,c,A]);return s.jsx(FT.Provider,{value:u,children:e})}function Wr(){const e=C.useContext(FT);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Yp(){const{language:e,setLanguage:t,t:r}=$r();return s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Sc,{to:"/",className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"DP"})}),s.jsx("span",{className:"text-gray-900 font-semibold text-xl",children:"DuoPro Services"})]}),s.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[s.jsx("a",{href:"#about",className:"text-gray-700 hover:text-blue-600 transition-colors",children:r("header.about")}),s.jsx("a",{href:"#services",className:"text-gray-700 hover:text-blue-600 transition-colors",children:r("header.services")}),s.jsx("a",{href:"#pricing",className:"text-gray-700 hover:text-blue-600 transition-colors",children:r("header.pricing")}),s.jsx("a",{href:"#process",className:"text-gray-700 hover:text-blue-600 transition-colors",children:r("header.process")}),s.jsx("a",{href:"#contact",className:"text-gray-700 hover:text-blue-600 transition-colors",children:r("header.contact")})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:()=>t(e==="en"?"fr":"en"),className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-300 hover:border-blue-600 hover:bg-blue-50 transition-colors",children:[s.jsx(Bx,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:e==="en"?"FR":"EN"})]}),s.jsx(Sc,{to:"/login",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:r("nav.login")})]})]})})})}function NL(){const{t:e}=$r(),t=new Date().getFullYear();return s.jsx("footer",{className:"bg-gray-900 text-white",children:s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:s.jsx("h2",{className:"text-xl font-bold",children:"DuoPro Services"})}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Professional Canadian tax services for individuals, newcomers, and small businesses."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"#services",className:"hover:text-white transition-colors",children:"Services"})}),s.jsx("li",{children:s.jsx("a",{href:"#about",className:"hover:text-white transition-colors",children:"About Us"})}),s.jsx("li",{children:s.jsx("a",{href:"#contact",className:"hover:text-white transition-colors",children:"Contact"})}),s.jsx("li",{children:s.jsx("a",{href:"/login",className:"hover:text-white transition-colors",children:"Client Portal"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Contact Us"}),s.jsxs("ul",{className:"space-y-3 text-gray-400 text-sm",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Ja,{className:"w-4 h-4"}),s.jsx("a",{href:"mailto:duopro@duoproservices.ca",className:"hover:text-white transition-colors",children:"duopro@duoproservices.ca"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(gh,{className:"w-4 h-4"}),s.jsx("a",{href:"tel:+15145627838",className:"hover:text-white transition-colors",children:"+1 (514) 562-7838"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(jf,{className:"w-4 h-4"}),s.jsx("a",{href:"https://wa.me/15794211620",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"WhatsApp: +1 (579) 421-1620"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Ws,{className:"w-4 h-4 mt-0.5"}),s.jsx("span",{children:"Canada"})]})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400 text-sm",children:s.jsxs("p",{children:["¬© ",t," DuoPro Services. All rights reserved."]})})]})})}function CL(){const{language:e}=$r(),r="https://wa.me/15794211620",n={en:"Chat on WhatsApp",fr:"Discuter sur WhatsApp"};return s.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 bg-green-500 hover:bg-green-600 text-white rounded-full p-4 shadow-lg transition-all duration-300 hover:scale-110 group","aria-label":n[e],children:[s.jsx(jf,{className:"w-6 h-6"}),s.jsx("span",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-slate-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:n[e]}),s.jsx("span",{className:"absolute inset-0 rounded-full bg-green-500 animate-ping opacity-75"})]})}function DN(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Pu(...e){return t=>{let r=!1;const n=e.map(a=>{const i=DN(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():DN(e[a],null)}}}}function dn(...e){return C.useCallback(Pu(...e),e)}var BL=Symbol.for("react.lazy"),Xp=K1[" use ".trim().toString()];function SL(e){return typeof e=="object"&&e!==null&&"then"in e}function TT(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===BL&&"_payload"in e&&SL(e._payload)}function G1(e){const t=EL(e),r=C.forwardRef((n,a)=>{let{children:i,...o}=n;TT(i)&&typeof Xp=="function"&&(i=Xp(i._payload));const l=C.Children.toArray(i),c=l.find(TL);if(c){const A=c.props.children,u=l.map(d=>d===c?C.Children.count(A)>1?C.Children.only(null):C.isValidElement(A)?A.props.children:null:d);return s.jsx(t,{...o,ref:a,children:C.isValidElement(A)?C.cloneElement(A,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var PT=G1("Slot");function EL(e){const t=C.forwardRef((r,n)=>{let{children:a,...i}=r;if(TT(a)&&typeof Xp=="function"&&(a=Xp(a._payload)),C.isValidElement(a)){const o=kL(a),l=PL(i,a.props);return a.type!==C.Fragment&&(l.ref=n?Pu(n,o):o),C.cloneElement(a,l)}return C.Children.count(a)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var FL=Symbol("radix.slottable");function TL(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===FL}function PL(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function kL(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function kT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=kT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function _t(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=kT(e))&&(n&&(n+=" "),n+=t);return n}const LN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,QN=_t,q1=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return QN(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(A=>{const u=r==null?void 0:r[A],d=i==null?void 0:i[A];if(u===null)return null;const h=LN(u)||LN(d);return a[A][h]}),l=r&&Object.entries(r).reduce((A,u)=>{let[d,h]=u;return h===void 0||(A[d]=h),A},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((A,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(g=>{let[p,b]=g;return Array.isArray(b)?b.includes({...i,...l}[p]):{...i,...l}[p]===b})?[...A,d,h]:A},[]);return QN(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},OL=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},IL=(e,t)=>({classGroupId:e,validator:t}),OT=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Jp="-",RN=[],UL="arbitrary..",_L=e=>{const t=LL(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return DL(o);const l=o.split(Jp),c=l[0]===""&&l.length>1?1:0;return IT(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=n[o],A=r[o];return c?A?OL(A,c):c:A||RN}return r[o]||RN}}},IT=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],i=r.nextPart.get(a);if(i){const A=IT(e,t+1,i);if(A)return A}const o=r.validators;if(o===null)return;const l=t===0?e.join(Jp):e.slice(t).join(Jp),c=o.length;for(let A=0;A<c;A++){const u=o[A];if(u.validator(l))return u.classGroupId}},DL=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?UL+n:void 0})(),LL=e=>{const{theme:t,classGroups:r}=e;return QL(r,t)},QL=(e,t)=>{const r=OT();for(const n in e){const a=e[n];W1(a,r,n,t)}return r},W1=(e,t,r,n)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];RL(o,t,r,n)}},RL=(e,t,r,n)=>{if(typeof e=="string"){ML(e,t,r);return}if(typeof e=="function"){$L(e,t,r,n);return}HL(e,t,r,n)},ML=(e,t,r)=>{const n=e===""?t:UT(t,e);n.classGroupId=r},$L=(e,t,r,n)=>{if(KL(e)){W1(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(IL(r,e))},HL=(e,t,r,n)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[l,c]=a[o];W1(c,UT(t,l),r,n)}},UT=(e,t)=>{let r=e;const n=t.split(Jp),a=n.length;for(let i=0;i<a;i++){const o=n[i];let l=r.nextPart.get(o);l||(l=OT(),r.nextPart.set(o,l)),r=l}return r},KL=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,VL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},by="!",MN=":",zL=[],$N=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),GL=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,c=0,A;const u=a.length;for(let p=0;p<u;p++){const b=a[p];if(o===0&&l===0){if(b===MN){i.push(a.slice(c,p)),c=p+1;continue}if(b==="/"){A=p;continue}}b==="["?o++:b==="]"?o--:b==="("?l++:b===")"&&l--}const d=i.length===0?a:a.slice(c);let h=d,f=!1;d.endsWith(by)?(h=d.slice(0,-1),f=!0):d.startsWith(by)&&(h=d.slice(1),f=!0);const g=A&&A>c?A-c:void 0;return $N(i,f,h,g)};if(t){const a=t+MN,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):$N(zL,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},qL=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],l=o[0]==="[",c=t.has(o);l||c?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},WL=e=>({cache:VL(e.cacheSize),parseClassName:GL(e),sortModifiers:qL(e),..._L(e)}),YL=/\s+/,XL=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(YL);let c="";for(let A=l.length-1;A>=0;A-=1){const u=l[A],{isExternal:d,modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}=r(u);if(d){c=u+(c.length>0?" "+c:c);continue}let b=!!p,m=n(b?g.substring(0,p):g);if(!m){if(!b){c=u+(c.length>0?" "+c:c);continue}if(m=n(g),!m){c=u+(c.length>0?" "+c:c);continue}b=!1}const x=h.length===0?"":h.length===1?h[0]:i(h).join(":"),y=f?x+by:x,w=y+m;if(o.indexOf(w)>-1)continue;o.push(w);const N=a(m,b);for(let B=0;B<N.length;++B){const F=N[B];o.push(y+F)}c=u+(c.length>0?" "+c:c)}return c},JL=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=_T(r))&&(a&&(a+=" "),a+=n);return a},_T=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=_T(e[n]))&&(r&&(r+=" "),r+=t);return r},ZL=(e,...t)=>{let r,n,a,i;const o=c=>{const A=t.reduce((u,d)=>d(u),e());return r=WL(A),n=r.cache.get,a=r.cache.set,i=l,l(c)},l=c=>{const A=n(c);if(A)return A;const u=XL(c,r);return a(c,u),u};return i=o,(...c)=>i(JL(...c))},eQ=[],Sn=e=>{const t=r=>r[e]||eQ;return t.isThemeGetter=!0,t},DT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,LT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tQ=/^\d+\/\d+$/,rQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,aQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hA=e=>tQ.test(e),$t=e=>!!e&&!Number.isNaN(Number(e)),Zo=e=>!!e&&Number.isInteger(Number(e)),Pv=e=>e.endsWith("%")&&$t(e.slice(0,-1)),ao=e=>rQ.test(e),oQ=()=>!0,lQ=e=>nQ.test(e)&&!sQ.test(e),QT=()=>!1,cQ=e=>aQ.test(e),AQ=e=>iQ.test(e),uQ=e=>!st(e)&&!at(e),dQ=e=>ku(e,$T,QT),st=e=>DT.test(e),rc=e=>ku(e,HT,lQ),kv=e=>ku(e,gQ,$t),HN=e=>ku(e,RT,QT),fQ=e=>ku(e,MT,AQ),bm=e=>ku(e,KT,cQ),at=e=>LT.test(e),Fd=e=>Ou(e,HT),hQ=e=>Ou(e,xQ),KN=e=>Ou(e,RT),mQ=e=>Ou(e,$T),pQ=e=>Ou(e,MT),ym=e=>Ou(e,KT,!0),ku=(e,t,r)=>{const n=DT.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Ou=(e,t,r=!1)=>{const n=LT.exec(e);return n?n[1]?t(n[1]):r:!1},RT=e=>e==="position"||e==="percentage",MT=e=>e==="image"||e==="url",$T=e=>e==="length"||e==="size"||e==="bg-size",HT=e=>e==="length",gQ=e=>e==="number",xQ=e=>e==="family-name",KT=e=>e==="shadow",vQ=()=>{const e=Sn("color"),t=Sn("font"),r=Sn("text"),n=Sn("font-weight"),a=Sn("tracking"),i=Sn("leading"),o=Sn("breakpoint"),l=Sn("container"),c=Sn("spacing"),A=Sn("radius"),u=Sn("shadow"),d=Sn("inset-shadow"),h=Sn("text-shadow"),f=Sn("drop-shadow"),g=Sn("blur"),p=Sn("perspective"),b=Sn("aspect"),m=Sn("ease"),x=Sn("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...w(),at,st],B=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],E=()=>[at,st,c],P=()=>[hA,"full","auto",...E()],Q=()=>[Zo,"none","subgrid",at,st],U=()=>["auto",{span:["full",Zo,at,st]},Zo,at,st],T=()=>[Zo,"auto",at,st],k=()=>["auto","min","max","fr",at,st],I=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],M=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...E()],K=()=>[hA,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],R=()=>[e,at,st],$=()=>[...w(),KN,HN,{position:[at,st]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",mQ,dQ,{size:[at,st]}],D=()=>[Pv,Fd,rc],H=()=>["","none","full",A,at,st],V=()=>["",$t,Fd,rc],re=()=>["solid","dashed","dotted","double"],Ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[$t,Pv,KN,HN],de=()=>["","none",g,at,st],X=()=>["none",$t,at,st],te=()=>["none",$t,at,st],ue=()=>[$t,at,st],se=()=>[hA,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ao],breakpoint:[ao],color:[oQ],container:[ao],"drop-shadow":[ao],ease:["in","out","in-out"],font:[uQ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ao],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ao],shadow:[ao],spacing:["px",$t],text:[ao],"text-shadow":[ao],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",hA,st,at,b]}],container:["container"],columns:[{columns:[$t,st,at,l]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Zo,"auto",at,st]}],basis:[{basis:[hA,"full","auto",l,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$t,hA,"auto","initial","none",st]}],grow:[{grow:["",$t,at,st]}],shrink:[{shrink:["",$t,at,st]}],order:[{order:[Zo,"first","last","none",at,st]}],"grid-cols":[{"grid-cols":Q()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":Q()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...I(),"normal"]}],"justify-items":[{"justify-items":[...M(),"normal"]}],"justify-self":[{"justify-self":["auto",...M()]}],"align-content":[{content:["normal",...I()]}],"align-items":[{items:[...M(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...M(),{baseline:["","last"]}]}],"place-content":[{"place-content":I()}],"place-items":[{"place-items":[...M(),"baseline"]}],"place-self":[{"place-self":["auto",...M()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[l,"screen",...K()]}],"min-w":[{"min-w":[l,"screen","none",...K()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",r,Fd,rc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,at,kv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Pv,st]}],"font-family":[{font:[hQ,st,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,at,st]}],"line-clamp":[{"line-clamp":[$t,"none",at,kv]}],leading:[{leading:[i,...E()]}],"list-image":[{"list-image":["none",at,st]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",at,st]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:[$t,"from-font","auto",at,rc]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[$t,"auto",at,st]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",at,st]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",at,st]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Zo,at,st],radial:["",at,st],conic:[Zo,at,st]},pQ,fQ]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:D()}],"gradient-via-pos":[{via:D()}],"gradient-to-pos":[{to:D()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:H()}],"rounded-s":[{"rounded-s":H()}],"rounded-e":[{"rounded-e":H()}],"rounded-t":[{"rounded-t":H()}],"rounded-r":[{"rounded-r":H()}],"rounded-b":[{"rounded-b":H()}],"rounded-l":[{"rounded-l":H()}],"rounded-ss":[{"rounded-ss":H()}],"rounded-se":[{"rounded-se":H()}],"rounded-ee":[{"rounded-ee":H()}],"rounded-es":[{"rounded-es":H()}],"rounded-tl":[{"rounded-tl":H()}],"rounded-tr":[{"rounded-tr":H()}],"rounded-br":[{"rounded-br":H()}],"rounded-bl":[{"rounded-bl":H()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...re(),"hidden","none"]}],"divide-style":[{divide:[...re(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$t,at,st]}],"outline-w":[{outline:["",$t,Fd,rc]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",u,ym,bm]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",d,ym,bm]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[$t,rc]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",h,ym,bm]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[$t,at,st]}],"mix-blend":[{"mix-blend":[...Ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$t]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[at,st]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[$t]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",at,st]}],filter:[{filter:["","none",at,st]}],blur:[{blur:de()}],brightness:[{brightness:[$t,at,st]}],contrast:[{contrast:[$t,at,st]}],"drop-shadow":[{"drop-shadow":["","none",f,ym,bm]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",$t,at,st]}],"hue-rotate":[{"hue-rotate":[$t,at,st]}],invert:[{invert:["",$t,at,st]}],saturate:[{saturate:[$t,at,st]}],sepia:[{sepia:["",$t,at,st]}],"backdrop-filter":[{"backdrop-filter":["","none",at,st]}],"backdrop-blur":[{"backdrop-blur":de()}],"backdrop-brightness":[{"backdrop-brightness":[$t,at,st]}],"backdrop-contrast":[{"backdrop-contrast":[$t,at,st]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$t,at,st]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$t,at,st]}],"backdrop-invert":[{"backdrop-invert":["",$t,at,st]}],"backdrop-opacity":[{"backdrop-opacity":[$t,at,st]}],"backdrop-saturate":[{"backdrop-saturate":[$t,at,st]}],"backdrop-sepia":[{"backdrop-sepia":["",$t,at,st]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",at,st]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$t,"initial",at,st]}],ease:[{ease:["linear","initial",m,at,st]}],delay:[{delay:[$t,at,st]}],animate:[{animate:["none",x,at,st]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,at,st]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:X()}],"rotate-x":[{"rotate-x":X()}],"rotate-y":[{"rotate-y":X()}],"rotate-z":[{"rotate-z":X()}],scale:[{scale:te()}],"scale-x":[{"scale-x":te()}],"scale-y":[{"scale-y":te()}],"scale-z":[{"scale-z":te()}],"scale-3d":["scale-3d"],skew:[{skew:ue()}],"skew-x":[{"skew-x":ue()}],"skew-y":[{"skew-y":ue()}],transform:[{transform:[at,st,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",at,st]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",at,st]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[$t,Fd,rc,kv]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},bQ=ZL(vQ);function bn(...e){return bQ(_t(e))}const yQ=q1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function ye({className:e,variant:t,size:r,asChild:n=!1,...a}){const i=n?PT:"button";return s.jsx(i,{"data-slot":"button",className:bn(yQ({variant:t,size:r,className:e})),...a})}function tt({className:e,type:t,...r}){return s.jsx("input",{type:t,"data-slot":"input",className:bn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}function zc({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:bn("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var wQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jQ=wQ.reduce((e,t)=>{const r=G1(`Primitive.${t}`),n=C.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),NQ="Label",VT=C.forwardRef((e,t)=>s.jsx(jQ.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));VT.displayName=NQ;var CQ=VT;function De({className:e,...t}){return s.jsx(CQ,{"data-slot":"label",className:bn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const Bt=`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0`,Nt={signup:`${Bt}/auth/signup`,session:`${Bt}/auth/session`,personalInfo:`${Bt}/personal-info`,documentsUpload:`${Bt}/documents/upload`,documents:`${Bt}/documents`,documentDelete:e=>`${Bt}/documents/${e}`,messages:e=>`${Bt}/messages/${e}`,messagesSend:`${Bt}/messages/send`,messagesUnreadCount:e=>`${Bt}/messages/${e}/unread-count`,messagesMarkRead:e=>`${Bt}/messages/${e}/read`,adminClients:`${Bt}/admin/clients`,adminClient:e=>`${Bt}/admin/clients/${e}`,adminClientFiles:(e,t)=>`${Bt}/admin/clients/${e}/files/${t}`,adminFilingStatus:(e,t)=>`${Bt}/admin/clients/${e}/filings/${t}/status`,adminFinancials:`${Bt}/admin/financials`,adminNotifications:`${Bt}/admin/notifications/send`,adminCreateBuckets:`${Bt}/admin/create-buckets`,adminSetupPolicies:`${Bt}/admin/setup-storage-policies`,adminTaxDocumentNotify:`${Bt}/admin/tax-document/notify`,adminCraAssessmentSend:`${Bt}/admin/cra-assessment/send`,adminInvoices:`${Bt}/admin/invoices`,taxFilingCreate:`${Bt}/tax-filing/create`,taxFilingSubmitReport:`${Bt}/tax-filing/submit-report`,taxFilingApproveReport:`${Bt}/tax-filing/approve-report`,taxFilingRejectReport:`${Bt}/tax-filing/reject-report`,taxDocumentsParse:`${Bt}/tax-documents/parse`,taxDocumentsGet:e=>`${Bt}/tax-documents/${e}`,taxPreviewSave:`${Bt}/tax-preview/save`,taxPreviewGet:(e,t)=>`${Bt}/tax-preview/${e}/${t}`,createInitialPaymentInvoice:`${Bt}/payment/initial-invoice`,invoices:`${Bt}/payment/invoices`,invoice:e=>`${Bt}/payment/invoice/${e}`,invoicePdf:e=>`${Bt}/payment/invoice/${e}/pdf`,invoiceMarkPaid:e=>`${Bt}/payment/invoice/${e}/paid`,paymentVerify:`${Bt}/payment/verify`,stripeWebhook:`${Bt}/stripe/webhook`,bookkeepingSummary:`${Bt}/bookkeeping/summary`,bookkeepingExpenses:`${Bt}/bookkeeping/expenses`,bookkeepingExpense:e=>`${Bt}/bookkeeping/expenses/${e}`,bookkeepingInvoices:`${Bt}/bookkeeping/invoices`,bookkeepingInvoiceDelete:e=>`${Bt}/bookkeeping/invoices/${e}`,adminHubTasks:`${Bt}/admin-hub/tasks`,adminHubTaskDelete:e=>`${Bt}/admin-hub/tasks/${e}`,adminHubSocialPosts:`${Bt}/admin-hub/social-posts`,adminHubSocialPostDelete:e=>`${Bt}/admin-hub/social-posts/${e}`,teamActivities:`${Bt}/admin-hub/activities`,teamActivityDelete:e=>`${Bt}/admin-hub/activities/${e}`,contactSend:`${Bt}/contact/send`,health:`${Bt}/health`},BQ=C.memo(function(){const{t,language:r}=$r(),[n,a]=C.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,o]=C.useState(!1),l=!1,c=async d=>{d.preventDefault(),o(!0);try{console.log("üìß [Contact Form] Submitting form data:",{name:n.name,email:n.email,subject:n.subject,hasMessage:!!n.message,method:l?"Backend (Resend)":"Formspree"});let h;if(l||(console.log("üìß [Contact Form] Using Formspree..."),h=await fetch("https://formspree.io/f/xbddrodk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})),console.log("üìß [Contact Form] Response status:",h.status),console.log("üìß [Contact Form] Response ok:",h.ok),h.ok){const f=await h.json();console.log("‚úÖ [Contact Form] Success! Response:",f);const g={en:"Thank you for your inquiry! We'll get back to you soon.",fr:"Merci pour votre demande! Nous vous r√©pondrons bient√¥t.",pt:"Obrigado pela sua consulta! Entraremos em contato em breve."};me.success(g[r]),a({name:"",email:"",phone:"",subject:"",message:""})}else{const f=await h.text();throw console.error("‚ùå [Contact Form] Failed:",h.status,f),new Error(`Failed to send message: ${h.status}`)}}catch(h){console.error("‚ùå [Contact Form] Error:",h);const f={en:"Failed to send message. Please try again or email us directly at duopro@duoproservices.ca",fr:"√âchec de l'envoi du message. Veuillez r√©essayer ou nous envoyer un e-mail directement √† duopro@duoproservices.ca",pt:"Falha ao enviar mensagem. Tente novamente ou envie-nos um e-mail diretamente para duopro@duoproservices.ca"};me.error(f[r])}finally{o(!1)}},A=d=>{a({...n,[d.target.name]:d.target.value})},u=[{icon:Ja,labelKey:"contact.emailLabel",value:"duopro@duoproservices.ca",link:"mailto:duopro@duoproservices.ca"},{icon:gh,labelKey:"contact.phoneLabel",value:"+514 562 7838",link:"tel:+15145627838"},{icon:jf,labelKey:"contact.whatsappLabel",value:"+1 579 421 1620",link:"https://wa.me/15794211620"},{icon:Ws,labelKey:"contact.locationLabel",value:"Serving clients across Canada",link:null},{icon:Mr,labelKey:"contact.hoursLabel",value:"Mon-Fri: 9am-6pm EST",link:null}];return s.jsx("section",{id:"contact",className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[s.jsx("div",{className:"text-blue-600 uppercase tracking-wide mb-3",children:t("contact.section")}),s.jsx("h2",{className:"text-4xl text-slate-900 mb-4",children:t("contact.title")}),s.jsx("p",{className:"text-lg text-slate-600",children:t("contact.description")})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl text-slate-900 mb-6",children:t("contact.infoTitle")}),s.jsx("div",{className:"space-y-6",children:u.map(d=>{const h=d.labelKey==="contact.whatsappLabel",f=h?"bg-green-100":"bg-blue-100",g=h?"text-green-600":"text-blue-600",p=h?"hover:text-green-600":"hover:text-blue-600";return s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-12 h-12 ${f} rounded-lg flex items-center justify-center flex-shrink-0`,children:s.jsx(d.icon,{className:`w-6 h-6 ${g}`})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-slate-500 mb-1",children:t(d.labelKey)}),d.link?s.jsx("a",{href:d.link,target:h?"_blank":void 0,rel:h?"noopener noreferrer":void 0,className:`text-slate-900 ${p} transition-colors`,children:d.value}):s.jsx("div",{className:"text-slate-900",children:d.valueKey?t(d.valueKey):d.value})]})]},d.labelKey)})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-slate-50 border border-blue-100 rounded-lg p-6",children:[s.jsx("h4",{className:"text-slate-900 mb-2",children:t("contact.taxSeasonTitle")}),s.jsx("p",{className:"text-sm text-slate-600 mb-3",children:t("contact.taxSeasonDesc")}),s.jsx("p",{className:"text-sm text-slate-600",children:t("contact.virtualDesc")})]})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-8",children:[s.jsx("h3",{className:"text-2xl text-slate-900 mb-6",children:t("contact.formTitle")}),s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(De,{htmlFor:"name",children:[t("contact.nameLabel")," *"]}),s.jsx(tt,{id:"name",name:"name",type:"text",required:!0,value:n.name,onChange:A,placeholder:t("contact.namePlaceholder"),className:"bg-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(De,{htmlFor:"email",children:[t("contact.emailLabel")," *"]}),s.jsx(tt,{id:"email",name:"email",type:"email",required:!0,value:n.email,onChange:A,placeholder:t("contact.emailPlaceholder"),className:"bg-white"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"phone",children:t("contact.phoneLabel")}),s.jsx(tt,{id:"phone",name:"phone",type:"tel",value:n.phone,onChange:A,placeholder:t("contact.phonePlaceholder"),className:"bg-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(De,{htmlFor:"subject",children:[t("contact.subjectLabel")," *"]}),s.jsx(tt,{id:"subject",name:"subject",type:"text",required:!0,value:n.subject,onChange:A,placeholder:t("contact.subjectPlaceholder"),className:"bg-white"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(De,{htmlFor:"message",children:[t("contact.messageLabel")," *"]}),s.jsx(zc,{id:"message",name:"message",required:!0,value:n.message,onChange:A,placeholder:t("contact.messagePlaceholder"),rows:6,className:"bg-white resize-none"})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm text-slate-600",children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{className:"text-slate-900",children:t("contact.privacyTitle")})," ",t("contact.privacyText")]}),s.jsx("p",{children:t("contact.consentText")})]}),s.jsxs(ye,{type:"submit",size:"lg",className:"w-full md:w-auto bg-blue-600 hover:bg-blue-700",disabled:i,children:[s.jsx(Za,{className:"w-4 h-4 mr-2"}),i?"Sending...":t("contact.submitButton")]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 rounded-2xl p-8 mt-8",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-green-100 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(tr,{className:"w-7 h-7 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl text-slate-900 mb-2",children:t("contact.scheduleTitle")}),s.jsx("p",{className:"text-slate-600",children:t("contact.scheduleDesc")})]})]}),s.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm",children:s.jsx("iframe",{src:"https://calendly.com/duoproservices-info",width:"100%",height:"700",frameBorder:"0",title:"Schedule Consultation",className:"rounded-xl"})})]})]})]})]})})}),SQ=C.memo(function(){const{t,language:r}=$r(),a={en:{personal:{simple:{min:80,max:120,desc:"Simple T1 (T4 only)"},investments:{min:150,max:200,desc:"With investments / capital gains"},rental:{min:180,max:250,desc:"With rental income"},complex:{min:200,max:null,desc:"Multiple slips / complex deductions"}},newcomer:{firstTime:{min:150,max:220,desc:"First-time filer + tax residency"},foreign:{min:220,max:300,desc:"Foreign income + treaty"},complete:{min:250,max:350,desc:"Complete package (GST/HST + CCB + foreign income)"}},business:{simple:{min:250,max:350,desc:"Simple T2125 (few expenses)"},withDeductions:{min:400,max:600,desc:"With home office + expense optimization + GST/HST"},withBookkeeping:{min:600,max:700,desc:"With basic bookkeeping + quarterly planning"}},gst:{simple:{min:80,max:150,desc:"Simple filing"},reconciliation:{min:150,max:250,desc:"With reconciliation and adjustments"}},compliance:{review:{min:120,max:250,desc:"Prior year review"},noa:{min:100,max:180,desc:"Notice of Assessment review"},adjustment:{min:80,max:150,desc:"T1-ADJ (amendment) per year"},missing:{min:200,max:400,desc:"Missing slips / compliance review"}},planning:{hourly:{min:120,max:200,desc:"Hourly consultation"},annual:{min:250,max:500,desc:"Annual personal planning"},retirement:{min:400,max:800,desc:"Retirement / investment planning"}},representation:{simple:{min:150,max:300,desc:"Simple CRA response"},reassessment:{min:300,max:600,desc:"Reassessment request"},payment:{min:200,max:400,desc:"Payment arrangement"},penalty:{min:400,max:800,desc:"Penalty & interest relief"},complex:{min:1e3,max:1500,desc:"Complex cases / audit"}},packages:{personal:{price:{min:80,max:200},items:["T1 filing","NOA review"]},newcomer:{price:{min:150,max:350},items:["First T1","Foreign income","Benefits application"]},selfEmployed:{price:{min:250,max:700},items:["T1 filing","T2125 business","GST/HST returns"]}}},fr:{personal:{simple:{min:80,max:120,desc:"T1 simple (T4 seulement)"},investments:{min:150,max:200,desc:"Avec investissements / gains en capital"},rental:{min:180,max:250,desc:"Avec revenus de location"},complex:{min:200,max:null,desc:"Multiples feuillets / d√©ductions complexes"}},newcomer:{firstTime:{min:150,max:220,desc:"Premier d√©clarant + r√©sidence fiscale"},foreign:{min:220,max:300,desc:"Revenus √©trangers + convention"},complete:{min:250,max:350,desc:"Forfait complet (TPS/TVH + ACE + revenus √©trangers)"}},business:{simple:{min:250,max:350,desc:"T2125 simple (peu de d√©penses)"},withDeductions:{min:400,max:600,desc:"Avec bureau √† domicile + optimisation + TPS/TVH"},withBookkeeping:{min:600,max:700,desc:"Avec comptabilit√© de base + planification trimestrielle"}},gst:{simple:{min:80,max:150,desc:"D√©claration simple"},reconciliation:{min:150,max:250,desc:"Avec r√©conciliation et ajustements"}},compliance:{review:{min:120,max:250,desc:"R√©vision ann√©es ant√©rieures"},noa:{min:100,max:180,desc:"R√©vision avis de cotisation"},adjustment:{min:80,max:150,desc:"T1-ADJ (modification) par ann√©e"},missing:{min:200,max:400,desc:"Feuillets manquants / r√©vision conformit√©"}},planning:{hourly:{min:120,max:200,desc:"Consultation horaire"},annual:{min:250,max:500,desc:"Planification annuelle personnelle"},retirement:{min:400,max:800,desc:"Planification retraite / investissements"}},representation:{simple:{min:150,max:300,desc:"R√©ponse simple √† l'ARC"},reassessment:{min:300,max:600,desc:"Demande de nouvelle cotisation"},payment:{min:200,max:400,desc:"Arrangement de paiement"},penalty:{min:400,max:800,desc:"All√®gement p√©nalit√©s et int√©r√™ts"},complex:{min:1e3,max:1500,desc:"Cas complexes / v√©rification"}},packages:{personal:{price:{min:80,max:200},items:["D√©claration T1","R√©vision avis"]},newcomer:{price:{min:150,max:350},items:["Premier T1","Revenus √©trangers","Demande prestations"]},selfEmployed:{price:{min:250,max:700},items:["D√©claration T1","Entreprise T2125","D√©clarations TPS/TVH"]}}}}[r],i=(c,A)=>A===null?`CAD $${c}+`:`CAD $${c} - $${A}`,l={en:{section:"Pricing",title:"Transparent Pricing for Canadian Tax Services",description:"Clear, upfront pricing with no hidden fees. Pricing based on complexity and your specific needs.",personal:"T1 ‚Äì Personal Tax Returns",personalDesc:"Individual income tax filing",newcomer:"Newcomer Tax Services",newcomerDesc:"Specialized support for new Canadian residents",business:"Small Business / Self-Employed",businessDesc:"T2125 and business tax services",gst:"GST / HST Returns",gstDesc:"Sales tax filing",compliance:"Tax Compliance & Review",complianceDesc:"Reviews and amendments",planning:"Tax Planning & Advice",planningDesc:"Strategic tax consultation",representation:"CRA Representation",representationDesc:"Professional CRA support",packages:"Popular Service Packages",packagesDesc:"Bundled services at great value",personalPackage:"Personal Tax Package",newcomerPackage:"Newcomer Package",businessPackage:"Self-Employed Package",note:"Important Note",noteText:"Most professionals use a base price + additional fees based on complexity. Final pricing determined after initial consultation.",cta:"Get a Free Quote"},fr:{section:"Tarifs",title:"Tarification Transparente pour Services Fiscaux Canadiens",description:"Tarification claire et transparente sans frais cach√©s. Prix bas√© sur la complexit√© et vos besoins sp√©cifiques.",personal:"T1 ‚Äì D√©clarations de Revenus Personnelles",personalDesc:"D√©claration d'imp√¥t individuelle",newcomer:"Services Fiscaux Nouveaux Arrivants",newcomerDesc:"Soutien sp√©cialis√© pour nouveaux r√©sidents",business:"Petite Entreprise / Travailleur Autonome",businessDesc:"Services fiscaux T2125 et entreprise",gst:"D√©clarations TPS / TVH",gstDesc:"D√©claration de taxes de vente",compliance:"Conformit√© et R√©vision Fiscales",complianceDesc:"R√©visions et modifications",planning:"Planification et Conseils Fiscaux",planningDesc:"Consultation fiscale strat√©gique",representation:"Repr√©sentation aupr√®s de l'ARC",representationDesc:"Soutien professionnel avec l'ARC",packages:"Forfaits de Services Populaires",packagesDesc:"Services group√©s √† excellent rapport qualit√©-prix",personalPackage:"Forfait Imp√¥t Personnel",newcomerPackage:"Forfait Nouveaux Arrivants",businessPackage:"Forfait Travailleur Autonome",note:"Note Importante",noteText:"La plupart des professionnels utilisent un prix de base + frais suppl√©mentaires selon la complexit√©. Tarification finale d√©termin√©e apr√®s consultation initiale.",cta:"Obtenir un Devis Gratuit"}}[r];return s.jsx("section",{id:"pricing",className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[s.jsx("div",{className:"text-blue-600 uppercase tracking-wide mb-3",children:l.section}),s.jsx("h2",{className:"text-4xl text-slate-900 mb-4",children:l.title}),s.jsx("p",{className:"text-lg text-slate-600",children:l.description})]}),s.jsxs("div",{className:"mb-20",children:[s.jsx("h3",{className:"text-2xl text-slate-900 mb-2 text-center",children:l.packages}),s.jsx("p",{className:"text-slate-600 mb-8 text-center",children:l.packagesDesc}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white border-2 border-blue-200 rounded-2xl p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h4",{className:"text-xl text-slate-900 mb-2",children:l.personalPackage}),s.jsx("div",{className:"text-3xl text-blue-600 mb-1",children:i(a.packages.personal.price.min,a.packages.personal.price.max)})]}),s.jsx("ul",{className:"space-y-3",children:a.packages.personal.items.map((c,A)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(fs,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-slate-700",children:c})]},A))})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-white border-2 border-green-300 rounded-2xl p-6 transform scale-105 shadow-lg",children:[s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:s.jsx("span",{className:"bg-green-600 text-white px-4 py-1 rounded-full text-sm",children:r==="en"?"Most Popular":"Le Plus Populaire"})}),s.jsxs("div",{className:"text-center mb-6 mt-4",children:[s.jsx("h4",{className:"text-xl text-slate-900 mb-2",children:l.newcomerPackage}),s.jsx("div",{className:"text-3xl text-green-600 mb-1",children:i(a.packages.newcomer.price.min,a.packages.newcomer.price.max)})]}),s.jsx("ul",{className:"space-y-3",children:a.packages.newcomer.items.map((c,A)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(fs,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-slate-700",children:c})]},A))})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-white border-2 border-purple-200 rounded-2xl p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h4",{className:"text-xl text-slate-900 mb-2",children:l.businessPackage}),s.jsx("div",{className:"text-3xl text-purple-600 mb-1",children:i(a.packages.selfEmployed.price.min,a.packages.selfEmployed.price.max)})]}),s.jsx("ul",{className:"space-y-3",children:a.packages.selfEmployed.items.map((c,A)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(fs,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-slate-700",children:c})]},A))})]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:[s.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[s.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:l.personal}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:l.personalDesc}),s.jsx("div",{className:"space-y-3",children:Object.values(a.personal).map((c,A)=>s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"text-sm text-slate-700",children:c.desc}),s.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(c.min,c.max)})]},A))})]}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[s.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:l.newcomer}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:l.newcomerDesc}),s.jsx("div",{className:"space-y-3",children:Object.values(a.newcomer).map((c,A)=>s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"text-sm text-slate-700",children:c.desc}),s.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(c.min,c.max)})]},A))})]}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[s.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:l.business}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:l.businessDesc}),s.jsx("div",{className:"space-y-3",children:Object.values(a.business).map((c,A)=>s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"text-sm text-slate-700",children:c.desc}),s.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(c.min,c.max)})]},A))})]}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[s.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:l.gst}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:l.gstDesc}),s.jsx("div",{className:"space-y-3",children:Object.values(a.gst).map((c,A)=>s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"text-sm text-slate-700",children:c.desc}),s.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(c.min,c.max)})]},A))})]}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[s.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:l.compliance}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:l.complianceDesc}),s.jsx("div",{className:"space-y-3",children:Object.values(a.compliance).map((c,A)=>s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"text-sm text-slate-700",children:c.desc}),s.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(c.min,c.max)})]},A))})]}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[s.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:l.planning}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:l.planningDesc}),s.jsx("div",{className:"space-y-3",children:Object.values(a.planning).map((c,A)=>s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"text-sm text-slate-700",children:c.desc}),s.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(c.min,c.max)})]},A))})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 border border-slate-200 rounded-xl p-6 mb-12",children:[s.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:l.representation}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:l.representationDesc}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.values(a.representation).map((c,A)=>s.jsxs("div",{className:"flex justify-between items-start bg-white rounded-lg p-3",children:[s.jsx("span",{className:"text-sm text-slate-700",children:c.desc}),s.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(c.min,c.max)})]},A))})]}),s.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 rounded-r-lg p-6 mb-8",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(AT,{className:"w-6 h-6 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-slate-900 mb-2",children:l.note}),s.jsx("p",{className:"text-slate-700 text-sm",children:l.noteText})]})]})}),s.jsx("div",{className:"text-center",children:s.jsx("a",{href:"#contact",className:"inline-flex items-center px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:l.cta})})]})})}),EQ=C.memo(function(){const{t}=$r(),[r,n]=C.useState("personal"),o=r==="personal"?[{number:"01",icon:Qr,titleKey:"process.step1Title",descKey:"process.step1Desc",timeKey:"process.step1Time"},{number:"02",icon:Mt,titleKey:"process.step2Title",descKey:"process.step2Desc",timeKey:"process.step2Time"},{number:"03",icon:He,titleKey:"process.step3Title",descKey:"process.step3Desc",timeKey:"process.step3Time"},{number:"04",icon:Za,titleKey:"process.step4Title",descKey:"process.step4Desc",timeKey:"process.step4Time"},{number:"05",icon:Mn,titleKey:"process.step5Title",descKey:"process.step5Desc",timeKey:"process.step5Time"}]:[{number:"01",icon:Qr,titleKey:"process.business1Title",descKey:"process.business1Desc",timeKey:"process.business1Time"},{number:"02",icon:Mt,titleKey:"process.business2Title",descKey:"process.business2Desc",timeKey:"process.business2Time"},{number:"03",icon:He,titleKey:"process.business3Title",descKey:"process.business3Desc",timeKey:"process.business3Time"},{number:"04",icon:Za,titleKey:"process.business4Title",descKey:"process.business4Desc",timeKey:"process.business4Time"},{number:"05",icon:Mn,titleKey:"process.business5Title",descKey:"process.business5Desc",timeKey:"process.business5Time"}];return s.jsx("section",{id:"process",className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[s.jsx("div",{className:"text-blue-600 uppercase tracking-wide mb-3",children:t("process.section")}),s.jsx("h2",{className:"text-4xl text-slate-900 mb-4",children:t("process.title")}),s.jsx("p",{className:"text-lg text-slate-600",children:t("process.description")}),s.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[s.jsx("button",{onClick:()=>n("personal"),className:`px-6 py-3 rounded-lg transition-all ${r==="personal"?"bg-blue-600 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:t("process.tabPersonal")}),s.jsx("button",{onClick:()=>n("business"),className:`px-6 py-3 rounded-lg transition-all ${r==="business"?"bg-blue-600 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:t("process.tabBusiness")})]})]}),r==="business"&&s.jsx("div",{className:"mb-12 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-2xl p-8",children:s.jsxs("div",{className:"flex items-start gap-4 max-w-4xl mx-auto",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Qr,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl text-slate-900 mb-2",children:t("process.businessBannerTitle")}),s.jsx("p",{className:"text-slate-600 mb-4",children:t("process.businessBannerDesc")}),s.jsxs("button",{onClick:()=>{var l;return(l=document.getElementById("contact"))==null?void 0:l.scrollIntoView({behavior:"smooth"})},className:"inline-flex items-center gap-2 px-5 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[s.jsx(Qr,{className:"w-4 h-4"}),t("process.businessBannerButton")]})]})]})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"hidden lg:block absolute left-1/2 top-0 bottom-0 w-0.5 bg-slate-200 -translate-x-1/2"}),s.jsx("div",{className:"space-y-12",children:o.map((l,c)=>s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:`grid lg:grid-cols-2 gap-8 items-center ${c%2===0?"":"lg:flex-row-reverse"}`,children:[s.jsxs("div",{className:`${c%2===0?"lg:text-right lg:pr-12":"lg:pl-12 lg:col-start-2"}`,children:[s.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[s.jsx("div",{className:`w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center ${c%2===0?"lg:order-2":""}`,children:s.jsx(l.icon,{className:"w-7 h-7 text-blue-600"})}),s.jsx("div",{className:`text-5xl text-slate-200 ${c%2===0?"lg:order-1":""}`,children:l.number})]}),s.jsx("h3",{className:"text-2xl text-slate-900 mb-2",children:t(l.titleKey)}),s.jsx("p",{className:"text-slate-600 mb-3",children:t(l.descKey)}),s.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-blue-600",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{children:t(l.timeKey)})]})]}),s.jsx("div",{className:`hidden lg:block ${c%2===0?"lg:col-start-2":"lg:col-start-1 lg:row-start-1"}`})]}),s.jsx("div",{className:"hidden lg:block absolute left-1/2 top-8 -translate-x-1/2",children:s.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded-full border-4 border-white"})})]},l.number))})]}),s.jsx("div",{className:"mt-16 bg-gradient-to-r from-blue-50 to-slate-50 rounded-2xl p-8 border border-blue-100",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx("h3",{className:"text-2xl text-slate-900 mb-3",children:t("process.turnaroundTitle")}),s.jsx("p",{className:"text-slate-600 mb-6",children:t("process.turnaroundDesc")}),s.jsxs("div",{className:"flex flex-wrap gap-6 justify-center text-sm text-slate-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Os,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{children:t("process.benefit1")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Os,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{children:t("process.benefit2")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Os,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{children:t("process.benefit3")})]})]})]})})]})})});function FQ(){const{t:e}=$r(),[t,r]=C.useState(null);Br();const n=a=>{r(t===a?null:a)};return s.jsxs(s.Fragment,{children:[s.jsxs(Nl,{children:[s.jsx("title",{children:"DuoPro Services - Canadian Tax Services | Personal & Small Business Tax Returns"}),s.jsx("meta",{name:"description",content:"Professional Canadian tax services for individuals, newcomers, and small businesses. Expert personal and small business tax returns in English and French."})]}),s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Yp,{}),s.jsx(CL,{}),s.jsx("section",{className:"relative bg-white pt-24 pb-16 md:pt-32 md:pb-24",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center max-w-7xl mx-auto",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"inline-block",children:s.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-full text-sm font-medium",children:[s.jsx(He,{className:"w-4 h-4"}),"Professional Canadian Tax Services"]})}),s.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 leading-tight",children:e("hero.title")}),s.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:e("hero.subtitle")})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?q=80&w=2000&auto=format&fit=crop",alt:"Professional tax services",className:"w-full h-[500px] object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),s.jsx("div",{className:"absolute -bottom-6 -left-6 bg-white p-6 rounded-xl shadow-xl border border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:s.jsx(He,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:"CRA Certified"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Trusted & Secure"})]})]})})]})]})})}),s.jsx("section",{id:"services",className:"py-20 bg-gray-50",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[s.jsxs("button",{onClick:()=>n("personal"),className:"w-full p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Mt,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Personal Tax"}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Complete tax preparation and filing services for individuals and newcomers to Canada."})]})]}),t==="personal"?s.jsx(Fs,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}):s.jsx(As,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),t==="personal"&&s.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"T1 Personal Tax Returns"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Complete preparation and filing of individual income tax returns"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Employment income (T4s)"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Investment income and capital gains"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"RRSP contributions and deductions"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Medical expenses and credits"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Newcomer Tax Services"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Specialized support for new immigrants navigating Canadian taxes"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"First-time tax filer assistance"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Residency status determination"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Foreign income reporting"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Tax treaty benefits"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Tax Compliance & Review"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Ensuring your tax filings meet all CRA requirements"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Prior year tax review"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Notice of Assessment review"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Missing slips and documentation"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Amendment requests (T1-ADJ)"})]})]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[s.jsxs("button",{onClick:()=>n("business"),className:"w-full p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-green-100 w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(dr,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Small Business Tax"}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Comprehensive tax services for small businesses and self-employed individuals."})]})]}),t==="business"?s.jsx(Fs,{className:"w-5 h-5 text-green-600 flex-shrink-0"}):s.jsx(As,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),t==="business"&&s.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Corporate Tax Returns"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"T2 corporate tax return preparation"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"GST/HST filing and compliance"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Payroll deductions and remittances"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Self-Employed Returns"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Business income and expense tracking"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Home office deductions"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Vehicle and equipment expenses"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Business Advisory"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Tax planning and optimization"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Business structure consultation"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"CRA audit support"})]})]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[s.jsxs("button",{onClick:()=>n("bookkeeping"),className:"w-full p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-orange-100 w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(He,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Bookkeeping"}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Professional accounting and bookkeeping services for small businesses."})]})]}),t==="bookkeeping"?s.jsx(Fs,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}):s.jsx(As,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),t==="bookkeeping"&&s.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Monthly Bookkeeping"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Bank reconciliation"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Accounts payable/receivable"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Expense categorization"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Financial Reports"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Profit & loss statements"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Balance sheets"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Cash flow reports"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Payroll Services"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Employee payroll processing"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"T4 and T4A preparation"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"ROE preparation"})]})]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[s.jsxs("button",{onClick:()=>n("financial"),className:"w-full p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-purple-100 w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Mt,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Financial Reports & Management"}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Management reports, financial analysis, and controller services for business insights."})]})]}),t==="financial"?s.jsx(Fs,{className:"w-5 h-5 text-purple-600 flex-shrink-0"}):s.jsx(As,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),t==="financial"&&s.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Management Reports"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Comprehensive management reports for informed decision-making."}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Profit & Loss statements"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Cash flow reports"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Budget vs Actual analysis"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Custom management dashboards"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Financial Analysis"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"In-depth financial analysis to drive business performance."}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Financial ratio analysis"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Profitability analysis"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Cost structure analysis"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Trend and variance analysis"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Controller Services"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Strategic controller services for business oversight and planning."}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"KPI tracking and reporting"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Performance metrics"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Financial planning & forecasting"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Strategic business insights"})]})]})]})]})})]})]})})}),s.jsx("section",{id:"about",className:"py-20 bg-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Why Choose DuoPro Services?"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Trusted by hundreds of Canadians for their tax needs"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white p-8 rounded-2xl border border-blue-100 hover:shadow-lg transition-all hover:-translate-y-1",children:[s.jsx("div",{className:"bg-blue-100 w-14 h-14 rounded-xl flex items-center justify-center mb-4",children:s.jsx(Bx,{className:"w-7 h-7 text-blue-600"})}),s.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:"Bilingual Service"}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Full service in English and French to serve you better"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-white p-8 rounded-2xl border border-green-100 hover:shadow-lg transition-all hover:-translate-y-1",children:[s.jsx("div",{className:"bg-green-100 w-14 h-14 rounded-xl flex items-center justify-center mb-4",children:s.jsx(He,{className:"w-7 h-7 text-green-600"})}),s.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:"Expert Team"}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Qualified tax professionals with years of experience"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-white p-8 rounded-2xl border border-purple-100 hover:shadow-lg transition-all hover:-translate-y-1",children:[s.jsx("div",{className:"bg-purple-100 w-14 h-14 rounded-xl flex items-center justify-center mb-4",children:s.jsx(Mt,{className:"w-7 h-7 text-purple-600"})}),s.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:"Secure Portal"}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Safe document upload and real-time tracking"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-white p-8 rounded-2xl border border-orange-100 hover:shadow-lg transition-all hover:-translate-y-1",children:[s.jsx("div",{className:"bg-orange-100 w-14 h-14 rounded-xl flex items-center justify-center mb-4",children:s.jsx(xh,{className:"w-7 h-7 text-orange-600"})}),s.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:"Fast Processing"}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Quick turnaround times for your tax returns"})]})]})]})})}),s.jsx(SQ,{}),s.jsx(EQ,{}),s.jsx(BQ,{}),s.jsx(NL,{})]})]})}function TQ(){const{t:e,language:t}=$r(),{signIn:r,resetPassword:n}=Wr(),a=Br(),[i,o]=C.useState(""),[l,c]=C.useState(""),[A,u]=C.useState(!1),[d,h]=C.useState(!1),[f,g]=C.useState(""),[p,b]=C.useState(!1),m=async y=>{y.preventDefault(),u(!0),g("");try{await r(i,l),a(i==="admin@duoproservices.ca"?"/admin":"/dashboard"),me.success(t==="en"?"‚úÖ Welcome back!":"‚úÖ Bienvenue!")}catch(w){console.error("Login error:",w);let N=w.message||"Failed to sign in";N.includes("Invalid login credentials")||N.includes("Invalid email or password")?(N=t==="en"?"‚ùå Invalid email or password.":"‚ùå Email ou mot de passe invalide.",b(!0)):N.includes("Email not confirmed")?N=t==="en"?"‚ùå Please confirm your email before logging in.":"‚ùå Veuillez confirmer votre email avant de vous connecter.":N.includes("Failed to fetch")&&(N=t==="en"?"‚ùå Cannot connect to server. Please check your internet connection.":"‚ùå Impossible de se connecter au serveur. Veuillez v√©rifier votre connexion Internet."),g(N),me.error(N)}finally{u(!1)}},x=async y=>{y.preventDefault(),u(!0),g("");try{await n(i),me.success(t==="en"?"‚úÖ Password reset link sent to your email!":"‚úÖ Lien de r√©initialisation envoy√© √† votre email!"),h(!1),o("")}catch(w){console.error("Reset password error:",w);let N=w.message||"Failed to send reset email";N.includes("User not found")&&(N=t==="en"?"‚ùå No account found with this email address.":"‚ùå Aucun compte trouv√© avec cette adresse email."),g(N)}finally{u(!1)}};return s.jsxs(s.Fragment,{children:[s.jsxs(Nl,{children:[s.jsx("title",{children:"Login - DuoPro Services"}),s.jsx("meta",{name:"description",content:"Login to your DuoPro Services client portal"})]}),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Yp,{}),s.jsx("div",{className:"container mx-auto px-4 pt-24 pb-20",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:d?s.jsx(uT,{className:"w-8 h-8 text-blue-600"}):s.jsx(hD,{className:"w-8 h-8 text-blue-600"})}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:d?t==="en"?"Reset Password":"R√©initialiser le mot de passe":e("nav.login")}),s.jsx("p",{className:"text-gray-600",children:d?t==="en"?"Enter your email to receive a reset link":"Entrez votre email pour recevoir un lien de r√©initialisation":t==="en"?"Access your client portal":"Acc√©dez √† votre portail client"})]}),f&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[s.jsx(Ht,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:f})]}),d?s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"email",value:i,onChange:y=>o(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"you@example.com",required:!0})]})]}),s.jsx("button",{type:"submit",disabled:A,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:A?e("common.loading"):t==="en"?"Send Reset Link":"Envoyer le lien"}),s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:()=>{h(!1),g("")},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:t==="en"?"‚Üê Back to Login":"‚Üê Retour √† la connexion"})})]}):s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"email",value:i,onChange:y=>o(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"you@example.com",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(zp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"password",value:l,onChange:y=>c(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",required:!0})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"button",onClick:()=>{h(!0),g("")},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:t==="en"?"Forgot password?":"Mot de passe oubli√©?"})}),s.jsx("button",{type:"submit",disabled:A,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e(A?"common.loading":"nav.login")}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-200"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:t==="en"?"or":"ou"})})]}),s.jsxs("button",{type:"button",onClick:()=>a("/signup"),className:"w-full flex items-center justify-center gap-2 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 hover:border-blue-600 transition-colors",children:[s.jsx(Gp,{className:"w-5 h-5"}),t==="en"?"New here? Create Account":"Nouveau? Cr√©er un compte"]}),p&&s.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-300 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ht,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-semibold text-amber-900 mb-1",children:t==="en"?"üîß First time setup?":"üîß Premi√®re configuration?"}),s.jsx("p",{className:"text-xs text-amber-800 mb-3",children:t==="en"?"No account exists yet. Create your admin account to get started!":"Aucun compte n'existe encore. Cr√©ez votre compte admin pour commencer!"}),s.jsx("button",{type:"button",onClick:()=>a("/setup"),className:"w-full bg-amber-600 hover:bg-amber-700 text-white py-2 px-4 rounded-lg font-medium text-sm transition-colors",children:t==="en"?"üöÄ Go to Setup Page":"üöÄ Aller √† la page de configuration"})]})]})})]})]})})})]})]})}function Se({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:bn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}const PQ=q1("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function sf({className:e,variant:t,...r}){return s.jsx("div",{"data-slot":"alert",role:"alert",className:bn(PQ({variant:t}),e),...r})}function af({className:e,...t}){return s.jsx("div",{"data-slot":"alert-description",className:bn("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}const kQ={en:"Professional Canadian tax services specializing in personal T1 returns and small business tax compliance. Expert tax preparation for individuals, newcomers, and small business owners in Canada.",fr:"Services fiscaux canadiens professionnels sp√©cialis√©s dans les d√©clarations T1 personnelles et la conformit√© fiscale des petites entreprises. Pr√©paration fiscale experte pour les particuliers, les nouveaux arrivants et les propri√©taires de petites entreprises au Canada.",pt:"Servi√ßos fiscais canadenses profissionais especializados em declara√ß√µes T1 pessoais e conformidade fiscal para pequenas empresas. Prepara√ß√£o fiscal especializada para indiv√≠duos, rec√©m-chegados e propriet√°rios de pequenas empresas no Canad√°."},OQ={en:"DuoPro Services - Canadian Tax Specialist | Personal & Small Business Tax Returns",fr:"DuoPro Services - Sp√©cialiste fiscal canadien | D√©clarations fiscales personnelles et pour petites entreprises",pt:"DuoPro Services - Especialista Fiscal Canadense | Declara√ß√µes Fiscais Pessoais e para Pequenas Empresas"};function IQ({title:e,description:t,keywords:r="Canadian tax returns, T1 tax filing, small business taxes Canada, tax accountant Canada, personal tax returns, tax compliance, newcomer tax services, bilingual tax services, Portuguese tax services, French tax services",image:n="https://duoproservices.netlify.app/og-image.jpg",type:a="website",canonicalPath:i="/",lang:o="en"}){const l="https://duoproservices.netlify.app",c=e||OQ[o],A=t||kQ[o],u=`${l}${i}`;return C.useEffect(()=>{document.title=c;const d=(f,g,p=!1)=>{const b=p?"property":"name";let m=document.querySelector(`meta[${b}="${f}"]`);m||(m=document.createElement("meta"),m.setAttribute(b,f),document.head.appendChild(m)),m.content=g};d("description",A),d("keywords",r),d("og:title",c,!0),d("og:description",A,!0),d("og:image",n,!0),d("og:url",u,!0),d("og:type",a,!0),d("twitter:title",c),d("twitter:description",A),d("twitter:image",n),d("twitter:card","summary_large_image");let h=document.querySelector('link[rel="canonical"]');h||(h=document.createElement("link"),h.rel="canonical",document.head.appendChild(h)),h.href=u,document.documentElement.lang=o==="pt"?"pt-BR":o==="fr"?"fr-CA":"en-CA"},[c,A,r,n,a,u,o]),null}function UQ(){const{signUp:e,user:t}=Wr(),r=Br(),{t:n,language:a}=$r(),[i,o]=C.useState(""),[l,c]=C.useState(""),[A,u]=C.useState(""),[d,h]=C.useState(""),[f,g]=C.useState(!1);C.useEffect(()=>{t&&r("/dashboard")},[t,r]);const p=async b=>{if(b.preventDefault(),h(""),g(!0),A.length<6){h(a==="fr"?"‚ùå Le mot de passe doit contenir au moins 6 caract√®res":"‚ùå Password must be at least 6 characters"),g(!1);return}try{console.log("Creating account for:",l,"with name:",i),console.log("üîç DEBUG: Calling signUp function..."),await e(l,A,i),console.log("‚úÖ Account created successfully, navigating to onboarding"),r("/onboarding")}catch(m){console.error("‚ùå Signup error caught in SignupPage:",m),console.error("‚ùå Error message:",m.message),console.error("‚ùå Error type:",typeof m),console.error("‚ùå Full error object:",JSON.stringify(m,null,2));let x=m.message||"Failed to create account";if(x==="EMAIL_CONFIRMATION_REQUIRED"){console.error("‚ö†Ô∏è EMAIL_CONFIRMATION_REQUIRED detected - This should NOT happen!"),console.error("‚ö†Ô∏è The server should auto-confirm emails!"),r("/email-confirmation-required");return}x.includes("User already registered")||x.includes("already exists")||x.includes("duplicate key")?x=a==="fr"?`‚ö†Ô∏è L'email ${l} est d√©j√† enregistr√©. Veuillez utiliser la page de connexion √† la place.`:`‚ö†Ô∏è The email ${l} is already registered. Please use the login page instead.`:x.includes("Invalid email")?x=a==="fr"?"‚ùå Veuillez entrer une adresse email valide.":"‚ùå Please enter a valid email address.":x.includes("Password")?x=a==="fr"?"‚ùå Le mot de passe doit contenir au moins 6 caract√®res.":"‚ùå Password must be at least 6 characters long.":x.includes("Failed to fetch")&&(x=a==="fr"?"‚ùå Impossible de se connecter au serveur. Veuillez v√©rifier votre connexion Internet.":"‚ùå Cannot connect to server. Please check your internet connection."),h(x)}finally{g(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4",children:[s.jsx(IQ,{title:"Sign Up - DuoPro Services | Canadian Tax Specialist",description:"Create your account to get started with professional Canadian tax services. Quick and secure registration.",canonicalPath:"/signup",lang:a}),s.jsxs(Se,{className:"w-full max-w-md p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl mb-2",children:n("clientPortal.signup")}),s.jsx("p",{className:"text-gray-600",children:n("clientPortal.subtitle")})]}),d&&s.jsx(sf,{className:"mb-6 bg-red-50 border-red-200",children:s.jsx(af,{className:"text-red-800",children:d})}),s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"name",children:n("clientPortal.name")}),s.jsx(tt,{id:"name",type:"text",value:i,onChange:b=>o(b.target.value),required:!0,className:"mt-1",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"email",children:n("clientPortal.email")}),s.jsx(tt,{id:"email",type:"email",value:l,onChange:b=>c(b.target.value),required:!0,className:"mt-1",placeholder:"email@example.com"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"password",children:n("clientPortal.password")}),s.jsx(tt,{id:"password",type:"password",value:A,onChange:b=>u(b.target.value),required:!0,className:"mt-1",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",minLength:6}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Minimum 6 characters"})]}),s.jsx(ye,{type:"submit",className:"w-full",disabled:f,children:n(f?"clientPortal.uploading":"clientPortal.signUpButton")})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-600",children:[n("clientPortal.alreadyHaveAccount")," ",s.jsx(Sc,{to:"/login",className:"text-blue-600 hover:underline",children:n("clientPortal.signInHere")})]})}),s.jsx("div",{className:"mt-6",children:s.jsxs(Sc,{to:"/",className:"text-gray-600 hover:text-gray-900 text-sm",children:["‚Üê ",n("header.about")]})})]})]})}function _Q({language:e,personalInfo:t,updatePersonalField:r,expandedPersonalSection:n,togglePersonalSection:a,CANADIAN_PROVINCES:i}){const[o,l]=C.useState(!1),[c,A]=C.useState(!1),u=async()=>{var f,g;A(!0);try{const{data:p,error:b}=await Le.auth.getUser();if(b){console.error("Error fetching user profile:",b),alert(e==="en"?"‚ùå Failed to load previous information":"‚ùå √âchec du chargement des informations pr√©c√©dentes");return}const m=(g=(f=p==null?void 0:p.user)==null?void 0:f.user_metadata)==null?void 0:g.profile;m?(console.log("‚úÖ Profile loaded:",m),Object.keys(m).forEach(x=>{r(x,m[x])}),alert(e==="en"?"‚úÖ Previous information loaded successfully!":"‚úÖ Informations pr√©c√©dentes charg√©es avec succ√®s!")):alert(e==="en"?"‚ö†Ô∏è No previous information found":"‚ö†Ô∏è Aucune information pr√©c√©dente trouv√©e")}catch(p){console.error("Error loading profile:",p),alert(e==="en"?`‚ùå Failed to load: ${p instanceof Error?p.message:"Unknown error"}`:`‚ùå √âchec du chargement: ${p instanceof Error?p.message:"Erreur inconnue"}`)}finally{A(!1)}},d=async()=>{var f;l(!0);try{console.log("üíæ Saving personal info:",t),console.log("üì° API URL:",`${Nt.personalInfo}/save`);const g=await fetch(`${Nt.personalInfo}/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ta}`},body:JSON.stringify(t)});console.log("üì• Response status:",g.status),console.log("üì• Response ok:",g.ok),console.log("üì• Response headers:",g.headers);const p=await g.text();console.log("üì• Response text:",p);let b;try{b=JSON.parse(p)}catch(m){throw console.error("‚ùå Failed to parse JSON:",m),console.error("‚ùå Response was:",p),new Error(`Invalid JSON response: ${p.substring(0,100)}`)}if(console.log("üì• Response data:",b),g.ok)alert(e==="en"?"‚úÖ Information saved successfully!":"‚úÖ Informations enregistr√©es avec succ√®s!");else throw new Error(b.error||"Failed to save")}catch(g){console.error("‚ùå Save error:",g),console.error("‚ùå Error type:",(f=g==null?void 0:g.constructor)==null?void 0:f.name),console.error("‚ùå Error message:",g==null?void 0:g.message),alert(e==="en"?`‚ùå Failed to save: ${g instanceof Error?g.message:"Unknown error"}`:`‚ùå √âchec de l'enregistrement: ${g instanceof Error?g.message:"Erreur inconnue"}`)}finally{l(!1)}},h=async()=>{await d()};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>a("personal"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ea,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-semibold",children:e==="en"?"1. Personal Information":"1. Informations personnelles"})]}),n==="personal"?s.jsx(Fs,{className:"w-5 h-5 text-gray-400"}):s.jsx(As,{className:"w-5 h-5 text-gray-400"})]}),n==="personal"&&s.jsxs("div",{className:"bg-gray-50 p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"First name *":"Pr√©nom *"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.firstName,onChange:f=>r("firstName",f.target.value),placeholder:"Veronica"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Middle name":"Deuxi√®me pr√©nom"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.middleName,onChange:f=>r("middleName",f.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Last name *":"Nom de famille *"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.lastName,onChange:f=>r("lastName",f.target.value),placeholder:"Prass"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Social Insurance Number (SIN) *":"Num√©ro d'assurance sociale (NAS) *"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.sin,onChange:f=>r("sin",f.target.value.replace(/\D/g,"")),placeholder:"327800579",maxLength:9}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e==="en"?"Required to auto-fill your tax return":"Requis pour remplir automatiquement votre d√©claration"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Date of Birth *":"Date de naissance *"}),s.jsx("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.dateOfBirth,onChange:f=>r("dateOfBirth",f.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Preferred Language *":"Langue pr√©f√©r√©e *"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.preferredLanguage,onChange:f=>r("preferredLanguage",f.target.value),children:[s.jsx("option",{value:"English",children:e==="en"?"English":"Anglais"}),s.jsx("option",{value:"French",children:e==="en"?"French":"Fran√ßais"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Gender *":"Genre *"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.gender,onChange:f=>r("gender",f.target.value),children:[s.jsx("option",{value:"",children:e==="en"?"Select gender":"S√©lectionnez le genre"}),s.jsx("option",{value:"Female",children:e==="en"?"Female":"Femme"}),s.jsx("option",{value:"Male",children:e==="en"?"Male":"Homme"}),s.jsx("option",{value:"Other",children:e==="en"?"Other":"Autre"})]})]})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>a("address"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ws,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-semibold",children:e==="en"?"2. Mailing Address":"2. Adresse postale"})]}),n==="address"?s.jsx(Fs,{className:"w-5 h-5 text-gray-400"}):s.jsx(As,{className:"w-5 h-5 text-gray-400"})]}),n==="address"&&s.jsxs("div",{className:"bg-gray-50 p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"C/O (Care of)":"Aux soins de (C/O)"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.careOf,onChange:f=>r("careOf",f.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Unit":"Unit√©"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.addressUnit,onChange:f=>r("addressUnit",f.target.value)})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Street # *":"No rue *"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.streetNumber,onChange:f=>r("streetNumber",f.target.value),placeholder:"123"})]}),s.jsxs("div",{className:"col-span-8",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Street Name *":"Nom de la rue *"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.streetName,onChange:f=>r("streetName",f.target.value),placeholder:"Main Street"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"City *":"Ville *"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.city,onChange:f=>r("city",f.target.value),placeholder:"Toronto"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Province *"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.province,onChange:f=>r("province",f.target.value),children:[s.jsx("option",{value:"",children:e==="en"?"Select province":"S√©lectionnez la province"}),i.map(f=>s.jsx("option",{value:f.value,children:f.label},f.value))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Postal Code *":"Code postal *"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.postalCode,onChange:f=>r("postalCode",f.target.value.toUpperCase()),placeholder:"M5H 2N2",maxLength:7})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Home Phone (Area Code) *":"T√©l√©phone domicile (indicatif) *"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.homePhoneArea,onChange:f=>r("homePhoneArea",f.target.value.replace(/\D/g,"")),placeholder:"416",maxLength:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Phone Number *":"Num√©ro de t√©l√©phone *"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.homePhoneNumber,onChange:f=>r("homePhoneNumber",f.target.value.replace(/\D/g,"")),placeholder:"5551234",maxLength:7})]})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>a("residency"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(No,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-semibold",children:e==="en"?"3. About Your Residency":"3. √Ä propos de votre r√©sidence"})]}),n==="residency"?s.jsx(Fs,{className:"w-5 h-5 text-gray-400"}):s.jsx(As,{className:"w-5 h-5 text-gray-400"})]}),n==="residency"&&s.jsxs("div",{className:"bg-gray-50 p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Were you a resident of Canada for all of 2025? *":"√âtiez-vous un r√©sident du Canada pour toute l'ann√©e 2025? *"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"canadianResidentAllYear",value:"yes",checked:t.canadianResidentAllYear==="yes",onChange:f=>r("canadianResidentAllYear",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"Yes":"Oui"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"canadianResidentAllYear",value:"no",checked:t.canadianResidentAllYear==="no",onChange:f=>r("canadianResidentAllYear",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"No":"Non"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"What province did you live in on December 31, 2025? *":"Dans quelle province habitiez-vous le 31 d√©cembre 2025? *"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.provinceOnDec31,onChange:f=>r("provinceOnDec31",f.target.value),children:[s.jsx("option",{value:"",children:e==="en"?"Select province":"S√©lectionnez la province"}),i.map(f=>s.jsx("option",{value:f.value,children:f.label},f.value))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Is your home address the same as your mailing address? *":"Votre adresse de domicile est-elle la m√™me que votre adresse postale? *"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"homeAddressSameAsMailing",value:"yes",checked:t.homeAddressSameAsMailing==="yes",onChange:f=>r("homeAddressSameAsMailing",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"Yes":"Oui"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"homeAddressSameAsMailing",value:"no",checked:t.homeAddressSameAsMailing==="no",onChange:f=>r("homeAddressSameAsMailing",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"No":"Non"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Did your address change during the tax year? *":"Votre adresse a-t-elle chang√© pendant l'ann√©e d'imposition? *"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"addressChangedInYear",value:"yes",checked:t.addressChangedInYear==="yes",onChange:f=>r("addressChangedInYear",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"Yes":"Oui"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"addressChangedInYear",value:"no",checked:t.addressChangedInYear==="no",onChange:f=>r("addressChangedInYear",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"No":"Non"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"What is your current province of residence? *":"Quelle est votre province de r√©sidence actuelle? *"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.currentProvince,onChange:f=>r("currentProvince",f.target.value),children:[s.jsx("option",{value:"",children:e==="en"?"Select province":"S√©lectionnez la province"}),i.map(f=>s.jsx("option",{value:f.value,children:f.label},f.value))]})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>a("marital"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dr,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-semibold",children:e==="en"?"4. You and Your Family":"4. Vous et votre famille"})]}),n==="marital"?s.jsx(Fs,{className:"w-5 h-5 text-gray-400"}):s.jsx(As,{className:"w-5 h-5 text-gray-400"})]}),n==="marital"&&s.jsxs("div",{className:"bg-gray-50 p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Marital Status *":"√âtat matrimonial *"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.maritalStatus,onChange:f=>r("maritalStatus",f.target.value),children:[s.jsx("option",{value:"",children:e==="en"?"Select status":"S√©lectionnez l'√©tat"}),s.jsx("option",{value:"single",children:e==="en"?"Single":"C√©libataire"}),s.jsx("option",{value:"married",children:e==="en"?"Married":"Mari√©(e)"}),s.jsx("option",{value:"common-law",children:e==="en"?"Common-law":"Union de fait"}),s.jsx("option",{value:"divorced",children:e==="en"?"Divorced":"Divorc√©(e)"}),s.jsx("option",{value:"widowed",children:e==="en"?"Widowed":"Veuf/Veuve"}),s.jsx("option",{value:"separated",children:e==="en"?"Separated":"S√©par√©(e)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Did your marital status change in 2025? *":"Votre √©tat matrimonial a-t-il chang√© en 2025? *"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"maritalStatusChanged",value:"yes",checked:t.maritalStatusChanged==="yes",onChange:f=>r("maritalStatusChanged",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"Yes":"Oui"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"maritalStatusChanged",value:"no",checked:t.maritalStatusChanged==="no",onChange:f=>r("maritalStatusChanged",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"No":"Non"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Do you have children or dependents? *":"Avez-vous des enfants ou des personnes √† charge? *"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"hasDependents",value:"yes",checked:t.hasDependents==="yes",onChange:f=>r("hasDependents",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"Yes":"Oui"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"hasDependents",value:"no",checked:t.hasDependents==="no",onChange:f=>r("hasDependents",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"No":"Non"})]})]}),t.hasDependents==="yes"&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:e==="en"?'Please upload dependent information documents in the "Documents" section.':`Veuillez t√©l√©verser les documents d'information sur les personnes √† charge dans la section "Documents".`})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>a("general"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Mt,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-semibold",children:e==="en"?"5. General Questions (CRA)":"5. Questions g√©n√©rales (ARC)"})]}),n==="general"?s.jsx(Fs,{className:"w-5 h-5 text-gray-400"}):s.jsx(As,{className:"w-5 h-5 text-gray-400"})]}),n==="general"&&s.jsxs("div",{className:"bg-gray-50 p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Is this your first time filing taxes with CRA? *":"Est-ce votre premi√®re d√©claration d'imp√¥ts avec l'ARC? *"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"firstTimeFilingCRA",value:"yes",checked:t.firstTimeFilingCRA==="yes",onChange:f=>r("firstTimeFilingCRA",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"Yes":"Oui"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"firstTimeFilingCRA",value:"no",checked:t.firstTimeFilingCRA==="no",onChange:f=>r("firstTimeFilingCRA",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"No":"Non"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Are you a Canadian citizen? *":"√ätes-vous citoyen canadien? *"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"canadianCitizen",value:"yes",checked:t.canadianCitizen==="yes",onChange:f=>r("canadianCitizen",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"Yes":"Oui"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"canadianCitizen",value:"no",checked:t.canadianCitizen==="no",onChange:f=>r("canadianCitizen",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"No":"Non"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Do you own foreign property worth over $100,000 CAD?":"Poss√©dez-vous des biens √©trangers d'une valeur sup√©rieure √† 100 000 $ CAD?"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"foreignPropertyOver100k",value:"yes",checked:t.foreignPropertyOver100k==="yes",onChange:f=>r("foreignPropertyOver100k",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"Yes":"Oui"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"foreignPropertyOver100k",value:"no",checked:t.foreignPropertyOver100k==="no",onChange:f=>r("foreignPropertyOver100k",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"No":"Non"})]})]}),t.foreignPropertyOver100k==="yes"&&s.jsx("p",{className:"text-xs text-red-600 mt-2",children:e==="en"?"‚ö†Ô∏è You will need to file Form T1135 (Foreign Income Verification Statement)":"‚ö†Ô∏è Vous devrez produire le formulaire T1135 (√âtat de v√©rification du revenu √©tranger)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Did you sell your principal residence in 2025?":"Avez-vous vendu votre r√©sidence principale en 2025?"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"disposedPrincipalResidence",value:"yes",checked:t.disposedPrincipalResidence==="yes",onChange:f=>r("disposedPrincipalResidence",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"Yes":"Oui"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"disposedPrincipalResidence",value:"no",checked:t.disposedPrincipalResidence==="no",onChange:f=>r("disposedPrincipalResidence",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"No":"Non"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Do you have a First Home Savings Account (FHSA)?":"Avez-vous un compte d'√©pargne libre d'imp√¥t pour l'achat d'une premi√®re propri√©t√© (CELIAPP)?"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"firstHomeSavingsAccount",value:"yes",checked:t.firstHomeSavingsAccount==="yes",onChange:f=>r("firstHomeSavingsAccount",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"Yes":"Oui"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"firstHomeSavingsAccount",value:"no",checked:t.firstHomeSavingsAccount==="no",onChange:f=>r("firstHomeSavingsAccount",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"No":"Non"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Did you buy or sell cryptocurrency or NFTs in 2025?":"Avez-vous achet√© ou vendu des cryptomonnaies ou des NFT en 2025?"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"virtualCurrency",value:"yes",checked:t.virtualCurrency==="yes",onChange:f=>r("virtualCurrency",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"Yes":"Oui"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"virtualCurrency",value:"no",checked:t.virtualCurrency==="no",onChange:f=>r("virtualCurrency",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"No":"Non"})]})]})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>a("quebec"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Bx,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-semibold",children:e==="en"?"6. Revenu Qu√©bec (QC Residents Only)":"6. Revenu Qu√©bec (r√©sidents du QC seulement)"})]}),n==="quebec"?s.jsx(Fs,{className:"w-5 h-5 text-gray-400"}):s.jsx(As,{className:"w-5 h-5 text-gray-400"})]}),n==="quebec"&&s.jsxs("div",{className:"bg-gray-50 p-6 space-y-4",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:s.jsx("p",{className:"text-sm text-yellow-800",children:e==="en"?"‚ö†Ô∏è These questions are only for Qu√©bec residents. Skip this section if you don't live in Qu√©bec.":"‚ö†Ô∏è Ces questions sont uniquement pour les r√©sidents du Qu√©bec. Sautez cette section si vous n'habitez pas au Qu√©bec."})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Is this your first time filing taxes with Revenu Qu√©bec?":"Est-ce votre premi√®re d√©claration d'imp√¥ts avec Revenu Qu√©bec?"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"firstTimeFilingRQ",value:"yes",checked:t.firstTimeFilingRQ==="yes",onChange:f=>r("firstTimeFilingRQ",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"Yes":"Oui"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"firstTimeFilingRQ",value:"no",checked:t.firstTimeFilingRQ==="no",onChange:f=>r("firstTimeFilingRQ",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"No":"Non"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Do you want to claim the solidarity tax credit?":"Voulez-vous demander le cr√©dit d'imp√¥t pour solidarit√©?"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"claimSolidarityTaxCredit",value:"yes",checked:t.claimSolidarityTaxCredit==="yes",onChange:f=>r("claimSolidarityTaxCredit",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"Yes":"Oui"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"claimSolidarityTaxCredit",value:"no",checked:t.claimSolidarityTaxCredit==="no",onChange:f=>r("claimSolidarityTaxCredit",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"No":"Non"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Do you have prescription drug insurance?":"Avez-vous une assurance m√©dicaments?"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"prescriptionDrugInsurance",value:"yes",checked:t.prescriptionDrugInsurance==="yes",onChange:f=>r("prescriptionDrugInsurance",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"Yes":"Oui"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"prescriptionDrugInsurance",value:"no",checked:t.prescriptionDrugInsurance==="no",onChange:f=>r("prescriptionDrugInsurance",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"No":"Non"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Work Telephone (Optional)":"T√©l√©phone au travail (optionnel)"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.workTelephoneArea,onChange:f=>r("workTelephoneArea",f.target.value.replace(/\D/g,"")),placeholder:"514",maxLength:3}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.workTelephoneNumber,onChange:f=>r("workTelephoneNumber",f.target.value.replace(/\D/g,"")),placeholder:"5551234",maxLength:7}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.workTelephoneExt,onChange:f=>r("workTelephoneExt",f.target.value),placeholder:"Ext"})]})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>a("online"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ja,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-semibold",children:e==="en"?"7. CRA & RQ My Account Setup":"7. Configuration Mon dossier ARC & RQ"})]}),n==="online"?s.jsx(Fs,{className:"w-5 h-5 text-gray-400"}):s.jsx(As,{className:"w-5 h-5 text-gray-400"})]}),n==="online"&&s.jsxs("div",{className:"bg-gray-50 p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Do you want to sign up for CRA online mail?":"Voulez-vous vous inscrire au courrier en ligne de l'ARC?"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"signupCRAOnlineMail",value:"yes",checked:t.signupCRAOnlineMail==="yes",onChange:f=>r("signupCRAOnlineMail",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"Yes":"Oui"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"signupCRAOnlineMail",value:"no",checked:t.signupCRAOnlineMail==="no",onChange:f=>r("signupCRAOnlineMail",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"No":"Non"})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e==="en"?"Recommended: Receive your notices and tax documents electronically":"Recommand√©: Recevez vos avis et documents fiscaux √©lectroniquement"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Do you want to sign up for Revenu Qu√©bec online mail?":"Voulez-vous vous inscrire au courrier en ligne de Revenu Qu√©bec?"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"signupRQOnlineMail",value:"yes",checked:t.signupRQOnlineMail==="yes",onChange:f=>r("signupRQOnlineMail",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"Yes":"Oui"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"signupRQOnlineMail",value:"no",checked:t.signupRQOnlineMail==="no",onChange:f=>r("signupRQOnlineMail",f.target.value),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e==="en"?"No":"Non"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="en"?"Notification Email":"Courriel de notification"}),s.jsx("input",{type:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.notificationEmail,onChange:f=>r("notificationEmail",f.target.value),placeholder:"veronica.prass@email.com"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e==="en"?"This email will be used for CRA and Revenu Qu√©bec notifications":"Ce courriel sera utilis√© pour les notifications de l'ARC et de Revenu Qu√©bec"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx("button",{className:"px-6 py-3 border border-gray-300 rounded-lg font-semibold hover:bg-gray-50 transition-colors",onClick:h,children:e==="en"?"Save Draft":"Enregistrer le brouillon"}),s.jsx("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",onClick:d,disabled:o,children:o?s.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.928l3-2.647z"})]}):e==="en"?"Save All Information":"Enregistrer toutes les informations"}),s.jsx("button",{className:"px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors",onClick:u,disabled:c,children:c?s.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.928l3-2.647z"})]}):e==="en"?"Load Previous Information":"Charger les informations pr√©c√©dentes"})]})]})}function DQ({language:e,taxYears:t}){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:e==="en"?"Your Tax Returns":"Vos d√©clarations d'imp√¥ts"}),s.jsx("p",{className:"text-sm text-blue-700",children:e==="en"?"We prepare and file TWO tax returns for you: T1 (Federal - CRA) and TP-1 (Provincial - Revenu Qu√©bec for QC residents).":"Nous pr√©parons et produisons DEUX d√©clarations d'imp√¥ts pour vous : T1 (F√©d√©ral - ARC) et TP-1 (Provincial - Revenu Qu√©bec pour les r√©sidents du QC)."})]}),t.map(r=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-white p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e==="en"?`Tax Year ${r.year}`:`Ann√©e fiscale ${r.year}`}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e==="en"?`Filing for income earned in ${parseInt(r.year)-1}`:`D√©claration pour les revenus gagn√©s en ${parseInt(r.year)-1}`})]}),s.jsx("div",{children:s.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold ${r.statusColor==="blue"?"bg-blue-100 text-blue-700":r.statusColor==="green"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:r.status})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:e==="en"?"Documents Uploaded":"Documents t√©l√©vers√©s"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[r.documentsUploaded," / ",r.documentsRequired]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all ${r.documentsUploaded===0?"bg-gray-400":r.documentsUploaded<r.documentsRequired?"bg-yellow-500":"bg-green-500"}`,style:{width:`${r.documentsUploaded/r.documentsRequired*100}%`}})})]}),!r.isPaid&&r.documentsUploaded===0&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 flex items-start gap-3",children:[s.jsx(Ht,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"text-sm text-yellow-800",children:e==="en"?'Upload your documents in the "Documents" tab, then submit payment in the "Payments" tab to start processing.':`T√©l√©versez vos documents dans l'onglet "Documents", puis soumettez le paiement dans l'onglet "Paiements" pour commencer le traitement.`})]}),!r.isPaid&&r.documentsUploaded>0&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-start gap-3",children:[s.jsx(ji,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"text-sm text-blue-800",children:e==="en"?`Great! You've uploaded ${r.documentsUploaded} document${r.documentsUploaded>1?"s":""}. Go to the "Payments" tab to submit and pay $50 CAD to start processing your tax return.`:`Super! Vous avez t√©l√©vers√© ${r.documentsUploaded} document${r.documentsUploaded>1?"s":""}. Allez dans l'onglet "Paiements" pour soumettre et payer 50 $ CAD pour commencer le traitement de votre d√©claration.`})]}),r.isPaid&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 flex items-start gap-3",children:[s.jsx(ji,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"text-sm text-green-800",children:e==="en"?"‚úÖ Payment received! Your tax returns are being processed. We will notify you when they are ready for review.":"‚úÖ Paiement re√ßu! Vos d√©clarations d'imp√¥ts sont en cours de traitement. Nous vous informerons lorsqu'elles seront pr√™tes pour r√©vision."})]})]}),s.jsxs("div",{className:"bg-gray-50 p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(ji,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"T1 Federal Return"}),s.jsx("p",{className:"text-xs text-gray-500",children:e==="en"?"Canada Revenue Agency (CRA)":"Agence du revenu du Canada (ARC)"})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:e==="en"?"Status:":"Statut:"}),s.jsx("span",{className:"font-medium text-gray-900",children:r.isPaid?e==="en"?"Processing":"En traitement":e==="en"?"Not Submitted":"Non soumis"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:e==="en"?"Form:":"Formulaire:"}),s.jsx("span",{className:"font-medium text-gray-900",children:"T1 General"})]}),r.isPaid&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:e==="en"?"Expected:":"Attendu:"}),s.jsx("span",{className:"font-medium text-gray-900",children:e==="en"?"3-5 business days":"3-5 jours ouvrables"})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(ji,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"TP-1 Qu√©bec Return"}),s.jsx("p",{className:"text-xs text-gray-500",children:e==="en"?"Revenu Qu√©bec (QC Residents)":"Revenu Qu√©bec (r√©sidents du QC)"})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:e==="en"?"Status:":"Statut:"}),s.jsx("span",{className:"font-medium text-gray-900",children:r.isPaid?e==="en"?"Processing":"En traitement":e==="en"?"Not Submitted":"Non soumis"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:e==="en"?"Form:":"Formulaire:"}),s.jsx("span",{className:"font-medium text-gray-900",children:"TP-1.D"})]}),r.isPaid&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:e==="en"?"Expected:":"Attendu:"}),s.jsx("span",{className:"font-medium text-gray-900",children:e==="en"?"3-5 business days":"3-5 jours ouvrables"})]})]})]})]})]},r.year)),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:e==="en"?"What happens next?":"Que se passe-t-il ensuite?"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[s.jsx("p",{children:e==="en"?'1Ô∏è‚É£ Upload your tax documents in the "Documents" tab':`1Ô∏è‚É£ T√©l√©versez vos documents fiscaux dans l'onglet "Documents"`}),s.jsx("p",{children:e==="en"?'2Ô∏è‚É£ Submit payment of $50 CAD in the "Payments" tab to start processing':`2Ô∏è‚É£ Soumettez le paiement de 50 $ CAD dans l'onglet "Paiements" pour commencer le traitement`}),s.jsx("p",{children:e==="en"?"3Ô∏è‚É£ We will prepare BOTH your T1 (Federal) and TP-1 (Qu√©bec) tax returns":"3Ô∏è‚É£ Nous pr√©parerons VOS DEUX d√©clarations d'imp√¥ts T1 (F√©d√©ral) et TP-1 (Qu√©bec)"}),s.jsx("p",{children:e==="en"?"4Ô∏è‚É£ Review your completed returns and approve for filing":"4Ô∏è‚É£ R√©visez vos d√©clarations compl√©t√©es et approuvez pour la production"}),s.jsx("p",{children:e==="en"?"5Ô∏è‚É£ We will file both returns electronically with CRA and Revenu Qu√©bec":"5Ô∏è‚É£ Nous produirons les deux d√©clarations √©lectroniquement aupr√®s de l'ARC et de Revenu Qu√©bec"})]})]})]})}function LQ({language:e,taxYears:t,documentCategories:r,uploadedFiles:n,expandedYear:a,expandedCategory:i,toggleYear:o,toggleCategory:l,handleFileUpload:c,handleRemoveFile:A,getFilesForDocType:u,isUploading:d}){return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm text-blue-900",children:e==="en"?'üìÅ Upload your tax documents for each year. You can upload documents anytime. When ready, go to the "Payments" tab to submit payment and start processing.':`üìÅ T√©l√©versez vos documents fiscaux pour chaque ann√©e. Vous pouvez t√©l√©verser des documents √† tout moment. Lorsque vous √™tes pr√™t, allez dans l'onglet "Paiements" pour soumettre le paiement et commencer le traitement.`})}),t.map(h=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-white",children:s.jsxs("button",{onClick:()=>o(h.year),className:"w-full flex items-center justify-between p-6 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(tr,{className:"w-6 h-6 text-blue-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-semibold text-lg",children:e==="en"?`Tax Year ${h.year}`:`Ann√©e fiscale ${h.year}`}),s.jsxs("p",{className:"text-sm text-gray-600",children:[h.documentsUploaded," / ",h.documentsRequired," ","documents"]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${h.statusColor==="blue"?"bg-blue-100 text-blue-700":h.statusColor==="green"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:h.status}),a===h.year?s.jsx(Fs,{className:"w-5 h-5 text-gray-400"}):s.jsx(As,{className:"w-5 h-5 text-gray-400"})]})]})}),a===h.year&&s.jsx("div",{className:"bg-gray-50 p-6 space-y-3",children:r.map(f=>{const g=f.icon;return s.jsxs("div",{className:"border border-gray-200 rounded-lg bg-white overflow-hidden",children:[s.jsxs("button",{onClick:()=>l(h.year,f.id),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(g,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-medium",children:f.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",n.filter(p=>p.year===h.year&&p.category===f.id).length," ",e==="en"?"files":"fichiers",")"]})]}),i[h.year]===f.id?s.jsx(Fs,{className:"w-4 h-4 text-gray-400"}):s.jsx(As,{className:"w-4 h-4 text-gray-400"})]}),i[h.year]===f.id&&s.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:s.jsx("div",{className:"space-y-3",children:f.documents.map(p=>{const b=u(h.year,f.id,p);return s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:p}),s.jsxs("span",{className:"text-xs text-gray-500",children:[b.length," ",e==="en"?"files":"fichiers"]})]}),b.length>0&&s.jsx("div",{className:"mb-3 space-y-2",children:b.map(m=>s.jsxs("div",{className:"flex items-center justify-between bg-green-50 p-2 rounded border border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mt,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-xs text-gray-700",children:m.name})]}),s.jsx("button",{onClick:()=>A(m.id),className:"text-red-600 hover:text-red-700",children:s.jsx(In,{className:"w-4 h-4"})})]},m.id))}),s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(Qr,{className:`w-8 h-8 mb-2 ${d?"text-blue-500 animate-pulse":"text-gray-400"}`}),s.jsx("p",{className:"text-xs text-gray-600 text-center",children:d?e==="en"?"Uploading...":"T√©l√©versement...":e==="en"?"Click to upload or drag and drop":"Cliquez pour t√©l√©verser ou glisser-d√©poser"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG (max 10MB)"})]}),s.jsx("input",{type:"file",className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:m=>c(m,h.year,f.id,p),disabled:d})]})]},p)})})})]},f.id)})})]},h.year))]})}function QQ({language:e,taxYears:t,handleSubmitTaxReturn:r,isSubmitting:n}){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:e==="en"?"Payment & Submission":"Paiement et soumission"}),s.jsx("p",{className:"text-sm text-blue-700",children:e==="en"?'Pay $50 CAD initial fee to submit your tax return for processing. Upload your documents first in the "Documents" tab.':`Payez des frais initiaux de 50 $ CAD pour soumettre votre d√©claration d'imp√¥ts pour traitement. T√©l√©versez d'abord vos documents dans l'onglet "Documents".`})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:e==="en"?"Submit Your Tax Return":"Soumettre votre d√©claration d'imp√¥ts"}),t.map(a=>s.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden mb-4",children:s.jsxs("div",{className:"bg-white p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(tr,{className:"w-6 h-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:e==="en"?`Tax Year ${a.year}`:`Ann√©e fiscale ${a.year}`}),s.jsxs("p",{className:"text-sm text-gray-600",children:[a.documentsUploaded," / ",a.documentsRequired," ",e==="en"?"documents uploaded":"documents t√©l√©vers√©s"]})]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.statusColor==="blue"?"bg-blue-100 text-blue-700":a.statusColor==="green"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:a.status})]}),a.isPaid?s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(He,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-green-900 mb-1",children:e==="en"?"Payment Received":"Paiement re√ßu"}),s.jsx("p",{className:"text-sm text-green-700",children:e==="en"?"Your tax return has been submitted and is being processed. We will notify you when it's ready for review.":"Votre d√©claration d'imp√¥ts a √©t√© soumise et est en cours de traitement. Nous vous informerons lorsqu'elle sera pr√™te pour r√©vision."}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-green-200",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-green-700",children:e==="en"?"Amount Paid:":"Montant pay√©:"}),s.jsx("span",{className:"font-semibold text-green-900",children:"$50.00 CAD"})]}),s.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[s.jsx("span",{className:"text-green-700",children:e==="en"?"Payment Date:":"Date de paiement:"}),s.jsx("span",{className:"font-semibold text-green-900",children:"Jan 8, 2026"})]})]})]})]}):s.jsxs(s.Fragment,{children:[a.documentsUploaded===0&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3 mb-4",children:[s.jsx(Ht,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-yellow-900 mb-1",children:e==="en"?"No Documents Uploaded":"Aucun document t√©l√©vers√©"}),s.jsx("p",{className:"text-sm text-yellow-700",children:e==="en"?'Please upload your tax documents in the "Documents" tab before submitting payment.':`Veuillez t√©l√©verser vos documents fiscaux dans l'onglet "Documents" avant de soumettre le paiement.`})]})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5 mb-4",children:[s.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:e==="en"?"Payment Details":"D√©tails du paiement"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:e==="en"?"Initial Filing Fee:":"Frais de d√©p√¥t initial:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:"$50.00 CAD"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:e==="en"?"Includes:":"Inclut:"}),s.jsx("span",{className:"text-sm text-gray-700",children:e==="en"?"T1 Federal + TP-1 Qu√©bec":"T1 F√©d√©ral + TP-1 Qu√©bec"})]}),s.jsx("div",{className:"pt-2 mt-2 border-t border-gray-300",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:e==="en"?"Total Due:":"Total d√ª:"}),s.jsx("span",{className:"font-bold text-gray-900 text-lg",children:"$50.00 CAD"})]})})]})]}),a.canSubmit&&s.jsxs("button",{onClick:()=>r(a.year),disabled:n||a.documentsUploaded===0,className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-lg",children:[s.jsx(Co,{className:"w-6 h-6"}),n?e==="en"?"Processing...":"Traitement...":e==="en"?"Submit & Pay $50 CAD":"Soumettre et payer 50 $ CAD"]}),a.documentsUploaded===0&&s.jsx("p",{className:"text-xs text-gray-500 text-center mt-3",children:e==="en"?"‚ö†Ô∏è Upload at least one document to enable payment":"‚ö†Ô∏è T√©l√©versez au moins un document pour activer le paiement"})]})]})},a.year))]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:e==="en"?"Payment History":"Historique des paiements"}),s.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white",children:s.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:e==="en"?"No payments yet. Your payment history will appear here.":"Aucun paiement pour le moment. Votre historique de paiements appara√Ætra ici."})})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:e==="en"?"Important Information":"Informations importantes"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[s.jsx("p",{children:e==="en"?"üí≥ We accept all major credit cards and debit cards via Stripe":"üí≥ Nous acceptons toutes les principales cartes de cr√©dit et de d√©bit via Stripe"}),s.jsx("p",{children:e==="en"?"üîí Your payment information is secure and encrypted":"üîí Vos informations de paiement sont s√©curis√©es et crypt√©es"}),s.jsx("p",{children:e==="en"?"üìß You will receive a payment confirmation email after submission":"üìß Vous recevrez un courriel de confirmation de paiement apr√®s la soumission"}),s.jsx("p",{children:e==="en"?"‚è±Ô∏è Processing typically takes 3-5 business days":"‚è±Ô∏è Le traitement prend g√©n√©ralement 3 √† 5 jours ouvrables"}),s.jsx("p",{children:e==="en"?"üìÑ The $50 fee covers BOTH your T1 Federal and TP-1 Qu√©bec returns":"üìÑ Les frais de 50 $ couvrent VOS DEUX d√©clarations T1 F√©d√©ral et TP-1 Qu√©bec"})]})]})]})}const VN=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"];function Ya(e){if(console.log("üîç [isAdminEmail] Checking email:",e),console.log("üîç [isAdminEmail] Admin emails list:",VN),!e)return console.log("‚ùå [isAdminEmail] Email is undefined/null"),!1;const t=e.toLowerCase(),r=VN.includes(t);return console.log("üîç [isAdminEmail] Normalized email:",t),console.log("üîç [isAdminEmail] Is admin?",r),r}function RQ(){const{t:e,language:t,setLanguage:r}=$r(),n=Br(),{user:a}=Wr(),[i,o]=C.useState("personal"),[l,c]=C.useState("2026"),[A,u]=C.useState({2024:null,2025:null,2026:null}),[d,h]=C.useState([]),[f,g]=C.useState(!1),[p,b]=C.useState(!1),[m,x]=C.useState("personal"),[y,w]=C.useState(!0),[N,B]=C.useState({firstName:"",middleName:"",lastName:"",sin:"",dateOfBirth:"",preferredLanguage:"English",gender:"",careOf:"",addressUnit:"",streetNumber:"",streetName:"",city:"",province:"",postalCode:"",homePhoneArea:"",homePhoneNumber:"",hasNonCanadianAddress:"no",canadianResidentAllYear:"yes",provinceOnDec31:"",provinceMovedDate:"",homeAddressSameAsMailing:"yes",addressChangedInYear:"no",currentProvince:"",maritalStatus:"",maritalStatusChanged:"no",hasDependents:"no",firstTimeFilingCRA:"no",canadianCitizen:"yes",registeredIndianAct:"no",foreignPropertyOver100k:"no",disposedPrincipalResidence:"no",flippedProperty:"no",firstHomeSavingsAccount:"no",virtualCurrency:"no",confinedToPrison:"no",singleParentOrLivedAlone:"no",firstTimeFilingRQ:"no",claimSolidarityTaxCredit:"no",prescriptionDrugInsurance:"no",workTelephoneArea:"",workTelephoneNumber:"",workTelephoneExt:"",signupCRAOnlineMail:"yes",signupRQOnlineMail:"yes",receiveRQNotifications:"email",notificationEmail:""}),F=[{year:"2026",status:t==="en"?"üîµ In Progress":"üîµ En cours",statusColor:"blue",documentsUploaded:d.filter($=>$.year==="2026").length,documentsRequired:8,canSubmit:!0,isPaid:!1},{year:"2025",status:t==="en"?"‚ö™ Available (For returning clients)":"‚ö™ Disponible (clients existants)",statusColor:"gray",documentsUploaded:d.filter($=>$.year==="2025").length,documentsRequired:8,canSubmit:!0,isPaid:!1},{year:"2024",status:t==="en"?"‚ö™ Available (For returning clients)":"‚ö™ Disponible (clients existants)",statusColor:"gray",documentsUploaded:d.filter($=>$.year==="2024").length,documentsRequired:8,canSubmit:!0,isPaid:!1}],E=[{value:"AB",label:"Alberta"},{value:"BC",label:"British Columbia"},{value:"MB",label:"Manitoba"},{value:"NB",label:"New Brunswick"},{value:"NL",label:"Newfoundland and Labrador"},{value:"NS",label:"Nova Scotia"},{value:"ON",label:"Ontario"},{value:"PE",label:"Prince Edward Island"},{value:"QC",label:"Qu√©bec"},{value:"SK",label:"Saskatchewan"},{value:"NT",label:"Northwest Territories"},{value:"NU",label:"Nunavut"},{value:"YT",label:"Yukon"}],P=($,q)=>{B(Z=>({...Z,[$]:q}))},Q=$=>{x(m===$?null:$)},U=[{id:"employment",name:t==="en"?"Employment Income":"Revenu d'emploi",icon:qp,documents:["T4 Slips","Relev√© 1 (Qu√©bec)","T4A Slips","Employment Letter"]},{id:"rrsp",name:t==="en"?"RRSP & Retirement":"REER et retraite",icon:Zt,documents:["RRSP Contributions","Relev√© 10 (RRSP)","Pension Income T4A(P)","FHSA Contributions"]},{id:"investment",name:t==="en"?"Investment Income":"Revenu de placement",icon:Zt,documents:["T5 Slips (Interest & Dividends)","Relev√© 3 (Qu√©bec)","T3 Slips (Trust Income)","Foreign Income"]},{id:"dependents",name:t==="en"?"Dependents & Child Care":"Personnes √† charge et garde d'enfants",icon:dr,documents:["Child Care Receipts","Dependents Information","Child Tax Benefit","Education Expenses"]},{id:"medical",name:t==="en"?"Medical Expenses":"Frais m√©dicaux",icon:SN,documents:["Medical Receipts","Prescription Receipts","Dental Expenses","Insurance Premiums"]},{id:"donations",name:t==="en"?"Donations & Charitable":"Dons et charit√©",icon:SN,documents:["Donation Receipts","Charitable Contributions","Political Contributions"]},{id:"tuition",name:t==="en"?"Tuition & Education":"Frais de scolarit√©",icon:mD,documents:["T2202 Tuition","Relev√© 8 (Qu√©bec)","Student Loan Interest","Textbook Receipts"]},{id:"property",name:t==="en"?"Property & Home":"Propri√©t√© et r√©sidence",icon:No,documents:["Property Tax Bill","Home Office Expenses","Mortgage Interest","Rental Income/Expenses"]},{id:"other",name:t==="en"?"Other Documents":"Autres documents",icon:Mt,documents:["Moving Expenses","Union Dues","Professional Fees","Other Slips"]}],T=[{id:1,title:t==="en"?"Account Created":"Compte cr√©√©",status:"completed"},{id:2,title:t==="en"?"Personal Info Submitted":"Info personnelle soumise",status:"completed"},{id:3,title:t==="en"?"Upload Documents":"T√©l√©verser documents",status:"current"},{id:4,title:t==="en"?"Submit & Pay":"Soumettre et payer",status:"pending"},{id:5,title:t==="en"?"Under Review":"En r√©vision",status:"pending"}],k=$=>{c(l===$?null:$)},I=($,q)=>{u(Z=>({...Z,[$]:Z[$]===q?null:q}))},M=async($,q,Z,D)=>{const H=$.target.files;if(!(!H||H.length===0)){g(!0);try{for(const V of Array.from(H)){const re={id:Date.now().toString()+Math.random(),name:V.name,year:q,category:Z,docType:D,uploadedAt:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),size:V.size};h(Ae=>[...Ae,re])}alert(t==="en"?`‚úÖ ${H.length} file(s) uploaded successfully!`:`‚úÖ ${H.length} fichier(s) t√©l√©vers√©(s) avec succ√®s!`)}catch(V){console.error("Upload error:",V),alert(t==="en"?"‚ùå Upload failed":"‚ùå √âchec du t√©l√©versement")}finally{g(!1)}}},L=$=>{confirm(t==="en"?"Are you sure you want to remove this file?":"√ätes-vous s√ªr de vouloir supprimer ce fichier?")&&h(q=>q.filter(Z=>Z.id!==$))},K=($,q,Z)=>d.filter(D=>D.year===$&&D.category===q&&D.docType===Z),R=async $=>{if(p)return;const q=t==="en"?`Submit Tax Return for ${$}?

You will be charged $50 CAD initial fee to submit your tax return for processing.

You can upload documents freely, but payment is required to submit.`:`Soumettre la d√©claration d'imp√¥ts pour ${$}?

Des frais initiaux de 50 $ CAD vous seront factur√©s pour soumettre votre d√©claration d'imp√¥ts pour traitement.

Vous pouvez t√©l√©verser des documents librement, mais le paiement est requis pour soumettre.`;if(confirm(q)){b(!0);try{const Z=await fetch(Nt.createInitialPaymentInvoice,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ta}`},body:JSON.stringify({year:$,documentCount:d.filter(H=>H.year===$).length,amount:50})}),D=await Z.json();if(!Z.ok)throw new Error(D.error||"Payment failed");if(D.paymentUrl)window.location.href=D.paymentUrl;else throw new Error("No payment URL received")}catch(Z){console.error("Payment error:",Z),alert(t==="en"?`‚ùå Payment failed: ${Z instanceof Error?Z.message:"Unknown error"}`:`‚ùå √âchec du paiement: ${Z instanceof Error?Z.message:"Erreur inconnue"}`)}finally{b(!1)}}};return C.useEffect(()=>{(async()=>{if(!(a!=null&&a.id)){w(!1);return}try{B(q=>({...q,notificationEmail:a.email||""})),console.log("‚úÖ Dashboard initialized with empty form")}catch(q){console.error("Error initializing dashboard:",q)}finally{w(!1)}})()},[a]),s.jsxs(s.Fragment,{children:[s.jsxs(Nl,{children:[s.jsx("title",{children:"Client Dashboard - DuoPro Services"}),s.jsx("meta",{name:"robots",content:"noindex"})]}),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-blue-600 text-white px-3 py-2 rounded-lg font-bold text-xl",children:"DuoPro"}),s.jsx("span",{className:"text-gray-900 font-semibold",children:"Services"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:()=>{console.log("üîß DEBUG: User:",a),console.log("üîß DEBUG: Email:",a==null?void 0:a.email),console.log("üîß DEBUG: Is admin?",Ya(a==null?void 0:a.email)),n("/admin/control-panel")},className:"flex items-center gap-2 px-4 py-2 bg-yellow-100 border-2 border-yellow-400 text-yellow-800 hover:bg-yellow-200 rounded-lg font-semibold transition-colors",children:[s.jsx(dr,{className:"w-4 h-4"}),s.jsx("span",{children:"üîß DEBUG: Admin Panel"})]}),s.jsx("button",{onClick:()=>r(t==="en"?"fr":"en"),className:"px-3 py-2 rounded-lg border border-gray-300 hover:border-blue-600 hover:bg-blue-50 transition-colors text-sm font-medium",children:t==="en"?"FR":"EN"}),s.jsxs("button",{onClick:()=>n("/"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-blue-600 transition-colors",children:[s.jsx(No,{className:"w-4 h-4"}),s.jsx("span",{children:e("nav.home")})]}),s.jsxs("button",{onClick:()=>n("/login"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-red-600 transition-colors",children:[s.jsx(Sx,{className:"w-4 h-4"}),s.jsx("span",{children:e("nav.logout")})]})]})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8",children:t==="en"?"Client Portal":"Portail client"}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[s.jsxs("div",{className:"flex border-b border-gray-200 overflow-x-auto",children:[s.jsxs("button",{onClick:()=>o("personal"),className:`px-6 py-4 font-medium transition-colors whitespace-nowrap ${i==="personal"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(ea,{className:"w-4 h-4 inline-block mr-2"}),t==="en"?"Personal Info":"Infos personnelles"]}),s.jsxs("button",{onClick:()=>o("filings"),className:`px-6 py-4 font-medium transition-colors whitespace-nowrap ${i==="filings"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(tr,{className:"w-4 h-4 inline-block mr-2"}),t==="en"?"Tax Filings":"D√©clarations"]}),s.jsxs("button",{onClick:()=>o("documents"),className:`px-6 py-4 font-medium transition-colors whitespace-nowrap ${i==="documents"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Mt,{className:"w-4 h-4 inline-block mr-2"}),e("portal.documents")]}),s.jsxs("button",{onClick:()=>o("payments"),className:`px-6 py-4 font-medium transition-colors whitespace-nowrap ${i==="payments"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Co,{className:"w-4 h-4 inline-block mr-2"}),e("portal.payments")]}),s.jsxs("button",{onClick:()=>o("messages"),className:`px-6 py-4 font-medium transition-colors whitespace-nowrap ${i==="messages"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Ec,{className:"w-4 h-4 inline-block mr-2"}),e("portal.messages")]}),s.jsxs("button",{onClick:()=>o("status"),className:`px-6 py-4 font-medium transition-colors whitespace-nowrap ${i==="status"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Mr,{className:"w-4 h-4 inline-block mr-2"}),e("portal.status")]})]}),s.jsxs("div",{className:"p-6",children:[i==="personal"&&s.jsx(_Q,{language:t,personalInfo:N,updatePersonalField:P,expandedPersonalSection:m,togglePersonalSection:Q,CANADIAN_PROVINCES:E}),i==="filings"&&s.jsx(DQ,{language:t,taxYears:F}),i==="documents"&&s.jsx(LQ,{language:t,taxYears:F,documentCategories:U,uploadedFiles:d,expandedYear:l,expandedCategory:A,toggleYear:k,toggleCategory:I,handleFileUpload:M,handleRemoveFile:L,getFilesForDocType:K,isUploading:f}),i==="payments"&&s.jsx(QQ,{language:t,taxYears:F,handleSubmitTaxReturn:R,isSubmitting:p}),i==="messages"&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ec,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:t==="en"?"No messages yet":"Aucun message pour le moment"}),s.jsx("p",{className:"text-sm text-gray-500",children:t==="en"?"Messages from our team will appear here":"Les messages de notre √©quipe appara√Ætront ici"})]}),i==="status"&&s.jsxs("div",{children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:t==="en"?"Current Status: Ready to Submit":"Statut actuel: Pr√™t √† soumettre"}),s.jsx("p",{className:"text-sm text-blue-700",children:t==="en"?"Upload your documents and submit your tax return. You will be charged $50 CAD initial fee upon submission.":"T√©l√©versez vos documents et soumettez votre d√©claration d'imp√¥ts. Des frais initiaux de 50 $ CAD vous seront factur√©s lors de la soumission."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-4",children:t==="en"?"Progress Timeline":"Chronologie des progr√®s"}),s.jsx("div",{className:"space-y-4",children:T.map($=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${$.status==="completed"?"bg-green-100 text-green-600":$.status==="current"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:$.status==="completed"?s.jsx(He,{className:"w-5 h-5"}):s.jsx("span",{className:"text-sm font-semibold",children:$.id})}),s.jsx("div",{children:s.jsx("p",{className:`font-medium ${$.status==="current"?"text-blue-600":"text-gray-700"}`,children:$.title})})]},$.id))})]})]})]})]})]})]})]})}function MQ(){const{t:e,language:t,setLanguage:r}=$r(),n=Br(),[a,i]=C.useState("dashboard"),[o,l]=C.useState(null),[c,A]=C.useState(!0);C.useEffect(()=>{u()},[]);const u=async()=>{try{A(!0);const f=(await(await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/kv/getByPrefix?prefix=profile:`,{headers:{Authorization:`Bearer ${ta}`}})).json()).values||[],b=(await(await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/kv/getByPrefix?prefix=tax_filing:`,{headers:{Authorization:`Bearer ${ta}`}})).json()).values||[],y=(await(await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/kv/getByPrefix?prefix=invoice:`,{headers:{Authorization:`Bearer ${ta}`}})).json()).values||[],w=b.filter(P=>["documents_uploaded","in_review","in_progress"].includes(P.status)).length,N=y.filter(P=>P.status==="paid").reduce((P,Q)=>P+Q.amount,0),F=[...f].sort((P,Q)=>new Date(Q.onboardingCompleted?"2026-01-01":"2025-01-01").getTime()-new Date(P.onboardingCompleted?"2026-01-01":"2025-01-01").getTime()).slice(0,5).map(P=>({client:P.name||P.email,action:P.onboardingCompleted?"Completed onboarding":"Registered",time:"Recent"})),E=f.slice(0,10).map(P=>({name:P.name||"No name",email:P.email,status:P.onboardingCompleted?"Active":"Pending"}));l({totalClients:f.length,activeReturns:w,totalRevenue:N,recentActivity:F.length>0?F:[{client:"No activity",action:"No recent activity",time:"-"}],recentClients:E.length>0?E:[{name:"No clients",email:"No clients yet",status:"-"}]})}catch(d){console.error("Error fetching dashboard data:",d),l({totalClients:0,activeReturns:0,totalRevenue:0,recentActivity:[{client:"Error",action:"Failed to load data",time:"-"}],recentClients:[{name:"Error",email:"Failed to load",status:"-"}]})}finally{A(!1)}};return s.jsxs(s.Fragment,{children:[s.jsxs(Nl,{children:[s.jsx("title",{children:"Admin Dashboard - DuoPro Services"}),s.jsx("meta",{name:"robots",content:"noindex"})]}),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-blue-600 text-white px-3 py-2 rounded-lg font-bold text-xl",children:"DuoPro"}),s.jsx("span",{className:"text-gray-900 font-semibold",children:"Services - Admin"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>r(t==="en"?"fr":"en"),className:"px-3 py-2 rounded-lg border border-gray-300 hover:border-blue-600 hover:bg-blue-50 transition-colors text-sm font-medium",children:t==="en"?"FR":"EN"}),s.jsxs("button",{onClick:()=>n("/"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-blue-600 transition-colors",children:[s.jsx(No,{className:"w-4 h-4"}),s.jsx("span",{children:e("nav.home")})]}),s.jsxs("button",{onClick:()=>n("/login"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-red-600 transition-colors",children:[s.jsx(Sx,{className:"w-4 h-4"}),s.jsx("span",{children:e("nav.logout")})]})]})]})})}),s.jsxs("div",{className:"flex",children:[s.jsx("aside",{className:"w-64 bg-white border-r border-gray-200 min-h-screen p-4",children:s.jsxs("nav",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>n("/admin/control-panel"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 shadow-lg mb-4",children:[s.jsx(V1,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"Control Panel"})]}),s.jsxs("button",{onClick:()=>i("dashboard"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${a==="dashboard"?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(pD,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Dashboard"})]}),s.jsxs("button",{onClick:()=>i("clients"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${a==="clients"?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(dr,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Clients"})]}),s.jsxs("button",{onClick:()=>n("/admin/content-calendar"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-700 hover:bg-gray-50",children:[s.jsx(tr,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Content Calendar"})]}),s.jsxs("button",{onClick:()=>n("/admin/crm"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-700 hover:bg-gray-50",children:[s.jsx(dT,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"CRM - Leads"})]}),s.jsxs("button",{onClick:()=>n("/admin/users-list"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-700 hover:bg-gray-50",children:[s.jsx(dr,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"User Management"})]})]})}),s.jsx("main",{className:"flex-1 p-8",children:c?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(ht,{className:"w-8 h-8 animate-spin text-blue-600"})}):s.jsxs(s.Fragment,{children:[a==="dashboard"&&o&&s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Admin Dashboard"}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(dr,{className:"w-8 h-8 text-blue-600"}),s.jsx(Mn,{className:"w-5 h-5 text-green-600"})]}),s.jsx("h3",{className:"text-2xl font-bold mb-1",children:o.totalClients}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Clients"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Mt,{className:"w-8 h-8 text-green-600"}),s.jsx(Mn,{className:"w-5 h-5 text-green-600"})]}),s.jsx("h3",{className:"text-2xl font-bold mb-1",children:o.activeReturns}),s.jsx("p",{className:"text-sm text-gray-600",children:"Active Returns"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(tr,{className:"w-8 h-8 text-purple-600"}),s.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium",children:"This Month"})]}),s.jsx("h3",{className:"text-2xl font-bold mb-1",children:"-"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Content Posts"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Zt,{className:"w-8 h-8 text-yellow-600"}),s.jsx(Mn,{className:"w-5 h-5 text-green-600"})]}),s.jsxs("h3",{className:"text-2xl font-bold mb-1",children:["$",(o.totalRevenue/1e3).toFixed(1),"k"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:o.recentActivity.map((d,h)=>s.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:d.client}),s.jsx("p",{className:"text-sm text-gray-600",children:d.action})]}),s.jsx("span",{className:"text-sm text-gray-500",children:d.time})]},h))})]})]}),a==="clients"&&o&&s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Client Management"}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:o.recentClients.map((d,h)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:d.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:d.email}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${d.status==="Active"?"bg-green-100 text-green-700":d.status==="Pending"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:d.status})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("button",{onClick:()=>n("/admin/clients"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View Details"})})]},h))})]})})]})]})})]})]})]})}function zN(e,[t,r]){return Math.min(r,Math.max(t,e))}function Lr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function $Q(e,t){const r=C.createContext(t),n=i=>{const{children:o,...l}=i,c=C.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=C.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function kx(e,t=[]){let r=[];function n(i,o){const l=C.createContext(o),c=r.length;r=[...r,o];const A=d=>{var m;const{scope:h,children:f,...g}=d,p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,b=C.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:b,children:f})};A.displayName=i+"Provider";function u(d,h){var p;const f=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=C.useContext(f);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[A,u]}const a=()=>{const i=r.map(o=>C.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,HQ(a,...t)]}function HQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:A})=>{const d=c(i)[`__scope${A}`];return{...l,...d}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function GN(e){const t=KQ(e),r=C.forwardRef((n,a)=>{const{children:i,...o}=n,l=C.Children.toArray(i),c=l.find(zQ);if(c){const A=c.props.children,u=l.map(d=>d===c?C.Children.count(A)>1?C.Children.only(null):C.isValidElement(A)?A.props.children:null:d);return s.jsx(t,{...o,ref:a,children:C.isValidElement(A)?C.cloneElement(A,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function KQ(e){const t=C.forwardRef((r,n)=>{const{children:a,...i}=r;if(C.isValidElement(a)){const o=qQ(a),l=GQ(i,a.props);return a.type!==C.Fragment&&(l.ref=n?Pu(n,o):o),C.cloneElement(a,l)}return C.Children.count(a)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var VQ=Symbol("radix.slottable");function zQ(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VQ}function GQ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function qQ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function WQ(e){const t=e+"CollectionProvider",[r,n]=kx(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:b,children:m}=p,x=fe.useRef(null),y=fe.useRef(new Map).current;return s.jsx(a,{scope:b,itemMap:y,collectionRef:x,children:m})};o.displayName=t;const l=e+"CollectionSlot",c=GN(l),A=fe.forwardRef((p,b)=>{const{scope:m,children:x}=p,y=i(l,m),w=dn(b,y.collectionRef);return s.jsx(c,{ref:w,children:x})});A.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=GN(u),f=fe.forwardRef((p,b)=>{const{scope:m,children:x,...y}=p,w=fe.useRef(null),N=dn(b,w),B=i(u,m);return fe.useEffect(()=>(B.itemMap.set(w,{ref:w,...y}),()=>void B.itemMap.delete(w))),s.jsx(h,{[d]:"",ref:N,children:x})});f.displayName=u;function g(p){const b=i(e+"CollectionConsumer",p);return fe.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((B,F)=>y.indexOf(B.ref.current)-y.indexOf(F.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:A,ItemSlot:f},g,n]}var YQ=C.createContext(void 0);function XQ(e){const t=C.useContext(YQ);return e||t||"ltr"}function JQ(e){const t=ZQ(e),r=C.forwardRef((n,a)=>{const{children:i,...o}=n,l=C.Children.toArray(i),c=l.find(tR);if(c){const A=c.props.children,u=l.map(d=>d===c?C.Children.count(A)>1?C.Children.only(null):C.isValidElement(A)?A.props.children:null:d);return s.jsx(t,{...o,ref:a,children:C.isValidElement(A)?C.cloneElement(A,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function ZQ(e){const t=C.forwardRef((r,n)=>{const{children:a,...i}=r;if(C.isValidElement(a)){const o=nR(a),l=rR(i,a.props);return a.type!==C.Fragment&&(l.ref=n?Pu(n,o):o),C.cloneElement(a,l)}return C.Children.count(a)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eR=Symbol("radix.slottable");function tR(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eR}function rR(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function nR(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Or=sR.reduce((e,t)=>{const r=JQ(`Primitive.${t}`),n=C.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function aR(e,t){e&&ph.flushSync(()=>e.dispatchEvent(t))}function Pc(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function iR(e,t=globalThis==null?void 0:globalThis.document){const r=Pc(e);C.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var oR="DismissableLayer",yy="dismissableLayer.update",lR="dismissableLayer.pointerDownOutside",cR="dismissableLayer.focusOutside",qN,zT=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Y1=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,A=C.useContext(zT),[u,d]=C.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=C.useState({}),g=dn(t,F=>d(F)),p=Array.from(A.layers),[b]=[...A.layersWithOutsidePointerEventsDisabled].slice(-1),m=p.indexOf(b),x=u?p.indexOf(u):-1,y=A.layersWithOutsidePointerEventsDisabled.size>0,w=x>=m,N=dR(F=>{const E=F.target,P=[...A.branches].some(Q=>Q.contains(E));!w||P||(a==null||a(F),o==null||o(F),F.defaultPrevented||l==null||l())},h),B=fR(F=>{const E=F.target;[...A.branches].some(Q=>Q.contains(E))||(i==null||i(F),o==null||o(F),F.defaultPrevented||l==null||l())},h);return iR(F=>{x===A.layers.size-1&&(n==null||n(F),!F.defaultPrevented&&l&&(F.preventDefault(),l()))},h),C.useEffect(()=>{if(u)return r&&(A.layersWithOutsidePointerEventsDisabled.size===0&&(qN=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),A.layersWithOutsidePointerEventsDisabled.add(u)),A.layers.add(u),WN(),()=>{r&&A.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=qN)}},[u,h,r,A]),C.useEffect(()=>()=>{u&&(A.layers.delete(u),A.layersWithOutsidePointerEventsDisabled.delete(u),WN())},[u,A]),C.useEffect(()=>{const F=()=>f({});return document.addEventListener(yy,F),()=>document.removeEventListener(yy,F)},[]),s.jsx(Or.div,{...c,ref:g,style:{pointerEvents:y?w?"auto":"none":void 0,...e.style},onFocusCapture:Lr(e.onFocusCapture,B.onFocusCapture),onBlurCapture:Lr(e.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Lr(e.onPointerDownCapture,N.onPointerDownCapture)})});Y1.displayName=oR;var AR="DismissableLayerBranch",uR=C.forwardRef((e,t)=>{const r=C.useContext(zT),n=C.useRef(null),a=dn(t,n);return C.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Or.div,{...e,ref:a})});uR.displayName=AR;function dR(e,t=globalThis==null?void 0:globalThis.document){const r=Pc(e),n=C.useRef(!1),a=C.useRef(()=>{});return C.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){GT(lR,r,A,{discrete:!0})};const A={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function fR(e,t=globalThis==null?void 0:globalThis.document){const r=Pc(e),n=C.useRef(!1);return C.useEffect(()=>{const a=i=>{i.target&&!n.current&&GT(cR,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function WN(){const e=new CustomEvent(yy);document.dispatchEvent(e)}function GT(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?aR(a,i):a.dispatchEvent(i)}var Ov=0;function qT(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??YN()),document.body.insertAdjacentElement("beforeend",e[1]??YN()),Ov++,()=>{Ov===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ov--}},[])}function YN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Iv="focusScope.autoFocusOnMount",Uv="focusScope.autoFocusOnUnmount",XN={bubbles:!1,cancelable:!0},hR="FocusScope",X1=C.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=C.useState(null),A=Pc(a),u=Pc(i),d=C.useRef(null),h=dn(t,p=>c(p)),f=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let p=function(y){if(f.paused||!l)return;const w=y.target;l.contains(w)?d.current=w:sl(d.current,{select:!0})},b=function(y){if(f.paused||!l)return;const w=y.relatedTarget;w!==null&&(l.contains(w)||sl(d.current,{select:!0}))},m=function(y){if(document.activeElement===document.body)for(const N of y)N.removedNodes.length>0&&sl(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",b);const x=new MutationObserver(m);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",b),x.disconnect()}}},[n,l,f.paused]),C.useEffect(()=>{if(l){ZN.add(f);const p=document.activeElement;if(!l.contains(p)){const m=new CustomEvent(Iv,XN);l.addEventListener(Iv,A),l.dispatchEvent(m),m.defaultPrevented||(mR(bR(WT(l)),{select:!0}),document.activeElement===p&&sl(l))}return()=>{l.removeEventListener(Iv,A),setTimeout(()=>{const m=new CustomEvent(Uv,XN);l.addEventListener(Uv,u),l.dispatchEvent(m),m.defaultPrevented||sl(p??document.body,{select:!0}),l.removeEventListener(Uv,u),ZN.remove(f)},0)}}},[l,A,u,f]);const g=C.useCallback(p=>{if(!r&&!n||f.paused)return;const b=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,m=document.activeElement;if(b&&m){const x=p.currentTarget,[y,w]=pR(x);y&&w?!p.shiftKey&&m===w?(p.preventDefault(),r&&sl(y,{select:!0})):p.shiftKey&&m===y&&(p.preventDefault(),r&&sl(w,{select:!0})):m===x&&p.preventDefault()}},[r,n,f.paused]);return s.jsx(Or.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});X1.displayName=hR;function mR(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(sl(n,{select:t}),document.activeElement!==r)return}function pR(e){const t=WT(e),r=JN(t,e),n=JN(t.reverse(),e);return[r,n]}function WT(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function JN(e,t){for(const r of e)if(!gR(r,{upTo:t}))return r}function gR(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xR(e){return e instanceof HTMLInputElement&&"select"in e}function sl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&xR(e)&&t&&e.select()}}var ZN=vR();function vR(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=eC(e,t),e.unshift(t)},remove(t){var r;e=eC(e,t),(r=e[0])==null||r.resume()}}}function eC(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function bR(e){return e.filter(t=>t.tagName!=="A")}var hs=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},yR=K1[" useId ".trim().toString()]||(()=>{}),wR=0;function zA(e){const[t,r]=C.useState(yR());return hs(()=>{r(n=>n??String(wR++))},[e]),e||(t?`radix-${t}`:"")}const jR=["top","right","bottom","left"],Cl=Math.min,Ys=Math.max,Zp=Math.round,wm=Math.floor,Ei=e=>({x:e,y:e}),NR={left:"right",right:"left",bottom:"top",top:"bottom"},CR={start:"end",end:"start"};function wy(e,t,r){return Ys(e,Cl(t,r))}function Bo(e,t){return typeof e=="function"?e(t):e}function So(e){return e.split("-")[0]}function Iu(e){return e.split("-")[1]}function J1(e){return e==="x"?"y":"x"}function Z1(e){return e==="y"?"height":"width"}const BR=new Set(["top","bottom"]);function Ni(e){return BR.has(So(e))?"y":"x"}function e2(e){return J1(Ni(e))}function SR(e,t,r){r===void 0&&(r=!1);const n=Iu(e),a=e2(e),i=Z1(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=eg(o)),[o,eg(o)]}function ER(e){const t=eg(e);return[jy(e),t,jy(t)]}function jy(e){return e.replace(/start|end/g,t=>CR[t])}const tC=["left","right"],rC=["right","left"],FR=["top","bottom"],TR=["bottom","top"];function PR(e,t,r){switch(e){case"top":case"bottom":return r?t?rC:tC:t?tC:rC;case"left":case"right":return t?FR:TR;default:return[]}}function kR(e,t,r,n){const a=Iu(e);let i=PR(So(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(jy)))),i}function eg(e){return e.replace(/left|right|bottom|top/g,t=>NR[t])}function OR(e){return{top:0,right:0,bottom:0,left:0,...e}}function YT(e){return typeof e!="number"?OR(e):{top:e,right:e,bottom:e,left:e}}function tg(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function nC(e,t,r){let{reference:n,floating:a}=e;const i=Ni(t),o=e2(t),l=Z1(o),c=So(t),A=i==="y",u=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let f;switch(c){case"top":f={x:u,y:n.y-a.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-a.width,y:d};break;default:f={x:n.x,y:n.y}}switch(Iu(t)){case"start":f[o]-=h*(r&&A?-1:1);break;case"end":f[o]+=h*(r&&A?-1:1);break}return f}const IR=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let A=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:d}=nC(A,n,c),h=n,f={},g=0;for(let p=0;p<l.length;p++){const{name:b,fn:m}=l[p],{x,y,data:w,reset:N}=await m({x:u,y:d,initialPlacement:n,placement:h,strategy:a,middlewareData:f,rects:A,platform:o,elements:{reference:e,floating:t}});u=x??u,d=y??d,f={...f,[b]:{...f[b],...w}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(A=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:d}=nC(A,h,c)),p=-1)}return{x:u,y:d,placement:h,strategy:a,middlewareData:f}};async function Ef(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:A="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Bo(t,e),g=YT(f),b=l[h?d==="floating"?"reference":"floating":d],m=tg(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:A,rootBoundary:u,strategy:c})),x=d==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},N=tg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:y,strategy:c}):x);return{top:(m.top-N.top+g.top)/w.y,bottom:(N.bottom-m.bottom+g.bottom)/w.y,left:(m.left-N.left+g.left)/w.x,right:(N.right-m.right+g.right)/w.x}}const UR=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:A,padding:u=0}=Bo(e,t)||{};if(A==null)return{};const d=YT(u),h={x:r,y:n},f=e2(a),g=Z1(f),p=await o.getDimensions(A),b=f==="y",m=b?"top":"left",x=b?"bottom":"right",y=b?"clientHeight":"clientWidth",w=i.reference[g]+i.reference[f]-h[f]-i.floating[g],N=h[f]-i.reference[f],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(A));let F=B?B[y]:0;(!F||!await(o.isElement==null?void 0:o.isElement(B)))&&(F=l.floating[y]||i.floating[g]);const E=w/2-N/2,P=F/2-p[g]/2-1,Q=Cl(d[m],P),U=Cl(d[x],P),T=Q,k=F-p[g]-U,I=F/2-p[g]/2+E,M=wy(T,I,k),L=!c.arrow&&Iu(a)!=null&&I!==M&&i.reference[g]/2-(I<T?Q:U)-p[g]/2<0,K=L?I<T?I-T:I-k:0;return{[f]:h[f]+K,data:{[f]:M,centerOffset:I-M-K,...L&&{alignmentOffset:K}},reset:L}}}),_R=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:A}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...b}=Bo(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const m=So(a),x=Ni(l),y=So(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(A.floating)),N=h||(y||!p?[eg(l)]:ER(l)),B=g!=="none";!h&&B&&N.push(...kR(l,p,g,w));const F=[l,...N],E=await Ef(t,b),P=[];let Q=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&P.push(E[m]),d){const I=SR(a,o,w);P.push(E[I[0]],E[I[1]])}if(Q=[...Q,{placement:a,overflows:P}],!P.every(I=>I<=0)){var U,T;const I=(((U=i.flip)==null?void 0:U.index)||0)+1,M=F[I];if(M&&(!(d==="alignment"?x!==Ni(M):!1)||Q.every(R=>Ni(R.placement)===x?R.overflows[0]>0:!0)))return{data:{index:I,overflows:Q},reset:{placement:M}};let L=(T=Q.filter(K=>K.overflows[0]<=0).sort((K,R)=>K.overflows[1]-R.overflows[1])[0])==null?void 0:T.placement;if(!L)switch(f){case"bestFit":{var k;const K=(k=Q.filter(R=>{if(B){const $=Ni(R.placement);return $===x||$==="y"}return!0}).map(R=>[R.placement,R.overflows.filter($=>$>0).reduce(($,q)=>$+q,0)]).sort((R,$)=>R[1]-$[1])[0])==null?void 0:k[0];K&&(L=K);break}case"initialPlacement":L=l;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function sC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function aC(e){return jR.some(t=>e[t]>=0)}const DR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Bo(e,t);switch(n){case"referenceHidden":{const i=await Ef(t,{...a,elementContext:"reference"}),o=sC(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:aC(o)}}}case"escaped":{const i=await Ef(t,{...a,altBoundary:!0}),o=sC(i,r.floating);return{data:{escapedOffsets:o,escaped:aC(o)}}}default:return{}}}}},XT=new Set(["left","top"]);async function LR(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=So(r),l=Iu(r),c=Ni(r)==="y",A=XT.has(o)?-1:1,u=i&&c?-1:1,d=Bo(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof g=="number"&&(f=l==="end"?g*-1:g),c?{x:f*u,y:h*A}:{x:h*A,y:f*u}}const QR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await LR(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},RR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:m,y:x}=b;return{x:m,y:x}}},...c}=Bo(e,t),A={x:r,y:n},u=await Ef(t,c),d=Ni(So(a)),h=J1(d);let f=A[h],g=A[d];if(i){const b=h==="y"?"top":"left",m=h==="y"?"bottom":"right",x=f+u[b],y=f-u[m];f=wy(x,f,y)}if(o){const b=d==="y"?"top":"left",m=d==="y"?"bottom":"right",x=g+u[b],y=g-u[m];g=wy(x,g,y)}const p=l.fn({...t,[h]:f,[d]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[d]:o}}}}}},MR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:A=!0}=Bo(e,t),u={x:r,y:n},d=Ni(a),h=J1(d);let f=u[h],g=u[d];const p=Bo(l,t),b=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const y=h==="y"?"height":"width",w=i.reference[h]-i.floating[y]+b.mainAxis,N=i.reference[h]+i.reference[y]-b.mainAxis;f<w?f=w:f>N&&(f=N)}if(A){var m,x;const y=h==="y"?"width":"height",w=XT.has(So(a)),N=i.reference[d]-i.floating[y]+(w&&((m=o.offset)==null?void 0:m[d])||0)+(w?0:b.crossAxis),B=i.reference[d]+i.reference[y]+(w?0:((x=o.offset)==null?void 0:x[d])||0)-(w?b.crossAxis:0);g<N?g=N:g>B&&(g=B)}return{[h]:f,[d]:g}}}},$R=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...A}=Bo(e,t),u=await Ef(t,A),d=So(a),h=Iu(a),f=Ni(a)==="y",{width:g,height:p}=i.floating;let b,m;d==="top"||d==="bottom"?(b=d,m=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(m=d,b=h==="end"?"top":"bottom");const x=p-u.top-u.bottom,y=g-u.left-u.right,w=Cl(p-u[b],x),N=Cl(g-u[m],y),B=!t.middlewareData.shift;let F=w,E=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(F=x),B&&!h){const Q=Ys(u.left,0),U=Ys(u.right,0),T=Ys(u.top,0),k=Ys(u.bottom,0);f?E=g-2*(Q!==0||U!==0?Q+U:Ys(u.left,u.right)):F=p-2*(T!==0||k!==0?T+k:Ys(u.top,u.bottom))}await c({...t,availableWidth:E,availableHeight:F});const P=await o.getDimensions(l.floating);return g!==P.width||p!==P.height?{reset:{rects:!0}}:{}}}};function Ox(){return typeof window<"u"}function Uu(e){return JT(e)?(e.nodeName||"").toLowerCase():"#document"}function ra(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ui(e){var t;return(t=(JT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JT(e){return Ox()?e instanceof Node||e instanceof ra(e).Node:!1}function ei(e){return Ox()?e instanceof Element||e instanceof ra(e).Element:!1}function ki(e){return Ox()?e instanceof HTMLElement||e instanceof ra(e).HTMLElement:!1}function iC(e){return!Ox()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ra(e).ShadowRoot}const HR=new Set(["inline","contents"]);function vh(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ti(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!HR.has(a)}const KR=new Set(["table","td","th"]);function VR(e){return KR.has(Uu(e))}const zR=[":popover-open",":modal"];function Ix(e){return zR.some(t=>{try{return e.matches(t)}catch{return!1}})}const GR=["transform","translate","scale","rotate","perspective"],qR=["transform","translate","scale","rotate","perspective","filter"],WR=["paint","layout","strict","content"];function t2(e){const t=r2(),r=ei(e)?ti(e):e;return GR.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||qR.some(n=>(r.willChange||"").includes(n))||WR.some(n=>(r.contain||"").includes(n))}function YR(e){let t=Bl(e);for(;ki(t)&&!su(t);){if(t2(t))return t;if(Ix(t))return null;t=Bl(t)}return null}function r2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XR=new Set(["html","body","#document"]);function su(e){return XR.has(Uu(e))}function ti(e){return ra(e).getComputedStyle(e)}function Ux(e){return ei(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bl(e){if(Uu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||iC(e)&&e.host||Ui(e);return iC(t)?t.host:t}function ZT(e){const t=Bl(e);return su(t)?e.ownerDocument?e.ownerDocument.body:e.body:ki(t)&&vh(t)?t:ZT(t)}function Ff(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=ZT(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=ra(a);if(i){const l=Ny(o);return t.concat(o,o.visualViewport||[],vh(a)?a:[],l&&r?Ff(l):[])}return t.concat(a,Ff(a,[],r))}function Ny(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function eP(e){const t=ti(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ki(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Zp(r)!==i||Zp(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function n2(e){return ei(e)?e:e.contextElement}function GA(e){const t=n2(e);if(!ki(t))return Ei(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=eP(t);let o=(i?Zp(r.width):r.width)/n,l=(i?Zp(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const JR=Ei(0);function tP(e){const t=ra(e);return!r2()||!t.visualViewport?JR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ZR(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ra(e)?!1:t}function kc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=n2(e);let o=Ei(1);t&&(n?ei(n)&&(o=GA(n)):o=GA(e));const l=ZR(i,r,n)?tP(i):Ei(0);let c=(a.left+l.x)/o.x,A=(a.top+l.y)/o.y,u=a.width/o.x,d=a.height/o.y;if(i){const h=ra(i),f=n&&ei(n)?ra(n):n;let g=h,p=Ny(g);for(;p&&n&&f!==g;){const b=GA(p),m=p.getBoundingClientRect(),x=ti(p),y=m.left+(p.clientLeft+parseFloat(x.paddingLeft))*b.x,w=m.top+(p.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,A*=b.y,u*=b.x,d*=b.y,c+=y,A+=w,g=ra(p),p=Ny(g)}}return tg({width:u,height:d,x:c,y:A})}function _x(e,t){const r=Ux(e).scrollLeft;return t?t.left+r:kc(Ui(e)).left+r}function rP(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-_x(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function eM(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Ui(n),l=t?Ix(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},A=Ei(1);const u=Ei(0),d=ki(n);if((d||!d&&!i)&&((Uu(n)!=="body"||vh(o))&&(c=Ux(n)),ki(n))){const f=kc(n);A=GA(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const h=o&&!d&&!i?rP(o,c):Ei(0);return{width:r.width*A.x,height:r.height*A.y,x:r.x*A.x-c.scrollLeft*A.x+u.x+h.x,y:r.y*A.y-c.scrollTop*A.y+u.y+h.y}}function tM(e){return Array.from(e.getClientRects())}function rM(e){const t=Ui(e),r=Ux(e),n=e.ownerDocument.body,a=Ys(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Ys(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+_x(e);const l=-r.scrollTop;return ti(n).direction==="rtl"&&(o+=Ys(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const oC=25;function nM(e,t){const r=ra(e),n=Ui(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=r2();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const A=_x(n);if(A<=0){const u=n.ownerDocument,d=u.body,h=getComputedStyle(d),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-d.clientWidth-f);g<=oC&&(i-=g)}else A<=oC&&(i+=A);return{width:i,height:o,x:l,y:c}}const sM=new Set(["absolute","fixed"]);function aM(e,t){const r=kc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=ki(e)?GA(e):Ei(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,A=n*i.y;return{width:o,height:l,x:c,y:A}}function lC(e,t,r){let n;if(t==="viewport")n=nM(e,r);else if(t==="document")n=rM(Ui(e));else if(ei(t))n=aM(t,r);else{const a=tP(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return tg(n)}function nP(e,t){const r=Bl(e);return r===t||!ei(r)||su(r)?!1:ti(r).position==="fixed"||nP(r,t)}function iM(e,t){const r=t.get(e);if(r)return r;let n=Ff(e,[],!1).filter(l=>ei(l)&&Uu(l)!=="body"),a=null;const i=ti(e).position==="fixed";let o=i?Bl(e):e;for(;ei(o)&&!su(o);){const l=ti(o),c=t2(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&sM.has(a.position)||vh(o)&&!c&&nP(e,o))?n=n.filter(u=>u!==o):a=l,o=Bl(o)}return t.set(e,n),n}function oM(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Ix(t)?[]:iM(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((A,u)=>{const d=lC(t,u,a);return A.top=Ys(d.top,A.top),A.right=Cl(d.right,A.right),A.bottom=Cl(d.bottom,A.bottom),A.left=Ys(d.left,A.left),A},lC(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function lM(e){const{width:t,height:r}=eP(e);return{width:t,height:r}}function cM(e,t,r){const n=ki(t),a=Ui(t),i=r==="fixed",o=kc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ei(0);function A(){c.x=_x(a)}if(n||!n&&!i)if((Uu(t)!=="body"||vh(a))&&(l=Ux(t)),n){const f=kc(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else a&&A();i&&!n&&a&&A();const u=a&&!n&&!i?rP(a,l):Ei(0),d=o.left+l.scrollLeft-c.x-u.x,h=o.top+l.scrollTop-c.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function _v(e){return ti(e).position==="static"}function cC(e,t){if(!ki(e)||ti(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ui(e)===r&&(r=r.ownerDocument.body),r}function sP(e,t){const r=ra(e);if(Ix(e))return r;if(!ki(e)){let a=Bl(e);for(;a&&!su(a);){if(ei(a)&&!_v(a))return a;a=Bl(a)}return r}let n=cC(e,t);for(;n&&VR(n)&&_v(n);)n=cC(n,t);return n&&su(n)&&_v(n)&&!t2(n)?r:n||YR(e)||r}const AM=async function(e){const t=this.getOffsetParent||sP,r=this.getDimensions,n=await r(e.floating);return{reference:cM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function uM(e){return ti(e).direction==="rtl"}const dM={convertOffsetParentRelativeRectToViewportRelativeRect:eM,getDocumentElement:Ui,getClippingRect:oM,getOffsetParent:sP,getElementRects:AM,getClientRects:tM,getDimensions:lM,getScale:GA,isElement:ei,isRTL:uM};function aP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function fM(e,t){let r=null,n;const a=Ui(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const A=e.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=A;if(l||t(),!h||!f)return;const g=wm(d),p=wm(a.clientWidth-(u+h)),b=wm(a.clientHeight-(d+f)),m=wm(u),y={rootMargin:-g+"px "+-p+"px "+-b+"px "+-m+"px",threshold:Ys(0,Cl(1,c))||1};let w=!0;function N(B){const F=B[0].intersectionRatio;if(F!==c){if(!w)return o();F?o(!1,F):n=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!aP(A,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(N,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,y)}r.observe(e)}return o(!0),i}function hM(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,A=n2(e),u=a||i?[...A?Ff(A):[],...Ff(t)]:[];u.forEach(m=>{a&&m.addEventListener("scroll",r,{passive:!0}),i&&m.addEventListener("resize",r)});const d=A&&l?fM(A,r):null;let h=-1,f=null;o&&(f=new ResizeObserver(m=>{let[x]=m;x&&x.target===A&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=f)==null||y.observe(t)})),r()}),A&&!c&&f.observe(A),f.observe(t));let g,p=c?kc(e):null;c&&b();function b(){const m=kc(e);p&&!aP(p,m)&&r(),p=m,g=requestAnimationFrame(b)}return r(),()=>{var m;u.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),d==null||d(),(m=f)==null||m.disconnect(),f=null,c&&cancelAnimationFrame(g)}}const mM=QR,pM=RR,gM=_R,xM=$R,vM=DR,AC=UR,bM=MR,yM=(e,t,r)=>{const n=new Map,a={platform:dM,...r},i={...a.platform,_c:n};return IR(e,t,{...a,platform:i})};var wM=typeof document<"u",jM=function(){},Ep=wM?C.useLayoutEffect:jM;function rg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!rg(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!rg(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function iP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function uC(e,t){const r=iP(e);return Math.round(t*r)/r}function Dv(e){const t=C.useRef(e);return Ep(()=>{t.current=e}),t}function NM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:A}=e,[u,d]=C.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=C.useState(n);rg(h,n)||f(n);const[g,p]=C.useState(null),[b,m]=C.useState(null),x=C.useCallback(R=>{R!==B.current&&(B.current=R,p(R))},[]),y=C.useCallback(R=>{R!==F.current&&(F.current=R,m(R))},[]),w=i||g,N=o||b,B=C.useRef(null),F=C.useRef(null),E=C.useRef(u),P=c!=null,Q=Dv(c),U=Dv(a),T=Dv(A),k=C.useCallback(()=>{if(!B.current||!F.current)return;const R={placement:t,strategy:r,middleware:h};U.current&&(R.platform=U.current),yM(B.current,F.current,R).then($=>{const q={...$,isPositioned:T.current!==!1};I.current&&!rg(E.current,q)&&(E.current=q,ph.flushSync(()=>{d(q)}))})},[h,t,r,U,T]);Ep(()=>{A===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(R=>({...R,isPositioned:!1})))},[A]);const I=C.useRef(!1);Ep(()=>(I.current=!0,()=>{I.current=!1}),[]),Ep(()=>{if(w&&(B.current=w),N&&(F.current=N),w&&N){if(Q.current)return Q.current(w,N,k);k()}},[w,N,k,Q,P]);const M=C.useMemo(()=>({reference:B,floating:F,setReference:x,setFloating:y}),[x,y]),L=C.useMemo(()=>({reference:w,floating:N}),[w,N]),K=C.useMemo(()=>{const R={position:r,left:0,top:0};if(!L.floating)return R;const $=uC(L.floating,u.x),q=uC(L.floating,u.y);return l?{...R,transform:"translate("+$+"px, "+q+"px)",...iP(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:q}},[r,l,L.floating,u.x,u.y]);return C.useMemo(()=>({...u,update:k,refs:M,elements:L,floatingStyles:K}),[u,k,M,L,K])}const CM=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?AC({element:n.current,padding:a}).fn(r):{}:n?AC({element:n,padding:a}).fn(r):{}}}},BM=(e,t)=>({...mM(e),options:[e,t]}),SM=(e,t)=>({...pM(e),options:[e,t]}),EM=(e,t)=>({...bM(e),options:[e,t]}),FM=(e,t)=>({...gM(e),options:[e,t]}),TM=(e,t)=>({...xM(e),options:[e,t]}),PM=(e,t)=>({...vM(e),options:[e,t]}),kM=(e,t)=>({...CM(e),options:[e,t]});var OM="Arrow",oP=C.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Or.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});oP.displayName=OM;var IM=oP;function UM(e){const[t,r]=C.useState(void 0);return hs(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,A=Array.isArray(c)?c[0]:c;o=A.inlineSize,l=A.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var s2="Popper",[lP,cP]=kx(s2),[_M,AP]=lP(s2),uP=e=>{const{__scopePopper:t,children:r}=e,[n,a]=C.useState(null);return s.jsx(_M,{scope:t,anchor:n,onAnchorChange:a,children:r})};uP.displayName=s2;var dP="PopperAnchor",fP=C.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=AP(dP,r),o=C.useRef(null),l=dn(t,o),c=C.useRef(null);return C.useEffect(()=>{const A=c.current;c.current=(n==null?void 0:n.current)||o.current,A!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(Or.div,{...a,ref:l})});fP.displayName=dP;var a2="PopperContent",[DM,LM]=lP(a2),hP=C.forwardRef((e,t)=>{var ae,de,X,te,ue,se;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:A=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:g,...p}=e,b=AP(a2,r),[m,x]=C.useState(null),y=dn(t,we=>x(we)),[w,N]=C.useState(null),B=UM(w),F=(B==null?void 0:B.width)??0,E=(B==null?void 0:B.height)??0,P=n+(i!=="center"?"-"+i:""),Q=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},U=Array.isArray(A)?A:[A],T=U.length>0,k={padding:Q,boundary:U.filter(RM),altBoundary:T},{refs:I,floatingStyles:M,placement:L,isPositioned:K,middlewareData:R}=NM({strategy:"fixed",placement:P,whileElementsMounted:(...we)=>hM(...we,{animationFrame:f==="always"}),elements:{reference:b.anchor},middleware:[BM({mainAxis:a+E,alignmentAxis:o}),c&&SM({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?EM():void 0,...k}),c&&FM({...k}),TM({...k,apply:({elements:we,rects:Ce,availableWidth:J,availableHeight:_e})=>{const{width:Ge,height:We}=Ce.reference,ke=we.floating.style;ke.setProperty("--radix-popper-available-width",`${J}px`),ke.setProperty("--radix-popper-available-height",`${_e}px`),ke.setProperty("--radix-popper-anchor-width",`${Ge}px`),ke.setProperty("--radix-popper-anchor-height",`${We}px`)}}),w&&kM({element:w,padding:l}),MM({arrowWidth:F,arrowHeight:E}),h&&PM({strategy:"referenceHidden",...k})]}),[$,q]=gP(L),Z=Pc(g);hs(()=>{K&&(Z==null||Z())},[K,Z]);const D=(ae=R.arrow)==null?void 0:ae.x,H=(de=R.arrow)==null?void 0:de.y,V=((X=R.arrow)==null?void 0:X.centerOffset)!==0,[re,Ae]=C.useState();return hs(()=>{m&&Ae(window.getComputedStyle(m).zIndex)},[m]),s.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:K?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[(te=R.transformOrigin)==null?void 0:te.x,(ue=R.transformOrigin)==null?void 0:ue.y].join(" "),...((se=R.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(DM,{scope:r,placedSide:$,onArrowChange:N,arrowX:D,arrowY:H,shouldHideArrow:V,children:s.jsx(Or.div,{"data-side":$,"data-align":q,...p,ref:y,style:{...p.style,animation:K?void 0:"none"}})})})});hP.displayName=a2;var mP="PopperArrow",QM={top:"bottom",right:"left",bottom:"top",left:"right"},pP=C.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=LM(mP,n),o=QM[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(IM,{...a,ref:r,style:{...a.style,display:"block"}})})});pP.displayName=mP;function RM(e){return e!==null}var MM=e=>({name:"transformOrigin",options:e,fn(t){var b,m,x;const{placement:r,rects:n,middlewareData:a}=t,o=((b=a.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[A,u]=gP(r),d={start:"0%",center:"50%",end:"100%"}[u],h=(((m=a.arrow)==null?void 0:m.x)??0)+l/2,f=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let g="",p="";return A==="bottom"?(g=o?d:`${h}px`,p=`${-c}px`):A==="top"?(g=o?d:`${h}px`,p=`${n.floating.height+c}px`):A==="right"?(g=`${-c}px`,p=o?d:`${f}px`):A==="left"&&(g=`${n.floating.width+c}px`,p=o?d:`${f}px`),{data:{x:g,y:p}}}});function gP(e){const[t,r="center"]=e.split("-");return[t,r]}var $M=uP,HM=fP,KM=hP,VM=pP,zM="Portal",i2=C.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=C.useState(!1);hs(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?cD.createPortal(s.jsx(Or.div,{...n,ref:t}),o):null});i2.displayName=zM;function GM(e){const t=qM(e),r=C.forwardRef((n,a)=>{const{children:i,...o}=n,l=C.Children.toArray(i),c=l.find(YM);if(c){const A=c.props.children,u=l.map(d=>d===c?C.Children.count(A)>1?C.Children.only(null):C.isValidElement(A)?A.props.children:null:d);return s.jsx(t,{...o,ref:a,children:C.isValidElement(A)?C.cloneElement(A,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function qM(e){const t=C.forwardRef((r,n)=>{const{children:a,...i}=r;if(C.isValidElement(a)){const o=JM(a),l=XM(i,a.props);return a.type!==C.Fragment&&(l.ref=n?Pu(n,o):o),C.cloneElement(a,l)}return C.Children.count(a)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WM=Symbol("radix.slottable");function YM(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WM}function XM(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function JM(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ZM=K1[" useInsertionEffect ".trim().toString()]||hs;function Cy({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=e8({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=C.useRef(e!==void 0);C.useEffect(()=>{const d=u.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const A=C.useCallback(u=>{var d;if(l){const h=t8(u)?u(e):u;h!==e&&((d=o.current)==null||d.call(o,h))}else i(u)},[l,e,i,o]);return[c,A]}function e8({defaultProp:e,onChange:t}){const[r,n]=C.useState(e),a=C.useRef(r),i=C.useRef(t);return ZM(()=>{i.current=t},[t]),C.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function t8(e){return typeof e=="function"}function r8(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var xP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),n8="VisuallyHidden",s8=C.forwardRef((e,t)=>s.jsx(Or.span,{...e,ref:t,style:{...xP,...e.style}}));s8.displayName=n8;var a8=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},mA=new WeakMap,jm=new WeakMap,Nm={},Lv=0,vP=function(e){return e&&(e.host||vP(e.parentNode))},i8=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=vP(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},o8=function(e,t,r,n){var a=i8(t,Array.isArray(e)?e:[e]);Nm[r]||(Nm[r]=new WeakMap);var i=Nm[r],o=[],l=new Set,c=new Set(a),A=function(d){!d||l.has(d)||(l.add(d),A(d.parentNode))};a.forEach(A);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))u(h);else try{var f=h.getAttribute(n),g=f!==null&&f!=="false",p=(mA.get(h)||0)+1,b=(i.get(h)||0)+1;mA.set(h,p),i.set(h,b),o.push(h),p===1&&g&&jm.set(h,!0),b===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(m){console.error("aria-hidden: cannot operate on ",h,m)}})};return u(t),l.clear(),Lv++,function(){o.forEach(function(d){var h=mA.get(d)-1,f=i.get(d)-1;mA.set(d,h),i.set(d,f),h||(jm.has(d)||d.removeAttribute(n),jm.delete(d)),f||d.removeAttribute(r)}),Lv--,Lv||(mA=new WeakMap,mA=new WeakMap,jm=new WeakMap,Nm={})}},bP=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=a8(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),o8(n,a,r,"aria-hidden")):function(){return null}},Fp="right-scroll-bar-position",Tp="width-before-scroll-bar",l8="with-scroll-bars-hidden",c8="--removed-body-scroll-bar-size";function Qv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function A8(e,t){var r=C.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var u8=typeof window<"u"?C.useLayoutEffect:C.useEffect,dC=new WeakMap;function d8(e,t){var r=A8(null,function(n){return e.forEach(function(a){return Qv(a,n)})});return u8(function(){var n=dC.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Qv(l,null)}),i.forEach(function(l){a.has(l)||Qv(l,o)})}dC.set(r,e)},[e]),r}function f8(e){return e}function h8(e,t){t===void 0&&(t=f8);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},A=function(){return Promise.resolve().then(c)};A(),r={push:function(u){o.push(u),A()},filter:function(u){return o=o.filter(u),r}}}};return a}function m8(e){e===void 0&&(e={});var t=h8(null);return t.options=cl({async:!0,ssr:!1},e),t}var yP=function(e){var t=e.sideCar,r=cT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,cl({},r))};yP.isSideCarExport=!0;function p8(e,t){return e.useMedium(t),yP}var wP=m8(),Rv=function(){},Dx=C.forwardRef(function(e,t){var r=C.useRef(null),n=C.useState({onScrollCapture:Rv,onWheelCapture:Rv,onTouchMoveCapture:Rv}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,A=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,f=e.noRelative,g=e.noIsolation,p=e.inert,b=e.allowPinchZoom,m=e.as,x=m===void 0?"div":m,y=e.gapMode,w=cT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,B=d8([r,t]),F=cl(cl({},w),a);return C.createElement(C.Fragment,null,u&&C.createElement(N,{sideCar:wP,removeScrollBar:A,shards:d,noRelative:f,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:y}),o?C.cloneElement(C.Children.only(l),cl(cl({},F),{ref:B})):C.createElement(x,cl({},F,{className:c,ref:B}),l))});Dx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dx.classNames={fullWidth:Tp,zeroRight:Fp};var g8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function x8(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=g8();return t&&e.setAttribute("nonce",t),e}function v8(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function b8(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var y8=function(){var e=0,t=null;return{add:function(r){e==0&&(t=x8())&&(v8(t,r),b8(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},w8=function(){var e=y8();return function(t,r){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},jP=function(){var e=w8(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},j8={left:0,top:0,right:0,gap:0},Mv=function(e){return parseInt(e||"",10)||0},N8=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Mv(r),Mv(n),Mv(a)]},C8=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return j8;var t=N8(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},B8=jP(),qA="data-scroll-locked",S8=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(l8,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(qA,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fp,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Tp,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Fp," .").concat(Fp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Tp," .").concat(Tp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(qA,`] {
    `).concat(c8,": ").concat(l,`px;
  }
`)},fC=function(){var e=parseInt(document.body.getAttribute(qA)||"0",10);return isFinite(e)?e:0},E8=function(){C.useEffect(function(){return document.body.setAttribute(qA,(fC()+1).toString()),function(){var e=fC()-1;e<=0?document.body.removeAttribute(qA):document.body.setAttribute(qA,e.toString())}},[])},F8=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;E8();var i=C.useMemo(function(){return C8(a)},[a]);return C.createElement(B8,{styles:S8(i,!t,a,r?"":"!important")})},By=!1;if(typeof window<"u")try{var Cm=Object.defineProperty({},"passive",{get:function(){return By=!0,!0}});window.addEventListener("test",Cm,Cm),window.removeEventListener("test",Cm,Cm)}catch{By=!1}var pA=By?{passive:!1}:!1,T8=function(e){return e.tagName==="TEXTAREA"},NP=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!T8(e)&&r[t]==="visible")},P8=function(e){return NP(e,"overflowY")},k8=function(e){return NP(e,"overflowX")},hC=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=CP(e,n);if(a){var i=BP(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},O8=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},I8=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},CP=function(e,t){return e==="v"?P8(t):k8(t)},BP=function(e,t){return e==="v"?O8(t):I8(t)},U8=function(e,t){return e==="h"&&t==="rtl"?-1:1},_8=function(e,t,r,n,a){var i=U8(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),A=!1,u=o>0,d=0,h=0;do{if(!l)break;var f=BP(e,l),g=f[0],p=f[1],b=f[2],m=p-b-i*g;(g||m)&&CP(e,l)&&(d+=m,h+=g);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(d)<1||!u&&Math.abs(h)<1)&&(A=!0),A},Bm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mC=function(e){return[e.deltaX,e.deltaY]},pC=function(e){return e&&"current"in e?e.current:e},D8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},L8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Q8=0,gA=[];function R8(e){var t=C.useRef([]),r=C.useRef([0,0]),n=C.useRef(),a=C.useState(Q8++)[0],i=C.useState(jP)[0],o=C.useRef(e);C.useEffect(function(){o.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=fD([e.lockRef.current],(e.shards||[]).map(pC),!0).filter(Boolean);return p.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=C.useCallback(function(p,b){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var m=Bm(p),x=r.current,y="deltaX"in p?p.deltaX:x[0]-m[0],w="deltaY"in p?p.deltaY:x[1]-m[1],N,B=p.target,F=Math.abs(y)>Math.abs(w)?"h":"v";if("touches"in p&&F==="h"&&B.type==="range")return!1;var E=window.getSelection(),P=E&&E.anchorNode,Q=P?P===B||P.contains(B):!1;if(Q)return!1;var U=hC(F,B);if(!U)return!0;if(U?N=F:(N=F==="v"?"h":"v",U=hC(F,B)),!U)return!1;if(!n.current&&"changedTouches"in p&&(y||w)&&(n.current=N),!N)return!0;var T=n.current||N;return _8(T,b,p,T==="h"?y:w)},[]),c=C.useCallback(function(p){var b=p;if(!(!gA.length||gA[gA.length-1]!==i)){var m="deltaY"in b?mC(b):Bm(b),x=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&D8(N.delta,m)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var y=(o.current.shards||[]).map(pC).filter(Boolean).filter(function(N){return N.contains(b.target)}),w=y.length>0?l(b,y[0]):!o.current.noIsolation;w&&b.cancelable&&b.preventDefault()}}},[]),A=C.useCallback(function(p,b,m,x){var y={name:p,delta:b,target:m,should:x,shadowParent:M8(m)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(w){return w!==y})},1)},[]),u=C.useCallback(function(p){r.current=Bm(p),n.current=void 0},[]),d=C.useCallback(function(p){A(p.type,mC(p),p.target,l(p,e.lockRef.current))},[]),h=C.useCallback(function(p){A(p.type,Bm(p),p.target,l(p,e.lockRef.current))},[]);C.useEffect(function(){return gA.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,pA),document.addEventListener("touchmove",c,pA),document.addEventListener("touchstart",u,pA),function(){gA=gA.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,pA),document.removeEventListener("touchmove",c,pA),document.removeEventListener("touchstart",u,pA)}},[]);var f=e.removeScrollBar,g=e.inert;return C.createElement(C.Fragment,null,g?C.createElement(i,{styles:L8(a)}):null,f?C.createElement(F8,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function M8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $8=p8(wP,R8);var o2=C.forwardRef(function(e,t){return C.createElement(Dx,cl({},e,{ref:t,sideCar:$8}))});o2.classNames=Dx.classNames;var H8=[" ","Enter","ArrowUp","ArrowDown"],K8=[" ","Enter"],Oc="Select",[Lx,Qx,V8]=WQ(Oc),[_u]=kx(Oc,[V8,cP]),Rx=cP(),[z8,Fl]=_u(Oc),[G8,q8]=_u(Oc),SP=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:A,name:u,autoComplete:d,disabled:h,required:f,form:g}=e,p=Rx(t),[b,m]=C.useState(null),[x,y]=C.useState(null),[w,N]=C.useState(!1),B=XQ(A),[F,E]=Cy({prop:n,defaultProp:a??!1,onChange:i,caller:Oc}),[P,Q]=Cy({prop:o,defaultProp:l,onChange:c,caller:Oc}),U=C.useRef(null),T=b?g||!!b.closest("form"):!0,[k,I]=C.useState(new Set),M=Array.from(k).map(L=>L.props.value).join(";");return s.jsx($M,{...p,children:s.jsxs(z8,{required:f,scope:t,trigger:b,onTriggerChange:m,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:zA(),value:P,onValueChange:Q,open:F,onOpenChange:E,dir:B,triggerPointerDownPosRef:U,disabled:h,children:[s.jsx(Lx.Provider,{scope:t,children:s.jsx(G8,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(L=>{I(K=>new Set(K).add(L))},[]),onNativeOptionRemove:C.useCallback(L=>{I(K=>{const R=new Set(K);return R.delete(L),R})},[]),children:r})}),T?s.jsxs(WP,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:d,value:P,onChange:L=>Q(L.target.value),disabled:h,form:g,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(k)]},M):null]})})};SP.displayName=Oc;var EP="SelectTrigger",FP=C.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Rx(r),o=Fl(EP,r),l=o.disabled||n,c=dn(t,o.onTriggerChange),A=Qx(r),u=C.useRef("touch"),[d,h,f]=XP(p=>{const b=A().filter(y=>!y.disabled),m=b.find(y=>y.value===o.value),x=JP(b,p,m);x!==void 0&&o.onValueChange(x.value)}),g=p=>{l||(o.onOpenChange(!0),f()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(HM,{asChild:!0,...i,children:s.jsx(Or.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":YP(o.value)?"":void 0,...a,ref:c,onClick:Lr(a.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&g(p)}),onPointerDown:Lr(a.onPointerDown,p=>{u.current=p.pointerType;const b=p.target;b.hasPointerCapture(p.pointerId)&&b.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Lr(a.onKeyDown,p=>{const b=d.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(b&&p.key===" ")&&H8.includes(p.key)&&(g(),p.preventDefault())})})})});FP.displayName=EP;var TP="SelectValue",PP=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Fl(TP,r),{onValueNodeHasChildrenChange:A}=c,u=i!==void 0,d=dn(t,c.onValueNodeChange);return hs(()=>{A(u)},[A,u]),s.jsx(Or.span,{...l,ref:d,style:{pointerEvents:"none"},children:YP(c.value)?s.jsx(s.Fragment,{children:o}):i})});PP.displayName=TP;var W8="SelectIcon",kP=C.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Or.span,{"aria-hidden":!0,...a,ref:t,children:n||"‚ñº"})});kP.displayName=W8;var Y8="SelectPortal",OP=e=>s.jsx(i2,{asChild:!0,...e});OP.displayName=Y8;var Ic="SelectContent",IP=C.forwardRef((e,t)=>{const r=Fl(Ic,e.__scopeSelect),[n,a]=C.useState();if(hs(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?ph.createPortal(s.jsx(UP,{scope:e.__scopeSelect,children:s.jsx(Lx.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(_P,{...e,ref:t})});IP.displayName=Ic;var Ha=10,[UP,Tl]=_u(Ic),X8="SelectContentImpl",J8=GM("SelectContent.RemoveScroll"),_P=C.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:A,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:p,avoidCollisions:b,...m}=e,x=Fl(Ic,r),[y,w]=C.useState(null),[N,B]=C.useState(null),F=dn(t,ae=>w(ae)),[E,P]=C.useState(null),[Q,U]=C.useState(null),T=Qx(r),[k,I]=C.useState(!1),M=C.useRef(!1);C.useEffect(()=>{if(y)return bP(y)},[y]),qT();const L=C.useCallback(ae=>{const[de,...X]=T().map(se=>se.ref.current),[te]=X.slice(-1),ue=document.activeElement;for(const se of ae)if(se===ue||(se==null||se.scrollIntoView({block:"nearest"}),se===de&&N&&(N.scrollTop=0),se===te&&N&&(N.scrollTop=N.scrollHeight),se==null||se.focus(),document.activeElement!==ue))return},[T,N]),K=C.useCallback(()=>L([E,y]),[L,E,y]);C.useEffect(()=>{k&&K()},[k,K]);const{onOpenChange:R,triggerPointerDownPosRef:$}=x;C.useEffect(()=>{if(y){let ae={x:0,y:0};const de=te=>{var ue,se;ae={x:Math.abs(Math.round(te.pageX)-(((ue=$.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(te.pageY)-(((se=$.current)==null?void 0:se.y)??0))}},X=te=>{ae.x<=10&&ae.y<=10?te.preventDefault():y.contains(te.target)||R(!1),document.removeEventListener("pointermove",de),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",X,{capture:!0})}}},[y,R,$]),C.useEffect(()=>{const ae=()=>R(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[R]);const[q,Z]=XP(ae=>{const de=T().filter(ue=>!ue.disabled),X=de.find(ue=>ue.ref.current===document.activeElement),te=JP(de,ae,X);te&&setTimeout(()=>te.ref.current.focus())}),D=C.useCallback((ae,de,X)=>{const te=!M.current&&!X;(x.value!==void 0&&x.value===de||te)&&(P(ae),te&&(M.current=!0))},[x.value]),H=C.useCallback(()=>y==null?void 0:y.focus(),[y]),V=C.useCallback((ae,de,X)=>{const te=!M.current&&!X;(x.value!==void 0&&x.value===de||te)&&U(ae)},[x.value]),re=n==="popper"?Sy:DP,Ae=re===Sy?{side:l,sideOffset:c,align:A,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:p,avoidCollisions:b}:{};return s.jsx(UP,{scope:r,content:y,viewport:N,onViewportChange:B,itemRefCallback:D,selectedItem:E,onItemLeave:H,itemTextRefCallback:V,focusSelectedItem:K,selectedItemText:Q,position:n,isPositioned:k,searchRef:q,children:s.jsx(o2,{as:J8,allowPinchZoom:!0,children:s.jsx(X1,{asChild:!0,trapped:x.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Lr(a,ae=>{var de;(de=x.trigger)==null||de.focus({preventScroll:!0}),ae.preventDefault()}),children:s.jsx(Y1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(re,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ae=>ae.preventDefault(),...m,...Ae,onPlaced:()=>I(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...m.style},onKeyDown:Lr(m.onKeyDown,ae=>{const de=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!de&&ae.key.length===1&&Z(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let te=T().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const ue=ae.target,se=te.indexOf(ue);te=te.slice(se+1)}setTimeout(()=>L(te)),ae.preventDefault()}})})})})})})});_P.displayName=X8;var Z8="SelectItemAlignedPosition",DP=C.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Fl(Ic,r),o=Tl(Ic,r),[l,c]=C.useState(null),[A,u]=C.useState(null),d=dn(t,F=>u(F)),h=Qx(r),f=C.useRef(!1),g=C.useRef(!0),{viewport:p,selectedItem:b,selectedItemText:m,focusSelectedItem:x}=o,y=C.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&A&&p&&b&&m){const F=i.trigger.getBoundingClientRect(),E=A.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),Q=m.getBoundingClientRect();if(i.dir!=="rtl"){const ue=Q.left-E.left,se=P.left-ue,we=F.left-se,Ce=F.width+we,J=Math.max(Ce,E.width),_e=window.innerWidth-Ha,Ge=zN(se,[Ha,Math.max(Ha,_e-J)]);l.style.minWidth=Ce+"px",l.style.left=Ge+"px"}else{const ue=E.right-Q.right,se=window.innerWidth-P.right-ue,we=window.innerWidth-F.right-se,Ce=F.width+we,J=Math.max(Ce,E.width),_e=window.innerWidth-Ha,Ge=zN(se,[Ha,Math.max(Ha,_e-J)]);l.style.minWidth=Ce+"px",l.style.right=Ge+"px"}const U=h(),T=window.innerHeight-Ha*2,k=p.scrollHeight,I=window.getComputedStyle(A),M=parseInt(I.borderTopWidth,10),L=parseInt(I.paddingTop,10),K=parseInt(I.borderBottomWidth,10),R=parseInt(I.paddingBottom,10),$=M+L+k+R+K,q=Math.min(b.offsetHeight*5,$),Z=window.getComputedStyle(p),D=parseInt(Z.paddingTop,10),H=parseInt(Z.paddingBottom,10),V=F.top+F.height/2-Ha,re=T-V,Ae=b.offsetHeight/2,ae=b.offsetTop+Ae,de=M+L+ae,X=$-de;if(de<=V){const ue=U.length>0&&b===U[U.length-1].ref.current;l.style.bottom="0px";const se=A.clientHeight-p.offsetTop-p.offsetHeight,we=Math.max(re,Ae+(ue?H:0)+se+K),Ce=de+we;l.style.height=Ce+"px"}else{const ue=U.length>0&&b===U[0].ref.current;l.style.top="0px";const we=Math.max(V,M+p.offsetTop+(ue?D:0)+Ae)+X;l.style.height=we+"px",p.scrollTop=de-V+p.offsetTop}l.style.margin=`${Ha}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[h,i.trigger,i.valueNode,l,A,p,b,m,i.dir,n]);hs(()=>y(),[y]);const[w,N]=C.useState();hs(()=>{A&&N(window.getComputedStyle(A).zIndex)},[A]);const B=C.useCallback(F=>{F&&g.current===!0&&(y(),x==null||x(),g.current=!1)},[y,x]);return s.jsx(t$,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:B,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:s.jsx(Or.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});DP.displayName=Z8;var e$="SelectPopperPosition",Sy=C.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ha,...i}=e,o=Rx(r);return s.jsx(KM,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sy.displayName=e$;var[t$,l2]=_u(Ic,{}),Ey="SelectViewport",LP=C.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Tl(Ey,r),o=l2(Ey,r),l=dn(t,i.onViewportChange),c=C.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Lx.Slot,{scope:r,children:s.jsx(Or.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Lr(a.onScroll,A=>{const u=A.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const f=Math.abs(c.current-u.scrollTop);if(f>0){const g=window.innerHeight-Ha*2,p=parseFloat(d.style.minHeight),b=parseFloat(d.style.height),m=Math.max(p,b);if(m<g){const x=m+f,y=Math.min(g,x),w=x-y;d.style.height=y+"px",d.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,d.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});LP.displayName=Ey;var QP="SelectGroup",[r$,n$]=_u(QP),s$=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=zA();return s.jsx(r$,{scope:r,id:a,children:s.jsx(Or.div,{role:"group","aria-labelledby":a,...n,ref:t})})});s$.displayName=QP;var RP="SelectLabel",a$=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=n$(RP,r);return s.jsx(Or.div,{id:a.id,...n,ref:t})});a$.displayName=RP;var ng="SelectItem",[i$,MP]=_u(ng),$P=C.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Fl(ng,r),c=Tl(ng,r),A=l.value===n,[u,d]=C.useState(i??""),[h,f]=C.useState(!1),g=dn(t,x=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,x,n,a)}),p=zA(),b=C.useRef("touch"),m=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(i$,{scope:r,value:n,disabled:a,textId:p,isSelected:A,onItemTextChange:C.useCallback(x=>{d(y=>y||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(Lx.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(Or.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":A&&h,"data-state":A?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:Lr(o.onFocus,()=>f(!0)),onBlur:Lr(o.onBlur,()=>f(!1)),onClick:Lr(o.onClick,()=>{b.current!=="mouse"&&m()}),onPointerUp:Lr(o.onPointerUp,()=>{b.current==="mouse"&&m()}),onPointerDown:Lr(o.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:Lr(o.onPointerMove,x=>{var y;b.current=x.pointerType,a?(y=c.onItemLeave)==null||y.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Lr(o.onPointerLeave,x=>{var y;x.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:Lr(o.onKeyDown,x=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&x.key===" "||(K8.includes(x.key)&&m(),x.key===" "&&x.preventDefault())})})})})});$P.displayName=ng;var Wd="SelectItemText",HP=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Fl(Wd,r),l=Tl(Wd,r),c=MP(Wd,r),A=q8(Wd,r),[u,d]=C.useState(null),h=dn(t,m=>d(m),c.onItemTextChange,m=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,m,c.value,c.disabled)}),f=u==null?void 0:u.textContent,g=C.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:p,onNativeOptionRemove:b}=A;return hs(()=>(p(g),()=>b(g)),[p,b,g]),s.jsxs(s.Fragment,{children:[s.jsx(Or.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ph.createPortal(i.children,o.valueNode):null]})});HP.displayName=Wd;var KP="SelectItemIndicator",VP=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return MP(KP,r).isSelected?s.jsx(Or.span,{"aria-hidden":!0,...n,ref:t}):null});VP.displayName=KP;var Fy="SelectScrollUpButton",zP=C.forwardRef((e,t)=>{const r=Tl(Fy,e.__scopeSelect),n=l2(Fy,e.__scopeSelect),[a,i]=C.useState(!1),o=dn(t,n.onScrollButtonChange);return hs(()=>{if(r.viewport&&r.isPositioned){let l=function(){const A=c.scrollTop>0;i(A)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(qP,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});zP.displayName=Fy;var Ty="SelectScrollDownButton",GP=C.forwardRef((e,t)=>{const r=Tl(Ty,e.__scopeSelect),n=l2(Ty,e.__scopeSelect),[a,i]=C.useState(!1),o=dn(t,n.onScrollButtonChange);return hs(()=>{if(r.viewport&&r.isPositioned){let l=function(){const A=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<A;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(qP,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});GP.displayName=Ty;var qP=C.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Tl("SelectScrollButton",r),o=C.useRef(null),l=Qx(r),c=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>c(),[c]),hs(()=>{var u;const A=l().find(d=>d.ref.current===document.activeElement);(u=A==null?void 0:A.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Or.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Lr(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Lr(a.onPointerMove,()=>{var A;(A=i.onItemLeave)==null||A.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Lr(a.onPointerLeave,()=>{c()})})}),o$="SelectSeparator",l$=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Or.div,{"aria-hidden":!0,...n,ref:t})});l$.displayName=o$;var Py="SelectArrow",c$=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Rx(r),i=Fl(Py,r),o=Tl(Py,r);return i.open&&o.position==="popper"?s.jsx(VM,{...a,...n,ref:t}):null});c$.displayName=Py;var A$="SelectBubbleInput",WP=C.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=C.useRef(null),i=dn(n,a),o=r8(t);return C.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const d=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(d)}},[o,t]),s.jsx(Or.select,{...r,style:{...xP,...r.style},ref:i,defaultValue:t})});WP.displayName=A$;function YP(e){return e===""||e===void 0}function XP(e){const t=Pc(e),r=C.useRef(""),n=C.useRef(0),a=C.useCallback(o=>{const l=r.current+o;t(l),function c(A){r.current=A,window.clearTimeout(n.current),A!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=C.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function JP(e,t,r){const a=t.length>1&&Array.from(t).every(A=>A===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=u$(e,Math.max(i,0));a.length===1&&(o=o.filter(A=>A!==r));const c=o.find(A=>A.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function u$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var d$=SP,f$=FP,h$=PP,m$=kP,p$=OP,g$=IP,x$=LP,v$=$P,b$=HP,y$=VP,w$=zP,j$=GP;function or({...e}){return s.jsx(d$,{"data-slot":"select",...e})}function lr({...e}){return s.jsx(h$,{"data-slot":"select-value",...e})}function cr({className:e,size:t="default",children:r,...n}){return s.jsxs(f$,{"data-slot":"select-trigger","data-size":t,className:bn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,s.jsx(m$,{asChild:!0,children:s.jsx(As,{className:"size-4 opacity-50"})})]})}function Ar({className:e,children:t,position:r="popper",...n}){return s.jsx(p$,{children:s.jsxs(g$,{"data-slot":"select-content",className:bn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-[9999] max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(N$,{}),s.jsx(x$,{className:bn("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(C$,{})]})})}function it({className:e,children:t,...r}){return s.jsxs(v$,{"data-slot":"select-item",className:bn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(y$,{children:s.jsx(fs,{className:"size-4"})})}),s.jsx(b$,{children:t})]})}function N$({className:e,...t}){return s.jsx(w$,{"data-slot":"select-scroll-up-button",className:bn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Fs,{className:"size-4"})})}function C$({className:e,...t}){return s.jsx(j$,{"data-slot":"select-scroll-down-button",className:bn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(As,{className:"size-4"})})}function B$(e,t=[]){let r=[];function n(i,o){const l=C.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const A=d=>{var m;const{scope:h,children:f,...g}=d,p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,b=C.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:b,children:f})};A.displayName=i+"Provider";function u(d,h){var p;const f=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=C.useContext(f);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[A,u]}const a=()=>{const i=r.map(o=>C.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,S$(a,...t)]}function S$(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:A})=>{const d=c(i)[`__scope${A}`];return{...l,...d}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var E$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ZP=E$.reduce((e,t)=>{const r=G1(`Primitive.${t}`),n=C.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),c2="Progress",A2=100,[F$]=B$(c2),[T$,P$]=F$(c2),e3=C.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=k$,...o}=e;(a||a===0)&&!gC(a)&&console.error(O$(`${a}`,"Progress"));const l=gC(a)?a:A2;n!==null&&!xC(n,l)&&console.error(I$(`${n}`,"Progress"));const c=xC(n,l)?n:null,A=sg(c)?i(c,l):void 0;return s.jsx(T$,{scope:r,value:c,max:l,children:s.jsx(ZP.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":sg(c)?c:void 0,"aria-valuetext":A,role:"progressbar","data-state":n3(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});e3.displayName=c2;var t3="ProgressIndicator",r3=C.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=P$(t3,r);return s.jsx(ZP.div,{"data-state":n3(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});r3.displayName=t3;function k$(e,t){return`${Math.round(e/t*100)}%`}function n3(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function sg(e){return typeof e=="number"}function gC(e){return sg(e)&&!isNaN(e)&&e>0}function xC(e,t){return sg(e)&&!isNaN(e)&&e<=t&&e>=0}function O$(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${A2}\`.`}function I$(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${A2} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var U$=e3,_$=r3;function D$({className:e,value:t,...r}){return s.jsx(U$,{"data-slot":"progress",className:bn("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:s.jsx(_$,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}const $v=[{value:"AB",label:"Alberta"},{value:"BC",label:"British Columbia"},{value:"MB",label:"Manitoba"},{value:"NB",label:"New Brunswick"},{value:"NL",label:"Newfoundland and Labrador"},{value:"NS",label:"Nova Scotia"},{value:"ON",label:"Ontario"},{value:"PE",label:"Prince Edward Island"},{value:"QC",label:"Qu√©bec"},{value:"SK",label:"Saskatchewan"},{value:"NT",label:"Northwest Territories"},{value:"NU",label:"Nunavut"},{value:"YT",label:"Yukon"}];function L$(){const{user:e}=Wr(),t=Br(),{t:r}=$r(),[n,a]=C.useState(1),[i,o]=C.useState(!1),[l,c]=C.useState({firstName:"",middleName:"",lastName:"",sin:"",dateOfBirth:"",preferredLanguage:"English",gender:"",careOf:"",addressUnit:"",streetNumber:"",streetName:"",city:"",province:"",postalCode:"",homePhoneArea:"",homePhoneNumber:"",hasNonCanadianAddress:"no",canadianResidentAllYear:"",provinceOnDec31:"",provinceMovedDate:"",homeAddressSameAsMailing:"yes",addressChangedInYear:"no",currentProvince:"",maritalStatus:"",maritalStatusChanged:"no",hasDependents:"no",firstTimeFilingCRA:"",canadianCitizen:"",registeredIndianAct:"no",foreignPropertyOver100k:"no",disposedPrincipalResidence:"no",flippedProperty:"no",firstHomeSavingsAccount:"",virtualCurrency:"no",confinedToPrison:"no",singleParentOrLivedAlone:"no",firstTimeFilingRQ:"",claimSolidarityTaxCredit:"",prescriptionDrugInsurance:"",workTelephoneArea:"",workTelephoneNumber:"",workTelephoneExt:"",signupCRAOnlineMail:"yes",signupRQOnlineMail:"yes",receiveRQNotifications:"email",notificationEmail:"",email:(e==null?void 0:e.email)||"",onboardingCompleted:!1});C.useEffect(()=>{if(!e){t("/login");return}A()},[e,t]);const A=async()=>{var m,x,y,w,N;if(e!=null&&e.id)try{const{data:B}=await Le.auth.getSession();if(!(B!=null&&B.session)){console.log("No active session");return}const{data:F,error:E}=await Le.auth.getUser();if(E){if((m=E.message)!=null&&m.includes("session")||(x=E.message)!=null&&x.includes("Auth")||(y=E.message)!=null&&y.includes("authenticated"))return;console.error("Error fetching user:",E);return}if((N=(w=F==null?void 0:F.user)==null?void 0:w.user_metadata)!=null&&N.profile){const P=F.user.user_metadata.profile;P.onboardingCompleted?t("/dashboard"):c({...l,...P})}}catch(B){console.error("Error checking profile:",B)}},u=(m,x)=>{c(y=>({...y,[m]:x}))},d=m=>{if(m===1){const{firstName:x,lastName:y,sin:w,dateOfBirth:N,preferredLanguage:B,gender:F}=l;return!x||!y||!w||!N||!B||!F?(me.error("Please fill all required fields"),!1):w.length!==9?(me.error("SIN must be 9 digits"),!1):!0}if(m===2){const{streetNumber:x,streetName:y,city:w,province:N,postalCode:B,homePhoneArea:F,homePhoneNumber:E}=l;return!x||!y||!w||!N||!B||!F||!E?(me.error("Please fill all required fields"),!1):!0}if(m===3){const{canadianResidentAllYear:x,provinceOnDec31:y,homeAddressSameAsMailing:w,addressChangedInYear:N,currentProvince:B}=l;return!x||!y||!w||!N||!B?(me.error("Please answer all questions"),!1):!0}if(m===4){const{maritalStatus:x,maritalStatusChanged:y,hasDependents:w}=l;return!x||!y||!w?(me.error("Please answer all questions"),!1):!0}if(m===5){const{firstTimeFilingCRA:x,canadianCitizen:y,firstHomeSavingsAccount:w}=l;return!x||!y||!w?(me.error("Please answer all questions"),!1):!0}if(m===6){const{firstTimeFilingRQ:x,claimSolidarityTaxCredit:y,prescriptionDrugInsurance:w}=l;return!x||!y||!w?(me.error("Please answer all questions"),!1):!0}if(m===7){const{notificationEmail:x}=l;return x?x.includes("@")?!0:(me.error("Please provide a valid email address"),!1):(me.error("Please provide your email address"),!1)}return!0},h=async()=>{if(d(n)){if(n===7){await g(!0);return}a(m=>m+1)}},f=()=>{a(m=>m-1)},g=async(m=!1)=>{if(e!=null&&e.id){o(!0);try{const{data:x,error:y}=await Le.auth.getSession();if(y||!(x!=null&&x.session)){console.error("No active session:",y),me.error("Session expired. Please log in again."),t("/login");return}const w={...l,onboardingCompleted:m,updatedAt:new Date().toISOString()},{error:N}=await Le.auth.updateUser({data:{profile:w}});if(N)throw N;m?(me.success("Profile completed successfully!"),t("/onboarding-success")):me.success("Progress saved")}catch(x){console.error("Error saving profile:",x),me.error(x.message||"Failed to save profile")}finally{o(!1)}}},p=7,b=n/p*100;return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs(Se,{className:"w-full max-w-3xl p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Tax Return Profile"}),s.jsx("p",{className:"text-gray-600",children:"Complete your information for tax filing"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:["Step ",n," of ",p]}),s.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(b),"%"]})]}),s.jsx(D$,{value:b,className:"h-2"})]}),n===1&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(ea,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Personal Information"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tell us about yourself"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"firstName",children:"First name *"}),s.jsx(tt,{id:"firstName",value:l.firstName,onChange:m=>u("firstName",m.target.value),placeholder:"veronica"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"middleName",children:"Middle name"}),s.jsx(tt,{id:"middleName",value:l.middleName,onChange:m=>u("middleName",m.target.value)})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"lastName",children:"Last name *"}),s.jsx(tt,{id:"lastName",value:l.lastName,onChange:m=>u("lastName",m.target.value),placeholder:"Prass"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"sin",children:"Social insurance number *"}),s.jsx(tt,{id:"sin",value:l.sin,onChange:m=>u("sin",m.target.value.replace(/\D/g,"")),placeholder:"327800579",maxLength:9}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Required to auto-fill return."})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"dateOfBirth",children:"Date of Birth *"}),s.jsx(tt,{id:"dateOfBirth",type:"date",value:l.dateOfBirth,onChange:m=>u("dateOfBirth",m.target.value),placeholder:"YYYY-MM-DD"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"preferredLanguage",children:"Preferred language *"}),s.jsxs(or,{value:l.preferredLanguage,onValueChange:m=>u("preferredLanguage",m),children:[s.jsx(cr,{id:"preferredLanguage",children:s.jsx(lr,{placeholder:"Select language"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"English",children:"English"}),s.jsx(it,{value:"French",children:"Fran√ßais"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"gender",children:"Gender *"}),s.jsxs(or,{value:l.gender,onValueChange:m=>u("gender",m),children:[s.jsx(cr,{id:"gender",children:s.jsx(lr,{placeholder:"Select gender"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"Female",children:"Female"}),s.jsx(it,{value:"Male",children:"Male"}),s.jsx(it,{value:"Other",children:"Other"})]})]})]})]})]}),n===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Ws,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Mailing Address"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Where should we send your documents?"})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"careOf",children:"C/O (Care of)"}),s.jsx(tt,{id:"careOf",value:l.careOf,onChange:m=>u("careOf",m.target.value),placeholder:"Veronica Prass"})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(De,{htmlFor:"addressUnit",children:"Unit"}),s.jsx(tt,{id:"addressUnit",value:l.addressUnit,onChange:m=>u("addressUnit",m.target.value),placeholder:"E"})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(De,{htmlFor:"streetNumber",children:"Street number *"}),s.jsx(tt,{id:"streetNumber",value:l.streetNumber,onChange:m=>u("streetNumber",m.target.value),placeholder:"1189"})]}),s.jsxs("div",{className:"col-span-7",children:[s.jsx(De,{htmlFor:"streetName",children:"Street name *"}),s.jsx(tt,{id:"streetName",value:l.streetName,onChange:m=>u("streetName",m.target.value),placeholder:"charlevoix"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"city",children:"City *"}),s.jsx(tt,{id:"city",value:l.city,onChange:m=>u("city",m.target.value),placeholder:"Montreal"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"province",children:"Province *"}),s.jsxs(or,{value:l.province,onValueChange:m=>u("province",m),children:[s.jsx(cr,{id:"province",children:s.jsx(lr,{placeholder:"Qu√©bec"})}),s.jsx(Ar,{children:$v.map(m=>s.jsx(it,{value:m.value,children:m.label},m.value))})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"postalCode",children:"Postal code *"}),s.jsx(tt,{id:"postalCode",value:l.postalCode,onChange:m=>u("postalCode",m.target.value.toUpperCase()),placeholder:"H3K2Z6",maxLength:7})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"homePhone",children:"Home telephone number *"}),s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsx(tt,{id:"homePhoneArea",value:l.homePhoneArea,onChange:m=>u("homePhoneArea",m.target.value.replace(/\D/g,"")),placeholder:"514",maxLength:3}),s.jsx(tt,{className:"col-span-3",id:"homePhoneNumber",value:l.homePhoneNumber,onChange:m=>u("homePhoneNumber",m.target.value.replace(/\D/g,"")),placeholder:"5627838",maxLength:7})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"hasNonCanadianAddress",children:"Do you have a non-Canadian mailing address?"}),s.jsxs(or,{value:l.hasNonCanadianAddress,onValueChange:m=>u("hasNonCanadianAddress",m),children:[s.jsx(cr,{id:"hasNonCanadianAddress",children:s.jsx(lr,{placeholder:"No"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"no",children:"No"}),s.jsx(it,{value:"yes",children:"Yes"})]})]})]})]}),n===3&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(No,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"About Your Residency"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tell us about your residency status"})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"canadianResidentAllYear",children:"Were you a Canadian resident for all of 2025? *"}),s.jsxs(or,{value:l.canadianResidentAllYear,onValueChange:m=>u("canadianResidentAllYear",m),children:[s.jsx(cr,{id:"canadianResidentAllYear",children:s.jsx(lr,{placeholder:"Select"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"provinceOnDec31",children:"In which province or territory did you live on December 31, 2025? *"}),s.jsxs(or,{value:l.provinceOnDec31,onValueChange:m=>u("provinceOnDec31",m),children:[s.jsx(cr,{id:"provinceOnDec31",children:s.jsx(lr,{placeholder:"Qu√©bec"})}),s.jsx(Ar,{children:$v.map(m=>s.jsx(it,{value:m.value,children:m.label},m.value))})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This question reflects the selection made in the About you section above."})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"provinceMovedDate",children:"If your province or territory of residence changed in 2025, enter the date of your move"}),s.jsx(tt,{id:"provinceMovedDate",type:"date",value:l.provinceMovedDate,onChange:m=>u("provinceMovedDate",m.target.value)})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"homeAddressSameAsMailing",children:"Is your home address the same as your mailing address? *"}),s.jsxs(or,{value:l.homeAddressSameAsMailing,onValueChange:m=>u("homeAddressSameAsMailing",m),children:[s.jsx(cr,{id:"homeAddressSameAsMailing",children:s.jsx(lr,{placeholder:"Yes"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"addressChangedInYear",children:"Did your address change in 2025? *"}),s.jsxs(or,{value:l.addressChangedInYear,onValueChange:m=>u("addressChangedInYear",m),children:[s.jsx(cr,{id:"addressChangedInYear",children:s.jsx(lr,{placeholder:"No"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"currentProvince",children:"In which province or territory do you currently live? *"}),s.jsxs(or,{value:l.currentProvince,onValueChange:m=>u("currentProvince",m),children:[s.jsx(cr,{id:"currentProvince",children:s.jsx(lr,{placeholder:"Qu√©bec"})}),s.jsx(Ar,{children:$v.map(m=>s.jsx(it,{value:m.value,children:m.label},m.value))})]})]})]}),n===4&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(dr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"You and Your Family"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tell us about your family situation"})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"maritalStatus",children:"Marital status on December 31, 2025 *"}),s.jsxs(or,{value:l.maritalStatus,onValueChange:m=>u("maritalStatus",m),children:[s.jsx(cr,{id:"maritalStatus",children:s.jsx(lr,{placeholder:"Single"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"single",children:"Single"}),s.jsx(it,{value:"married",children:"Married"}),s.jsx(it,{value:"common-law",children:"Common-law"}),s.jsx(it,{value:"divorced",children:"Divorced"}),s.jsx(it,{value:"separated",children:"Separated"}),s.jsx(it,{value:"widowed",children:"Widowed"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"maritalStatusChanged",children:"Did your marital status change in 2025? *"}),s.jsxs(or,{value:l.maritalStatusChanged,onValueChange:m=>u("maritalStatusChanged",m),children:[s.jsx(cr,{id:"maritalStatusChanged",children:s.jsx(lr,{placeholder:"No"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"hasDependents",children:"Do you have any dependants? *"}),s.jsxs(or,{value:l.hasDependents,onValueChange:m=>u("hasDependents",m),children:[s.jsx(cr,{id:"hasDependents",children:s.jsx(lr,{placeholder:"No"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]})]}),n===5&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Mt,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Other stuff we have to ask"}),s.jsx("p",{className:"text-sm text-gray-600",children:"General questions"})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"firstTimeFilingCRA",children:"Are you filing an income tax return with the CRA for the first time? *"}),s.jsxs(or,{value:l.firstTimeFilingCRA,onValueChange:m=>u("firstTimeFilingCRA",m),children:[s.jsx(cr,{id:"firstTimeFilingCRA",children:s.jsx(lr,{placeholder:"No"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"canadianCitizen",children:"Are you a Canadian citizen? *"}),s.jsxs(or,{value:l.canadianCitizen,onValueChange:m=>u("canadianCitizen",m),children:[s.jsx(cr,{id:"canadianCitizen",children:s.jsx(lr,{placeholder:"No"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"registeredIndianAct",children:"Are you a person registered under the Indian Act?"}),s.jsxs(or,{value:l.registeredIndianAct,onValueChange:m=>u("registeredIndianAct",m),children:[s.jsx(cr,{id:"registeredIndianAct",children:s.jsx(lr,{placeholder:"No"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsx("h3",{className:"font-medium mb-3",children:"Property and things you may have invested in"})}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"foreignPropertyOver100k",children:"Did you own or hold specified foreign property where the total cost amount of all such property, at any time in the year, was more than CAN$100,000 in 2025?"}),s.jsxs(or,{value:l.foreignPropertyOver100k,onValueChange:m=>u("foreignPropertyOver100k",m),children:[s.jsx(cr,{id:"foreignPropertyOver100k",children:s.jsx(lr,{placeholder:"No"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"disposedPrincipalResidence",children:"Did you dispose of your principal residence in 2025?"}),s.jsxs(or,{value:l.disposedPrincipalResidence,onValueChange:m=>u("disposedPrincipalResidence",m),children:[s.jsx(cr,{id:"disposedPrincipalResidence",children:s.jsx(lr,{placeholder:"No"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"flippedProperty",children:"Did you flip a property in 2025?"}),s.jsxs(or,{value:l.flippedProperty,onValueChange:m=>u("flippedProperty",m),children:[s.jsx(cr,{id:"flippedProperty",children:s.jsx(lr,{placeholder:"No"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"firstHomeSavingsAccount",children:"Did you open your first First Home Savings Account (FHSA) in 2025, or become a successor holder in 2025 and did not open another FHSA of your own in 2024 or 2025? *"}),s.jsxs(or,{value:l.firstHomeSavingsAccount,onValueChange:m=>u("firstHomeSavingsAccount",m),children:[s.jsx(cr,{id:"firstHomeSavingsAccount",children:s.jsx(lr,{placeholder:"Yes"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"virtualCurrency",children:"Did you receive, hold, or dispose of virtual currency (by selling, transferring, exchanging, giving, etc.) in 2025?"}),s.jsxs(or,{value:l.virtualCurrency,onValueChange:m=>u("virtualCurrency",m),children:[s.jsx(cr,{id:"virtualCurrency",children:s.jsx(lr,{placeholder:"No"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsx("h3",{className:"font-medium mb-3",children:"We have to ask because it affects some calculations"})}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"confinedToPrison",children:"Were you confined to a prison for a period of 90 days or more in 2025?"}),s.jsxs(or,{value:l.confinedToPrison,onValueChange:m=>u("confinedToPrison",m),children:[s.jsx(cr,{id:"confinedToPrison",children:s.jsx(lr,{placeholder:"No"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]})]}),n===6&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Bx,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Revenu Qu√©bec"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Provincial tax information"})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"workTelephone",children:"Work Telephone"}),s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[s.jsx(tt,{className:"col-span-2",id:"workTelephoneArea",value:l.workTelephoneArea,onChange:m=>u("workTelephoneArea",m.target.value.replace(/\D/g,"")),placeholder:"514",maxLength:3}),s.jsx(tt,{className:"col-span-8",id:"workTelephoneNumber",value:l.workTelephoneNumber,onChange:m=>u("workTelephoneNumber",m.target.value.replace(/\D/g,"")),placeholder:"5627838",maxLength:7}),s.jsx(tt,{className:"col-span-2",id:"workTelephoneExt",value:l.workTelephoneExt,onChange:m=>u("workTelephoneExt",m.target.value),placeholder:"Ext"})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"singleParentOrLivedAlone",children:"Were you a single parent or did you live alone for all of 2025?"}),s.jsxs(or,{value:l.singleParentOrLivedAlone,onValueChange:m=>u("singleParentOrLivedAlone",m),children:[s.jsx(cr,{id:"singleParentOrLivedAlone",children:s.jsx(lr,{placeholder:"No"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"firstTimeFilingRQ",children:"Are you filing an income tax return with Revenu Qu√©bec for the first time? *"}),s.jsxs(or,{value:l.firstTimeFilingRQ,onValueChange:m=>u("firstTimeFilingRQ",m),children:[s.jsx(cr,{id:"firstTimeFilingRQ",children:s.jsx(lr,{placeholder:"No"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"claimSolidarityTaxCredit",children:"Will you claim the Solidarity Tax Credit? *"}),s.jsxs(or,{value:l.claimSolidarityTaxCredit,onValueChange:m=>u("claimSolidarityTaxCredit",m),children:[s.jsx(cr,{id:"claimSolidarityTaxCredit",children:s.jsx(lr,{placeholder:"Yes"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"prescriptionDrugInsurance",children:"Did you have basic prescription drug insurance through a group insurance plan in 2025? *"}),s.jsxs(or,{value:l.prescriptionDrugInsurance,onValueChange:m=>u("prescriptionDrugInsurance",m),children:[s.jsx(cr,{id:"prescriptionDrugInsurance",children:s.jsx(lr,{placeholder:"Yes, by my group insurance plan"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes-group",children:"Yes, by my group insurance plan"}),s.jsx(it,{value:"yes-spouse",children:"Yes, by my spouse's group insurance plan"}),s.jsx(it,{value:"no",children:"No"})]})]})]})]}),n===7&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Ja,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"CRA and Revenu Qu√©bec My Account"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Online mail preferences"})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"signupCRAOnlineMail",children:"Do you want to sign up for online mail to get your federal notice of assessment through CRA My Account?"}),s.jsxs(or,{value:l.signupCRAOnlineMail,onValueChange:m=>u("signupCRAOnlineMail",m),children:[s.jsx(cr,{id:"signupCRAOnlineMail",children:s.jsx(lr,{placeholder:"Yes, sign me up"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes, sign me up"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"signupRQOnlineMail",children:"Do you want to receive all communications, including notices, through Revenu Qu√©bec My Account?"}),s.jsxs(or,{value:l.signupRQOnlineMail,onValueChange:m=>u("signupRQOnlineMail",m),children:[s.jsx(cr,{id:"signupRQOnlineMail",children:s.jsx(lr,{placeholder:"Yes, sign me up"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"yes",children:"Yes, sign me up"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"receiveRQNotifications",children:"Do you want to receive notifications from Revenu Qu√©bec?"}),s.jsxs(or,{value:l.receiveRQNotifications,onValueChange:m=>u("receiveRQNotifications",m),children:[s.jsx(cr,{id:"receiveRQNotifications",children:s.jsx(lr,{placeholder:"Yes, via email"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"email",children:"Yes, via email"}),s.jsx(it,{value:"sms",children:"Yes, via SMS"}),s.jsx(it,{value:"no",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"notificationEmail",children:"Email address *"}),s.jsx(tt,{id:"notificationEmail",type:"email",value:l.notificationEmail,onChange:m=>u("notificationEmail",m.target.value),placeholder:"veprass@gmail.com"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"confirmEmail",children:"Confirm email address *"}),s.jsx(tt,{id:"confirmEmail",type:"email",placeholder:"veprass@gmail.com"})]})]}),s.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t",children:[n>1&&s.jsx(ye,{variant:"outline",onClick:f,disabled:i,className:"flex-1",children:"Back"}),s.jsx(ye,{onClick:h,disabled:i,className:"flex-1",children:i?"Saving...":n===p?"Complete Profile":"Continue"})]}),n>1&&s.jsx("div",{className:"text-center mt-4",children:s.jsx("button",{onClick:()=>g(!1),disabled:i,className:"text-sm text-blue-600 hover:underline disabled:opacity-50",children:"Save Progress"})})]})})}function Q$(){const[e,t]=C.useState("test@example.com"),[r,n]=C.useState("test123456"),[a,i]=C.useState("Test User"),[o,l]=C.useState(!1),[c,A]=C.useState([]),[u,d]=C.useState(null);C.useEffect(()=>{f()},[]);const h=(x,y,w,N)=>{A(B=>[...B,{title:x,status:y,message:w,details:N,timestamp:new Date}])},f=async()=>{var x;try{const{data:y,error:w}=await Le.auth.getSession();d({hasSession:!!y.session,user:(x=y.session)==null?void 0:x.user,error:w})}catch(y){console.error("Error checking auth settings:",y)}},g=async()=>{l(!0),A([]),h("üîÑ Iniciando teste de SIGNUP","warning","Tentando criar nova conta...");try{const{data:x,error:y}=await Le.auth.signUp({email:e,password:r,options:{data:{name:a}}});if(y){h("‚ùå SIGNUP FALHOU","error",y.message,y);return}x.user&&x.session?h("‚úÖ SIGNUP OK - Auto-confirmado","success","Usu√°rio criado e sess√£o ativa!",{userId:x.user.id,email:x.user.email,emailConfirmed:x.user.email_confirmed_at,hasSession:!0}):x.user&&!x.session&&h("‚ö†Ô∏è SIGNUP OK mas SEM SESS√ÉO","warning","Usu√°rio criado mas precisa confirmar email!",{userId:x.user.id,email:x.user.email,emailConfirmed:x.user.email_confirmed_at,hasSession:!1,needsConfirmation:!0})}catch(x){h("‚ùå ERRO no signup","error",x.message,x)}finally{l(!1)}},p=async()=>{l(!0),A([]),h("üîÑ Iniciando teste de LOGIN","warning","Tentando fazer login...");try{const{data:x,error:y}=await Le.auth.signInWithPassword({email:e,password:r});if(y){y.message.includes("Invalid login credentials")?h("‚ùå LOGIN FALHOU - Credenciais inv√°lidas","error","Poss√≠veis causas: 1) Email n√£o confirmado, 2) Senha errada, 3) Usu√°rio n√£o existe",y):y.message.includes("Email not confirmed")?h("‚ùå LOGIN FALHOU - Email n√£o confirmado","error","O usu√°rio existe mas precisa confirmar o email!",y):h("‚ùå LOGIN FALHOU","error",y.message,y);return}x.user&&x.session&&h("‚úÖ LOGIN OK!","success","Login realizado com sucesso!",{userId:x.user.id,email:x.user.email,emailConfirmed:x.user.email_confirmed_at,sessionExpires:x.session.expires_at})}catch(x){h("‚ùå ERRO no login","error",x.message,x)}finally{l(!1)}},b=async()=>{var x,y;l(!0),A([]),h("üöÄ TESTE COMPLETO INICIADO","warning","Testando signup + login...");try{const w=await Le.auth.signUp({email:e,password:r,options:{data:{name:a}}});if(w.error)if(w.error.message.includes("already registered"))h("‚ö†Ô∏è Usu√°rio j√° existe","warning","Pulando para teste de login...",w.error);else{h("‚ùå SIGNUP FALHOU","error",w.error.message,w.error),l(!1);return}else w.data.user&&w.data.session?h("‚úÖ SIGNUP OK - Auto-confirmado","success","Continuando...",{userId:w.data.user.id,hasSession:!0}):w.data.user&&!w.data.session&&h("‚ö†Ô∏è SIGNUP OK mas precisa confirmar email","warning","Email de confirma√ß√£o necess√°rio!",{userId:w.data.user.id,hasSession:!1});await new Promise(B=>setTimeout(B,1e3)),await Le.auth.signOut(),h("üîì Logout feito","warning","Testando login agora..."),await new Promise(B=>setTimeout(B,500));const N=await Le.auth.signInWithPassword({email:e,password:r});N.error?(h("‚ùå LOGIN FALHOU ap√≥s signup","error",N.error.message,N.error),N.error.message.includes("Invalid login credentials")&&h("üîç DIAGN√ìSTICO","warning",'PROBLEMA: Confirma√ß√£o de email est√° ATIVADA no Supabase. Solu√ß√£o: V√° em Supabase Dashboard ‚Üí Authentication ‚Üí Providers ‚Üí Email ‚Üí Desative "Confirm email"')):h("‚úÖ LOGIN OK ap√≥s signup!","success","Tudo funcionando perfeitamente!",{userId:(x=N.data.user)==null?void 0:x.id,email:(y=N.data.user)==null?void 0:y.email})}catch(w){h("‚ùå ERRO no teste completo","error",w.message,w)}finally{l(!1)}},m=async()=>{l(!0),A([]),h("üîÑ Listando usu√°rios...","warning","Consultando Supabase Auth...");try{const{data:x}=await Le.auth.getSession(),y={"Content-Type":"application/json"};x.session?y.Authorization=`Bearer ${x.session.access_token}`:y.Authorization="Bearer undefined";const w=await fetch("https://undefined.supabase.co/functions/v1/make-server-c2a25be0/users/list",{headers:y}),N=await w.json();w.ok&&Array.isArray(N)?h("‚úÖ Usu√°rios encontrados","success",`Total: ${N.length}`,N):h("‚ùå Erro ao listar","error","Voc√™ precisa estar logado como admin",N)}catch(x){h("‚ùå ERRO","error",x.message,x)}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(Se,{className:"p-8 mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"üîß Auth Debug Tool"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Ferramenta de diagn√≥stico para identificar problemas de autentica√ß√£o"}),s.jsx(sf,{className:"mb-6 bg-purple-50 border-purple-200",children:s.jsx(af,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"üë• Gerenciamento Completo de Usu√°rios"}),s.jsx("div",{className:"text-sm mt-1",children:"Criar, excluir e listar usu√°rios do Supabase"})]}),s.jsx(ye,{onClick:()=>window.location.href="/user-management-debug",variant:"outline",size:"sm",className:"bg-purple-100 hover:bg-purple-200",children:"Ir para Gerenciamento ‚Üí"})]})})}),u&&s.jsx(sf,{className:`mb-6 ${u.hasSession?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:s.jsxs(af,{children:[s.jsx("strong",{children:"Sess√£o Atual:"})," ",u.hasSession?"‚úÖ Logado":"‚ùå N√£o logado",u.user&&s.jsxs("div",{className:"mt-2 text-sm",children:[s.jsxs("div",{children:["Email: ",u.user.email]}),s.jsxs("div",{children:["ID: ",u.user.id]}),s.jsxs("div",{children:["Email confirmado: ",u.user.email_confirmed_at?"‚úÖ Sim":"‚ùå N√£o"]})]})]})}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{children:[s.jsx(De,{children:"Email de Teste"}),s.jsx(tt,{type:"email",value:e,onChange:x=>t(x.target.value),placeholder:"test@example.com"})]}),s.jsxs("div",{children:[s.jsx(De,{children:"Senha de Teste"}),s.jsx(tt,{type:"password",value:r,onChange:x=>n(x.target.value),placeholder:"M√≠nimo 6 caracteres"})]}),s.jsxs("div",{children:[s.jsx(De,{children:"Nome"}),s.jsx(tt,{type:"text",value:a,onChange:x=>i(x.target.value),placeholder:"Test User"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ye,{onClick:g,disabled:o,className:"w-full",children:o?s.jsx(ht,{className:"w-4 h-4 animate-spin"}):"1. Testar Signup"}),s.jsx(ye,{onClick:p,disabled:o,className:"w-full",children:o?s.jsx(ht,{className:"w-4 h-4 animate-spin"}):"2. Testar Login"}),s.jsx(ye,{onClick:b,disabled:o,className:"w-full bg-purple-600 hover:bg-purple-700",children:o?s.jsx(ht,{className:"w-4 h-4 animate-spin"}):"üöÄ Teste Completo"}),s.jsx(ye,{onClick:m,disabled:o,variant:"outline",className:"w-full",children:o?s.jsx(ht,{className:"w-4 h-4 animate-spin"}):"üìã Listar Usu√°rios"})]})]}),c.length>0&&s.jsxs(Se,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"üìä Resultados dos Testes"}),s.jsx("div",{className:"space-y-4",children:c.map((x,y)=>s.jsx(sf,{className:`${x.status==="success"?"bg-green-50 border-green-200":x.status==="error"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[x.status==="success"?s.jsx(He,{className:"w-5 h-5 text-green-600 mt-0.5"}):x.status==="error"?s.jsx(Zn,{className:"w-5 h-5 text-red-600 mt-0.5"}):s.jsx(Nf,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),s.jsx("div",{className:"flex-1",children:s.jsxs(af,{className:x.status==="success"?"text-green-800":x.status==="error"?"text-red-800":"text-yellow-800",children:[s.jsx("div",{className:"font-semibold",children:x.title}),s.jsx("div",{className:"mt-1",children:x.message}),x.details&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"cursor-pointer text-sm underline",children:"Ver detalhes"}),s.jsx("pre",{className:"mt-2 p-2 bg-black/5 rounded text-xs overflow-auto",children:JSON.stringify(x.details,null,2)})]})]})})]})},y))})]}),s.jsxs(Se,{className:"p-6 mt-6 bg-blue-50 border-blue-200",children:[s.jsx("h3",{className:"font-bold text-blue-900 mb-3",children:"üìñ Como usar:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-blue-800",children:[s.jsx("li",{children:"Preencha os campos com um email e senha de teste"}),s.jsx("li",{children:'Clique em "üöÄ Teste Completo" para fazer um teste completo de signup + login'}),s.jsx("li",{children:"Veja os resultados abaixo para identificar o problema"}),s.jsx("li",{children:'Se aparecer "DIAGN√ìSTICO" em amarelo, siga as instru√ß√µes'})]})]})]})})}function R$(){const{user:e}=Wr(),t=Br(),{t:r}=$r();C.useEffect(()=>{e||t("/login")},[e,t]);const n=()=>{t("/dashboard")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4",children:s.jsxs(Se,{className:"w-full max-w-md p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-6",children:s.jsx(Os,{className:"w-12 h-12 text-green-600"})}),s.jsx("h1",{className:"text-3xl mb-4",children:r("onboardingSuccess.title")}),s.jsx("p",{className:"text-gray-600 text-lg mb-2",children:r("onboardingSuccess.subtitle")}),s.jsx("p",{className:"text-gray-500",children:r("onboardingSuccess.description")})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm text-blue-900",children:r("onboardingSuccess.nextSteps")})}),s.jsx(ye,{onClick:n,className:"w-full",size:"lg",children:r("onboardingSuccess.accessPortal")}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("p",{className:"text-sm text-gray-500",children:r("onboardingSuccess.contact")})})]})})}function M$(){const{resetPassword:e}=Wr(),{t}=$r(),[r,n]=C.useState(""),[a,i]=C.useState(""),[o,l]=C.useState(!1),[c,A]=C.useState(!1),u=async d=>{d.preventDefault(),i(""),l(!1),A(!0);try{await e(r),l(!0)}catch(h){console.error("Reset password error:",h),i(h.message||"Failed to send reset email. Please try again.")}finally{A(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4",children:s.jsxs(Se,{className:"w-full max-w-md p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ja,{className:"w-8 h-8 text-blue-600"})}),s.jsx("h1",{className:"text-3xl mb-2",children:t("forgotPassword.title")}),s.jsx("p",{className:"text-gray-600",children:t("forgotPassword.subtitle")})]}),a&&s.jsx(sf,{className:"mb-6 bg-red-50 border-red-200",children:s.jsx(af,{className:"text-red-800",children:a})}),o?s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(He,{className:"w-8 h-8 text-green-600"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-xl text-gray-900",children:t("forgotPassword.successTitle")}),s.jsx("p",{className:"text-gray-600",children:t("forgotPassword.successMessage")}),s.jsx("p",{className:"text-sm text-gray-500",children:t("forgotPassword.checkSpam")})]}),s.jsx("div",{className:"pt-4",children:s.jsxs(Sc,{to:"/login",className:"text-blue-600 hover:underline inline-flex items-center gap-2",children:[s.jsx(es,{className:"w-4 h-4"}),t("forgotPassword.backToLogin")]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"email",children:t("clientPortal.email")}),s.jsx(tt,{id:"email",type:"email",value:r,onChange:d=>n(d.target.value),required:!0,className:"mt-1",placeholder:"email@example.com"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:t("forgotPassword.emailHint")})]}),s.jsx(ye,{type:"submit",className:"w-full",disabled:c,children:t(c?"clientPortal.uploading":"forgotPassword.sendButton")})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs(Sc,{to:"/login",className:"text-gray-600 hover:text-gray-900 text-sm inline-flex items-center gap-2",children:[s.jsx(es,{className:"w-4 h-4"}),t("forgotPassword.backToLogin")]})})]})]})})}function $$(){const{t:e,language:t}=$r(),{updatePassword:r}=Wr(),n=Br(),[a,i]=C.useState(""),[o,l]=C.useState(""),[c,A]=C.useState(!1),[u,d]=C.useState(""),[h,f]=C.useState(!1),g=async p=>{if(p.preventDefault(),d(""),A(!0),a.length<6){d(t==="en"?"‚ùå Password must be at least 6 characters long.":"‚ùå Le mot de passe doit contenir au moins 6 caract√®res."),A(!1);return}if(a!==o){d(t==="en"?"‚ùå Passwords do not match. Please try again.":"‚ùå Les mots de passe ne correspondent pas. Veuillez r√©essayer."),A(!1);return}try{await r(a),f(!0),me.success(t==="en"?"‚úÖ Password updated successfully!":"‚úÖ Mot de passe mis √† jour avec succ√®s!"),setTimeout(()=>{n("/login")},2e3)}catch(b){console.error("Update password error:",b);let m=b.message||"Failed to update password";m.includes("Auth session missing")&&(m=t==="en"?"‚ùå Reset link expired. Please request a new one.":"‚ùå Lien de r√©initialisation expir√©. Veuillez en demander un nouveau."),d(m)}finally{A(!1)}};return h?s.jsxs(s.Fragment,{children:[s.jsx(Nl,{children:s.jsx("title",{children:"Password Reset - DuoPro Services"})}),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Yp,{}),s.jsx("div",{className:"container mx-auto px-4 pt-24 pb-20",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:s.jsx(He,{className:"w-8 h-8 text-green-600"})}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:t==="en"?"Password Updated!":"Mot de passe mis √† jour!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:t==="en"?"Your password has been successfully updated. Redirecting to login...":"Votre mot de passe a √©t√© mis √† jour avec succ√®s. Redirection vers la connexion..."}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})]})})})})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(Nl,{children:[s.jsx("title",{children:"Reset Password - DuoPro Services"}),s.jsx("meta",{name:"description",content:"Reset your DuoPro Services account password"})]}),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Yp,{}),s.jsx("div",{className:"container mx-auto px-4 pt-24 pb-20",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:s.jsx(uT,{className:"w-8 h-8 text-blue-600"})}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:t==="en"?"Set New Password":"D√©finir un nouveau mot de passe"}),s.jsx("p",{className:"text-gray-600",children:t==="en"?"Enter your new password below":"Entrez votre nouveau mot de passe ci-dessous"})]}),u&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[s.jsx(Ht,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:u})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t==="en"?"New Password":"Nouveau mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(zp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"password",value:a,onChange:p=>i(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",required:!0,minLength:6})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t==="en"?"Minimum 6 characters":"Minimum 6 caract√®res"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t==="en"?"Confirm Password":"Confirmer le mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(zp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"password",value:o,onChange:p=>l(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",required:!0,minLength:6})]})]}),s.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?e("common.loading"):t==="en"?"Update Password":"Mettre √† jour le mot de passe"})]})]})})})]})]})}const H$=q1("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function vt({className:e,variant:t,asChild:r=!1,...n}){const a=r?PT:"span";return s.jsx(a,{"data-slot":"badge",className:bn(H$({variant:t}),e),...n})}const K$=[{id:"installment-mar-2025",title:{en:"Tax Installment Payment",fr:"Paiement d'acomptes provisionnels",pt:"Pagamento de Presta√ß√£o de Imposto"},description:{en:"Quarterly tax installment for individuals (if required)",fr:"Acompte provisionnel trimestriel pour particuliers (si requis)",pt:"Presta√ß√£o trimestral de imposto para indiv√≠duos (se necess√°rio)"},date:new Date("2025-03-15"),category:"personal"},{id:"gst-q1-2025",title:{en:"GST/HST Filing (Quarterly)",fr:"Production TPS/TVH (Trimestriel)",pt:"Declara√ß√£o GST/HST (Trimestral)"},description:{en:"GST/HST return for January-March 2025 (if quarterly filer)",fr:"D√©claration TPS/TVH pour janvier-mars 2025 (si d√©clarant trimestriel)",pt:"Declara√ß√£o GST/HST para janeiro-mar√ßo 2025 (se declarante trimestral)"},date:new Date("2025-04-30"),category:"gst"},{id:"qst-q1-2025",title:{en:"QST Filing (Quebec - Quarterly)",fr:"Production TVQ (Qu√©bec - Trimestriel)",pt:"Declara√ß√£o QST (Quebec - Trimestral)"},description:{en:"QST return for January-March 2025 (Quebec businesses)",fr:"D√©claration TVQ pour janvier-mars 2025 (entreprises qu√©b√©coises)",pt:"Declara√ß√£o QST para janeiro-mar√ßo 2025 (empresas de Quebec)"},date:new Date("2025-04-30"),category:"qst",isQuebecOnly:!0},{id:"personal-tax-2024",title:{en:"Personal Tax Return Deadline",fr:"Date limite de d√©claration de revenus personnels",pt:"Prazo de Declara√ß√£o de Imposto Pessoal"},description:{en:"File your 2024 personal income tax return (T1)",fr:"Produire votre d√©claration de revenus personnels 2024 (T1)",pt:"Enviar sua declara√ß√£o de imposto de renda pessoal 2024 (T1)"},date:new Date("2025-04-30"),category:"personal"},{id:"self-employed-tax-2024",title:{en:"Self-Employed Tax Filing",fr:"Production pour travailleurs autonomes",pt:"Declara√ß√£o de Aut√¥nomos"},description:{en:"Self-employed individuals can file until June 15 (but payment due April 30)",fr:"Les travailleurs autonomes peuvent produire jusqu'au 15 juin (mais paiement d√ª le 30 avril)",pt:"Aut√¥nomos podem declarar at√© 15 de junho (mas pagamento devido em 30 de abril)"},date:new Date("2025-06-15"),category:"business"},{id:"installment-jun-2025",title:{en:"Tax Installment Payment",fr:"Paiement d'acomptes provisionnels",pt:"Pagamento de Presta√ß√£o de Imposto"},description:{en:"Quarterly tax installment for individuals (if required)",fr:"Acompte provisionnel trimestriel pour particuliers (si requis)",pt:"Presta√ß√£o trimestral de imposto para indiv√≠duos (se necess√°rio)"},date:new Date("2025-06-15"),category:"personal"},{id:"gst-q2-2025",title:{en:"GST/HST Filing (Quarterly)",fr:"Production TPS/TVH (Trimestriel)",pt:"Declara√ß√£o GST/HST (Trimestral)"},description:{en:"GST/HST return for April-June 2025 (if quarterly filer)",fr:"D√©claration TPS/TVH pour avril-juin 2025 (si d√©clarant trimestriel)",pt:"Declara√ß√£o GST/HST para abril-junho 2025 (se declarante trimestral)"},date:new Date("2025-07-31"),category:"gst"},{id:"qst-q2-2025",title:{en:"QST Filing (Quebec - Quarterly)",fr:"Production TVQ (Qu√©bec - Trimestriel)",pt:"Declara√ß√£o QST (Quebec - Trimestral)"},description:{en:"QST return for April-June 2025 (Quebec businesses)",fr:"D√©claration TVQ pour avril-juin 2025 (entreprises qu√©b√©coises)",pt:"Declara√ß√£o QST para abril-junho 2025 (empresas de Quebec)"},date:new Date("2025-07-31"),category:"qst",isQuebecOnly:!0},{id:"installment-sep-2025",title:{en:"Tax Installment Payment",fr:"Paiement d'acomptes provisionnels",pt:"Pagamento de Presta√ß√£o de Imposto"},description:{en:"Quarterly tax installment for individuals (if required)",fr:"Acompte provisionnel trimestriel pour particuliers (si requis)",pt:"Presta√ß√£o trimestral de imposto para indiv√≠duos (se necess√°rio)"},date:new Date("2025-09-15"),category:"personal"},{id:"gst-q3-2025",title:{en:"GST/HST Filing (Quarterly)",fr:"Production TPS/TVH (Trimestriel)",pt:"Declara√ß√£o GST/HST (Trimestral)"},description:{en:"GST/HST return for July-September 2025 (if quarterly filer)",fr:"D√©claration TPS/TVH pour juillet-septembre 2025 (si d√©clarant trimestriel)",pt:"Declara√ß√£o GST/HST para julho-setembro 2025 (se declarante trimestral)"},date:new Date("2025-10-31"),category:"gst"},{id:"qst-q3-2025",title:{en:"QST Filing (Quebec - Quarterly)",fr:"Production TVQ (Qu√©bec - Trimestriel)",pt:"Declara√ß√£o QST (Quebec - Trimestral)"},description:{en:"QST return for July-September 2025 (Quebec businesses)",fr:"D√©claration TVQ pour juillet-septembre 2025 (entreprises qu√©b√©coises)",pt:"Declara√ß√£o QST para julho-setembro 2025 (empresas de Quebec)"},date:new Date("2025-10-31"),category:"qst",isQuebecOnly:!0},{id:"installment-dec-2025",title:{en:"Tax Installment Payment",fr:"Paiement d'acomptes provisionnels",pt:"Pagamento de Presta√ß√£o de Imposto"},description:{en:"Quarterly tax installment for individuals (if required)",fr:"Acompte provisionnel trimestriel pour particuliers (si requis)",pt:"Presta√ß√£o trimestral de imposto para indiv√≠duos (se necess√°rio)"},date:new Date("2025-12-15"),category:"personal"},{id:"gst-annual-2025",title:{en:"GST/HST Filing (Annual)",fr:"Production TPS/TVH (Annuel)",pt:"Declara√ß√£o GST/HST (Anual)"},description:{en:"GST/HST annual return for 2025 (if annual filer)",fr:"D√©claration TPS/TVH annuelle pour 2025 (si d√©clarant annuel)",pt:"Declara√ß√£o GST/HST anual para 2025 (se declarante anual)"},date:new Date("2026-01-31"),category:"gst"},{id:"qst-annual-2025",title:{en:"QST Filing (Quebec - Annual)",fr:"Production TVQ (Qu√©bec - Annuel)",pt:"Declara√ß√£o QST (Quebec - Anual)"},description:{en:"QST annual return for 2025 (Quebec businesses)",fr:"D√©claration TVQ annuelle pour 2025 (entreprises qu√©b√©coises)",pt:"Declara√ß√£o QST anual para 2025 (empresas de Quebec)"},date:new Date("2026-01-31"),category:"qst",isQuebecOnly:!0}];function V$({isQuebec:e=!1}){const{language:t}=$r(),r=new Date;r.setHours(0,0,0,0);const a=K$.filter(d=>!(d.isQuebecOnly&&!e)).sort((d,h)=>d.date.getTime()-h.date.getTime()).filter(d=>d.date>=r),i=a.filter(d=>Math.floor((d.date.getTime()-r.getTime())/864e5)<=30),o=d=>{const h=Math.floor((d.getTime()-r.getTime())/864e5);return h<0?"passed":h<=7?"urgent":h<=30?"warning":"normal"},l=d=>({personal:"bg-blue-100 text-blue-700 border-blue-300",business:"bg-purple-100 text-purple-700 border-purple-300",gst:"bg-green-100 text-green-700 border-green-300",qst:"bg-indigo-100 text-indigo-700 border-indigo-300",corporate:"bg-orange-100 text-orange-700 border-orange-300"})[d]||"bg-gray-100 text-gray-700",c=d=>{const h={year:"numeric",month:"long",day:"numeric"},f={en:"en-CA",fr:"fr-CA",pt:"pt-BR"};return d.toLocaleDateString(f[t],h)},A=d=>Math.floor((d.getTime()-r.getTime())/(1e3*60*60*24)),u={title:{en:"Important Tax Deadlines",fr:"Dates limites fiscales importantes",pt:"Prazos Fiscais Importantes"},urgentDeadlines:{en:"Urgent - Next 30 Days",fr:"Urgent - Prochains 30 jours",pt:"Urgente - Pr√≥ximos 30 Dias"},upcomingDeadlines:{en:"Upcoming Deadlines",fr:"√âch√©ances √† venir",pt:"Prazos Futuros"},daysLeft:{en:d=>d===1?"1 day left":`${d} days left`,fr:d=>d===1?"1 jour restant":`${d} jours restants`,pt:d=>d===1?"1 dia restante":`${d} dias restantes`},today:{en:"Today!",fr:"Aujourd'hui!",pt:"Hoje!"},overdue:{en:"Overdue",fr:"En retard",pt:"Atrasado"},noUrgent:{en:"No urgent deadlines in the next 30 days",fr:"Aucune √©ch√©ance urgente dans les 30 prochains jours",pt:"Nenhum prazo urgente nos pr√≥ximos 30 dias"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 border border-blue-200 flex items-center justify-center",children:s.jsx(tr,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:u.title[t]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[a.length," ",t==="en"?"upcoming deadlines":t==="fr"?"√©ch√©ances √† venir":"prazos futuros"]})]})]}),i.length>0&&s.jsxs(Se,{className:"p-6 border-orange-300 bg-orange-50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ht,{className:"w-5 h-5 text-orange-600"}),s.jsx("h3",{className:"font-semibold text-orange-900",children:u.urgentDeadlines[t]}),s.jsx(vt,{variant:"destructive",className:"ml-auto",children:i.length})]}),s.jsx("div",{className:"space-y-3",children:i.map(d=>{const h=A(d.date),f=o(d.date);return s.jsx("div",{className:"bg-white rounded-lg p-4 border-l-4 border-orange-500",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:d.title[t]}),s.jsx(vt,{className:l(d.category),children:d.category.toUpperCase()})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:d.description[t]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Mr,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-700",children:c(d.date)})]})]}),s.jsx("div",{className:"text-right",children:h===0?s.jsx(vt,{variant:"destructive",className:"text-xs",children:u.today[t]}):h<0?s.jsx(vt,{variant:"destructive",className:"text-xs",children:u.overdue[t]}):s.jsx(vt,{className:`text-xs ${f==="urgent"?"bg-red-100 text-red-700 border-red-300":"bg-orange-100 text-orange-700 border-orange-300"}`,children:u.daysLeft[t](h)})})]})},d.id)})})]}),i.length===0&&s.jsx(Se,{className:"p-6 bg-green-50 border-green-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(He,{className:"w-5 h-5 text-green-600"}),s.jsx("p",{className:"text-sm text-green-700 font-medium",children:u.noUrgent[t]})]})}),s.jsxs(Se,{className:"p-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:u.upcomingDeadlines[t]}),s.jsx("div",{className:"space-y-3",children:a.slice(i.length).slice(0,10).map(d=>{const h=A(d.date);return s.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:d.title[t]}),s.jsx(vt,{variant:"outline",className:l(d.category),children:d.category.toUpperCase()})]}),s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:d.description[t]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(Mr,{className:"w-3 h-3 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:c(d.date)})]})]}),s.jsx("div",{className:"text-right",children:s.jsx(vt,{variant:"outline",className:"text-xs",children:u.daysLeft[t](h)})})]},d.id)})})]})]})}function Xn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function z$(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Sm=43200,vC=1440;let G$={};function q$(){return G$}function bC(e){const t=Xn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Pp(e,t){const r=Xn(e),n=Xn(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function W$(e){return z$(e,Date.now())}function Y$(e,t){const r=Xn(e),n=Xn(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function X$(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function J$(e,t){return+Xn(e)-+Xn(t)}function Z$(e){const t=Xn(e);return t.setHours(23,59,59,999),t}function eH(e){const t=Xn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function tH(e){const t=Xn(e);return+Z$(t)==+eH(t)}function rH(e,t){const r=Xn(e),n=Xn(t),a=Pp(r,n),i=Math.abs(Y$(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Pp(r,n)===-a;tH(Xn(e))&&i===1&&Pp(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function nH(e,t,r){const n=J$(e,t)/1e3;return X$(r==null?void 0:r.roundingMethod)(n)}const sH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aH=(e,t,r)=>{let n;const a=sH[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Sa(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const iH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cH={date:Sa({formats:iH,defaultWidth:"full"}),time:Sa({formats:oH,defaultWidth:"full"}),dateTime:Sa({formats:lH,defaultWidth:"full"})},AH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},s3=(e,t,r,n)=>AH[e];function ws(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const uH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gH=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},a3={ordinalNumber:gH,era:ws({values:uH,defaultWidth:"wide"}),quarter:ws({values:dH,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ws({values:fH,defaultWidth:"wide"}),day:ws({values:hH,defaultWidth:"wide"}),dayPeriod:ws({values:mH,defaultWidth:"wide",formattingValues:pH,defaultFormattingWidth:"wide"})};function js(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?vH(l,d=>d.test(o)):xH(l,d=>d.test(o));let A;A=e.valueCallback?e.valueCallback(c):c,A=r.valueCallback?r.valueCallback(A):A;const u=t.slice(o.length);return{value:A,rest:u}}}function xH(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function vH(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function u2(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const bH=/^(\d+)(th|st|nd|rd)?/i,yH=/\d+/i,wH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jH={any:[/^b/i,/^(a|c)/i]},NH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CH={any:[/1/i,/2/i,/3/i,/4/i]},BH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},TH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},PH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},i3={ordinalNumber:u2({matchPattern:bH,parsePattern:yH,valueCallback:e=>parseInt(e,10)}),era:js({matchPatterns:wH,defaultMatchWidth:"wide",parsePatterns:jH,defaultParseWidth:"any"}),quarter:js({matchPatterns:NH,defaultMatchWidth:"wide",parsePatterns:CH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:js({matchPatterns:BH,defaultMatchWidth:"wide",parsePatterns:SH,defaultParseWidth:"any"}),day:js({matchPatterns:EH,defaultMatchWidth:"wide",parsePatterns:FH,defaultParseWidth:"any"}),dayPeriod:js({matchPatterns:TH,defaultMatchWidth:"any",parsePatterns:PH,defaultParseWidth:"any"})},kH={code:"en-US",formatDistance:aH,formatLong:cH,formatRelative:s3,localize:a3,match:i3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function OH(e,t,r){const n=q$(),a=(r==null?void 0:r.locale)??n.locale??kH,i=2520,o=Pp(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,A;o>0?(c=Xn(t),A=Xn(e)):(c=Xn(e),A=Xn(t));const u=nH(A,c),d=(bC(A)-bC(c))/1e3,h=Math.round((u-d)/60);let f;if(h<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<vC){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<Sm){const g=Math.round(h/vC);return a.formatDistance("xDays",g,l)}else if(h<Sm*2)return f=Math.round(h/Sm),a.formatDistance("aboutXMonths",f,l)}if(f=rH(A,c),f<12){const g=Math.round(h/Sm);return a.formatDistance("xMonths",g,l)}else{const g=f%12,p=Math.trunc(f/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function IH(e,t){return OH(e,W$(e),t)}const UH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"a second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"a minute",other:"{{count}} minutes"},aboutXHours:{one:"about an hour",other:"about {{count}} hours"},xHours:{one:"an hour",other:"{{count}} hours"},xDays:{one:"a day",other:"{{count}} days"},aboutXWeeks:{one:"about a week",other:"about {{count}} weeks"},xWeeks:{one:"a week",other:"{{count}} weeks"},aboutXMonths:{one:"about a month",other:"about {{count}} months"},xMonths:{one:"a month",other:"{{count}} months"},aboutXYears:{one:"about a year",other:"about {{count}} years"},xYears:{one:"a year",other:"{{count}} years"},overXYears:{one:"over a year",other:"over {{count}} years"},almostXYears:{one:"almost a year",other:"almost {{count}} years"}},_H=(e,t,r)=>{let n;const a=UH[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},DH={full:"EEEE, MMMM do, yyyy",long:"MMMM do, yyyy",medium:"MMM d, yyyy",short:"yyyy-MM-dd"},LH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RH={date:Sa({formats:DH,defaultWidth:"full"}),time:Sa({formats:LH,defaultWidth:"full"}),dateTime:Sa({formats:QH,defaultWidth:"full"})},MH={code:"en-CA",formatDistance:_H,formatLong:RH,formatRelative:s3,localize:a3,match:i3,options:{weekStartsOn:0,firstWeekContainsDate:1}},$H={lessThanXSeconds:{one:"moins d‚Äôune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d‚Äôune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d‚Äôun an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu‚Äôun an",other:"presque {{count}} ans"}},HH=(e,t,r)=>{let n;const a=$H[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},KH={lastWeek:"eeee 'dernier √†' p",yesterday:"'hier √†' p",today:"'aujourd‚Äôhui √†' p",tomorrow:"'demain √†' p'",nextWeek:"eeee 'prochain √†' p",other:"P"},VH=(e,t,r,n)=>KH[e],zH={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant J√©sus-Christ","apr√®s J√©sus-Christ"]},GH={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2√®me trim.","3√®me trim.","4√®me trim."],wide:["1er trimestre","2√®me trimestre","3√®me trimestre","4√®me trimestre"]},qH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","f√©vr.","mars","avr.","mai","juin","juil.","ao√ªt","sept.","oct.","nov.","d√©c."],wide:["janvier","f√©vrier","mars","avril","mai","juin","juillet","ao√ªt","septembre","octobre","novembre","d√©cembre"]},WH={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},YH={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"apr√®s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l‚Äôapr√®s-midi",evening:"du soir",night:"du matin"}},XH=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const a=["year","week","hour","minute","second"];let i;return r===1?i=n&&a.includes(n)?"√®re":"er":i="√®me",r+i},JH=["MMM","MMMM"],ZH={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&JH.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:XH,era:ws({values:zH,defaultWidth:"wide"}),quarter:ws({values:GH,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ws({values:qH,defaultWidth:"wide"}),day:ws({values:WH,defaultWidth:"wide"}),dayPeriod:ws({values:YH,defaultWidth:"wide"})},e7=/^(\d+)(i√®me|√®re|√®me|er|e)?/i,t7=/\d+/i,r7={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant J√©sus-Christ|apr√®s J√©sus-Christ)/i},n7={any:[/^av/i,/^ap/i]},s7={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|√®me|e)? trim\.?/i,wide:/^[1234](er|√®me|e)? trimestre/i},a7={any:[/1/i,/2/i,/3/i,/4/i]},i7={narrow:/^[jfmasond]/i,abbreviated:/^(janv|f√©vr|mars|avr|mai|juin|juill|juil|ao√ªt|sept|oct|nov|d√©c)\.?/i,wide:/^(janvier|f√©vrier|mars|avril|mai|juin|juillet|ao√ªt|septembre|octobre|novembre|d√©cembre)/i},o7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},l7={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},c7={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},A7={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'apr√®s[-\s]midi|du soir|de la nuit)/i},u7={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},d7={ordinalNumber:u2({matchPattern:e7,parsePattern:t7,valueCallback:e=>parseInt(e)}),era:js({matchPatterns:r7,defaultMatchWidth:"wide",parsePatterns:n7,defaultParseWidth:"any"}),quarter:js({matchPatterns:s7,defaultMatchWidth:"wide",parsePatterns:a7,defaultParseWidth:"any",valueCallback:e=>e+1}),month:js({matchPatterns:i7,defaultMatchWidth:"wide",parsePatterns:o7,defaultParseWidth:"any"}),day:js({matchPatterns:l7,defaultMatchWidth:"wide",parsePatterns:c7,defaultParseWidth:"any"}),dayPeriod:js({matchPatterns:A7,defaultMatchWidth:"any",parsePatterns:u7,defaultParseWidth:"any"})},f7={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"yy-MM-dd"},h7={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},m7={full:"{{date}} '√†' {{time}}",long:"{{date}} '√†' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},p7={date:Sa({formats:f7,defaultWidth:"full"}),time:Sa({formats:h7,defaultWidth:"full"}),dateTime:Sa({formats:m7,defaultWidth:"full"})},g7={code:"fr-CA",formatDistance:HH,formatLong:p7,formatRelative:VH,localize:ZH,match:d7,options:{weekStartsOn:0,firstWeekContainsDate:1}},x7={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 m√™s",other:"cerca de {{count}} meses"},xMonths:{one:"1 m√™s",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},v7=(e,t,r)=>{let n;const a=x7[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h√° "+n:n},b7={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},y7={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},w7={full:"{{date}} '√†s' {{time}}",long:"{{date}} '√†s' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j7={date:Sa({formats:b7,defaultWidth:"full"}),time:Sa({formats:y7,defaultWidth:"full"}),dateTime:Sa({formats:w7,defaultWidth:"full"})},N7={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"√∫ltimo":"√∫ltima")+"' eeee '√†s' p"},yesterday:"'ontem √†s' p",today:"'hoje √†s' p",tomorrow:"'amanh√£ √†s' p",nextWeek:"eeee '√†s' p",other:"P"},C7=(e,t,r,n)=>{const a=N7[e];return typeof a=="function"?a(t):a},B7={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},S7={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1¬∫ trimestre","2¬∫ trimestre","3¬∫ trimestre","4¬∫ trimestre"]},E7={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","mar√ßo","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},F7={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","ter√ßa","quarta","quinta","sexta","s√°bado"],wide:["domingo","segunda-feira","ter√ßa-feira","quarta-feira","quinta-feira","sexta-feira","s√°bado"]},T7={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh√£",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh√£",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh√£",afternoon:"tarde",evening:"tarde",night:"noite"}},P7={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh√£",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh√£",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh√£",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},k7=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"¬™":r+"¬∫"},O7={ordinalNumber:k7,era:ws({values:B7,defaultWidth:"wide"}),quarter:ws({values:S7,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ws({values:E7,defaultWidth:"wide"}),day:ws({values:F7,defaultWidth:"wide"}),dayPeriod:ws({values:T7,defaultWidth:"wide",formattingValues:P7,defaultFormattingWidth:"wide"})},I7=/^(\d+)[¬∫¬™o]?/i,U7=/\d+/i,_7={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},D7={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},L7={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](¬∫)? trimestre/i},Q7={any:[/1/i,/2/i,/3/i,/4/i]},R7={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|mar√ßo|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},M7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},$7={narrow:/^(dom|[23456]¬™?|s[a√°]b)/i,short:/^(dom|[23456]¬™?|s[a√°]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a√°]b)/i,wide:/^(domingo|(segunda|ter[c√ß]a|quarta|quinta|sexta)([- ]feira)?|s[a√°]bado)/i},H7={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a√°]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a√°]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a√°]b/i]},K7={narrow:/^(a|p|mn|md|(da) (manh√£|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh√£|tarde|noite))/i},V7={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh√£/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},z7={ordinalNumber:u2({matchPattern:I7,parsePattern:U7,valueCallback:e=>parseInt(e,10)}),era:js({matchPatterns:_7,defaultMatchWidth:"wide",parsePatterns:D7,defaultParseWidth:"any"}),quarter:js({matchPatterns:L7,defaultMatchWidth:"wide",parsePatterns:Q7,defaultParseWidth:"any",valueCallback:e=>e+1}),month:js({matchPatterns:R7,defaultMatchWidth:"wide",parsePatterns:M7,defaultParseWidth:"any"}),day:js({matchPatterns:$7,defaultMatchWidth:"wide",parsePatterns:H7,defaultParseWidth:"any"}),dayPeriod:js({matchPatterns:K7,defaultMatchWidth:"any",parsePatterns:V7,defaultParseWidth:"any"})},G7={code:"pt-BR",formatDistance:v7,formatLong:j7,formatRelative:C7,localize:O7,match:z7,options:{weekStartsOn:0,firstWeekContainsDate:1}},xA={error:"background: #ef4444; color: white; padding: 2px 8px; border-radius: 4px; font-weight: bold",warning:"background: #f59e0b; color: white; padding: 2px 8px; border-radius: 4px; font-weight: bold",info:"background: #3b82f6; color: white; padding: 2px 8px; border-radius: 4px; font-weight: bold"},q7={success(e,t="API",r){},error(e,t="API",r){r?console.error(`%c‚ùå ${e}`,xA.error,r):console.error(`%c‚ùå ${e}`,xA.error)},warning(e,t="API",r){r?console.warn(`%c‚ö†Ô∏è ${e}`,xA.warning,r):console.warn(`%c‚ö†Ô∏è ${e}`,xA.warning)},info(e,t="API",r){r?console.log(`%c‚ÑπÔ∏è ${e}`,xA.info,r):console.log(`%c‚ÑπÔ∏è ${e}`,xA.info)},demo(e,t="API"){},debug(e,t){},group(e,t){console.group(e),t(),console.groupEnd()}},W7=`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0`;let kp=!1;const Hv=new Set,el={unreadCount:3,messages:[{id:"1",senderId:"system",senderName:"Sistema DuoProServices",recipientId:"user1",content:"Bem-vindo ao sistema! Por favor, fa√ßa upload dos seus documentos fiscais.",timestamp:new Date().toISOString(),read:!1},{id:"2",senderId:"admin",senderName:"Suporte",recipientId:"user1",content:"Seus documentos foram recebidos. Estamos processando sua declara√ß√£o.",timestamp:new Date(Date.now()-864e5).toISOString(),read:!0},{id:"3",senderId:"admin",senderName:"Contador",recipientId:"user1",content:"Temos uma d√∫vida sobre seus rendimentos. Poderia nos contatar?",timestamp:new Date(Date.now()-1728e5).toISOString(),read:!1}],dashboardStats:{totalClients:156,activeReturns:23,completedReturns:89,pendingDocuments:12,totalRevenue:45670,monthlyRevenue:8900,upcomingDeadlines:5,messagesCount:7,recentActivities:[{id:"1",type:"new_client",message:"Novo cliente: Jo√£o Silva",timestamp:new Date().toISOString()},{id:"2",type:"document_uploaded",message:"Maria Santos enviou T4",timestamp:new Date(Date.now()-36e5).toISOString()},{id:"3",type:"return_completed",message:"Declara√ß√£o conclu√≠da: Pedro Costa",timestamp:new Date(Date.now()-72e5).toISOString()}]},permissions:{canAccessClientHub:!0,canAccessContentCalendar:!0,canAccessUserManagement:!0,canAccessLaunchRoadmap:!0,canAccessInvoices:!0,canEditClients:!0,canDeleteClients:!0,canManageUsers:!0,canManagePermissions:!0,isAdmin:!0},roadmap:{id:"roadmap-2025-02",version:"1.0",createdAt:new Date("2025-01-20").toISOString(),updatedAt:new Date().toISOString(),tasks:[{id:"task-1",title:"Configurar infraestrutura de email",description:"Configurar servidor SMTP e templates de email",assignedTo:"veronica",status:"completed",priority:"high",dueDate:"2025-01-25",completedAt:"2025-01-24",phase:"setup",category:"Infraestrutura",notes:"Configurado com sucesso usando SendGrid"},{id:"task-2",title:"Testar fluxo de pagamentos",description:"Validar integra√ß√£o Stripe e fluxo completo",assignedTo:"germana",status:"completed",priority:"high",dueDate:"2025-01-26",completedAt:"2025-01-25",phase:"setup",category:"Pagamentos"},{id:"task-3",title:"Revisar conte√∫do do site",description:"Verificar textos em ingl√™s e franc√™s",assignedTo:"jamila",status:"in-progress",priority:"medium",dueDate:"2025-01-30",phase:"setup",category:"Conte√∫do"},{id:"task-4",title:"Configurar analytics",description:"Google Analytics e Meta Pixel",assignedTo:"veronica",status:"pending",priority:"medium",dueDate:"2025-01-31",phase:"setup",category:"Marketing"},{id:"task-5",title:"Publicar primeiro post no blog",description:"Artigo sobre prazo de declara√ß√£o 2025",assignedTo:"jamila",status:"pending",priority:"high",dueDate:"2025-02-03",phase:"week1",category:"Content Marketing"},{id:"task-6",title:"Lan√ßar campanha no Facebook",description:"An√∫ncios direcionados para newcomers",assignedTo:"germana",status:"pending",priority:"high",dueDate:"2025-02-02",phase:"week1",category:"Marketing"},{id:"task-7",title:"Monitorar feedback de clientes",description:"Revisar emails e mensagens di√°rias",assignedTo:"all",status:"pending",priority:"medium",dueDate:"2025-02-07",phase:"week1",category:"Atendimento"},{id:"task-8",title:"Ajustar estrat√©gia baseada em dados",description:"Analisar m√©tricas da primeira semana",assignedTo:"veronica",status:"pending",priority:"high",dueDate:"2025-02-10",phase:"week2",category:"Estrat√©gia"},{id:"task-9",title:"Otimizar landing pages",description:"A/B testing e melhorias de convers√£o",assignedTo:"germana",status:"pending",priority:"medium",dueDate:"2025-02-12",phase:"week2",category:"Marketing"},{id:"task-10",title:"Preparar relat√≥rio de lan√ßamento",description:"Documentar resultados e aprendizados",assignedTo:"all",status:"pending",priority:"low",dueDate:"2025-02-14",phase:"week2",category:"Gest√£o"}],teamMembers:{veronica:{name:"Veronica",avatar:"V"},germana:{name:"Germana",avatar:"G"},jamila:{name:"Jamila",avatar:"J"}}},roadmapStats:{total:10,completed:2,inProgress:1,pending:7,byPhase:{setup:{total:4,completed:2},week1:{total:3,completed:0},week2:{total:3,completed:0}},byPerson:{veronica:3,germana:3,jamila:2,all:2},overallProgress:20},users:[{userId:"user-veronica-001",email:"veronica@duoproservices.com",name:"Veronica Prass",role:"owner",permissions:{canAccessClientHub:!0,canAccessContentCalendar:!0,canAccessUserManagement:!0,canAccessLaunchRoadmap:!0,canAccessInvoices:!0,canEditClients:!0,canDeleteClients:!0,canManageUsers:!0,canManagePermissions:!0,isAdmin:!0},casesCount:45,pendingCases:12,completedCases:33,createdAt:new Date("2024-01-01").toISOString()},{userId:"user-germana-001",email:"germana@duoproservices.com",name:"Germana Silva",role:"accountant",permissions:{canAccessClientHub:!0,canAccessContentCalendar:!0,canAccessUserManagement:!1,canAccessLaunchRoadmap:!0,canAccessInvoices:!0,canEditClients:!0,canDeleteClients:!1,canManageUsers:!1,canManagePermissions:!1,isAdmin:!1},casesCount:38,pendingCases:15,completedCases:23,createdAt:new Date("2024-02-15").toISOString()},{userId:"user-jamila-001",email:"jamila@duoproservices.com",name:"Jamila Ferreira",role:"admin",permissions:{canAccessClientHub:!0,canAccessContentCalendar:!0,canAccessUserManagement:!0,canAccessLaunchRoadmap:!0,canAccessInvoices:!0,canEditClients:!0,canDeleteClients:!0,canManageUsers:!0,canManagePermissions:!0,isAdmin:!0},casesCount:28,pendingCases:8,completedCases:20,createdAt:new Date("2024-03-10").toISOString()}],clients:[{id:"user-jamila-001",email:"jamila@duoproservices.com",name:"Jamila Ferreira",createdAt:new Date("2024-03-10").toISOString(),personalInfo:{firstName:"Jamila",lastName:"Ferreira",phone:"(514) 555-0123",address:"456 Rue Saint-Laurent",city:"Montreal",province:"QC",postalCode:"H2Y 2Y5",dateOfBirth:"1988-05-15",sin:"123-456-789",filingType:"individual"},taxFilings:[{id:"filing-jamila-2024",year:2024,status:"documents_uploaded",createdAt:new Date("2025-01-05").toISOString(),updatedAt:new Date("2025-01-08").toISOString(),documents:["T4","T5"],payment:{status:"pending",amount:0}}],onboardingComplete:!0,assignedAccountant:null},{id:"client-demo-001",email:"maria.santos@email.com",name:"Maria Santos",createdAt:new Date("2024-01-15").toISOString(),personalInfo:{firstName:"Maria",lastName:"Santos",phone:"(416) 555-0198",address:"123 Main Street",city:"Toronto",province:"ON",postalCode:"M5H 2N2",dateOfBirth:"1990-03-20",sin:"987-654-321",filingType:"individual"},taxFilings:[{id:"filing-maria-2024",year:2024,status:"completed",createdAt:new Date("2024-02-01").toISOString(),updatedAt:new Date("2024-03-15").toISOString(),documents:["T4","T5","RRSP"],payment:{status:"paid",amount:150,paidAt:new Date("2024-03-15").toISOString()}}],onboardingComplete:!0,assignedAccountant:{id:"user-germana-001",name:"Germana Silva",email:"germana@duoproservices.com",role:"accountant"}},{id:"client-demo-002",email:"john.wilson@email.com",name:"John Wilson",createdAt:new Date("2024-02-20").toISOString(),personalInfo:{firstName:"John",lastName:"Wilson",phone:"(604) 555-0234",address:"789 Oak Avenue",city:"Vancouver",province:"BC",postalCode:"V6B 4Y8",dateOfBirth:"1985-11-10",sin:"456-789-123",filingType:"couple"},taxFilings:[{id:"filing-john-2024",year:2024,status:"in_review",createdAt:new Date("2025-01-10").toISOString(),updatedAt:new Date("2025-01-12").toISOString(),documents:["T4","Rental Income"],payment:{status:"paid",amount:50,paidAt:new Date("2025-01-10").toISOString()}}],onboardingComplete:!0,assignedAccountant:{id:"user-veronica-001",name:"Veronica Prass",email:"veronica@duoproservices.com",role:"owner"}}]};async function Eo(e,t={}){try{const r=await fetch(`${W7}${e}`,{...t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${ta}`,...t.headers}});if(!r.ok)throw new Error(`HTTP ${r.status}`);const n=await r.json();return kp&&(Hv.clear(),q7.success("Backend Online","API")),kp=!1,{data:n,isMocked:!1}}catch{return kp=!0,Hv.has(e)||Hv.add(e),{data:Y7(e),isMocked:!0}}}function Y7(e){return e.includes("/messages/unread-count")?{count:el.unreadCount}:e.includes("/messages")?{messages:el.messages}:e.includes("/dashboard/stats")?el.dashboardStats:e.includes("/permissions")?el.permissions:e.includes("/roadmap/stats")?el.roadmapStats:e.includes("/roadmap")?el.roadmap:e.includes("/users/list")?el.users:e.includes("/admin/clients")?{clients:el.clients}:{}}function X7(){return kp}async function J7(e,t){return Eo(e,{method:"POST",body:JSON.stringify(t)})}async function Z7(e){return Eo(e,{method:"DELETE"})}async function e9(e,t){var r,n,a;try{const i=await fetch(e,t);if(!i.ok)throw new Error(`HTTP ${i.status}`);return await i.json()}catch(i){if((r=i.message)!=null&&r.includes("Failed to fetch")||(n=i.message)!=null&&n.includes("Network")||(a=i.message)!=null&&a.includes("fetch"))return t9(e);throw i}}function t9(e){return e.includes("/payments/")&&e.includes("/status")?{payment:{initialPaid:!0,initialAmount:50,finalPaid:!1,finalAmount:0,totalPrice:150}}:e.includes("/tax-documents/list/")?{files:[{id:"demo-file-1",name:"T4_2024_Demo.pdf",size:125e3,category:"income",url:"",createdAt:new Date().toISOString()}]}:{}}const ky={get:e9,post:J7,delete:Z7,fetch:Eo,isOffline:X7};function r9({clientId:e}){var U;const{language:t}=$r(),{user:r}=Wr(),[n,a]=C.useState([]),[i,o]=C.useState(!0),[l,c]=C.useState(!1),[A,u]=C.useState(null),[d,h]=C.useState(0),[f,g]=C.useState(""),[p,b]=C.useState(""),[m,x]=C.useState([]),y={title:{en:"Messages",fr:"Messages",pt:"Mensagens"},newMessage:{en:"New Message",fr:"Nouveau message",pt:"Nova Mensagem"},subject:{en:"Subject",fr:"Sujet",pt:"Assunto"},message:{en:"Message",fr:"Message",pt:"Mensagem"},send:{en:"Send",fr:"Envoyer",pt:"Enviar"},cancel:{en:"Cancel",fr:"Annuler",pt:"Cancelar"},noMessages:{en:"No messages yet",fr:"Aucun message pour le moment",pt:"Nenhuma mensagem ainda"},from:{en:"From",fr:"De",pt:"De"},unread:{en:"unread",fr:"non lu",pt:"n√£o lido"},admin:{en:"Admin",fr:"Administrateur",pt:"Administrador"},you:{en:"You",fr:"Vous",pt:"Voc√™"},attachments:{en:"Attachments",fr:"Pi√®ces jointes",pt:"Anexos"}};C.useEffect(()=>{w(),N()},[e]);const w=async()=>{o(!0);try{const{data:T}=await Le.auth.getSession();if(!T.session)throw new Error("Not authenticated");const{data:k,isMocked:I}=await Eo(`/messages?clientId=${e}`,{headers:{Authorization:`Bearer ${T.session.access_token}`}});I&&me.info("‚ö†Ô∏è Backend offline - showing demo data"),a(k.messages||[])}catch(T){console.error("Error loading messages:",T),me.error("Failed to load messages")}finally{o(!1)}},N=async()=>{try{const{data:T}=await Le.auth.getSession();if(!T.session)return;const{data:k}=await Eo(`/messages/unread-count?clientId=${e}`,{headers:{Authorization:`Bearer ${T.session.access_token}`}});h(k.count||0)}catch(T){console.error("Error loading unread count:",T)}},B=async()=>{if(!f.trim()||!p.trim()){me.error("Please fill in subject and message");return}try{const{data:T}=await Le.auth.getSession();if(!T.session)throw new Error("Not authenticated");if(!(await fetch(Nt.messagesSend,{method:"POST",headers:{Authorization:`Bearer ${T.session.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({clientId:e,subject:f,content:p,attachments:m})})).ok)throw new Error("Failed to send message");me.success("Message sent successfully!"),g(""),b(""),x([]),c(!1),w()}catch(T){console.error("Error sending message:",T),me.error("Failed to send message")}},F=async T=>{try{const{data:k}=await Le.auth.getSession();if(!k.session)return;await fetch(Nt.messagesMarkRead(T),{method:"PATCH",headers:{Authorization:`Bearer ${k.session.access_token}`}}),a(I=>I.map(M=>M.id===T?{...M,isRead:!0}:M)),N()}catch(k){console.error("Error marking as read:",k)}},E=async(T,k)=>{if(confirm(`Are you sure you want to delete the message "${k}"?

This action cannot be undone.`))try{const{data:I}=await Le.auth.getSession();if(!I.session)throw new Error("Not authenticated");const M=await fetch(`${Nt.messages(e)}/${T}`,{method:"DELETE",headers:{Authorization:`Bearer ${I.session.access_token}`}});if(!M.ok){const L=await M.json();throw new Error(L.error||"Failed to delete message")}a(L=>L.filter(K=>K.id!==T)),(A==null?void 0:A.id)===T&&u(null),me.success("‚úÖ Message deleted successfully")}catch(I){console.error("Delete error:",I),me.error(`Failed to delete message: ${I.message}`)}},P=((U=r==null?void 0:r.user_metadata)==null?void 0:U.role)==="admin",Q=T=>{const k={en:MH,fr:g7,pt:G7};return IH(new Date(T),{addSuffix:!0,locale:k[t]})};return s.jsx(Se,{className:"p-6 border-2 border-purple-300 bg-gradient-to-br from-purple-50 to-white shadow-lg",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-600 flex items-center justify-center shadow-md",children:s.jsx(jf,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:y.title[t]}),d>0&&s.jsxs("p",{className:"text-sm text-purple-600 font-medium",children:[d," ",y.unread[t]]})]})]}),s.jsxs(ye,{onClick:()=>c(!0),className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(Za,{className:"w-4 h-4 mr-2"}),y.newMessage[t]]})]}),l&&s.jsxs(Se,{className:"p-6 border-purple-300 bg-purple-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:y.newMessage[t]}),s.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700",children:s.jsx(In,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:y.subject[t]}),s.jsx("input",{type:"text",value:f,onChange:T=>g(T.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter subject..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:y.message[t]}),s.jsx("textarea",{value:p,onChange:T=>b(T.target.value),rows:6,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",placeholder:"Type your message..."})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ye,{variant:"ghost",onClick:()=>c(!1),children:y.cancel[t]}),s.jsxs(ye,{onClick:B,children:[s.jsx(Za,{className:"w-4 h-4 mr-2"}),y.send[t]]})]})]})]}),i?s.jsx(Se,{className:"p-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Loading messages..."})}):n.length===0?s.jsxs(Se,{className:"p-8 text-center",children:[s.jsx(jf,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:y.noMessages[t]})]}):s.jsx("div",{className:"space-y-3",children:n.map(T=>s.jsx(Se,{className:`p-4 cursor-pointer transition-all hover:shadow-md ${T.isRead?"":"bg-purple-50 border-purple-300"}`,onClick:()=>{u(T),T.isRead||F(T.id)},children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:T.subject}),!T.isRead&&s.jsx(vt,{variant:"destructive",className:"text-xs",children:y.unread[t]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:T.content}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[T.senderRole==="admin"?s.jsx(Ht,{className:"w-3 h-3"}):s.jsx(Mr,{className:"w-3 h-3"}),y.from[t],": "," ",T.senderRole==="admin"?y.admin[t]:T.senderId===(r==null?void 0:r.id)?y.you[t]:T.senderName]}),s.jsx("span",{children:Q(T.createdAt)}),T.isRead&&s.jsx(gD,{className:"w-3 h-3 text-green-600"})]}),T.attachments&&T.attachments.length>0&&s.jsxs("div",{className:"mt-2 flex items-center gap-1 text-xs text-gray-600",children:[s.jsx(EN,{className:"w-3 h-3"}),T.attachments.length," ",y.attachments[t]]})]}),P&&s.jsx("button",{onClick:k=>{k.stopPropagation(),E(T.id,T.subject)},className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",title:"Delete message",children:s.jsx(Pi,{className:"w-4 h-4"})})]})},T.id))}),A&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsx(Se,{className:"max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:A.subject}),!A.isRead&&s.jsx(vt,{variant:"destructive",children:y.unread[t]})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[y.from[t],": ",A.senderName," ‚Ä¢ ",Q(A.createdAt)]})]}),s.jsx("button",{onClick:()=>u(null),className:"text-gray-500 hover:text-gray-700",children:s.jsx(In,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:A.content})}),A.attachments&&A.attachments.length>0&&s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:y.attachments[t]}),s.jsx("div",{className:"space-y-2",children:A.attachments.map((T,k)=>s.jsxs("a",{href:T.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx(EN,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm text-gray-900",children:T.name}),s.jsxs("span",{className:"text-xs text-gray-500 ml-auto",children:[(T.size/1024).toFixed(1)," KB"]})]},k))})]})]})})})]})})}const n9=e=>{switch(e){case"not-started":return{label:"Not Started",color:"bg-gray-100 text-gray-700 border-gray-300",icon:Ht,iconColor:"text-gray-500"};case"in-progress":return{label:"In Progress",color:"bg-blue-100 text-blue-700 border-blue-300",icon:Mr,iconColor:"text-blue-500"};case"under-review":return{label:"Under Review",color:"bg-yellow-100 text-yellow-700 border-yellow-300",icon:Mr,iconColor:"text-yellow-500"};case"completed":return{label:"Completed",color:"bg-green-100 text-green-700 border-green-300",icon:He,iconColor:"text-green-500"};case"filed":return{label:"Filed with CRA",color:"bg-purple-100 text-purple-700 border-purple-300",icon:He,iconColor:"text-purple-500"}}};function s9(){var p,b,m,x,y;const{user:e,signOut:t}=Wr(),r=Br(),{t:n}=$r(),[a,i]=C.useState(null),[o,l]=C.useState(!0),[c,A]=C.useState(null),[u,d]=C.useState([]);C.useEffect(()=>{console.log("üîç [DEBUG] User object:",e),console.log("üîç [DEBUG] User email:",e==null?void 0:e.email),console.log("üîç [DEBUG] Is admin?",Ya(e==null?void 0:e.email))},[e]),C.useEffect(()=>{if(!e){r("/login");return}h()},[e,r]);const h=async()=>{var w,N,B,F,E,P;if(e!=null&&e.id)try{const{data:Q,error:U}=await Le.auth.getUser();if(U){if((w=U.message)!=null&&w.includes("session")||(N=U.message)!=null&&N.includes("Auth")||(B=U.message)!=null&&B.includes("authenticated"))return;console.error("Error fetching user:",U);return}if(!((P=(E=(F=Q==null?void 0:Q.user)==null?void 0:F.user_metadata)==null?void 0:E.profile)!=null&&P.onboardingCompleted)){r("/onboarding");return}i(Q.user.user_metadata.profile);const T=Q.user.user_metadata.taxFilings||[];console.log("üìä Raw tax filings data:",T);let k=!1;const I=T.map(L=>{if(L&&typeof L=="object"&&typeof L.year=="object"&&L.year!==null){console.warn("üîß AUTO-FIXING corrupted filing:",L),k=!0;const K=L.year.year;if(typeof K=="number"){const R={...L,year:K};return L.year.pricingPresetId&&!L.payment&&(R.payment={status:"pending",amount:0,currency:"CAD",pricingPresetId:L.year.pricingPresetId,createdAt:L.createdAt}),console.log("‚úÖ Fixed filing:",R),R}else return console.error("‚ùå Cannot extract year from:",L.year),null}return L}).filter(Boolean);if(k){console.log("üíæ Saving auto-fixed tax filings to Supabase...");try{await Le.auth.updateUser({data:{...Q.user.user_metadata,taxFilings:I}}),console.log("‚úÖ Auto-fix completed and saved!"),me.success("Tax filings data has been automatically corrected")}catch(L){console.error("‚ùå Failed to save auto-fix:",L),me.error("Failed to save corrected data")}}const M=I.filter(L=>{if(!L||typeof L!="object")return console.warn("‚ö†Ô∏è Invalid filing (not an object):",L),!1;if(!L.year||typeof L.year!="number")return console.warn("‚ö†Ô∏è Invalid filing (missing or invalid year):",L),!1;if(!L.status||typeof L.status!="string")return console.warn("‚ö†Ô∏è Invalid filing (missing or invalid status):",L),!1;const K=Object.keys(L);return K.length===2&&K.includes("pricingPresetId")&&K.includes("year")?(console.warn("‚ö†Ô∏è Corrupted filing detected (only pricingPresetId and year):",L),!1):!0});if(console.log("‚úÖ Valid filings after auto-fix and filtering:",M),M.length===0){const L=[{year:2025,status:"in-progress",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{year:2026,status:"not-started",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];console.log("üìù Creating default filings:",L),await Le.auth.updateUser({data:{taxFilings:L}}),d(L)}else M.sort((L,K)=>K.year-L.year),d(M)}catch(Q){console.error("Error loading profile:",Q)}finally{l(!1)}},f=async()=>{try{await t(),r("/login")}catch(w){console.error("Error signing out:",w)}},g=()=>{r("/onboarding")};return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your profile..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b sticky top-0 z-10",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(ea,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-medium",children:(a==null?void 0:a.name)||(e==null?void 0:e.name)||"Client Portal"}),s.jsx("p",{className:"text-sm text-gray-500",children:e==null?void 0:e.email})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ye,{onClick:()=>{console.log("üîß DEBUG BUTTON CLICKED"),console.log("üîß Current user:",e),console.log("üîß User email:",e==null?void 0:e.email),console.log("üîß Is admin check:",Ya(e==null?void 0:e.email)),r("/admin")},variant:"outline",size:"sm",className:"bg-yellow-50 border-yellow-400 text-yellow-700 hover:bg-yellow-100",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),"üîß DEBUG: Admin Panel"]}),Ya(e==null?void 0:e.email)&&s.jsxs(ye,{onClick:()=>r("/admin"),variant:"outline",size:"sm",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),"Admin Panel"]}),s.jsxs(ye,{onClick:()=>r("/client/invoices"),variant:"outline",size:"sm",children:[s.jsx(vo,{className:"w-4 h-4 mr-2"}),"Invoices"]}),s.jsxs(ye,{onClick:f,variant:"outline",size:"sm",children:[s.jsx(Sx,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsx(Se,{className:"p-6 mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl mb-2",children:["Welcome, ",(p=a==null?void 0:a.name)==null?void 0:p.split(" ")[0],"! üëã"]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Your profile is complete. We'll be in touch soon with next steps."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(vt,{variant:"default",className:"bg-green-600",children:"Profile Complete"}),s.jsx(vt,{variant:"outline",children:(a==null?void 0:a.serviceCategory)==="personal"?"Personal Tax":(a==null?void 0:a.serviceCategory)==="small-business"?"Small Business":(a==null?void 0:a.serviceCategory)==="bookkeeping"?"Bookkeeping":"Financial Reports"})]})]}),s.jsxs(ye,{onClick:g,variant:"outline",size:"sm",children:[s.jsx(Cf,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b",children:[s.jsx(ea,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"font-medium text-lg",children:"Personal Information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ea,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),s.jsx("p",{className:"font-medium",children:a==null?void 0:a.name})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ja,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium",children:a==null?void 0:a.email})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(gh,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),s.jsx("p",{className:"font-medium",children:a==null?void 0:a.phone})]})]}),(a==null?void 0:a.dateOfBirth)&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(tr,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Date of Birth"}),s.jsx("p",{className:"font-medium",children:new Date(a.dateOfBirth).toLocaleDateString("en-CA",{year:"numeric",month:"long",day:"numeric"})})]})]}),(a==null?void 0:a.sin)&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Co,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"SIN"}),s.jsxs("p",{className:"font-medium",children:["‚Ä¢‚Ä¢‚Ä¢-‚Ä¢‚Ä¢‚Ä¢-",a.sin.slice(-3)]})]})]})]})]}),s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b",children:[s.jsx(No,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"font-medium text-lg",children:"Address"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ws,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Street Address"}),s.jsx("p",{className:"font-medium",children:a==null?void 0:a.address})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ws,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"City"}),s.jsx("p",{className:"font-medium",children:a==null?void 0:a.city})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ws,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Province"}),s.jsx("p",{className:"font-medium",children:a==null?void 0:a.province})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ws,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Postal Code"}),s.jsx("p",{className:"font-medium",children:a==null?void 0:a.postalCode})]})]})]})]})]}),(a==null?void 0:a.serviceCategory)==="personal"&&s.jsxs(s.Fragment,{children:[s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b",children:[s.jsx(dr,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"font-medium text-lg",children:"Family Status"})]}),s.jsxs("div",{className:"space-y-4",children:[(a==null?void 0:a.maritalStatus)&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(dr,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Marital Status"}),s.jsx("p",{className:"font-medium capitalize",children:a.maritalStatus})]})]}),(a==null?void 0:a.numberOfDependents)!==void 0&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(dr,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Number of Dependents"}),s.jsx("p",{className:"font-medium",children:a.numberOfDependents})]})]}),(a==null?void 0:a.residencyStatus)&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(No,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Residency Status"}),s.jsx("p",{className:"font-medium capitalize",children:a.residencyStatus.replace("-"," ")})]})]}),(a==null?void 0:a.firstTimeInCanada)&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ws,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"First Time Filing in Canada"}),s.jsx("p",{className:"font-medium capitalize",children:a.firstTimeInCanada})]})]})]})]}),s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b",children:[s.jsx(qp,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"font-medium text-lg",children:"Employment Information"})]}),s.jsxs("div",{className:"space-y-4",children:[(a==null?void 0:a.incomeType)&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qp,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Income Type"}),s.jsx("p",{className:"font-medium capitalize",children:a.incomeType.replace("-"," ")})]})]}),(a==null?void 0:a.workProvince)&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ws,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Work Province"}),s.jsx("p",{className:"font-medium",children:a.workProvince})]})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[s.jsx(V$,{isQuebec:((b=a==null?void 0:a.province)==null?void 0:b.toLowerCase().includes("quebec"))||((m=a==null?void 0:a.province)==null?void 0:m.toLowerCase().includes("qu√©bec"))||((x=a==null?void 0:a.workProvince)==null?void 0:x.toLowerCase().includes("quebec"))||((y=a==null?void 0:a.workProvince)==null?void 0:y.toLowerCase().includes("qu√©bec"))}),s.jsx(r9,{clientId:(e==null?void 0:e.id)||""})]}),s.jsxs(Se,{className:"p-6 mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 pb-3 border-b",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mt,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"font-medium text-lg",children:"Tax Filings"})]}),s.jsxs(vt,{variant:"outline",className:"text-xs",children:[u.length," ",u.length===1?"Year":"Years"]})]}),s.jsx("div",{className:"space-y-3",children:u.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:s.jsx("p",{children:"No tax filings available yet."})}):u.map((w,N)=>{if(!w||typeof w!="object"||!w.year)return console.warn("Invalid filing detected:",w),null;const B=n9(w.status),F=B.icon;return s.jsx("button",{onClick:()=>r(`/tax-filing/${w.year}`),className:"w-full bg-white border rounded-lg p-4 hover:border-blue-300 hover:shadow-md transition-all group",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center",children:s.jsx(tr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("p",{className:"font-medium text-lg",children:["Tax Year ",w.year]}),s.jsxs(vt,{variant:"outline",className:`text-xs ${B.color} border`,children:[s.jsx(F,{className:`w-3 h-3 mr-1 ${B.iconColor}`}),B.label]})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Last updated: ",new Date(w.updatedAt).toLocaleDateString("en-CA",{year:"numeric",month:"long",day:"numeric"})]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Fc,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})})]})},`${w.year}-${N}`)})}),s.jsx("div",{className:"mt-6 pt-4 border-t",children:s.jsx("p",{className:"text-sm text-gray-500 text-center",children:"üí° Click on a year to view details, upload documents, and track progress."})})]}),s.jsxs(Se,{className:"p-6 mt-6 bg-blue-50 border-blue-200",children:[s.jsxs("h3",{className:"font-medium text-blue-900 mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:"üìã"})," What's Next?"]}),s.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[s.jsx("p",{children:"‚úÖ Your profile is complete and under review."}),s.jsxs("p",{children:["üìß We'll reach out to you at ",s.jsx("strong",{children:a==null?void 0:a.email})," with next steps."]}),s.jsx("p",{children:"üìû You can also reach us at our contact number if you have any questions."}),s.jsx("p",{children:"üóìÔ∏è You'll receive instructions on how to proceed with your tax filing shortly."})]})]})]})]})}var bh=e=>e.type==="checkbox",mc=e=>e instanceof Date,ys=e=>e==null;const o3=e=>typeof e=="object";var un=e=>!ys(e)&&!Array.isArray(e)&&o3(e)&&!mc(e),a9=e=>un(e)&&e.target?bh(e.target)?e.target.checked:e.target.value:e,i9=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,o9=(e,t)=>e.has(i9(t)),l9=e=>{const t=e.constructor&&e.constructor.prototype;return un(t)&&t.hasOwnProperty("isPrototypeOf")},d2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function os(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(d2&&(e instanceof Blob||n))&&(r||un(e)))if(t=r?[]:{},!r&&!l9(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=os(e[a]));else return e;return t}var Mx=e=>Array.isArray(e)?e.filter(Boolean):[],gn=e=>e===void 0,ft=(e,t,r)=>{if(!t||!un(e))return r;const n=Mx(t.split(/[,[\].]+?/)).reduce((a,i)=>ys(a)?a:a[i],e);return gn(n)||n===e?gn(e[t])?r:e[t]:n},yi=e=>typeof e=="boolean",f2=e=>/^\w*$/.test(e),l3=e=>Mx(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ur=(e,t,r)=>{let n=-1;const a=f2(t)?[t]:l3(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const A=e[l];c=un(A)||Array.isArray(A)?A:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const yC={BLUR:"blur",FOCUS_OUT:"focusout"},za={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},io={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};fe.createContext(null);var c9=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==za.all&&(t._proxyFormState[o]=!n||za.all),e[o]}});return a},Ci=e=>typeof e=="string",A9=(e,t,r,n,a)=>Ci(e)?(n&&t.watch.add(e),ft(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),ft(r,i))):(n&&(t.watchAll=!0),r),u9=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},of=e=>Array.isArray(e)?e:[e],wC=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Oy=e=>ys(e)||!o3(e);function Al(e,t){if(Oy(e)||Oy(t))return e===t;if(mc(e)&&mc(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(mc(i)&&mc(o)||un(i)&&un(o)||Array.isArray(i)&&Array.isArray(o)?!Al(i,o):i!==o)return!1}}return!0}var bs=e=>un(e)&&!Object.keys(e).length,h2=e=>e.type==="file",Ga=e=>typeof e=="function",ag=e=>{if(!d2)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},c3=e=>e.type==="select-multiple",m2=e=>e.type==="radio",d9=e=>m2(e)||bh(e),Kv=e=>ag(e)&&e.isConnected;function f9(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=gn(e)?n++:e[t[n++]];return e}function h9(e){for(const t in e)if(e.hasOwnProperty(t)&&!gn(e[t]))return!1;return!0}function Tn(e,t){const r=Array.isArray(t)?t:f2(t)?[t]:l3(t),n=r.length===1?e:f9(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(un(n)&&bs(n)||Array.isArray(n)&&h9(n))&&Tn(e,r.slice(0,-1)),e}var A3=e=>{for(const t in e)if(Ga(e[t]))return!0;return!1};function ig(e,t={}){const r=Array.isArray(e);if(un(e)||r)for(const n in e)Array.isArray(e[n])||un(e[n])&&!A3(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ig(e[n],t[n])):ys(e[n])||(t[n]=!0);return t}function u3(e,t,r){const n=Array.isArray(e);if(un(e)||n)for(const a in e)Array.isArray(e[a])||un(e[a])&&!A3(e[a])?gn(t)||Oy(r[a])?r[a]=Array.isArray(e[a])?ig(e[a],[]):{...ig(e[a])}:u3(e[a],ys(t)?{}:t[a],r[a]):r[a]=!Al(e[a],t[a]);return r}var Td=(e,t)=>u3(e,t,ig(t));const jC={value:!1,isValid:!1},NC={value:!0,isValid:!0};var d3=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!gn(e[0].attributes.value)?gn(e[0].value)||e[0].value===""?NC:{value:e[0].value,isValid:!0}:NC:jC}return jC},f3=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>gn(e)?e:t?e===""?NaN:e&&+e:r&&Ci(e)?new Date(e):n?n(e):e;const CC={isValid:!1,value:null};var h3=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,CC):CC;function BC(e){const t=e.ref;return h2(t)?t.files:m2(t)?h3(e.refs).value:c3(t)?[...t.selectedOptions].map(({value:r})=>r):bh(t)?d3(e.refs).value:f3(gn(t.value)?e.ref.value:t.value,e)}var m9=(e,t,r,n)=>{const a={};for(const i of e){const o=ft(t,i);o&&Ur(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},og=e=>e instanceof RegExp,Pd=e=>gn(e)?e:og(e)?e.source:un(e)?og(e.value)?e.value.source:e.value:e,SC=e=>({isOnSubmit:!e||e===za.onSubmit,isOnBlur:e===za.onBlur,isOnChange:e===za.onChange,isOnAll:e===za.all,isOnTouch:e===za.onTouched});const EC="AsyncFunction";var p9=e=>!!e&&!!e.validate&&!!(Ga(e.validate)&&e.validate.constructor.name===EC||un(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===EC)),g9=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),FC=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const lf=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=ft(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(lf(l,t))break}else if(un(l)&&lf(l,t))break}}};function TC(e,t,r){const n=ft(e,r);if(n||f2(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=ft(t,i),l=ft(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var x9=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return bs(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||za.all))},v9=(e,t,r)=>!e||!t||e===t||of(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),b9=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,y9=(e,t)=>!Mx(ft(e,t)).length&&Tn(e,t),w9=(e,t,r)=>{const n=of(ft(e,r));return Ur(n,"root",t[r]),Ur(e,r,n),e},Op=e=>Ci(e);function PC(e,t,r="validate"){if(Op(e)||Array.isArray(e)&&e.every(Op)||yi(e)&&!e)return{type:r,message:Op(e)?e:"",ref:t}}var vA=e=>un(e)&&!og(e)?e:{value:e,message:""},kC=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:A,minLength:u,min:d,max:h,pattern:f,validate:g,name:p,valueAsNumber:b,mount:m}=e._f,x=ft(r,p);if(!m||t.has(p))return{};const y=l?l[0]:o,w=T=>{a&&y.reportValidity&&(y.setCustomValidity(yi(T)?"":T||""),y.reportValidity())},N={},B=m2(o),F=bh(o),E=B||F,P=(b||h2(o))&&gn(o.value)&&gn(x)||ag(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,Q=u9.bind(null,p,n,N),U=(T,k,I,M=io.maxLength,L=io.minLength)=>{const K=T?k:I;N[p]={type:T?M:L,message:K,ref:o,...Q(T?M:L,K)}};if(i?!Array.isArray(x)||!x.length:c&&(!E&&(P||ys(x))||yi(x)&&!x||F&&!d3(l).isValid||B&&!h3(l).isValid)){const{value:T,message:k}=Op(c)?{value:!!c,message:c}:vA(c);if(T&&(N[p]={type:io.required,message:k,ref:y,...Q(io.required,k)},!n))return w(k),N}if(!P&&(!ys(d)||!ys(h))){let T,k;const I=vA(h),M=vA(d);if(!ys(x)&&!isNaN(x)){const L=o.valueAsNumber||x&&+x;ys(I.value)||(T=L>I.value),ys(M.value)||(k=L<M.value)}else{const L=o.valueAsDate||new Date(x),K=q=>new Date(new Date().toDateString()+" "+q),R=o.type=="time",$=o.type=="week";Ci(I.value)&&x&&(T=R?K(x)>K(I.value):$?x>I.value:L>new Date(I.value)),Ci(M.value)&&x&&(k=R?K(x)<K(M.value):$?x<M.value:L<new Date(M.value))}if((T||k)&&(U(!!T,I.message,M.message,io.max,io.min),!n))return w(N[p].message),N}if((A||u)&&!P&&(Ci(x)||i&&Array.isArray(x))){const T=vA(A),k=vA(u),I=!ys(T.value)&&x.length>+T.value,M=!ys(k.value)&&x.length<+k.value;if((I||M)&&(U(I,T.message,k.message),!n))return w(N[p].message),N}if(f&&!P&&Ci(x)){const{value:T,message:k}=vA(f);if(og(T)&&!x.match(T)&&(N[p]={type:io.pattern,message:k,ref:o,...Q(io.pattern,k)},!n))return w(k),N}if(g){if(Ga(g)){const T=await g(x,r),k=PC(T,y);if(k&&(N[p]={...k,...Q(io.validate,k.message)},!n))return w(k.message),N}else if(un(g)){let T={};for(const k in g){if(!bs(T)&&!n)break;const I=PC(await g[k](x,r),y,k);I&&(T={...I,...Q(k,I.message)},w(I.message),n&&(N[p]=T))}if(!bs(T)&&(N[p]={ref:y,...T},!n))return N}}return w(!0),N};const j9={mode:za.onSubmit,reValidateMode:za.onChange,shouldFocusError:!0};function N9(e={}){let t={...j9,...e},r={submitCount:0,isDirty:!1,isLoading:Ga(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=un(t.defaultValues)||un(t.values)?os(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:os(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,A=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const h={array:wC(),state:wC()},f=SC(t.mode),g=SC(t.reValidateMode),p=t.criteriaMode===za.all,b=ce=>pe=>{clearTimeout(A),A=setTimeout(ce,pe)},m=async ce=>{if(!t.disabled&&(u.isValid||d.isValid||ce)){const pe=t.resolver?bs((await P()).errors):await U(n,!0);pe!==r.isValid&&h.state.next({isValid:pe})}},x=(ce,pe)=>{!t.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((ce||Array.from(l.mount)).forEach(Be=>{Be&&(pe?Ur(r.validatingFields,Be,pe):Tn(r.validatingFields,Be))}),h.state.next({validatingFields:r.validatingFields,isValidating:!bs(r.validatingFields)}))},y=(ce,pe=[],Be,Qe,Ie=!0,Pe=!0)=>{if(Qe&&Be&&!t.disabled){if(o.action=!0,Pe&&Array.isArray(ft(n,ce))){const $e=Be(ft(n,ce),Qe.argA,Qe.argB);Ie&&Ur(n,ce,$e)}if(Pe&&Array.isArray(ft(r.errors,ce))){const $e=Be(ft(r.errors,ce),Qe.argA,Qe.argB);Ie&&Ur(r.errors,ce,$e),y9(r.errors,ce)}if((u.touchedFields||d.touchedFields)&&Pe&&Array.isArray(ft(r.touchedFields,ce))){const $e=Be(ft(r.touchedFields,ce),Qe.argA,Qe.argB);Ie&&Ur(r.touchedFields,ce,$e)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=Td(a,i)),h.state.next({name:ce,isDirty:k(ce,pe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ur(i,ce,pe)},w=(ce,pe)=>{Ur(r.errors,ce,pe),h.state.next({errors:r.errors})},N=ce=>{r.errors=ce,h.state.next({errors:r.errors,isValid:!1})},B=(ce,pe,Be,Qe)=>{const Ie=ft(n,ce);if(Ie){const Pe=ft(i,ce,gn(Be)?ft(a,ce):Be);gn(Pe)||Qe&&Qe.defaultChecked||pe?Ur(i,ce,pe?Pe:BC(Ie._f)):L(ce,Pe),o.mount&&m()}},F=(ce,pe,Be,Qe,Ie)=>{let Pe=!1,$e=!1;const Ve={name:ce};if(!t.disabled){if(!Be||Qe){(u.isDirty||d.isDirty)&&($e=r.isDirty,r.isDirty=Ve.isDirty=k(),Pe=$e!==Ve.isDirty);const lt=Al(ft(a,ce),pe);$e=!!ft(r.dirtyFields,ce),lt?Tn(r.dirtyFields,ce):Ur(r.dirtyFields,ce,!0),Ve.dirtyFields=r.dirtyFields,Pe=Pe||(u.dirtyFields||d.dirtyFields)&&$e!==!lt}if(Be){const lt=ft(r.touchedFields,ce);lt||(Ur(r.touchedFields,ce,Be),Ve.touchedFields=r.touchedFields,Pe=Pe||(u.touchedFields||d.touchedFields)&&lt!==Be)}Pe&&Ie&&h.state.next(Ve)}return Pe?Ve:{}},E=(ce,pe,Be,Qe)=>{const Ie=ft(r.errors,ce),Pe=(u.isValid||d.isValid)&&yi(pe)&&r.isValid!==pe;if(t.delayError&&Be?(c=b(()=>w(ce,Be)),c(t.delayError)):(clearTimeout(A),c=null,Be?Ur(r.errors,ce,Be):Tn(r.errors,ce)),(Be?!Al(Ie,Be):Ie)||!bs(Qe)||Pe){const $e={...Qe,...Pe&&yi(pe)?{isValid:pe}:{},errors:r.errors,name:ce};r={...r,...$e},h.state.next($e)}},P=async ce=>{x(ce,!0);const pe=await t.resolver(i,t.context,m9(ce||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(ce),pe},Q=async ce=>{const{errors:pe}=await P(ce);if(ce)for(const Be of ce){const Qe=ft(pe,Be);Qe?Ur(r.errors,Be,Qe):Tn(r.errors,Be)}else r.errors=pe;return pe},U=async(ce,pe,Be={valid:!0})=>{for(const Qe in ce){const Ie=ce[Qe];if(Ie){const{_f:Pe,...$e}=Ie;if(Pe){const Ve=l.array.has(Pe.name),lt=Ie._f&&p9(Ie._f);lt&&u.validatingFields&&x([Qe],!0);const Xe=await kC(Ie,l.disabled,i,p,t.shouldUseNativeValidation&&!pe,Ve);if(lt&&u.validatingFields&&x([Qe]),Xe[Pe.name]&&(Be.valid=!1,pe))break;!pe&&(ft(Xe,Pe.name)?Ve?w9(r.errors,Xe,Pe.name):Ur(r.errors,Pe.name,Xe[Pe.name]):Tn(r.errors,Pe.name))}!bs($e)&&await U($e,pe,Be)}}return Be.valid},T=()=>{for(const ce of l.unMount){const pe=ft(n,ce);pe&&(pe._f.refs?pe._f.refs.every(Be=>!Kv(Be)):!Kv(pe._f.ref))&&X(ce)}l.unMount=new Set},k=(ce,pe)=>!t.disabled&&(ce&&pe&&Ur(i,ce,pe),!Al(D(),a)),I=(ce,pe,Be)=>A9(ce,l,{...o.mount?i:gn(pe)?a:Ci(ce)?{[ce]:pe}:pe},Be,pe),M=ce=>Mx(ft(o.mount?i:a,ce,t.shouldUnregister?ft(a,ce,[]):[])),L=(ce,pe,Be={})=>{const Qe=ft(n,ce);let Ie=pe;if(Qe){const Pe=Qe._f;Pe&&(!Pe.disabled&&Ur(i,ce,f3(pe,Pe)),Ie=ag(Pe.ref)&&ys(pe)?"":pe,c3(Pe.ref)?[...Pe.ref.options].forEach($e=>$e.selected=Ie.includes($e.value)):Pe.refs?bh(Pe.ref)?Pe.refs.length>1?Pe.refs.forEach($e=>(!$e.defaultChecked||!$e.disabled)&&($e.checked=Array.isArray(Ie)?!!Ie.find(Ve=>Ve===$e.value):Ie===$e.value)):Pe.refs[0]&&(Pe.refs[0].checked=!!Ie):Pe.refs.forEach($e=>$e.checked=$e.value===Ie):h2(Pe.ref)?Pe.ref.value="":(Pe.ref.value=Ie,Pe.ref.type||h.state.next({name:ce,values:os(i)})))}(Be.shouldDirty||Be.shouldTouch)&&F(ce,Ie,Be.shouldTouch,Be.shouldDirty,!0),Be.shouldValidate&&Z(ce)},K=(ce,pe,Be)=>{for(const Qe in pe){const Ie=pe[Qe],Pe=`${ce}.${Qe}`,$e=ft(n,Pe);(l.array.has(ce)||un(Ie)||$e&&!$e._f)&&!mc(Ie)?K(Pe,Ie,Be):L(Pe,Ie,Be)}},R=(ce,pe,Be={})=>{const Qe=ft(n,ce),Ie=l.array.has(ce),Pe=os(pe);Ur(i,ce,Pe),Ie?(h.array.next({name:ce,values:os(i)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&Be.shouldDirty&&h.state.next({name:ce,dirtyFields:Td(a,i),isDirty:k(ce,Pe)})):Qe&&!Qe._f&&!ys(Pe)?K(ce,Pe,Be):L(ce,Pe,Be),FC(ce,l)&&h.state.next({...r}),h.state.next({name:o.mount?ce:void 0,values:os(i)})},$=async ce=>{o.mount=!0;const pe=ce.target;let Be=pe.name,Qe=!0;const Ie=ft(n,Be),Pe=$e=>{Qe=Number.isNaN($e)||mc($e)&&isNaN($e.getTime())||Al($e,ft(i,Be,$e))};if(Ie){let $e,Ve;const lt=pe.type?BC(Ie._f):a9(ce),Xe=ce.type===yC.BLUR||ce.type===yC.FOCUS_OUT,Gr=!g9(Ie._f)&&!t.resolver&&!ft(r.errors,Be)&&!Ie._f.deps||b9(Xe,ft(r.touchedFields,Be),r.isSubmitted,g,f),zt=FC(Be,l,Xe);Ur(i,Be,lt),Xe?(Ie._f.onBlur&&Ie._f.onBlur(ce),c&&c(0)):Ie._f.onChange&&Ie._f.onChange(ce);const Ot=F(Be,lt,Xe),Lt=!bs(Ot)||zt;if(!Xe&&h.state.next({name:Be,type:ce.type,values:os(i)}),Gr)return(u.isValid||d.isValid)&&(t.mode==="onBlur"?Xe&&m():Xe||m()),Lt&&h.state.next({name:Be,...zt?{}:Ot});if(!Xe&&zt&&h.state.next({...r}),t.resolver){const{errors:yr}=await P([Be]);if(Pe(lt),Qe){const xt=TC(r.errors,n,Be),fr=TC(yr,n,xt.name||Be);$e=fr.error,Be=fr.name,Ve=bs(yr)}}else x([Be],!0),$e=(await kC(Ie,l.disabled,i,p,t.shouldUseNativeValidation))[Be],x([Be]),Pe(lt),Qe&&($e?Ve=!1:(u.isValid||d.isValid)&&(Ve=await U(n,!0)));Qe&&(Ie._f.deps&&Z(Ie._f.deps),E(Be,Ve,$e,Ot))}},q=(ce,pe)=>{if(ft(r.errors,pe)&&ce.focus)return ce.focus(),1},Z=async(ce,pe={})=>{let Be,Qe;const Ie=of(ce);if(t.resolver){const Pe=await Q(gn(ce)?ce:Ie);Be=bs(Pe),Qe=ce?!Ie.some($e=>ft(Pe,$e)):Be}else ce?(Qe=(await Promise.all(Ie.map(async Pe=>{const $e=ft(n,Pe);return await U($e&&$e._f?{[Pe]:$e}:$e)}))).every(Boolean),!(!Qe&&!r.isValid)&&m()):Qe=Be=await U(n);return h.state.next({...!Ci(ce)||(u.isValid||d.isValid)&&Be!==r.isValid?{}:{name:ce},...t.resolver||!ce?{isValid:Be}:{},errors:r.errors}),pe.shouldFocus&&!Qe&&lf(n,q,ce?Ie:l.mount),Qe},D=ce=>{const pe={...o.mount?i:a};return gn(ce)?pe:Ci(ce)?ft(pe,ce):ce.map(Be=>ft(pe,Be))},H=(ce,pe)=>({invalid:!!ft((pe||r).errors,ce),isDirty:!!ft((pe||r).dirtyFields,ce),error:ft((pe||r).errors,ce),isValidating:!!ft(r.validatingFields,ce),isTouched:!!ft((pe||r).touchedFields,ce)}),V=ce=>{ce&&of(ce).forEach(pe=>Tn(r.errors,pe)),h.state.next({errors:ce?r.errors:{}})},re=(ce,pe,Be)=>{const Qe=(ft(n,ce,{_f:{}})._f||{}).ref,Ie=ft(r.errors,ce)||{},{ref:Pe,message:$e,type:Ve,...lt}=Ie;Ur(r.errors,ce,{...lt,...pe,ref:Qe}),h.state.next({name:ce,errors:r.errors,isValid:!1}),Be&&Be.shouldFocus&&Qe&&Qe.focus&&Qe.focus()},Ae=(ce,pe)=>Ga(ce)?h.state.subscribe({next:Be=>ce(I(void 0,pe),Be)}):I(ce,pe,!0),ae=ce=>h.state.subscribe({next:pe=>{v9(ce.name,pe.name,ce.exact)&&x9(pe,ce.formState||u,ke,ce.reRenderRoot)&&ce.callback({values:{...i},...r,...pe})}}).unsubscribe,de=ce=>(o.mount=!0,d={...d,...ce.formState},ae({...ce,formState:d})),X=(ce,pe={})=>{for(const Be of ce?of(ce):l.mount)l.mount.delete(Be),l.array.delete(Be),pe.keepValue||(Tn(n,Be),Tn(i,Be)),!pe.keepError&&Tn(r.errors,Be),!pe.keepDirty&&Tn(r.dirtyFields,Be),!pe.keepTouched&&Tn(r.touchedFields,Be),!pe.keepIsValidating&&Tn(r.validatingFields,Be),!t.shouldUnregister&&!pe.keepDefaultValue&&Tn(a,Be);h.state.next({values:os(i)}),h.state.next({...r,...pe.keepDirty?{isDirty:k()}:{}}),!pe.keepIsValid&&m()},te=({disabled:ce,name:pe})=>{(yi(ce)&&o.mount||ce||l.disabled.has(pe))&&(ce?l.disabled.add(pe):l.disabled.delete(pe))},ue=(ce,pe={})=>{let Be=ft(n,ce);const Qe=yi(pe.disabled)||yi(t.disabled);return Ur(n,ce,{...Be||{},_f:{...Be&&Be._f?Be._f:{ref:{name:ce}},name:ce,mount:!0,...pe}}),l.mount.add(ce),Be?te({disabled:yi(pe.disabled)?pe.disabled:t.disabled,name:ce}):B(ce,!0,pe.value),{...Qe?{disabled:pe.disabled||t.disabled}:{},...t.progressive?{required:!!pe.required,min:Pd(pe.min),max:Pd(pe.max),minLength:Pd(pe.minLength),maxLength:Pd(pe.maxLength),pattern:Pd(pe.pattern)}:{},name:ce,onChange:$,onBlur:$,ref:Ie=>{if(Ie){ue(ce,pe),Be=ft(n,ce);const Pe=gn(Ie.value)&&Ie.querySelectorAll&&Ie.querySelectorAll("input,select,textarea")[0]||Ie,$e=d9(Pe),Ve=Be._f.refs||[];if($e?Ve.find(lt=>lt===Pe):Pe===Be._f.ref)return;Ur(n,ce,{_f:{...Be._f,...$e?{refs:[...Ve.filter(Kv),Pe,...Array.isArray(ft(a,ce))?[{}]:[]],ref:{type:Pe.type,name:ce}}:{ref:Pe}}}),B(ce,!1,void 0,Pe)}else Be=ft(n,ce,{}),Be._f&&(Be._f.mount=!1),(t.shouldUnregister||pe.shouldUnregister)&&!(o9(l.array,ce)&&o.action)&&l.unMount.add(ce)}}},se=()=>t.shouldFocusError&&lf(n,q,l.mount),we=ce=>{yi(ce)&&(h.state.next({disabled:ce}),lf(n,(pe,Be)=>{const Qe=ft(n,Be);Qe&&(pe.disabled=Qe._f.disabled||ce,Array.isArray(Qe._f.refs)&&Qe._f.refs.forEach(Ie=>{Ie.disabled=Qe._f.disabled||ce}))},0,!1))},Ce=(ce,pe)=>async Be=>{let Qe;Be&&(Be.preventDefault&&Be.preventDefault(),Be.persist&&Be.persist());let Ie=os(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Pe,values:$e}=await P();r.errors=Pe,Ie=$e}else await U(n);if(l.disabled.size)for(const Pe of l.disabled)Ur(Ie,Pe,void 0);if(Tn(r.errors,"root"),bs(r.errors)){h.state.next({errors:{}});try{await ce(Ie,Be)}catch(Pe){Qe=Pe}}else pe&&await pe({...r.errors},Be),se(),setTimeout(se);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bs(r.errors)&&!Qe,submitCount:r.submitCount+1,errors:r.errors}),Qe)throw Qe},J=(ce,pe={})=>{ft(n,ce)&&(gn(pe.defaultValue)?R(ce,os(ft(a,ce))):(R(ce,pe.defaultValue),Ur(a,ce,os(pe.defaultValue))),pe.keepTouched||Tn(r.touchedFields,ce),pe.keepDirty||(Tn(r.dirtyFields,ce),r.isDirty=pe.defaultValue?k(ce,os(ft(a,ce))):k()),pe.keepError||(Tn(r.errors,ce),u.isValid&&m()),h.state.next({...r}))},_e=(ce,pe={})=>{const Be=ce?os(ce):a,Qe=os(Be),Ie=bs(ce),Pe=Ie?a:Qe;if(pe.keepDefaultValues||(a=Be),!pe.keepValues){if(pe.keepDirtyValues){const $e=new Set([...l.mount,...Object.keys(Td(a,i))]);for(const Ve of Array.from($e))ft(r.dirtyFields,Ve)?Ur(Pe,Ve,ft(i,Ve)):R(Ve,ft(Pe,Ve))}else{if(d2&&gn(ce))for(const $e of l.mount){const Ve=ft(n,$e);if(Ve&&Ve._f){const lt=Array.isArray(Ve._f.refs)?Ve._f.refs[0]:Ve._f.ref;if(ag(lt)){const Xe=lt.closest("form");if(Xe){Xe.reset();break}}}}for(const $e of l.mount)R($e,ft(Pe,$e))}i=os(Pe),h.array.next({values:{...Pe}}),h.state.next({values:{...Pe}})}l={mount:pe.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!pe.keepIsValid||!!pe.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:pe.keepSubmitCount?r.submitCount:0,isDirty:Ie?!1:pe.keepDirty?r.isDirty:!!(pe.keepDefaultValues&&!Al(ce,a)),isSubmitted:pe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ie?{}:pe.keepDirtyValues?pe.keepDefaultValues&&i?Td(a,i):r.dirtyFields:pe.keepDefaultValues&&ce?Td(a,ce):pe.keepDirty?r.dirtyFields:{},touchedFields:pe.keepTouched?r.touchedFields:{},errors:pe.keepErrors?r.errors:{},isSubmitSuccessful:pe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ge=(ce,pe)=>_e(Ga(ce)?ce(i):ce,pe),We=(ce,pe={})=>{const Be=ft(n,ce),Qe=Be&&Be._f;if(Qe){const Ie=Qe.refs?Qe.refs[0]:Qe.ref;Ie.focus&&(Ie.focus(),pe.shouldSelect&&Ga(Ie.select)&&Ie.select())}},ke=ce=>{r={...r,...ce}},qe={control:{register:ue,unregister:X,getFieldState:H,handleSubmit:Ce,setError:re,_subscribe:ae,_runSchema:P,_getWatch:I,_getDirty:k,_setValid:m,_setFieldArray:y,_setDisabledField:te,_setErrors:N,_getFieldArray:M,_reset:_e,_resetDefaultValues:()=>Ga(t.defaultValues)&&t.defaultValues().then(ce=>{Ge(ce,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:we,_subjects:h,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(ce){o=ce},get _defaultValues(){return a},get _names(){return l},set _names(ce){l=ce},get _formState(){return r},get _options(){return t},set _options(ce){t={...t,...ce}}},subscribe:de,trigger:Z,register:ue,handleSubmit:Ce,watch:Ae,setValue:R,getValues:D,reset:Ge,resetField:J,clearErrors:V,unregister:X,setError:re,setFocus:We,getFieldState:H};return{...qe,formControl:qe}}function C9(e={}){const t=fe.useRef(void 0),r=fe.useRef(void 0),[n,a]=fe.useState({isDirty:!1,isValidating:!1,isLoading:Ga(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ga(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:N9(e),formState:n},e.formControl&&e.defaultValues&&!Ga(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,fe.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),fe.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),fe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),fe.useEffect(()=>{e.values&&!Al(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),fe.useEffect(()=>{e.errors&&!bs(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),fe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),fe.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=c9(n,i),t.current}const p2=[{id:"t4-employment",name:{en:"T4 - Employment Income",fr:"T4 - Revenu d'emploi",pt:"T4 - Renda de Emprego"},description:{en:"Statement of Remuneration Paid - Employment income from employers",fr:"√âtat de la r√©mun√©ration pay√©e - Revenus d'emploi des employeurs",pt:"Declara√ß√£o de Remunera√ß√£o Paga - Renda de emprego dos empregadores"},icon:"üíº"},{id:"t4a-pension",name:{en:"T4A - Pension, Retirement, Annuity",fr:"T4A - Pension, Retraite, Rente",pt:"T4A - Pens√£o, Aposentadoria, Anuidade"},description:{en:"Statement of Pension, Retirement, Annuity, and Other Income",fr:"√âtat du revenu de pension, de retraite, de rente et d'autres revenus",pt:"Declara√ß√£o de Pens√£o, Aposentadoria, Anuidade e Outras Rendas"},icon:"üë¥"},{id:"t5-investment",name:{en:"T5 - Investment Income",fr:"T5 - Revenus de placements",pt:"T5 - Renda de Investimentos"},description:{en:"Statement of Investment Income - Interest, dividends, royalties",fr:"√âtat des revenus de placement - Int√©r√™ts, dividendes, redevances",pt:"Declara√ß√£o de Renda de Investimentos - Juros, dividendos, royalties"},icon:"üìà"},{id:"t3-trust",name:{en:"T3 - Trust Income",fr:"T3 - Revenu de fiducie",pt:"T3 - Renda de Trust"},description:{en:"Statement of Trust Income Allocations and Designations",fr:"√âtat des attributions et des d√©signations de revenus de fiducie",pt:"Declara√ß√£o de Aloca√ß√µes e Designa√ß√µes de Renda de Trust"},icon:"üè¶"},{id:"t5008-securities",name:{en:"T5008 - Securities Transactions",fr:"T5008 - Op√©rations sur titres",pt:"T5008 - Transa√ß√µes de T√≠tulos"},description:{en:"Statement of Securities Transactions - Stock sales, dispositions",fr:"√âtat des op√©rations sur titres - Ventes d'actions, dispositions",pt:"Declara√ß√£o de Transa√ß√µes de T√≠tulos - Vendas de a√ß√µes, disposi√ß√µes"},icon:"üìä"},{id:"t2202-tuition",name:{en:"T2202 - Tuition & Enrollment",fr:"T2202 - Frais de scolarit√© et inscription",pt:"T2202 - Mensalidade e Matr√≠cula"},description:{en:"Tuition and Enrolment Certificate - Education tax credits",fr:"Certificat de frais de scolarit√© et d'inscription - Cr√©dits d'imp√¥t pour √©tudes",pt:"Certificado de Mensalidade e Matr√≠cula - Cr√©ditos fiscais de educa√ß√£o"},icon:"üéì"},{id:"t4e-employment-insurance",name:{en:"T4E - Employment Insurance",fr:"T4E - Assurance-emploi",pt:"T4E - Seguro-Desemprego"},description:{en:"Statement of Employment Insurance and Other Benefits",fr:"√âtat de l'assurance-emploi et d'autres prestations",pt:"Declara√ß√£o de Seguro-Desemprego e Outros Benef√≠cios"},icon:"üõ°Ô∏è"},{id:"t1032-homebuyers",name:{en:"T1032 - Home Buyers' Plan",fr:"T1032 - R√©gime d'accession √† la propri√©t√©",pt:"T1032 - Plano de Compradores de Casa"},description:{en:"Joint Election to Split Pension Income / Home Buyers' Plan",fr:"Choix conjoint de fractionner le revenu de pension / RAP",pt:"Escolha Conjunta de Dividir Renda de Pens√£o / Plano RAP"},icon:"üè°"},{id:"rl1-employment-qc",name:{en:"RL-1 - Employment Income (Quebec)",fr:"RL-1 - Revenu d'emploi (Qu√©bec)",pt:"RL-1 - Renda de Emprego (Quebec)"},description:{en:"Relev√© 1 - Employment income (Quebec equivalent of T4)",fr:"Relev√© 1 - Revenu d'emploi (√©quivalent qu√©b√©cois du T4)",pt:"Relev√© 1 - Renda de emprego (equivalente ao T4 em Quebec)"},icon:"üçÅ",requiresQuebec:!0},{id:"rl2-pension-qc",name:{en:"RL-2 - Pension & Retirement (Quebec)",fr:"RL-2 - Pension et retraite (Qu√©bec)",pt:"RL-2 - Pens√£o e Aposentadoria (Quebec)"},description:{en:"Relev√© 2 - Pension, retirement income (Quebec equivalent of T4A)",fr:"Relev√© 2 - Revenu de pension, de retraite (√©quivalent qu√©b√©cois du T4A)",pt:"Relev√© 2 - Renda de pens√£o, aposentadoria (equivalente ao T4A em Quebec)"},icon:"üë¥",requiresQuebec:!0},{id:"rl3-investment-qc",name:{en:"RL-3 - Investment Income (Quebec)",fr:"RL-3 - Revenus de placements (Qu√©bec)",pt:"RL-3 - Renda de Investimentos (Quebec)"},description:{en:"Relev√© 3 - Investment income (Quebec equivalent of T5)",fr:"Relev√© 3 - Revenus de placement (√©quivalent qu√©b√©cois du T5)",pt:"Relev√© 3 - Renda de investimentos (equivalente ao T5 em Quebec)"},icon:"üìà",requiresQuebec:!0},{id:"rl8-tuition-qc",name:{en:"RL-8 - Tuition Fees (Quebec)",fr:"RL-8 - Frais de scolarit√© (Qu√©bec)",pt:"RL-8 - Mensalidades (Quebec)"},description:{en:"Relev√© 8 - Tuition and examination fees (Quebec equivalent of T2202)",fr:"Relev√© 8 - Frais de scolarit√© et d'examen (√©quivalent qu√©b√©cois du T2202)",pt:"Relev√© 8 - Mensalidades e taxas de exame (equivalente ao T2202 em Quebec)"},icon:"üéì",requiresQuebec:!0},{id:"rl24-childcare-qc",name:{en:"RL-24 - Childcare Expenses (Quebec)",fr:"RL-24 - Frais de garde d'enfants (Qu√©bec)",pt:"RL-24 - Despesas com Creche (Quebec)"},description:{en:"Relev√© 24 - Childcare expenses paid",fr:"Relev√© 24 - Frais de garde d'enfants pay√©s",pt:"Relev√© 24 - Despesas com creche pagas"},icon:"üë∂",requiresQuebec:!0},{id:"rl25-trust-qc",name:{en:"RL-25 - Trust Income (Quebec)",fr:"RL-25 - Revenu de fiducie (Qu√©bec)",pt:"RL-25 - Renda de Trust (Quebec)"},description:{en:"Relev√© 25 - Trust income allocations (Quebec equivalent of T3)",fr:"Relev√© 25 - Attributions de revenus de fiducie (√©quivalent qu√©b√©cois du T3)",pt:"Relev√© 25 - Aloca√ß√µes de renda de trust (equivalente ao T3 em Quebec)"},icon:"üè¶",requiresQuebec:!0},{id:"medical-expenses",name:{en:"Medical Expenses",fr:"Frais m√©dicaux",pt:"Despesas M√©dicas"},description:{en:"Medical and dental receipts, prescriptions, insurance premiums",fr:"Re√ßus m√©dicaux et dentaires, ordonnances, primes d'assurance",pt:"Recibos m√©dicos e dent√°rios, prescri√ß√µes, pr√™mios de seguro"},icon:"üè•"},{id:"donations",name:{en:"Charitable Donations",fr:"Dons de bienfaisance",pt:"Doa√ß√µes Beneficentes"},description:{en:"Official donation receipts from registered charities",fr:"Re√ßus officiels de dons d'organismes de bienfaisance enregistr√©s",pt:"Recibos oficiais de doa√ß√£o de institui√ß√µes de caridade registradas"},icon:"‚ù§Ô∏è"},{id:"rrsp-contributions",name:{en:"RRSP Contributions",fr:"Cotisations REER",pt:"Contribui√ß√µes RRSP"},description:{en:"RRSP contribution receipts and statements",fr:"Re√ßus de cotisations REER et relev√©s",pt:"Recibos de contribui√ß√µes RRSP e extratos"},icon:"üí∞"},{id:"childcare",name:{en:"Childcare Expenses",fr:"Frais de garde d'enfants",pt:"Despesas com Creche"},description:{en:"Daycare, babysitting, camps receipts",fr:"Re√ßus de garderie, de garde d'enfants, de camps",pt:"Recibos de creche, bab√°, acampamentos"},icon:"üë∂"},{id:"business-income",name:{en:"Business Income & Expenses",fr:"Revenus et d√©penses d'entreprise",pt:"Receitas e Despesas de Neg√≥cios"},description:{en:"Self-employment income, invoices, expense receipts, T2125 forms",fr:"Revenus de travail autonome, factures, re√ßus de d√©penses, formulaires T2125",pt:"Renda de trabalho aut√¥nomo, faturas, recibos de despesas, formul√°rios T2125"},icon:"üíº"},{id:"gst-hst-qst",name:{en:"GST/HST/QST Records",fr:"Registres de TPS/TVH/TVQ",pt:"Registros de GST/HST/QST"},description:{en:"Sales tax filings, ITCs, input tax credits",fr:"D√©clarations de taxe de vente, CTI, cr√©dits de taxe sur les intrants",pt:"Declara√ß√µes de impostos sobre vendas, CTI, cr√©ditos de imposto sobre insumos"},icon:"üßæ"},{id:"rental-income",name:{en:"Rental Property Income",fr:"Revenus de biens locatifs",pt:"Renda de Propriedade Alugada"},description:{en:"Rental income statements, property tax bills, maintenance receipts",fr:"√âtats des revenus de location, comptes de taxes fonci√®res, re√ßus d'entretien",pt:"Extratos de renda de aluguel, contas de IPTU, recibos de manuten√ß√£o"},icon:"üè†"},{id:"capital-gains",name:{en:"Capital Gains/Losses",fr:"Gains/pertes en capital",pt:"Ganhos/Perdas de Capital"},description:{en:"Property sales, stock transactions, investment dispositions",fr:"Ventes de biens, transactions boursi√®res, dispositions de placements",pt:"Vendas de propriedades, transa√ß√µes de a√ß√µes, disposi√ß√µes de investimentos"},icon:"üíπ"},{id:"notice-of-assessment",name:{en:"Previous Year's Notice of Assessment",fr:"Avis de cotisation de l'ann√©e pr√©c√©dente",pt:"Aviso de Avalia√ß√£o do Ano Anterior"},description:{en:"CRA Notice of Assessment from previous tax year",fr:"Avis de cotisation de l'ARC de l'ann√©e d'imposition pr√©c√©dente",pt:"Aviso de Avalia√ß√£o da CRA do ano fiscal anterior"},icon:"üìã"},{id:"other",name:{en:"Other Documents",fr:"Autres documents",pt:"Outros Documentos"},description:{en:"Any other relevant tax documents",fr:"Tout autre document fiscal pertinent",pt:"Qualquer outro documento fiscal relevante"},icon:"üìÑ"}];function B9(e,t){const r=(e==null?void 0:e.toLowerCase())==="quebec"||(e==null?void 0:e.toLowerCase())==="qu√©bec"||(t==null?void 0:t.toLowerCase())==="quebec"||(t==null?void 0:t.toLowerCase())==="qu√©bec";return p2.filter(n=>!(n.requiresQuebec&&!r||n.excludeForQuebec&&r))}function S9(e,t="en"){const r=p2.find(n=>n.id===e);return(r==null?void 0:r.name[t])||e}function E9(e,t="en"){const r=p2.find(n=>n.id===e);return(r==null?void 0:r.description[t])||""}function F9({year:e,onDocumentsUploaded:t,onComplete:r,disabled:n=!1}){const[a,i]=C.useState(!1),[o,l]=C.useState(!1),[c,A]=C.useState([]),[u,d]=C.useState(!1),h=async m=>{const x=Array.from(m.target.files||[]);if(x.length!==0){i(!0),l(!0),me.info(`Processing ${x.length} document(s)...`);try{const y=x.map(w=>({id:Math.random().toString(36).substr(2,9),fileName:w.name,type:"other",confidence:100,needsReview:!1,data:{}}));A(w=>[...w,...y]),me.success(`Successfully added ${y.length} document(s)!`),t&&t(y)}catch(y){console.error("Error processing documents:",y),me.error("Failed to process some documents")}finally{i(!1),l(!1),m.target.value=""}}},f=m=>{A(x=>x.filter(y=>y.id!==m)),me.info("Document removed")},g=async()=>{var m;if(c.length===0){me.error("No documents to save");return}d(!0),me.info("Saving documents...");try{const{data:x}=await Le.auth.getSession();if(!((m=x.session)!=null&&m.access_token))throw new Error("Please log in again");const y=await fetch(Nt.taxDocumentsParse,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x.session.access_token}`},body:JSON.stringify({year:e,parsedDocuments:c})}),w=await y.json();if(!y.ok)throw new Error(w.error||"Failed to save documents");me.success(`Successfully saved ${c.length} document(s)!`),A([]),r&&r()}catch(x){console.error("Error saving documents:",x),me.error(x.message||"Failed to save documents")}finally{d(!1)}},p=m=>({t4:"T4 - Employment Income",releve1:"Relev√© 1 - Quebec Employment",t5:"T5 - Investment Income",t2202:"T2202 - Tuition",rrsp:"RRSP Contribution",medical:"Medical Expense",donation:"Donation Receipt",business:"Business Expense",other:"Other Document"})[m]||m.toUpperCase(),b=m=>m>70?s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-700",children:"High Confidence"}):m>50?s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-yellow-100 text-yellow-700",children:"Medium Confidence"}):s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-red-100 text-red-700",children:"Low Confidence"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Se,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Upload Tax Documents"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors",children:[s.jsx("input",{type:"file",multiple:!0,accept:".pdf,image/*",onChange:h,className:"hidden",id:`tax-docs-upload-${e}`,disabled:a||o||n}),s.jsxs("label",{htmlFor:`tax-docs-upload-${e}`,className:`${n?"cursor-not-allowed opacity-50":"cursor-pointer"}`,children:[s.jsx(Qr,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:n?"üîí Payment Required":a?"Processing...":"Click to upload or drag and drop"}),s.jsx("p",{className:"text-sm text-gray-500",children:n?"Complete initial payment to unlock uploads":"PDFs or Images ‚Ä¢ T4, Relev√© 1, T5, T2202, RRSP, Receipts"})]})]}),o&&s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-blue-600",children:[s.jsx(ht,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Using OCR to extract data from documents..."})]})]}),c.length>0&&s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Uploaded Documents (",c.length,")"]}),s.jsx(ye,{onClick:g,disabled:u,className:"bg-green-600 hover:bg-green-700",children:u?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"w-4 h-4 mr-2"}),"Save All Documents"]})})]}),s.jsx("div",{className:"space-y-3",children:c.map(m=>s.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg border hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx(Mt,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"font-medium truncate",children:m.fileName}),b(m.confidence)]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:p(m.type)}),m.type==="t4"&&m.data&&s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[m.data.employmentIncome&&s.jsxs("p",{children:["Employment Income: $",m.data.employmentIncome.toLocaleString()]}),m.data.incomeTaxDeducted&&s.jsxs("p",{children:["Tax Withheld: $",m.data.incomeTaxDeducted.toLocaleString()]})]}),m.type==="releve1"&&m.data&&s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[m.data.employmentIncome&&s.jsxs("p",{children:["Employment Income: $",m.data.employmentIncome.toLocaleString()]}),m.data.provincialIncomeTax&&s.jsxs("p",{children:["Quebec Tax: $",m.data.provincialIncomeTax.toLocaleString()]})]}),m.needsReview&&s.jsxs("div",{className:"flex items-center gap-1 mt-2 text-yellow-600",children:[s.jsx(Ht,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs",children:"May need manual review"})]})]})]}),s.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>f(m.id),className:"text-red-600 hover:bg-red-50",children:s.jsx(In,{className:"w-4 h-4"})})]},m.id))}),c.some(m=>m.needsReview)&&s.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Ht,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-yellow-800",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Some documents need review"}),s.jsx("p",{children:"Documents marked for review have low confidence scores. Our team will verify the extracted data before calculating your tax return."})]})]})})]}),c.length===0&&!o&&s.jsxs(Se,{className:"p-6 bg-blue-50 border-blue-200",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"üí° Tip: What documents to upload"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"T4"})," - Employment income (from your employer)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Relev√© 1"})," - Employment income (Quebec only)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"T5"})," - Investment income (interest, dividends)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"T2202"})," - Tuition and enrollment certificate"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"RRSP"})," - Contribution receipts"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Medical"})," - Prescription and medical receipts"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Donations"})," - Charitable donation receipts"]})]})]})]})}function OC({taxYear:e,paymentType:t,amount:r,finalPrice:n,disabled:a=!1,onSuccess:i,className:o=""}){const[l,c]=C.useState(!1),A=async()=>{c(!0);try{const{data:{session:u}}=await Le.auth.getSession(),d=u==null?void 0:u.access_token;if(!d){me.error("Please log in to continue"),c(!1);return}const h=window.location.href,f=t==="initial"?"/make-server-c2a25be0/payments/create-initial-session":"/make-server-c2a25be0/payments/create-final-session",g=t==="initial"?{taxYear:e,returnUrl:h}:{taxYear:e,finalAmount:n||r,returnUrl:h},p=await fetch(`https://${Vt}.supabase.co/functions/v1${f}`,{method:"POST",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"},body:JSON.stringify(g)});if(!p.ok){const y=(await p.json()).error||"Payment session creation failed";throw(y.includes("demo")||y.includes("Demo"))&&me.info("üé≠ Demo Mode: Payment simulation started"),new Error(y)}const b=await p.json(),m=b.url||b.checkoutUrl;if(!m)throw new Error("No payment URL received from server");if(m.includes("demo-stripe-checkout")){me.success("üé≠ Demo Mode: Opening simulated checkout",{description:"This is a test. No real payment will be processed.",duration:4e3}),setTimeout(()=>{me.success("‚úÖ Demo payment completed!",{description:"In production, this would redirect to Stripe."}),i&&i(),c(!1)},2e3);return}window.location.href=m}catch(u){console.error("Payment error:",u),me.error(`Payment failed: ${u.message}`),c(!1)}};return s.jsx(ye,{onClick:A,disabled:a||l,size:"lg",className:`bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 ${o}`,children:l?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-5 h-5 mr-2 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Co,{className:"w-5 h-5 mr-2"}),"Pay $",r.toFixed(2)," CAD"]})})}function Vv({paid:e,amount:t,paidOn:r}){return e?s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 bg-green-50 border border-green-300 rounded-lg",children:[s.jsx(He,{className:"w-4 h-4 text-green-600"}),s.jsxs("span",{className:"text-sm font-medium text-green-800",children:["Paid: $",t.toFixed(2)," CAD"]}),r&&s.jsxs("span",{className:"text-xs text-green-600",children:["on ",new Date(r).toLocaleDateString()]})]}):s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 bg-amber-50 border border-amber-300 rounded-lg",children:[s.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full animate-pulse"}),s.jsxs("span",{className:"text-sm font-medium text-amber-800",children:["Payment Pending: $",t.toFixed(2)," CAD"]})]})}function T9({currentStep:e,initialPaymentPaid:t=!1,finalPaymentPaid:r=!1,totalPrice:n=199,taxYear:a,onPaymentSuccess:i}){const o=[{number:1,title:"Initial Payment",description:"Pay $50 deposit to start",icon:Co,paid:t,amount:50},{number:2,title:"Upload Documents",description:"Upload tax documents with OCR",icon:Qr,paid:null},{number:3,title:"Tax Calculation",description:"We calculate your return",icon:FN,paid:null},{number:4,title:"Final Payment",description:`Pay remaining $${n-50}`,icon:He,paid:r,amount:n-50},{number:5,title:"Filed with CRA",description:"Submitted to CRA",icon:Za,paid:null}],l=c=>c<e?"completed":c===e?"current":"upcoming";return s.jsxs("div",{className:"w-full py-6",children:[s.jsx("div",{className:"lg:hidden space-y-4",children:o.map((c,A)=>{const u=l(c.number),d=u==="completed",h=u==="current",f=A===o.length-1;return s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 transition-all ${d?"bg-green-600 border-green-600":h?"bg-blue-600 border-blue-600":"bg-gray-100 border-gray-300"}`,children:d?s.jsx(fs,{className:"w-6 h-6 text-white"}):s.jsx(c.icon,{className:`w-6 h-6 ${h?"text-white":"text-gray-400"}`})}),!f&&s.jsx("div",{className:`absolute top-12 left-1/2 -translate-x-1/2 w-0.5 h-8 ${d?"bg-green-600":"bg-gray-200"}`})]}),s.jsxs("div",{className:"flex-1 pt-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:`font-semibold ${h?"text-blue-900":d?"text-gray-900":"text-gray-500"}`,children:c.title}),c.paid!==null&&s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${c.paid?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:c.paid?"‚úì Paid":`$${c.amount} due`})]}),s.jsx("p",{className:`text-sm ${h||d?"text-gray-600":"text-gray-400"}`,children:c.description})]})]})},c.number)})}),s.jsxs("div",{className:"hidden lg:block",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute top-6 left-0 right-0 h-0.5 bg-gray-200",children:s.jsx("div",{className:"h-full bg-green-600 transition-all duration-500",style:{width:`${(e-1)/(o.length-1)*100}%`}})}),s.jsx("div",{className:"relative grid grid-cols-5 gap-4",children:o.map(c=>{const A=l(c.number),u=A==="completed",d=A==="current";return s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 transition-all mb-3 ${u?"bg-green-600 border-green-600":d?"bg-blue-600 border-blue-600 ring-4 ring-blue-100":"bg-white border-gray-300"}`,children:u?s.jsx(fs,{className:"w-6 h-6 text-white"}):s.jsx(c.icon,{className:`w-6 h-6 ${d?"text-white":"text-gray-400"}`})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:`text-sm font-semibold mb-1 ${d?"text-blue-900":u?"text-gray-900":"text-gray-500"}`,children:c.title}),s.jsx("p",{className:`text-xs ${d||u?"text-gray-600":"text-gray-400"}`,children:c.description}),c.paid!==null&&s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded inline-block ${c.paid?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:c.paid?"‚úì Paid":`$${c.amount}`})})]})]},c.number)})})]}),s.jsx("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zp,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Payment Plan"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Pay in 2 installments"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Total Service Fee"}),s.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",n," CAD"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["$",t?"50 paid":"50 deposit"," + $",n-50," final"]})]})]})}),s.jsxs("div",{className:"mt-6 space-y-4",children:[e===1&&!t&&s.jsx("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Co,{className:"w-8 h-8 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Start Your Tax Filing"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Pay a $50 CAD deposit to begin. This payment allows you to upload your documents and we'll start working on your tax return immediately."}),s.jsx(OC,{taxYear:a,paymentType:"initial",amount:50,onSuccess:i})]})]})}),t&&!r&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(He,{className:"w-8 h-8 text-green-600 flex-shrink-0 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Initial Payment Completed"}),s.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Great! Your $50 deposit has been received. You can now upload your documents."}),s.jsx(Vv,{paid:!0,amount:50})]})]})}),e===4&&t&&!r&&s.jsx("div",{className:"bg-white border-2 border-indigo-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(FN,{className:"w-8 h-8 text-indigo-600 flex-shrink-0 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Complete Your Payment"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Your tax return is ready! Pay the final balance of $",n-50," CAD and we'll submit it to the CRA immediately."]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Initial deposit:"}),s.jsx("span",{className:"font-medium text-green-700",children:"$50.00 ‚úì"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Final balance:"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["$",(n-50).toFixed(2)]})]}),s.jsxs("div",{className:"border-t pt-3 flex items-center justify-between",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:"Total:"}),s.jsxs("span",{className:"font-bold text-xl text-gray-900",children:["$",n.toFixed(2)," CAD"]})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(OC,{taxYear:a,paymentType:"final",amount:n-50,finalPrice:n-50,onSuccess:i})})]})]})}),t&&r&&s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Za,{className:"w-8 h-8 text-green-600 flex-shrink-0 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"üéâ All Payments Complete!"}),s.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Thank you! Your tax return has been submitted to the CRA. You'll receive confirmation shortly."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Vv,{paid:!0,amount:50}),s.jsx(Vv,{paid:!0,amount:n-50})]})]})]})})]})]})]})}function P9(){const[e]=oT(),[t,r]=C.useState(!1),[n,a]=C.useState("pending");C.useEffect(()=>{const o=e.get("payment"),l=e.get("session_id");o==="success"&&l?i(l):o==="cancelled"&&(a("cancelled"),me.error("Payment was cancelled"))},[e]);const i=async o=>{r(!0);try{const{data:{session:l}}=await Le.auth.getSession(),c=l==null?void 0:l.access_token;if(!c){me.error("Authentication error"),r(!1);return}const A=await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/payments/verify`,{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({sessionId:o})});if(!A.ok){const h=await A.json();throw new Error(h.error||"Payment verification failed")}const{success:u,payment:d}=await A.json();u&&(a("success"),me.success("üéâ Payment successful! Your payment has been processed."),await Le.auth.refreshSession(),setTimeout(()=>{window.location.replace(window.location.pathname)},2e3))}catch(l){console.error("Payment verification error:",l),me.error(`Payment verification failed: ${l.message}`),r(!1)}};return n==="pending"&&!t?null:t?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ht,{className:"w-16 h-16 mx-auto mb-4 text-blue-600 animate-spin"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Verifying Payment..."}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we confirm your payment."})]})})}):n==="success"?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(He,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),s.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-800",children:"Payment Successful!"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Your payment has been processed successfully."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting..."})]})})}):n==="cancelled"?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zn,{className:"w-16 h-16 mx-auto mb-4 text-red-600"}),s.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-800",children:"Payment Cancelled"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Your payment was cancelled. You can try again anytime."}),s.jsx(ye,{onClick:()=>{window.location.replace(window.location.pathname)},className:"mt-4",children:"Continue"})]})})}):null}function k9(e){const[t,r]=C.useState(null),[n,a]=C.useState(!0),[i,o]=C.useState(null);return C.useEffect(()=>{(async()=>{var A,u;try{a(!0),o(null);const{data:{session:d}}=await Le.auth.getSession(),h=d==null?void 0:d.access_token;if(!h){r({initialPaid:!0,initialAmount:50,finalPaid:!1,finalAmount:0,totalPrice:150}),a(!1);return}const f=await ky.get(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/payments/${e}/status`,{headers:{Authorization:`Bearer ${h}`}});r(f.payment)}catch(d){(A=d.message)!=null&&A.includes("Failed to fetch")||(u=d.message)!=null&&u.includes("Network")?r({initialPaid:!0,initialAmount:50,finalPaid:!1,finalAmount:0,totalPrice:150}):(console.error("Error fetching payment status:",d),o(d.message))}finally{a(!1)}})()},[e]),{paymentStatus:t,loading:n,error:i,refetch:async()=>{var c,A;a(!0),o(null);try{const{data:{session:u}}=await Le.auth.getSession(),d=u==null?void 0:u.access_token;if(!d){r({initialPaid:!0,initialAmount:50,finalPaid:!1,finalAmount:0,totalPrice:150}),a(!1);return}const h=await ky.get(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/payments/${e}/status`,{headers:{Authorization:`Bearer ${d}`}});r(h.payment)}catch(u){(c=u.message)!=null&&c.includes("Failed to fetch")||(A=u.message)!=null&&A.includes("Network")?r({initialPaid:!0,initialAmount:50,finalPaid:!1,finalAmount:0,totalPrice:150}):(console.error("Error fetching payment status:",u),o(u.message))}finally{a(!1)}}}}function O9(){var ae,de,X;const{year:e}=lT(),t=Br(),{user:r}=Wr(),{language:n}=$r(),[a,i]=C.useState(!0),[o,l]=C.useState(!1),[c,A]=C.useState([]),[u,d]=C.useState(""),[h,f]=C.useState(0),[g,p]=C.useState(null),[b,m]=C.useState(null),{paymentStatus:x,refetch:y}=k9(Number(e)),{register:w,handleSubmit:N,watch:B,setValue:F,formState:{errors:E}}=C9({defaultValues:{immigrationStatusChanged:"",maritalStatusChanged:"",addressChanged:"",dependentsChanged:"",employmentChanged:""}}),P=B("immigrationStatusChanged"),Q=B("maritalStatusChanged"),U=B("addressChanged"),T=B("dependentsChanged"),k=B("employmentChanged");C.useEffect(()=>{if(!r){t("/login");return}I()},[r,e]);const I=async()=>{i(!0);try{await M(),await L()}catch(te){console.error("Error initializing page:",te),me.error("Error loading tax filing data")}finally{i(!1)}},M=async()=>{if(r)try{const{data:te,error:ue}=await Le.auth.getUser();if(ue||!(te!=null&&te.user)){console.error("Error getting user:",ue);return}const se=te.user.user_metadata;m((se==null?void 0:se.profile)||{});const we=(se==null?void 0:se.taxFilings)||[];let Ce=we.find(J=>J.year===Number(e));if(!Ce){Ce={year:Number(e),status:"in-progress",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};const J=[...we,Ce];await Le.auth.updateUser({data:{taxFilings:J}})}p(Ce),Ce.questionnaireData&&Object.keys(Ce.questionnaireData).forEach(J=>{F(J,Ce.questionnaireData[J])})}catch(te){console.error("Error loading filing data:",te)}},L=async()=>{var te,ue;if(!(!r||!e))try{const{data:{session:se}}=await Le.auth.getSession(),we=se==null?void 0:se.access_token;if(!we){A([]);return}const Ce=await ky.get(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/tax-documents/list/${e}`,{headers:{Authorization:`Bearer ${we}`}});A(Ce.files||[]),console.log("‚úÖ Loaded files from KV store:",Ce.files)}catch(se){(te=se==null?void 0:se.message)!=null&&te.includes("Failed to fetch")||(ue=se==null?void 0:se.message)!=null&&ue.includes("Network")?A([{id:"demo-file-1",name:"T4_2024_Demo.pdf",size:125e3,category:"income",url:"",createdAt:new Date().toISOString()}]):(console.error("Error loading uploaded files:",se),A([]))}},K=async(te,ue)=>{const se=te.target.files;if(!(!se||se.length===0||!ue||!r||!e)){i(!0),d(ue),f(0);try{const{data:{session:we}}=await Le.auth.getSession(),Ce=we==null?void 0:we.access_token;if(!Ce){me.error("Authentication error. Please log in again."),i(!1);return}const J=Array.from(se).map(async We=>{if(We.size>10485760)return me.error(`${We.name} is too large. Max size is 10MB.`),null;if(!["application/pdf","image/jpeg","image/jpg","image/png","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(We.type))return me.error(`${We.name} has an invalid file type.`),null;f(20);const At=new FormData;At.append("file",We),At.append("category",ue),At.append("year",e),f(40);try{const qe=await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/tax-documents/upload`,{method:"POST",headers:{Authorization:`Bearer ${Ce}`},body:At});if(f(80),!qe.ok){const pe=await qe.json();throw new Error(pe.error||"Upload failed")}const ce=await qe.json();return f(100),console.log("‚úÖ File uploaded successfully:",ce),ce.file}catch(qe){return console.error("Upload error:",qe),me.error(`Failed to upload ${We.name}: ${qe.message}`),null}}),Ge=(await Promise.all(J)).filter(We=>We!==null);Ge.length>0&&(A(We=>[...We,...Ge]),me.success(`${Ge.length} file(s) uploaded successfully`),await q("in-progress")),te.target.value="",d("")}catch(we){console.error("Error uploading files:",we),me.error("Error uploading files. Please try again or contact support.")}finally{i(!1),f(0)}}},R=async te=>{if(confirm(`Are you sure you want to delete ${te.name}?`))try{const{data:{session:ue}}=await Le.auth.getSession(),se=ue==null?void 0:ue.access_token;if(!se){me.error("Authentication error");return}const we=te.path.split("/"),Ce=we[1],J=we[2],_e=we[3],Ge=await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/tax-documents/${Ce}/${J}/${encodeURIComponent(_e)}`,{method:"DELETE",headers:{Authorization:`Bearer ${se}`}});if(!Ge.ok){const ke=await Ge.json();throw new Error(ke.error||"Delete failed")}const We=c.filter(ke=>ke.id!==te.id);A(We),me.success("File deleted successfully")}catch(ue){console.error("Error deleting file:",ue),me.error(`Error deleting file: ${ue.message}`)}},$=async te=>{try{const{data:{session:ue}}=await Le.auth.getSession(),se=ue==null?void 0:ue.access_token;if(!se){me.error("Authentication error");return}const we=te.path.split("/"),Ce=we[1],J=we[2],_e=we[3],Ge=await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/tax-documents/download/${Ce}/${J}/${encodeURIComponent(_e)}`,{method:"GET",headers:{Authorization:`Bearer ${se}`}});if(!Ge.ok){const ke=await Ge.json();throw new Error(ke.error||"Download failed")}const We=await Ge.json();window.open(We.url,"_blank")}catch(ue){console.error("Error downloading file:",ue),me.error(`Error downloading file: ${ue.message}`)}},q=async(te,ue)=>{if(!(!r||!e))try{const{data:se,error:we}=await Le.auth.getUser();if(we||!(se!=null&&se.user)){console.error("Error getting user:",we);return}const Ce=se.user.user_metadata,J=(Ce==null?void 0:Ce.taxFilings)||[],_e=J.findIndex(We=>We.year===Number(e));_e>=0?J[_e]={...J[_e],status:te,updatedAt:new Date().toISOString(),...ue&&{questionnaireData:ue},...te==="under-review"&&{submittedAt:new Date().toISOString()}}:J.push({year:Number(e),status:te,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...ue&&{questionnaireData:ue},...te==="under-review"&&{submittedAt:new Date().toISOString()}});const{error:Ge}=await Le.auth.updateUser({data:{taxFilings:J}});Ge&&console.error("Error updating filing status:",Ge)}catch(se){console.error("Error updating filing status:",se)}},Z=async te=>{if(c.length===0){me.error("Please upload at least one document before submitting.");return}l(!0);try{await q("under-review",te),me.success("Tax filing submitted successfully! We'll review your information and get back to you soon."),setTimeout(()=>{t("/dashboard")},2e3)}catch(ue){console.error("Error submitting:",ue),me.error("Error submitting. Please try again.")}finally{l(!1)}},D=te=>{if(te===0)return"0 Bytes";const ue=1024,se=["Bytes","KB","MB","GB"],we=Math.floor(Math.log(te)/Math.log(ue));return Math.round(te/Math.pow(ue,we)*100)/100+" "+se[we]},H=te=>c.filter(ue=>ue.category===te),V=te=>{switch(te){case"not-started":return{label:"Not Started",color:"bg-gray-100 text-gray-700 border-gray-300",icon:Ht,iconColor:"text-gray-500"};case"in-progress":return{label:"In Progress",color:"bg-blue-100 text-blue-700 border-blue-300",icon:Mr,iconColor:"text-blue-500"};case"under-review":return{label:"Under Review",color:"bg-yellow-100 text-yellow-700 border-yellow-300",icon:Mr,iconColor:"text-yellow-500"};case"completed":return{label:"Completed",color:"bg-green-100 text-green-700 border-green-300",icon:He,iconColor:"text-green-500"};case"filed":return{label:"Filed with CRA",color:"bg-purple-100 text-purple-700 border-purple-300",icon:He,iconColor:"text-purple-500"}}};if(a)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ht,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Loading tax filing data..."})]})});const re=g?V(g.status):null,Ae=(re==null?void 0:re.icon)||Mr;return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(P9,{}),s.jsx("header",{className:"bg-white border-b sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>t("/dashboard"),children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(tr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"font-medium text-lg",children:["Tax Year ",e]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Complete questionnaire and upload documents"})]})]}),re&&s.jsxs(vt,{variant:"outline",className:`${re.color} border`,children:[s.jsx(Ae,{className:`w-3 h-3 mr-1 ${re.iconColor}`}),re.label]})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[g&&s.jsx(Se,{className:"p-6 mb-6",children:s.jsx(T9,{currentStep:g.status==="not-started"?1:g.status==="in-progress"?2:g.status==="under-review"?3:g.status==="completed"?4:5,initialPaymentPaid:((ae=g.payment)==null?void 0:ae.initialPaid)||!1,finalPaymentPaid:((de=g.payment)==null?void 0:de.finalPaid)||!1,totalPrice:((X=g.payment)==null?void 0:X.totalPrice)||199,taxYear:Number(e),onPaymentSuccess:()=>{M(),y()}})}),s.jsxs("form",{onSubmit:N(Z),className:"space-y-6",children:[s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6 pb-4 border-b",children:[s.jsx(Mt,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"font-medium text-lg",children:"Annual Questionnaire"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Let us know if there were any changes since last year"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(De,{className:"text-base",children:["Did your immigration status change this year? ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",value:"yes",...w("immigrationStatusChanged",{required:!0}),className:"w-4 h-4"}),s.jsx("span",{children:"Yes"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",value:"no",...w("immigrationStatusChanged",{required:!0}),className:"w-4 h-4"}),s.jsx("span",{children:"No"})]})]}),E.immigrationStatusChanged&&s.jsx("p",{className:"text-sm text-red-500",children:"This field is required"}),P==="yes"&&s.jsxs("div",{className:"ml-6 mt-3",children:[s.jsx(De,{htmlFor:"newImmigrationStatus",children:"What is your new status?"}),s.jsxs("select",{id:"newImmigrationStatus",...w("newImmigrationStatus"),className:"w-full mt-1 px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"citizen",children:"Canadian Citizen"}),s.jsx("option",{value:"permanent-resident",children:"Permanent Resident"}),s.jsx("option",{value:"work-permit",children:"Work Permit"}),s.jsx("option",{value:"study-permit",children:"Study Permit"}),s.jsx("option",{value:"visitor",children:"Visitor"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(De,{className:"text-base",children:["Did your marital status change this year? ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",value:"yes",...w("maritalStatusChanged",{required:!0}),className:"w-4 h-4"}),s.jsx("span",{children:"Yes"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",value:"no",...w("maritalStatusChanged",{required:!0}),className:"w-4 h-4"}),s.jsx("span",{children:"No"})]})]}),E.maritalStatusChanged&&s.jsx("p",{className:"text-sm text-red-500",children:"This field is required"}),Q==="yes"&&s.jsxs("div",{className:"ml-6 mt-3",children:[s.jsx(De,{htmlFor:"newMaritalStatus",children:"What is your new marital status?"}),s.jsxs("select",{id:"newMaritalStatus",...w("newMaritalStatus"),className:"w-full mt-1 px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"single",children:"Single"}),s.jsx("option",{value:"married",children:"Married"}),s.jsx("option",{value:"common-law",children:"Common-law"}),s.jsx("option",{value:"divorced",children:"Divorced"}),s.jsx("option",{value:"separated",children:"Separated"}),s.jsx("option",{value:"widowed",children:"Widowed"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(De,{className:"text-base",children:["Did you change your address this year? ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",value:"yes",...w("addressChanged",{required:!0}),className:"w-4 h-4"}),s.jsx("span",{children:"Yes"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",value:"no",...w("addressChanged",{required:!0}),className:"w-4 h-4"}),s.jsx("span",{children:"No"})]})]}),E.addressChanged&&s.jsx("p",{className:"text-sm text-red-500",children:"This field is required"}),U==="yes"&&s.jsxs("div",{className:"ml-6 mt-3",children:[s.jsx(De,{htmlFor:"newAddress",children:"What is your new address?"}),s.jsx(tt,{id:"newAddress",...w("newAddress"),placeholder:"Full address including city and postal code",className:"mt-1"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(De,{className:"text-base",children:["Did your number of dependents change? ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",value:"yes",...w("dependentsChanged",{required:!0}),className:"w-4 h-4"}),s.jsx("span",{children:"Yes"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",value:"no",...w("dependentsChanged",{required:!0}),className:"w-4 h-4"}),s.jsx("span",{children:"No"})]})]}),E.dependentsChanged&&s.jsx("p",{className:"text-sm text-red-500",children:"This field is required"}),T==="yes"&&s.jsxs("div",{className:"ml-6 mt-3",children:[s.jsx(De,{htmlFor:"newDependentsCount",children:"How many dependents do you have now?"}),s.jsx(tt,{id:"newDependentsCount",type:"number",min:"0",...w("newDependentsCount"),placeholder:"0",className:"mt-1 max-w-xs"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(De,{className:"text-base",children:["Did your employment situation change? ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",value:"yes",...w("employmentChanged",{required:!0}),className:"w-4 h-4"}),s.jsx("span",{children:"Yes"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",value:"no",...w("employmentChanged",{required:!0}),className:"w-4 h-4"}),s.jsx("span",{children:"No"})]})]}),E.employmentChanged&&s.jsx("p",{className:"text-sm text-red-500",children:"This field is required"}),k==="yes"&&s.jsxs("div",{className:"ml-6 mt-3",children:[s.jsx(De,{htmlFor:"employmentDetails",children:"Please describe the change"}),s.jsx("textarea",{id:"employmentDetails",...w("employmentDetails"),placeholder:"e.g., Changed employer, Started self-employment, Became unemployed, etc.",className:"w-full mt-1 px-3 py-2 border rounded-lg min-h-[80px]"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(De,{htmlFor:"otherChanges",className:"text-base",children:"Any other important changes we should know about?"}),s.jsx("textarea",{id:"otherChanges",...w("otherChanges"),placeholder:"e.g., Started a business, Sold property, Received inheritance, etc.",className:"w-full px-3 py-2 border rounded-lg min-h-[100px]"})]})]})]}),s.jsxs(Se,{className:"p-6 bg-gradient-to-br from-purple-50 to-blue-50 border-purple-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6 pb-4 border-b border-purple-200",children:[s.jsx(Qr,{className:"w-5 h-5 text-purple-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"font-medium text-lg",children:"üìÑ Smart Tax Document Upload (with OCR)"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Upload T4, Relev√© 1, T5, T2202, RRSP receipts - We'll automatically extract the data!"})]})]}),s.jsx(F9,{year:Number(e),onDocumentsSaved:()=>{me.success("‚úÖ Documents saved successfully!",{duration:3e3})}})]}),s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6 pb-4 border-b",children:[s.jsx(Qr,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"font-medium text-lg",children:"Upload Documents"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Upload your tax documents organized by category"})]}),s.jsxs(vt,{variant:"outline",children:[c.length," ",c.length===1?"file":"files"]})]}),s.jsx("div",{className:"space-y-6",children:B9(b==null?void 0:b.province,b==null?void 0:b.workProvince).map(te=>{const ue=H(te.id);return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-2xl",children:te.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:S9(te.id,n)}),s.jsx("p",{className:"text-sm text-gray-500",children:E9(te.id,n)})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",id:`upload-${te.id}`,multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:se=>K(se,te.id),className:"hidden"}),s.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:()=>{var se;(se=document.getElementById(`upload-${te.id}`))==null||se.click()},disabled:a&&u===te.id,children:a&&u===te.id?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Upload"]})})]})]}),ue.length>0&&s.jsx("div",{className:"mt-3 space-y-2",children:ue.map(se=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx(Mt,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:se.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[D(se.size)," ‚Ä¢ Uploaded ",new Date(se.uploadedAt).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(ye,{type:"button",variant:"ghost",size:"sm",onClick:()=>$(se),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:s.jsx(aa,{className:"w-4 h-4"})}),s.jsx(ye,{type:"button",variant:"ghost",size:"sm",onClick:()=>R(se),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Pi,{className:"w-4 h-4"})})]})]},se.id))}),a&&u===te.id&&h>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${h}%`}})}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Uploading... ",h,"%"]})]})]},te.id)})}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ht,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Accepted file formats:"}),s.jsx("p",{children:"PDF, JPG, PNG, DOC, DOCX (Max 10MB per file)"})]})]})})]}),s.jsxs(Se,{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[s.jsxs("div",{className:"flex items-start justify-between gap-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-lg mb-2",children:"Ready to Submit?"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Once you submit, our team will review your information and documents. We'll contact you if we need any additional information."}),s.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[s.jsx(He,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("p",{children:"You can come back and upload more documents anytime before we start processing."})]})]}),s.jsx(ye,{type:"submit",size:"lg",disabled:o||c.length===0||!(x!=null&&x.initialPaid),className:"flex-shrink-0",children:o?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-5 h-5 mr-2 animate-spin"}),"Submitting..."]}):x!=null&&x.initialPaid?s.jsxs(s.Fragment,{children:[s.jsx(Za,{className:"w-5 h-5 mr-2"}),"Submit Tax Filing"]}):s.jsxs(s.Fragment,{children:[s.jsx(Co,{className:"w-5 h-5 mr-2"}),"Payment Required"]})})]}),!(x!=null&&x.initialPaid)&&s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-red-700 bg-red-50 border border-red-200 rounded p-3",children:[s.jsx(Ht,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("p",{children:"Initial payment of $50 CAD is required before submitting your tax filing."})]}),c.length===0&&(x==null?void 0:x.initialPaid)&&s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded p-3",children:[s.jsx(Ht,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("p",{children:"Please upload at least one document before submitting."})]})]})]})]})]})}const va=[{id:"individual-simple",name:{en:"Individual - Simple",fr:"Individuel - Simple",pt:"Individual - Simples"},description:{en:"T4 only, no deductions",fr:"T4 seulement, sans d√©ductions",pt:"Apenas T4, sem dedu√ß√µes"},amount:80,category:"personal",filingType:"individual"},{id:"individual-standard",name:{en:"Individual - Standard",fr:"Individuel - Standard",pt:"Individual - Padr√£o"},description:{en:"T4 + basic deductions (medical, donations, RRSP)",fr:"T4 + d√©ductions de base (m√©dical, dons, REER)",pt:"T4 + dedu√ß√µes b√°sicas (m√©dico, doa√ß√µes, RRSP)"},amount:120,category:"personal",filingType:"individual"},{id:"individual-complex",name:{en:"Individual - Complex",fr:"Individuel - Complexe",pt:"Individual - Complexo"},description:{en:"Multiple income sources, rental, investments",fr:"Sources multiples de revenus, location, investissements",pt:"M√∫ltiplas fontes de renda, aluguel, investimentos"},amount:200,category:"personal",filingType:"individual"},{id:"couple-simple",name:{en:"Couple - Simple",fr:"Couple - Simple",pt:"Casal - Simples"},description:{en:"2 coordinated T1 returns, T4 only",fr:"2 d√©clarations T1 coordonn√©es, T4 seulement",pt:"2 declara√ß√µes T1 coordenadas, apenas T4"},amount:150,category:"personal",filingType:"couple"},{id:"couple-standard",name:{en:"Couple - Standard",fr:"Couple - Standard",pt:"Casal - Padr√£o"},description:{en:"2 coordinated T1 returns with basic deductions",fr:"2 d√©clarations T1 coordonn√©es avec d√©ductions de base",pt:"2 declara√ß√µes T1 coordenadas com dedu√ß√µes b√°sicas"},amount:180,category:"personal",filingType:"couple"},{id:"couple-complex",name:{en:"Couple - Complex",fr:"Couple - Complexe",pt:"Casal - Complexo"},description:{en:"2 coordinated T1 returns, multiple income sources",fr:"2 d√©clarations T1 coordonn√©es, sources multiples",pt:"2 declara√ß√µes T1 coordenadas, m√∫ltiplas fontes de renda"},amount:350,category:"personal",filingType:"couple"},{id:"personal-quebec",name:{en:"Personal - Quebec (with RL-1)",fr:"Personnel - Qu√©bec (avec RL-1)",pt:"Pessoal - Quebec (com RL-1)"},description:{en:"Quebec residents with Relev√© 1",fr:"R√©sidents du Qu√©bec avec Relev√© 1",pt:"Residentes de Quebec com Relev√© 1"},amount:200,category:"personal"},{id:"business-self-employed",name:{en:"Self-Employed",fr:"Travailleur Autonome",pt:"Aut√¥nomo"},description:{en:"Self-employment income (T2125)",fr:"Revenus de travail autonome (T2125)",pt:"Renda de trabalho aut√¥nomo (T2125)"},amount:350,category:"business"},{id:"business-small",name:{en:"Small Business",fr:"Petite Entreprise",pt:"Pequena Empresa"},description:{en:"Small business with basic bookkeeping",fr:"Petite entreprise avec tenue de livres de base",pt:"Pequena empresa com contabilidade b√°sica"},amount:400,category:"business"},{id:"business-corporate",name:{en:"Corporate Return",fr:"D√©claration de Soci√©t√©",pt:"Declara√ß√£o Corporativa"},description:{en:"Corporation tax return (T2)",fr:"D√©claration d'imp√¥t des soci√©t√©s (T2)",pt:"Declara√ß√£o de imposto corporativo (T2)"},amount:600,category:"business"},{id:"addon-previous-year",name:{en:"Previous Year Filing",fr:"D√©claration Ann√©e Pr√©c√©dente",pt:"Declara√ß√£o Ano Anterior"},description:{en:"Additional charge per previous year",fr:"Frais suppl√©mentaire par ann√©e pr√©c√©dente",pt:"Taxa adicional por ano anterior"},amount:100,category:"addon"},{id:"addon-quebec-return",name:{en:"Quebec Tax Return",fr:"D√©claration Qu√©bec",pt:"Declara√ß√£o Quebec"},description:{en:"Provincial Quebec tax return (TP-1)",fr:"D√©claration provinciale du Qu√©bec (TP-1)",pt:"Declara√ß√£o provincial de Quebec (TP-1)"},amount:75,category:"addon"},{id:"addon-quebec-tax",name:{en:"Quebec Tax Filing Fee",fr:"Frais de Production Qu√©bec",pt:"Taxa de Declara√ß√£o Quebec"},description:{en:"Additional filing fee for Quebec residents",fr:"Frais suppl√©mentaire pour r√©sidents du Qu√©bec",pt:"Taxa adicional para residentes de Quebec"},amount:50,category:"addon"},{id:"addon-amendment",name:{en:"Tax Return Amendment",fr:"Modification de D√©claration",pt:"Retifica√ß√£o de Declara√ß√£o"},description:{en:"Amend previously filed return",fr:"Modifier une d√©claration d√©j√† produite",pt:"Retificar declara√ß√£o j√° enviada"},amount:75,category:"addon"}];function Iy(e){return va.find(t=>t.id===e)}function I9(e,t="en"){const r=Iy(e);return(r==null?void 0:r.name[t])||e}function Je(e){return new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}).format(e)}function g2(){const{user:e}=Wr(),[t,r]=C.useState(null),[n,a]=C.useState(!0);C.useEffect(()=>{e?i():(r(null),a(!1))},[e]);const i=async()=>{var c,A,u,d;if(e)try{const{data:h,isMocked:f}=await Eo(`/users/permissions/${e.id}`,{headers:{Authorization:`Bearer ${ta}`,"Content-Type":"application/json"}});if(f){const g={userId:e.id,email:e.email||"",name:((c=e.user_metadata)==null?void 0:c.name)||((A=e.email)==null?void 0:A.split("@")[0])||"User",role:"admin",modules:["dashboard","bookkeeping","financial","customers","marketing","users"],isActive:!0};r(g)}else r(h)}catch(h){console.error("Error loading permissions:",h),r({userId:e.id,email:e.email||"",name:((u=e.user_metadata)==null?void 0:u.name)||((d=e.email)==null?void 0:d.split("@")[0])||"User",role:"admin",modules:["dashboard","bookkeeping","financial","customers","marketing","users"],isActive:!0})}finally{a(!1)}};return{permissions:t,loading:n,hasPermission:c=>t?t.role==="admin"?!0:t.modules.includes(c):!1,isAdmin:()=>(t==null?void 0:t.role)==="admin"||!1,refresh:i}}function U9(){const e=Br(),[t,r]=C.useState("checking");C.useEffect(()=>{n()},[]);const n=async()=>{var a;try{const{data:i}=await Le.auth.getSession();if(!((a=i.session)!=null&&a.access_token)){r("not-configured");return}const o=await fetch(Nt.createInitialPaymentInvoice,{method:"POST",headers:{Authorization:`Bearer ${i.session.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({year:2025,documentCount:1,amount:50})}),l=await o.json();o.ok&&(l.checkoutUrl||l.paymentUrl)?r("configured"):r("not-configured")}catch{r("not-configured")}};return t==="checking"?null:t==="configured"?s.jsx(Se,{className:"p-4 bg-green-50 border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(He,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-green-900 text-sm",children:"Stripe Configured"}),s.jsx("p",{className:"text-xs text-green-700",children:"Payments are working correctly"})]})]}),s.jsx(ye,{size:"sm",variant:"outline",onClick:()=>e("/admin/payment-setup"),children:"Test"})]})}):s.jsx(Se,{className:"p-4 bg-amber-50 border-amber-300 border-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ht,{className:"w-5 h-5 text-amber-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-amber-900 text-sm",children:"‚ö†Ô∏è Stripe Not Configured"}),s.jsx("p",{className:"text-xs text-amber-700",children:"Set up payments to accept $50 deposits"})]})]}),s.jsx(ye,{size:"sm",className:"bg-amber-600 hover:bg-amber-700",onClick:()=>e("/admin/payment-setup"),children:"Setup Now"})]})})}function m3(){const[e,t]=C.useState(!1),[r,n]=C.useState(!1),[a,i]=C.useState([]),o=async()=>{var A,u;n(!0);const l=[];l.push({name:"Project ID",status:"success",message:Vt,details:{projectId:Vt}});const c=`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0`;l.push({name:"API Base URL",status:"success",message:c,details:{baseUrl:c}}),i([...l]);try{const d=Nt.health;console.log("Testing health endpoint:",d);const h=await fetch(d,{method:"GET",headers:{"Content-Type":"application/json"}});if(h.ok){const f=await h.json();l.push({name:"Server Health Check",status:"success",message:"Server is running",details:f})}else{const f=await h.text();l.push({name:"Server Health Check",status:"error",message:`HTTP ${h.status}`,details:{status:h.status,body:f}})}}catch(d){l.push({name:"Server Health Check",status:"error",message:d instanceof Error?d.message:"Network error",details:{error:String(d)}})}i([...l]);try{const d=`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/admin-hub/ping`;console.log("üèì Testing PING endpoint (no auth):",d);const h=await fetch(d,{method:"GET",headers:{"Content-Type":"application/json"}});if(h.ok){const f=await h.json();l.push({name:"Admin Hub PING (No Auth)",status:"success",message:"Admin Hub responding without auth",details:f})}else{const f=await h.text();l.push({name:"Admin Hub PING (No Auth)",status:"error",message:`HTTP ${h.status}`,details:{status:h.status,body:f}})}}catch(d){l.push({name:"Admin Hub PING (No Auth)",status:"error",message:d instanceof Error?d.message:"Network error",details:{error:String(d)}})}i([...l]);try{const{data:d,error:h}=await Le.auth.getSession();if(h)l.push({name:"Authentication",status:"error",message:h.message,details:h});else if(!d.session)l.push({name:"Authentication",status:"error",message:"No active session",details:null});else{l.push({name:"Authentication",status:"success",message:`Logged in as ${d.session.user.email}`,details:{userId:d.session.user.id}});try{const f=Nt.adminHubTasks.replace("/tasks","/health");console.log("Testing admin hub endpoint:",f);const g=await fetch(f,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.session.access_token}`}});if(g.ok){const p=await g.json();l.push({name:"Admin Hub Health",status:"success",message:"Admin Hub is accessible",details:p})}else{const p=await g.text();l.push({name:"Admin Hub Health",status:"error",message:`HTTP ${g.status}`,details:{status:g.status,body:p}})}}catch(f){l.push({name:"Admin Hub Health",status:"error",message:f instanceof Error?f.message:"Network error",details:{error:String(f)}})}try{const f=await fetch(Nt.adminHubTasks,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.session.access_token}`}});if(f.ok){const g=await f.json();l.push({name:"Get Tasks",status:"success",message:`Found ${((A=g.tasks)==null?void 0:A.length)||0} tasks`,details:g})}else{const g=await f.text();l.push({name:"Get Tasks",status:"error",message:`HTTP ${f.status}`,details:{status:f.status,body:g}})}}catch(f){l.push({name:"Get Tasks",status:"error",message:f instanceof Error?f.message:"Network error",details:{error:String(f)}})}try{const f=await fetch(Nt.adminHubSocialPosts,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.session.access_token}`}});if(f.ok){const g=await f.json();l.push({name:"Get Posts",status:"success",message:`Found ${((u=g.posts)==null?void 0:u.length)||0} posts`,details:g})}else{const g=await f.text();l.push({name:"Get Posts",status:"error",message:`HTTP ${f.status}`,details:{status:f.status,body:g}})}}catch(f){l.push({name:"Get Posts",status:"error",message:f instanceof Error?f.message:"Network error",details:{error:String(f)}})}}}catch(d){l.push({name:"Authentication",status:"error",message:d instanceof Error?d.message:"Unknown error",details:{error:String(d)}})}i([...l]),n(!1)};return e?s.jsxs("div",{className:"fixed bottom-4 right-4 bg-white rounded-lg shadow-2xl border border-gray-200 w-96 max-h-[600px] overflow-hidden z-50",children:[s.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"System Diagnostics"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:o,disabled:r,className:"p-1 hover:bg-gray-200 rounded transition-colors disabled:opacity-50",children:s.jsx(Kc,{className:`w-4 h-4 ${r?"animate-spin":""}`})}),s.jsx("button",{onClick:()=>t(!1),className:"text-gray-600 hover:text-gray-900",children:"‚úï"})]})]}),s.jsxs("div",{className:"p-4 max-h-[500px] overflow-y-auto space-y-3",children:[r&&a.length===0&&s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(ht,{className:"w-6 h-6 animate-spin text-blue-600"})}),a.map((l,c)=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[l.status==="success"&&s.jsx(He,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),l.status==="error"&&s.jsx(Ht,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),l.status==="pending"&&s.jsx(ht,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5 animate-spin"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-sm text-gray-900",children:l.name}),s.jsx("div",{className:"text-xs text-gray-600 mt-1 break-words",children:l.message}),l.details&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-xs text-blue-600 cursor-pointer",children:"View details"}),s.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded mt-1 overflow-x-auto",children:JSON.stringify(l.details,null,2)})]})]})]})},c))]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-t border-gray-200 text-xs text-gray-600",children:[a.length," test(s) completed"]})]}):s.jsxs("button",{onClick:()=>{t(!0),o()},className:"fixed bottom-4 right-4 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-blue-700 transition-colors flex items-center gap-2 z-50",children:[s.jsx(Ht,{className:"w-4 h-4"}),"Run Diagnostics"]})}const _9=e=>{switch(e){case"dashboard":return LayoutDashboard;case"bookkeeping":return Receipt;case"financial":return DollarSign;case"customers":return Users;case"marketing":return Megaphone;case"calendar":return Calendar;case"users":return Shield;case"productivity":return Award;default:return LayoutDashboard}},D9=[{id:"bookkeeping",title:"Bookkeeping Dashboard",description:"Track expenses, manage invoices, and handle day-to-day accounting",iconType:"bookkeeping",color:"from-indigo-500 to-indigo-600",bgColor:"bg-indigo-50",borderColor:"border-indigo-200",route:"/admin/bookkeeping-dashboard"},{id:"financial",title:"Financial Dashboard",description:"View KPIs, revenue analytics, and comprehensive financial reports",iconType:"financial",color:"from-green-500 to-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",route:"/admin/financial-dashboard"},{id:"invoices",title:"Invoice Management",description:"View, manage, and download all client invoices",iconType:"financial",color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",route:"/admin/invoices"},{id:"payment-setup",title:"‚öôÔ∏è Payment Setup",description:"Configure and test Stripe payment integration",iconType:"dashboard",color:"from-purple-500 to-pink-500",bgColor:"bg-gradient-to-br from-purple-50 to-pink-50",borderColor:"border-purple-200",route:"/admin/payment-setup"},{id:"customers",title:"Customer Dashboard",description:"Manage all customers, view details, documents, and filing status",iconType:"customers",color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",route:"/admin/clients"},{id:"content-calendar",title:"Content Calendar",description:"Manage your marketing calendar and create post images",iconType:"calendar",color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",route:"/admin/content-calendar"},{id:"roadmap",title:"üöÄ Launch Roadmap",description:"Track February launch preparation with the team",iconType:"dashboard",color:"from-blue-500 to-green-500",bgColor:"bg-gradient-to-br from-blue-50 to-green-50",borderColor:"border-blue-300",route:"/admin/roadmap"},{id:"users",title:"User Management",description:"Manage team members, permissions, and access control",iconType:"users",color:"from-pink-500 to-pink-600",bgColor:"bg-pink-50",borderColor:"border-pink-200",route:"/admin/users"}];function L9(){const{user:e,signOut:t}=Wr(),r=useNavigate(),{t:n}=$r(),{hasPermission:a,isAdmin:i,loading:o}=g2(),[l,c]=useState(null),[A,u]=useState(!0);useEffect(()=>{h()},[]);const d=async()=>{try{await t(),r("/login")}catch(b){console.error("Error signing out:",b)}},h=async()=>{var b,m,x,y;u(!0);try{const{data:w}=await Le.auth.getSession();if(!w.session)return;const{data:N,isMocked:B}=await Eo("/dashboard/stats",{headers:{Authorization:`Bearer ${w.session.access_token}`}});if(B)c({totalCustomers:N.totalClients||0,pendingInvoices:N.pendingDocuments||0,monthlyRevenue:N.monthlyRevenue||0,activeFilings:N.activeReturns||0});else{const F=N.clients||{},E=N.financial||{},P=new Date().getFullYear(),Q=((b=F.clients)==null?void 0:b.reduce((M,L)=>{var K;return M+(((K=L.taxFilings)==null?void 0:K.filter(R=>R.year===P&&["in-progress","review","awaiting-payment"].includes(R.status)).length)||0)},0))||0,U=((m=F.clients)==null?void 0:m.reduce((M,L)=>{var K;return M+(((K=L.taxFilings)==null?void 0:K.filter(R=>{var $;return R.status==="awaiting-payment"&&(($=R.payment)==null?void 0:$.status)==="pending"}).length)||0)},0))||0,T=new Date().getMonth()+1,k=`${P}-${T.toString().padStart(2,"0")}`,I=(x=E.monthlyRevenue)==null?void 0:x.find(M=>M.month===k);c({totalCustomers:((y=F.clients)==null?void 0:y.length)||0,pendingInvoices:U,monthlyRevenue:(I==null?void 0:I.revenue)||0,activeFilings:Q})}}catch(w){console.error("Error loading dashboard stats:",w)}finally{u(!1)}},f=b=>{r(b)},p=o?[]:D9.filter(b=>b.id==="content-calendar"?a("marketing"):b.id==="productivity"?a("customers"):b.id==="users"?i():a(b.id));return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(Loader2,{className:"w-8 h-8 animate-spin text-blue-600"})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[s.jsx("header",{className:"bg-white border-b shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(LayoutDashboard,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:n("admin.panel")}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n("admin.welcomeBack"),", ",e==null?void 0:e.email]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Button,{onClick:()=>r("/dashboard"),variant:"outline",children:n("admin.clientPortal")}),s.jsxs(Button,{onClick:d,variant:"ghost",children:[s.jsx(LogOut,{className:"w-4 h-4 mr-2"}),n("admin.signOut")]})]})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-12",children:[s.jsx("div",{className:"mb-6",children:s.jsx(U9,{})}),s.jsxs("div",{className:"mb-10",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Select a Category"}),s.jsx("p",{className:"text-gray-600",children:"Choose from the administrative tools below to manage your tax consultancy business"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.map(b=>{const m=_9(b.iconType);return s.jsxs(Card,{className:`
                  group relative overflow-hidden border-2 ${b.borderColor} 
                  hover:shadow-2xl transition-all duration-300 cursor-pointer
                  transform hover:-translate-y-1
                `,onClick:()=>f(b.route),children:[s.jsx("div",{className:`absolute inset-0 ${b.bgColor} opacity-40 group-hover:opacity-60 transition-opacity`}),s.jsxs("div",{className:"relative p-8",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${b.color} rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform`,children:s.jsx(m,{className:"w-8 h-8 text-white"})}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-white/50 flex items-center justify-center group-hover:bg-white transition-colors",children:s.jsx(ArrowRight,{className:"w-5 h-5 text-gray-700 group-hover:translate-x-1 transition-transform"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:b.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:b.description})]}),s.jsx("div",{className:`mt-6 h-1 bg-gradient-to-r ${b.color} rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left`})]})]},b.id)})}),s.jsxs("div",{className:"mt-12 bg-white rounded-xl shadow-sm border p-8",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Quick Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx(Users,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:A?s.jsx(Loader2,{className:"w-8 h-8 animate-spin"}):(l==null?void 0:l.totalCustomers)||"‚Äî"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Customers"})]}),s.jsxs("div",{className:"text-center p-4 bg-indigo-50 rounded-lg",children:[s.jsx(Receipt,{className:"w-8 h-8 text-indigo-600 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-indigo-900",children:A?s.jsx(Loader2,{className:"w-8 h-8 animate-spin"}):(l==null?void 0:l.pendingInvoices)||"‚Äî"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pending Invoices"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx(DollarSign,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:A?s.jsx(Loader2,{className:"w-8 h-8 animate-spin"}):Je((l==null?void 0:l.monthlyRevenue)||0)}),s.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Revenue"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx(LayoutDashboard,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:A?s.jsx(Loader2,{className:"w-8 h-8 animate-spin"}):(l==null?void 0:l.activeFilings)||"‚Äî"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Active Filings"})]})]})]}),s.jsx("div",{className:"mt-12",children:s.jsx(m3,{})})]})]})}async function x2(e){if(navigator.clipboard&&window.isSecureContext)try{return await navigator.clipboard.writeText(e),!0}catch{}try{const t=document.createElement("textarea");if(t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",t.style.opacity="0",t.style.pointerEvents="none",t.setAttribute("readonly",""),document.body.appendChild(t),navigator.userAgent.match(/ipad|iphone/i)){const n=document.createRange();n.selectNodeContents(t);const a=window.getSelection();a&&(a.removeAllRanges(),a.addRange(n)),t.setSelectionRange(0,e.length)}else t.focus(),t.select();const r=document.execCommand("copy");return document.body.removeChild(t),r}catch(t){return console.error("All clipboard methods failed:",t),!1}}const $x=x2,IC=`-- ============================================================
-- üî• POL√çTICAS RLS - CONFIGURA√á√ÉO OBRIGAT√ìRIA
-- ============================================================
-- Copie TUDO e execute no Supabase SQL Editor
-- ============================================================

-- PASSO 1: Limpar policies antigas (se existirem)
DROP POLICY IF EXISTS "Allow authenticated users to upload files" ON storage.objects;
DROP POLICY IF EXISTS "Allow authenticated users to read files" ON storage.objects;
DROP POLICY IF EXISTS "Allow authenticated users to update files" ON storage.objects;
DROP POLICY IF EXISTS "Allow authenticated users to delete files" ON storage.objects;
DROP POLICY IF EXISTS "Allow authenticated users to upload client documents" ON storage.objects;
DROP POLICY IF EXISTS "Allow authenticated users to read client documents" ON storage.objects;
DROP POLICY IF EXISTS "Allow authenticated users to update client documents" ON storage.objects;
DROP POLICY IF EXISTS "Allow authenticated users to delete client documents" ON storage.objects;
DROP POLICY IF EXISTS "tax_documents_insert" ON storage.objects;
DROP POLICY IF EXISTS "tax_documents_select" ON storage.objects;
DROP POLICY IF EXISTS "tax_documents_update" ON storage.objects;
DROP POLICY IF EXISTS "tax_documents_delete" ON storage.objects;
DROP POLICY IF EXISTS "client_documents_insert" ON storage.objects;
DROP POLICY IF EXISTS "client_documents_select" ON storage.objects;
DROP POLICY IF EXISTS "client_documents_update" ON storage.objects;
DROP POLICY IF EXISTS "client_documents_delete" ON storage.objects;

-- PASSO 2: Criar policies para bucket "tax-documents-c2a25be0"
CREATE POLICY "tax_documents_insert" ON storage.objects FOR INSERT TO authenticated WITH CHECK (bucket_id = 'tax-documents-c2a25be0');
CREATE POLICY "tax_documents_select" ON storage.objects FOR SELECT TO authenticated USING (bucket_id = 'tax-documents-c2a25be0');
CREATE POLICY "tax_documents_update" ON storage.objects FOR UPDATE TO authenticated USING (bucket_id = 'tax-documents-c2a25be0') WITH CHECK (bucket_id = 'tax-documents-c2a25be0');
CREATE POLICY "tax_documents_delete" ON storage.objects FOR DELETE TO authenticated USING (bucket_id = 'tax-documents-c2a25be0');

-- PASSO 3: Criar policies para bucket "make-c2a25be0-client-documents"
CREATE POLICY "client_documents_insert" ON storage.objects FOR INSERT TO authenticated WITH CHECK (bucket_id = 'make-c2a25be0-client-documents');
CREATE POLICY "client_documents_select" ON storage.objects FOR SELECT TO authenticated USING (bucket_id = 'make-c2a25be0-client-documents');
CREATE POLICY "client_documents_update" ON storage.objects FOR UPDATE TO authenticated USING (bucket_id = 'make-c2a25be0-client-documents') WITH CHECK (bucket_id = 'make-c2a25be0-client-documents');
CREATE POLICY "client_documents_delete" ON storage.objects FOR DELETE TO authenticated USING (bucket_id = 'make-c2a25be0-client-documents');

-- ============================================================
-- ‚úÖ PRONTO! Deve aparecer "Success. No rows returned"
-- ============================================================`;function Q9(){const[e,t]=C.useState(!1),[r,n]=C.useState(!1),a=async()=>{await $x(IC)?(t(!0),me.success("SQL copiado! Agora cole no Supabase."),setTimeout(()=>t(!1),3e3)):(me.info("Por favor, copie o SQL manualmente do preview abaixo."),n(!0))},i=()=>{window.open("https://supabase.com/dashboard/project/pwlacumydrxvshklvttp/sql/new","_blank")};return s.jsx(Se,{className:"p-8 border-2 border-red-300 bg-gradient-to-br from-red-50 to-orange-50",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center",children:s.jsx(Nf,{className:"w-8 h-8 text-white"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-red-900 mb-2",children:"‚ö†Ô∏è A√á√ÉO OBRIGAT√ìRIA"}),s.jsx("p",{className:"text-red-800 font-medium",children:"As policies RLS N√ÉO est√£o configuradas! O upload N√ÉO vai funcionar sem este passo."})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-red-200",children:[s.jsx("h3",{className:"font-bold text-lg mb-4",children:"üìã Instru√ß√µes (3 minutos):"}),s.jsxs("ol",{className:"space-y-4",children:[s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold",children:"1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium mb-2",children:"Copiar o SQL"}),s.jsx(ye,{onClick:a,className:"w-full",variant:e?"outline":"default",children:e?s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"w-4 h-4 mr-2"}),"SQL Copiado!"]}):s.jsxs(s.Fragment,{children:[s.jsx(ja,{className:"w-4 h-4 mr-2"}),"üìã COPIAR SQL"]})})]})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center font-bold",children:"2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium mb-2",children:"Abrir o Supabase SQL Editor"}),s.jsxs(ye,{onClick:i,className:"w-full bg-green-600 hover:bg-green-700",children:[s.jsx(wi,{className:"w-4 h-4 mr-2"}),"üîó ABRIR SUPABASE SQL EDITOR"]})]})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center font-bold",children:"3"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium mb-2",children:"Executar o SQL no Supabase"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-700",children:[s.jsx("li",{children:"Na nova aba do Supabase, voc√™ j√° estar√° no SQL Editor"}),s.jsx("li",{children:"Cole o SQL que voc√™ copiou (Ctrl+V ou Cmd+V)"}),s.jsxs("li",{children:["Clique no bot√£o ",s.jsx("strong",{children:'"RUN"'})," no canto inferior direito"]}),s.jsxs("li",{children:["Deve aparecer: ",s.jsx("span",{className:"text-green-600 font-bold",children:'"Success. No rows returned"'})]})]})})]})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-orange-500 text-white rounded-full flex items-center justify-center font-bold",children:"4"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium mb-2",children:"Voltar para o app e testar"}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("p",{className:"text-sm text-blue-900",children:["Depois de executar o SQL, volte para ",s.jsx("strong",{children:"/client-portal"})," e tente fazer upload de um arquivo. Deve funcionar agora! ‚úÖ"]})})]})]})]})]}),s.jsxs("div",{children:[s.jsxs(ye,{onClick:()=>n(!r),variant:"outline",className:"w-full mb-3",children:[r?"üîº Ocultar":"üîΩ Ver Preview do"," SQL"]}),r&&s.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto",children:s.jsx("pre",{className:"text-xs font-mono whitespace-pre",children:IC})})]}),s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-yellow-900 font-medium",children:["‚ö° ",s.jsx("strong",{children:"IMPORTANTE:"})," Este passo √© obrigat√≥rio e s√≥ precisa ser feito UMA VEZ. Depois que voc√™ executar o SQL, o sistema de upload vai funcionar para sempre!"]})})]})})}function R9(){const[e,t]=C.useState(!1),[r,n]=C.useState([{name:"Health Check",url:Nt.health,status:"checking"},{name:"Admin Clients",url:Nt.adminClients,status:"checking"},{name:"Create Buckets",url:Nt.adminCreateBuckets,status:"checking"},{name:"Setup Policies",url:Nt.adminSetupPolicies,status:"checking"}]),a=async A=>{const u=Date.now();try{const d=new AbortController,h=setTimeout(()=>d.abort(),5e3),f=await fetch(A.url,{method:"GET",signal:d.signal,headers:{Accept:"application/json"}});clearTimeout(h);const g=Date.now()-u;return f.ok?{...A,status:"online",message:`‚úÖ OK (${g}ms)`,responseTime:g}:{...A,status:"error",message:`‚ö†Ô∏è HTTP ${f.status}`,responseTime:g}}catch(d){const h=Date.now()-u;return d.name==="AbortError"?{...A,status:"offline",message:"‚è±Ô∏è Timeout (5s)",responseTime:h}:{...A,status:"offline",message:`‚ùå ${d.message||"Failed to fetch"}`,responseTime:h}}},i=async()=>{t(!0),n(A=>A.map(u=>({...u,status:"checking"})));try{const A=await Promise.all(r.map(h=>a(h)));n(A);const u=A.every(h=>h.status==="online"),d=A.some(h=>h.status==="offline");u?me.success("‚úÖ All endpoints are online!"):d?me.error("‚ùå Backend is offline. Please deploy!"):me.warning("‚ö†Ô∏è Some endpoints have errors")}catch(A){console.error("Error checking endpoints:",A),me.error("Failed to check endpoints")}finally{t(!1)}};C.useEffect(()=>{i()},[]);const o=A=>{switch(A){case"checking":return s.jsxs(vt,{variant:"outline",className:"bg-blue-50 text-blue-700",children:[s.jsx(ht,{className:"w-3 h-3 mr-1 animate-spin"}),"Checking"]});case"online":return s.jsxs(vt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-300",children:[s.jsx(He,{className:"w-3 h-3 mr-1"}),"Online"]});case"offline":return s.jsxs(vt,{variant:"outline",className:"bg-red-50 text-red-700 border-red-300",children:[s.jsx(Zn,{className:"w-3 h-3 mr-1"}),"Offline"]});case"error":return s.jsxs(vt,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-300",children:[s.jsx(Nf,{className:"w-3 h-3 mr-1"}),"Error"]})}},l=r.every(A=>A.status==="offline"),c=r.every(A=>A.status==="online");return s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fT,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"font-semibold",children:"Backend Status"})]}),s.jsxs(ye,{onClick:i,disabled:e,variant:"outline",size:"sm",children:[s.jsx(Kc,{className:`w-4 h-4 mr-2 ${e?"animate-spin":""}`}),e?"Checking...":"Refresh"]})]}),s.jsx("div",{className:`p-4 rounded-lg mb-4 ${c?"bg-green-50 border border-green-200":l?"bg-red-50 border border-red-200":"bg-yellow-50 border border-yellow-200"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[c?s.jsx(He,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):l?s.jsx(Zn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}):s.jsx(Nf,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`font-medium ${c?"text-green-900":l?"text-red-900":"text-yellow-900"}`,children:c?"‚úÖ Backend is Running!":l?"‚ùå Backend is Offline":"‚ö†Ô∏è Partial Issues Detected"}),l&&s.jsx("p",{className:"text-sm text-red-800 mt-1",children:"The Edge Function is not responding. You need to deploy it!"})]})]})}),s.jsx("div",{className:"space-y-2",children:r.map((A,u)=>s.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-sm",children:A.name}),o(A.status)]}),s.jsx("code",{className:"text-xs text-gray-600 break-all",children:A.url}),A.message&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:A.message})]})},u))}),l&&s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"üöÄ How to Deploy Backend"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"Windows:"}),s.jsx("code",{className:"block p-2 bg-white border border-blue-200 rounded text-sm",children:".\\deploy-agora.ps1"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"Mac/Linux:"}),s.jsx("code",{className:"block p-2 bg-white border border-blue-200 rounded text-sm",children:"./deploy-agora.sh"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"Or manually:"}),s.jsxs("code",{className:"block p-2 bg-white border border-blue-200 rounded text-sm",children:["supabase functions deploy server --project-ref ",Vt," --no-verify-jwt"]})]})]}),s.jsxs(ye,{className:"w-full mt-4",variant:"outline",onClick:()=>window.open(`https://supabase.com/dashboard/project/${Vt}/functions`,"_blank"),children:[s.jsx(wi,{className:"w-4 h-4 mr-2"}),"Open Supabase Functions Dashboard"]})]}),c&&s.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-green-800",children:"‚úÖ All systems operational! You can now use all features."})})]})}const fo={PENDING:"pending",IN_REVIEW:"in_review",IN_PROGRESS:"in_progress",AWAITING_INFO:"awaiting_info",READY_TO_FILE:"ready_to_file",FILED:"filed",COMPLETED:"completed",CANCELLED:"cancelled"};function zv(e){return{[fo.PENDING]:{label:"Pending",color:"bg-gray-100 text-gray-800",variant:"secondary"},[fo.IN_REVIEW]:{label:"In Review",color:"bg-blue-100 text-blue-800",variant:"default"},[fo.IN_PROGRESS]:{label:"In Progress",color:"bg-yellow-100 text-yellow-800",variant:"outline"},[fo.AWAITING_INFO]:{label:"Awaiting Info",color:"bg-orange-100 text-orange-800",variant:"outline"},[fo.READY_TO_FILE]:{label:"Ready to File",color:"bg-purple-100 text-purple-800",variant:"default"},[fo.FILED]:{label:"Filed",color:"bg-green-100 text-green-800",variant:"default"},[fo.COMPLETED]:{label:"Completed",color:"bg-green-200 text-green-900",variant:"default"},[fo.CANCELLED]:{label:"Cancelled",color:"bg-red-100 text-red-800",variant:"destructive"}}[e]||{label:e,color:"bg-gray-100 text-gray-800",variant:"secondary"}}function M9(){const[e,t]=C.useState(!1),[r,n]=C.useState(""),[a,i]=C.useState(!1),o=async()=>{t(!0),n("");try{const{data:l,error:c}=await Le.auth.getSession();if(c||!l.session){n("‚ùå Voc√™ precisa fazer login primeiro!"),i(!1),t(!1);return}const{data:A,error:u}=await Le.storage.listBuckets();if(u){n(`‚ùå Erro ao verificar buckets: ${u.message}`),i(!1),t(!1);return}const d=A==null?void 0:A.find(b=>b.name==="tax-documents-c2a25be0"),h=A==null?void 0:A.find(b=>b.name==="make-c2a25be0-client-documents");if(!d||!h){n("‚ùå Buckets n√£o encontrados! Os buckets precisam ser criados primeiro."),i(!1),t(!1);return}const f=new Blob(["test"],{type:"text/plain"}),g=`test-${Date.now()}.txt`,{error:p}=await Le.storage.from("tax-documents-c2a25be0").upload(g,f);if(p){p.message.includes("policy")?(n("‚ùå RLS POLICIES N√ÉO CONFIGURADAS! As policies precisam ser criadas no Supabase."),i(!1)):(n(`‚ùå Erro no upload: ${p.message}`),i(!1)),t(!1);return}await Le.storage.from("tax-documents-c2a25be0").remove([g]),n("‚úÖ TUDO FUNCIONANDO! Os buckets e as RLS policies est√£o configurados corretamente!"),i(!0)}catch(l){n(`‚ùå Erro inesperado: ${l.message}`),i(!1)}finally{t(!1)}};return s.jsx(Se,{className:"p-6 bg-blue-50 border-blue-200",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"üîç Diagn√≥stico R√°pido"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Clique no bot√£o abaixo para verificar se o sistema de upload est√° funcionando."})]}),s.jsx(ye,{onClick:o,disabled:e,className:"w-full",children:e?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}),"Verificando..."]}):"üîç Verificar Sistema"}),r&&s.jsx("div",{className:`p-4 rounded-lg border ${a?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[a?s.jsx(He,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):s.jsx(Ht,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`text-sm font-medium ${a?"text-green-800":"text-red-800"}`,children:r}),!a&&r.includes("POLICIES")&&s.jsxs("div",{className:"mt-3 text-sm text-red-700",children:[s.jsx("p",{className:"font-medium mb-2",children:"O que fazer:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[s.jsx("li",{children:"V√° para o Supabase Dashboard"}),s.jsx("li",{children:'Clique em "SQL Editor"'}),s.jsx("li",{children:"Execute o script SQL que enviei antes"}),s.jsx("li",{children:'Volte aqui e clique em "Verificar Sistema" novamente'})]})]})]})]})})]})})}function $9(){const[e,t]=C.useState(!1),[r,n]=C.useState(null),a=async()=>{var o,l;t(!0),n(null);const i={timestamp:new Date().toISOString(),tests:[]};try{i.tests.push({name:"Get Session",status:"running"});const{data:c,error:A}=await Le.auth.getSession();if(A||!c.session){i.tests[0].status="failed",i.tests[0].error=(A==null?void 0:A.message)||"No session",n(i),me.error("Session test failed!"),t(!1);return}i.tests[0].status="passed",i.tests[0].data={userId:c.session.user.id,email:c.session.user.email,hasAccessToken:!!c.session.access_token},i.tests.push({name:"Call /admin/clients API",status:"running"});const u=await fetch(Nt.adminClients,{headers:{Authorization:`Bearer ${c.session.access_token}`}}),d=await u.json();u.ok?(i.tests[1].status="passed",i.tests[1].data={clientsCount:((o=d.clients)==null?void 0:o.length)||0,clients:(l=d.clients)==null?void 0:l.map(h=>({id:h.id.substring(0,8)+"...",email:h.email,name:h.name}))}):(i.tests[1].status="failed",i.tests[1].error=d.error||`HTTP ${u.status}`,i.tests[1].response=d),i.tests.push({name:"Check Supabase Project",status:"passed"}),i.tests[2].data={apiUrl:Nt.adminClients,expectedProjectId:"lqpmyvizjfwzddxspacv"},n(i),i.tests.every(h=>h.status==="passed")?me.success("‚úÖ All tests passed!"):me.warning("‚ö†Ô∏è Some tests failed!")}catch(c){i.tests.push({name:"Unexpected Error",status:"failed",error:c.message}),n(i),me.error(`Debug failed: ${c.message}`)}finally{t(!1)}};return s.jsx(Se,{className:"p-6 bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(TN,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"üêõ Debug Clients"}),s.jsx("p",{className:"text-gray-600",children:"Test if clients are loading correctly"})]}),s.jsx(ye,{onClick:a,disabled:e,size:"lg",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:e?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-5 h-5 mr-2 animate-spin"}),"Running Tests..."]}):s.jsxs(s.Fragment,{children:[s.jsx(TN,{className:"w-5 h-5 mr-2"}),"RUN DEBUG TESTS"]})}),r&&s.jsxs("div",{className:"space-y-3 mt-4",children:[s.jsxs("div",{className:"bg-white border-2 border-purple-300 rounded-lg p-4",children:[s.jsx("h3",{className:"font-bold text-purple-900 mb-3",children:"Debug Results:"}),r.tests.map((i,o)=>s.jsxs("div",{className:"mb-4 last:mb-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.status==="passed"?s.jsx(He,{className:"w-5 h-5 text-green-600"}):s.jsx(Zn,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"font-semibold",children:i.name}),s.jsx("span",{className:`text-sm px-2 py-0.5 rounded ${i.status==="passed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i.status})]}),i.error&&s.jsxs("div",{className:"ml-7 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-800",children:[s.jsx("strong",{children:"Error:"})," ",i.error]}),i.data&&s.jsx("div",{className:"ml-7 p-2 bg-gray-50 border border-gray-200 rounded text-xs font-mono",children:s.jsx("pre",{className:"whitespace-pre-wrap overflow-auto max-h-48",children:JSON.stringify(i.data,null,2)})}),i.response&&s.jsx("div",{className:"ml-7 p-2 bg-orange-50 border border-orange-200 rounded text-xs font-mono",children:s.jsx("pre",{className:"whitespace-pre-wrap overflow-auto max-h-48",children:JSON.stringify(i.response,null,2)})})]},o))]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[s.jsx("p",{className:"font-semibold text-blue-900 mb-1",children:"üí° O que verificar:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800",children:[s.jsx("li",{children:"Se a API est√° usando o projeto correto (lqpmyvizjfwzddxspacv)"}),s.jsx("li",{children:"Se o n√∫mero de clients retornados est√° correto"}),s.jsx("li",{children:'Se "Veronica Prass" aparece na lista de clients'})]})]})]})]})})}function H9(){const[e,t]=C.useState(!1),[r,n]=C.useState([]),[a,i]=C.useState(!1),o=async()=>{t(!0),i(!1),n([]);try{const{data:l,error:c}=await Le.auth.getSession();if(c||!l.session){me.error("You need to be logged in as admin!"),t(!1);return}const A=l.session.access_token,u=await fetch(Nt.adminCreateBuckets,{method:"POST",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"}}),d=await u.json();if(!u.ok)throw new Error(d.error||"Failed to create buckets");n(d.results||[]),i(!0),d.success?me.success(d.message||"‚úÖ Buckets created successfully!"):me.warning(d.message||"‚ö†Ô∏è Some buckets failed")}catch(l){console.error("Error creating buckets:",l),me.error(l.message||"Failed to create buckets")}finally{t(!1)}};return s.jsx(Se,{className:"p-8 bg-gradient-to-br from-blue-50 to-cyan-50 border-2 border-blue-200",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(Wp,{className:"w-10 h-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"ü™£ Criar Buckets"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Passo 1: Criar os buckets de armazenamento"})]}),!a&&s.jsxs("div",{className:"text-center",children:[s.jsx(ye,{onClick:o,disabled:e,size:"lg",className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white px-12 py-6 text-xl font-semibold shadow-xl hover:shadow-2xl transition-all transform hover:scale-105",children:e?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-6 h-6 mr-3 animate-spin"}),"Criando buckets..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Wp,{className:"w-6 h-6 mr-3"}),"CRIAR BUCKETS"]})}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Este bot√£o vai criar os 2 buckets necess√°rios"})]}),a&&r.length>0&&s.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[r.map((l,c)=>s.jsx("div",{className:`border-2 rounded-xl p-6 ${l.status==="created"?"bg-green-50 border-green-200":l.status==="already_exists"?"bg-blue-50 border-blue-200":"bg-red-50 border-red-200"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[l.status==="created"?s.jsx(He,{className:"w-8 h-8 text-green-600 flex-shrink-0"}):l.status==="already_exists"?s.jsx(He,{className:"w-8 h-8 text-blue-600 flex-shrink-0"}):s.jsx(Ht,{className:"w-8 h-8 text-red-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-lg mb-1",children:l.bucket}),s.jsxs("p",{className:`text-sm ${l.status==="created"?"text-green-700":l.status==="already_exists"?"text-blue-700":"text-red-700"}`,children:[l.status==="created"&&"‚úÖ Criado com sucesso!",l.status==="already_exists"&&"‚ÑπÔ∏è J√° existe (OK)",l.status==="error"&&`‚ùå Erro: ${l.message}`]})]})]})},c)),s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(He,{className:"w-8 h-8 text-green-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-green-900 mb-2",children:"üéâ Pr√≥ximo Passo:"}),s.jsxs("p",{className:"text-green-800 font-medium mb-2",children:["Agora use o ",s.jsx("strong",{children:'"Bot√£o M√°gico"'})," abaixo para criar as policies!"]}),s.jsx("p",{className:"text-sm text-green-700",children:"As policies s√£o as regras de permiss√£o que controlam quem pode acessar os arquivos."})]})]})}),s.jsx("div",{className:"text-center",children:s.jsx(ye,{onClick:()=>{i(!1),n([])},variant:"outline",className:"border-blue-300 hover:bg-blue-50",children:"Verificar Novamente"})})]}),!a&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Ht,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"O que este bot√£o faz?"}),s.jsx("p",{className:"mb-2",children:"Ele cria automaticamente 2 buckets (containers) no Supabase Storage:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[s.jsx("li",{children:s.jsx("code",{className:"bg-blue-100 px-1 py-0.5 rounded",children:"tax-documents-c2a25be0"})}),s.jsx("li",{children:s.jsx("code",{className:"bg-blue-100 px-1 py-0.5 rounded",children:"make-c2a25be0-client-documents"})})]}),s.jsx("p",{className:"mt-2",children:"Se os buckets j√° existirem, vai apenas confirmar que est√£o OK!"})]})]})})]})})}function K9(){const[e,t]=C.useState(!1),[r,n]=C.useState(""),[a,i]=C.useState(!1),[o,l]=C.useState(!1),c=async()=>{t(!0),n(""),l(!1);try{const{data:d,error:h}=await Le.auth.getSession();if(h||!d.session){me.error("You need to be logged in as admin!"),t(!1);return}const f=d.session.access_token,g=await fetch(Nt.adminSetupPolicies,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}}),p=await g.json();if(!g.ok)throw new Error(p.error||"Failed to setup policies");p.sql?(n(p.sql),l(!0),me.success("SQL script ready! Follow the steps below.")):me.success(p.message||"Setup complete!")}catch(d){console.error("Error in magic setup:",d),me.error(d.message||"Failed to setup. Try again!")}finally{t(!1)}},A=async()=>{if(!r)return;if(await $x(r))i(!0),me.success("SQL copied! Now paste it in Supabase."),setTimeout(()=>i(!1),3e3);else{me.info("Please copy the SQL manually from the preview below.");const h=document.querySelector("details");h&&(h.open=!0)}},u=()=>{try{window.open("https://supabase.com/dashboard/project/pwlacumydrxvshklvttp","_blank")}catch(d){console.error("Error opening Supabase:",d),me.error("Erro ao abrir Supabase. Tente abrir manualmente.")}};return s.jsx(Se,{className:"p-8 bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(Sv,{className:"w-10 h-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"ü™Ñ Configura√ß√£o M√°gica"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Configure o sistema de upload em 3 cliques!"})]}),!o&&s.jsxs("div",{className:"text-center",children:[s.jsx(ye,{onClick:c,disabled:e,size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-12 py-6 text-xl font-semibold shadow-xl hover:shadow-2xl transition-all transform hover:scale-105",children:e?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-6 h-6 mr-3 animate-spin"}),"Gerando configura√ß√£o..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Sv,{className:"w-6 h-6 mr-3"}),"CLIQUE AQUI PARA CONFIGURAR"]})}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Este bot√£o vai gerar o script de configura√ß√£o automaticamente"})]}),o&&r&&s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[s.jsx("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(He,{className:"w-8 h-8 text-green-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-green-900 mb-2",children:"‚úÖ Script Gerado com Sucesso!"}),s.jsx("p",{className:"text-green-700",children:"Agora siga os 3 passos abaixo para completar a configura√ß√£o:"})]})]})}),s.jsx("div",{className:"bg-white border-2 border-blue-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 text-blue-700 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0",children:"1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Copiar o Script SQL"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Clique no bot√£o abaixo para copiar o script autom√°tico:"}),s.jsx(ye,{onClick:A,size:"lg",className:a?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700",children:a?s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"w-5 h-5 mr-2"}),"‚úÖ Copiado!"]}):s.jsxs(s.Fragment,{children:[s.jsx(ja,{className:"w-5 h-5 mr-2"}),"üìã COPIAR SCRIPT"]})})]})]})}),s.jsx("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 text-purple-700 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0",children:"2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Abrir Supabase Dashboard"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Clique para abrir o Supabase em uma nova aba:"}),s.jsxs(ye,{onClick:u,size:"lg",variant:"outline",className:"border-purple-300 hover:bg-purple-50",children:[s.jsx(wi,{className:"w-5 h-5 mr-2"}),"üåê ABRIR SUPABASE"]})]})]})}),s.jsx("div",{className:"bg-white border-2 border-pink-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-pink-100 text-pink-700 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0",children:"3"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Executar no Supabase"}),s.jsxs("div",{className:"text-gray-700 space-y-2",children:[s.jsx("p",{className:"font-medium",children:"No Supabase que abriu:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[s.jsxs("li",{children:["Clique em ",s.jsx("strong",{children:'"SQL Editor"'})," no menu lateral esquerdo"]}),s.jsxs("li",{children:["Clique em ",s.jsx("strong",{children:'"+ New query"'})]}),s.jsx("li",{children:"Cole o script (Ctrl+V ou Cmd+V)"}),s.jsxs("li",{children:["Clique em ",s.jsx("strong",{children:'"Run"'})," (ou Ctrl+Enter)"]}),s.jsx("li",{children:"Aguarde a mensagem de sucesso ‚úÖ"})]})]})]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Sv,{className:"w-8 h-8 text-green-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-green-900 mb-2",children:"üéâ Depois de executar:"}),s.jsx("p",{className:"text-green-800 font-medium",children:"Recarregue esta p√°gina (F5) e teste o upload de documentos!"}),s.jsx("p",{className:"text-sm text-green-700 mt-2",children:"Tudo deve funcionar perfeitamente ‚ú®"})]})]})}),s.jsxs("details",{className:"bg-gray-50 border rounded-xl p-4",children:[s.jsx("summary",{className:"cursor-pointer font-semibold text-gray-700 hover:text-gray-900",children:"üëÅÔ∏è Ver o Script SQL (opcional)"}),s.jsx("div",{className:"mt-4 bg-gray-900 rounded-lg p-4 max-h-96 overflow-y-auto",children:s.jsx("pre",{className:"text-xs text-green-400 font-mono whitespace-pre-wrap break-words",children:r})})]})]}),!o&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Ht,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"O que este bot√£o faz?"}),s.jsx("p",{children:"Ele gera automaticamente o script SQL necess√°rio para configurar as permiss√µes de upload. Voc√™ s√≥ precisa copiar e colar no Supabase!"})]})]})})]})})}function V9(){const[e,t]=C.useState(!1),[r,n]=C.useState(!1),a=`-- ============================================================
-- RLS POLICIES PARA STORAGE - TAX FILING SYSTEM
-- Execute este script uma √∫nica vez
-- ============================================================

-- BUCKET 1: tax-documents-c2a25be0
-- Este bucket armazena documentos fiscais dos clientes

-- Policy 1: Permitir INSERT (Upload)
CREATE POLICY "Allow authenticated users to upload files"
ON storage.objects
FOR INSERT
TO authenticated
WITH CHECK (bucket_id = 'tax-documents-c2a25be0');

-- Policy 2: Permitir SELECT (Download/Visualizar)
CREATE POLICY "Allow authenticated users to read files"
ON storage.objects
FOR SELECT
TO authenticated
USING (bucket_id = 'tax-documents-c2a25be0');

-- Policy 3: Permitir UPDATE (Atualizar)
CREATE POLICY "Allow authenticated users to update files"
ON storage.objects
FOR UPDATE
TO authenticated
USING (bucket_id = 'tax-documents-c2a25be0')
WITH CHECK (bucket_id = 'tax-documents-c2a25be0');

-- Policy 4: Permitir DELETE (Deletar)
CREATE POLICY "Allow authenticated users to delete files"
ON storage.objects
FOR DELETE
TO authenticated
USING (bucket_id = 'tax-documents-c2a25be0');

-- ============================================================

-- BUCKET 2: make-c2a25be0-client-documents
-- Este bucket armazena documentos gerais dos clientes

-- Policy 1: Permitir INSERT (Upload)
CREATE POLICY "Allow authenticated users to upload client documents"
ON storage.objects
FOR INSERT
TO authenticated
WITH CHECK (bucket_id = 'make-c2a25be0-client-documents');

-- Policy 2: Permitir SELECT (Download/Visualizar)
CREATE POLICY "Allow authenticated users to read client documents"
ON storage.objects
FOR SELECT
TO authenticated
USING (bucket_id = 'make-c2a25be0-client-documents');

-- Policy 3: Permitir UPDATE (Atualizar)
CREATE POLICY "Allow authenticated users to update client documents"
ON storage.objects
FOR UPDATE
TO authenticated
USING (bucket_id = 'make-c2a25be0-client-documents')
WITH CHECK (bucket_id = 'make-c2a25be0-client-documents');

-- Policy 4: Permitir DELETE (Deletar)
CREATE POLICY "Allow authenticated users to delete client documents"
ON storage.objects
FOR DELETE
TO authenticated
USING (bucket_id = 'make-c2a25be0-client-documents');

-- ============================================================
-- ‚úÖ CONCLU√çDO!
-- Todas as policies foram criadas com sucesso.
-- ============================================================`,i=async()=>{await $x(a)?(t(!0),me.success("SQL script copied to clipboard!"),setTimeout(()=>t(!1),3e3)):(me.info("Please copy the SQL manually from the expanded section"),n(!0))},o=()=>{window.open("https://supabase.com/dashboard","_blank")};return s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Wp,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"RLS Policy Setup Helper"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Configure storage permissions in 3 easy steps"})]})]}),s.jsx(vt,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:"One-time setup"})]}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Ht,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-amber-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Action Required"}),s.jsx("p",{children:"The Storage Diagnostics detected missing RLS policies. Follow the steps below to fix this in less than 2 minutes."})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-700 rounded-full flex items-center justify-center font-semibold",children:"1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Copy the SQL Script"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Click the button below to copy the complete SQL script to your clipboard."}),s.jsx(ye,{onClick:i,className:e?"bg-green-600 hover:bg-green-700":"",children:e?s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"w-4 h-4 mr-2"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(ja,{className:"w-4 h-4 mr-2"}),"Copy SQL Script"]})})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-700 rounded-full flex items-center justify-center font-semibold",children:"2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Open Supabase SQL Editor"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Go to your Supabase Dashboard and open the SQL Editor."}),s.jsxs(ye,{onClick:o,variant:"outline",children:[s.jsx(wi,{className:"w-4 h-4 mr-2"}),"Open Supabase Dashboard"]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-700 rounded-full flex items-center justify-center font-semibold",children:"3"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Run the Script"}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[s.jsx("p",{children:"In the Supabase Dashboard:"}),s.jsxs("ol",{className:"list-decimal list-inside ml-2 space-y-1",children:[s.jsxs("li",{children:["Click on ",s.jsx("strong",{children:'"SQL Editor"'})," in the left sidebar"]}),s.jsxs("li",{children:["Click ",s.jsx("strong",{children:'"New query"'})]}),s.jsx("li",{children:"Paste the copied SQL script (Ctrl+V / Cmd+V)"}),s.jsxs("li",{children:["Click ",s.jsx("strong",{children:'"Run"'})," (or press Ctrl+Enter / Cmd+Enter)"]}),s.jsx("li",{children:"You should see success messages ‚úÖ"})]})]})]})]})]}),s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-100 px-4 py-2 border-b flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[s.jsx(xD,{className:"w-4 h-4"}),"SQL Script Preview"]}),s.jsx("span",{className:"text-xs text-gray-500",children:"8 policies for 2 buckets"})]}),s.jsx("div",{className:"bg-gray-50 p-4 max-h-64 overflow-y-auto",children:s.jsx("pre",{className:"text-xs font-mono text-gray-700 whitespace-pre-wrap break-words",children:a})})]}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(He,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-green-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"After Running the Script"}),s.jsx("p",{children:"Refresh this page and check the Storage Diagnostics section above. All checks should turn green ‚úÖ. Then you can test uploading documents!"})]})]})}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("details",{className:"text-sm",children:[s.jsx("summary",{className:"cursor-pointer font-medium text-gray-700 hover:text-gray-900",children:"Need more detailed instructions? Click here"}),s.jsxs("div",{className:"mt-3 space-y-2 text-gray-600",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"What are RLS Policies?"}),s.jsx("br",{}),"Row Level Security (RLS) policies control who can access files in your storage buckets. Without these policies, users cannot upload or view documents."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"What does this script do?"}),s.jsx("br",{}),"It creates 4 policies for each bucket (INSERT, SELECT, UPDATE, DELETE) that allow authenticated users to manage their documents."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Is it safe?"}),s.jsx("br",{}),"Yes! These policies only allow authenticated (logged-in) users to access files. Anonymous users cannot access anything."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Can I undo this?"}),s.jsx("br",{}),"Yes. You can delete policies anytime in Supabase Dashboard ‚Üí Storage ‚Üí Policies."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Still need help?"}),s.jsx("br",{}),"Check the file ",s.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"GUIA_CONFIGURACAO_RLS_POLICIES.md"})," ","in the project root for step-by-step screenshots and troubleshooting."]})]})]})})]})})}function z9(){const[e,t]=C.useState(!1),[r,n]=C.useState([]);C.useEffect(()=>{a()},[]);const a=async()=>{t(!0);try{const l=["tax-documents-c2a25be0","make-c2a25be0-client-documents"],c=[];for(const A of l){const u={name:A,exists:!1,isPublic:!1,policies:{insert:!1,select:!1,update:!1,delete:!1},canUpload:!1,canRead:!1,canDelete:!1},{data:d}=await Le.storage.listBuckets(),h=d==null?void 0:d.find(m=>m.name===A);h&&(u.exists=!0,u.isPublic=h.public||!1);const g=`_diagnostics/${`test_${Date.now()}.txt`}`,p=new Blob(["test"],{type:"text/plain"}),{error:b}=await Le.storage.from(A).upload(g,p,{cacheControl:"3600",upsert:!1});if(!b){u.canUpload=!0,u.policies.insert=!0;const{data:m,error:x}=await Le.storage.from(A).list("_diagnostics");!x&&m&&(u.canRead=!0,u.policies.select=!0);const{error:y}=await Le.storage.from(A).remove([g]);y||(u.canDelete=!0,u.policies.delete=!0)}c.push(u)}n(c)}catch(l){console.error("Error checking storage setup:",l)}finally{t(!1)}},i=l=>l?s.jsx(He,{className:"w-4 h-4 text-green-600"}):s.jsx(Zn,{className:"w-4 h-4 text-red-600"}),o=l=>l.exists?l.canUpload&&l.canRead&&l.canDelete?"success":l.canUpload||l.canRead?"warning":"error":"error";return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(Wp,{className:"w-5 h-5 text-blue-600"}),"Storage Diagnostics"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Verify Supabase Storage buckets and RLS policies configuration"})]}),s.jsx(ye,{onClick:a,disabled:e,size:"sm",variant:"outline",children:e?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}),"Checking..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Kc,{className:"w-4 h-4 mr-2"}),"Re-check"]})})]}),r.length===0&&e&&s.jsxs(Se,{className:"p-8 text-center",children:[s.jsx(ht,{className:"w-8 h-8 animate-spin mx-auto mb-3 text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Running diagnostics..."})]}),r.map(l=>{const c=o(l);return s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${c==="success"?"bg-green-100":c==="warning"?"bg-yellow-100":"bg-red-100"}`,children:s.jsx(Bf,{className:`w-5 h-5 ${c==="success"?"text-green-600":c==="warning"?"text-yellow-600":"text-red-600"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:l.name}),s.jsx("p",{className:"text-sm text-gray-500",children:"Storage Bucket"})]})]}),s.jsx(vt,{variant:c==="success"?"default":"destructive",className:c==="success"?"bg-green-600":c==="warning"?"bg-yellow-600":"bg-red-600",children:c==="success"?"Configured":c==="warning"?"Partial":"Not Configured"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Bucket Status"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i(l.exists),s.jsx("span",{className:l.exists?"text-green-700":"text-red-700",children:l.exists?"Bucket exists":"Bucket not found"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i(!l.isPublic),s.jsx("span",{className:l.isPublic?"text-yellow-700":"text-green-700",children:l.isPublic?"Public (should be private)":"Private"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"RLS Policies"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.policies.insert?s.jsx(Qr,{className:"w-4 h-4 text-green-600"}):s.jsx(Qr,{className:"w-4 h-4 text-red-600"}),s.jsxs("span",{className:l.policies.insert?"text-green-700":"text-red-700",children:["INSERT ",l.policies.insert?"‚úì":"‚úó"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.policies.select?s.jsx(Sf,{className:"w-4 h-4 text-green-600"}):s.jsx(Sf,{className:"w-4 h-4 text-red-600"}),s.jsxs("span",{className:l.policies.select?"text-green-700":"text-red-700",children:["SELECT ",l.policies.select?"‚úì":"‚úó"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.policies.delete?s.jsx(Pi,{className:"w-4 h-4 text-green-600"}):s.jsx(Pi,{className:"w-4 h-4 text-red-600"}),s.jsxs("span",{className:l.policies.delete?"text-green-700":"text-red-700",children:["DELETE ",l.policies.delete?"‚úì":"‚úó"]})]})]})]})]}),!l.exists&&s.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Zn,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-red-800",children:[s.jsx("p",{className:"font-medium",children:"Bucket not found"}),s.jsx("p",{className:"mt-1",children:"The bucket needs to be created. The server should create it automatically on startup. Try restarting the backend or create it manually in Supabase Dashboard."})]})]})}),l.exists&&!l.canUpload&&s.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Zn,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-red-800",children:[s.jsx("p",{className:"font-medium",children:"Missing INSERT policy"}),s.jsxs("p",{className:"mt-1",children:["Users cannot upload files. Please add an INSERT policy in Supabase Dashboard:",s.jsx("br",{}),s.jsxs("code",{className:"bg-red-100 px-1 py-0.5 rounded text-xs mt-1 inline-block",children:["Storage ‚Üí ",l.name,' ‚Üí Policies ‚Üí New Policy ‚Üí INSERT with "authenticated" role']})]})]})]})}),l.exists&&!l.canRead&&s.jsx("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Ht,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-yellow-800",children:[s.jsx("p",{className:"font-medium",children:"Missing SELECT policy"}),s.jsx("p",{className:"mt-1",children:"Users cannot view/download files. Please add a SELECT policy in Supabase Dashboard."})]})]})}),l.exists&&!l.canDelete&&s.jsx("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Ht,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-yellow-800",children:[s.jsx("p",{className:"font-medium",children:"Missing DELETE policy"}),s.jsx("p",{className:"mt-1",children:"Users cannot delete files. Please add a DELETE policy in Supabase Dashboard."})]})]})}),l.exists&&l.canUpload&&l.canRead&&l.canDelete&&s.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(He,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-green-800",children:[s.jsx("p",{className:"font-medium",children:"‚úì All checks passed!"}),s.jsx("p",{className:"mt-1",children:"This bucket is properly configured and ready to use."})]})]})})]},l.name)}),s.jsxs(Se,{className:"p-6 bg-blue-50 border-blue-200",children:[s.jsxs("h3",{className:"font-medium text-blue-900 mb-3 flex items-center gap-2",children:[s.jsx(Ht,{className:"w-5 h-5"}),"Setup Instructions"]}),s.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[s.jsx("p",{children:"If any checks fail, you need to configure RLS policies in Supabase Dashboard:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[s.jsxs("li",{children:["Go to ",s.jsx("strong",{children:"Supabase Dashboard ‚Üí Storage"})]}),s.jsxs("li",{children:["Select the bucket (e.g., ",s.jsx("code",{className:"bg-blue-100 px-1 py-0.5 rounded",children:"tax-documents-c2a25be0"}),")"]}),s.jsxs("li",{children:["Click on ",s.jsx("strong",{children:"Policies"})," tab"]}),s.jsxs("li",{children:["Create 4 policies for ",s.jsx("strong",{children:"authenticated"})," role:",s.jsxs("ul",{className:"list-disc list-inside ml-4 mt-1 space-y-0.5",children:[s.jsx("li",{children:"INSERT - Allow authenticated uploads"}),s.jsx("li",{children:"SELECT - Allow authenticated reads"}),s.jsx("li",{children:"UPDATE - Allow authenticated updates"}),s.jsx("li",{children:"DELETE - Allow authenticated deletes"})]})]})]}),s.jsxs("p",{className:"mt-3",children:["üìÑ See ",s.jsx("strong",{children:"SUPABASE_STORAGE_SETUP.md"})," for detailed step-by-step instructions."]})]})]})]})}function G9(){var b,m,x,y;const e=Br(),{user:t}=Wr(),[r,n]=C.useState([]),[a,i]=C.useState(!0),[o,l]=C.useState(null),[c,A]=C.useState(null),u=!0;C.useEffect(()=>{if(console.log("üîç AdminDashboard mounted, user:",t==null?void 0:t.email),!t||!Ya(t.email)){console.log("‚ùå Not admin, redirecting to login"),e("/login");return}console.log("‚úÖ Admin verified, loading clients..."),d()},[t]);const d=async()=>{var w;i(!0),A(null);try{if(u){console.log("üì¶ [AdminDashboard] Loading REAL clients from Supabase KV store...");const{data:Q,error:U}=await Le.from("kv_store_c2a25be0").select("key, value").like("key","personal_info:%");if(U){console.error("‚ùå Error fetching from KV store:",U),me.error("Failed to fetch clients"),i(!1);return}if(console.log(`üìã Found ${(Q==null?void 0:Q.length)||0} clients in KV store`),!Q||Q.length===0){console.log("üì≠ No clients found"),n([]),i(!1);return}const T=await Promise.all(Q.map(async k=>{var q,Z,D;const I=k.key.replace("personal_info:",""),M=k.value,{data:L}=await Le.from("kv_store_c2a25be0").select("value").eq("key",`user_metadata:${I}`).single(),{data:K}=await Le.from("kv_store_c2a25be0").select("value").like("key",`tax_filing:${I}:%`),R=((q=L==null?void 0:L.value)==null?void 0:q.email)||(M==null?void 0:M.email)||`user-${I.substring(0,8)}@example.com`,$=((Z=L==null?void 0:L.value)==null?void 0:Z.name)||(M==null?void 0:M.firstName)||R.split("@")[0];return{id:I,email:R,name:$,createdAt:((D=L==null?void 0:L.value)==null?void 0:D.created_at)||new Date().toISOString(),personalInfo:M,taxFilings:(K==null?void 0:K.map(H=>H.value))||[],onboardingComplete:!!M}}));console.log(`‚úÖ Loaded ${T.length} REAL clients`),n(T),i(!1);return}console.log("üì° Fetching session...");const{data:N,error:B}=await Le.auth.getSession();if(B||!N.session)throw new Error("Not authenticated");const F=N.session.access_token;console.log("üîë Got access token, fetching clients...");const E=await fetch(Nt.adminClients,{headers:{Authorization:`Bearer ${F}`}});if(!E.ok){const Q=await E.json();throw console.error("‚ùå Error response:",Q),new Error(Q.error||"Failed to load clients")}const P=await E.json();console.log("‚úÖ Loaded clients:",((w=P.clients)==null?void 0:w.length)||0),n(P.clients||[])}catch(N){console.error("‚ùå Error loading clients:",N);const B=N instanceof Error?N.message:"Unknown error";A(B),me.error(`Failed to load clients: ${B}`)}finally{i(!1)}},f=(()=>{const w={};return fo.forEach(N=>{w[N.id]={statusId:N.id,count:0,clients:[]}}),r.forEach(N=>{if(N.taxFilings&&N.taxFilings.length>0){const F=N.taxFilings.sort((E,P)=>P.year-E.year)[0].status||"documents-pending";w[F]&&(w[F].count++,w[F].clients.push(N))}else N.onboardingComplete?(w["documents-pending"].count++,w["documents-pending"].clients.push(N)):(w.onboarding.count++,w.onboarding.clients.push(N))}),Object.values(w)})(),g=o?((b=f.find(w=>w.statusId===o))==null?void 0:b.clients)||[]:r,p={CheckCircle:He,Clock:Mr,Upload:Qr,Settings:V1,FileText:Mt,Send:Za};return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ht,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center",children:s.jsx(vD,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Admin Dashboard"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Overview of all client tax filings"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ye,{onClick:()=>e("/admin"),variant:"outline",children:"Back to Admin Hub"})})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx(Q9,{})}),s.jsx("div",{className:"mb-8",children:s.jsx(M9,{})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(Se,{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Total Clients"}),s.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-1",children:r.length})]}),s.jsx(dr,{className:"w-12 h-12 text-blue-600 opacity-20"})]})}),s.jsx(Se,{className:"p-6 bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Completed"}),s.jsx("p",{className:"text-3xl font-bold text-green-900 mt-1",children:((m=f.find(w=>w.statusId==="completed"))==null?void 0:m.count)||0})]}),s.jsx(He,{className:"w-12 h-12 text-green-600 opacity-20"})]})}),s.jsx(Se,{className:"p-6 bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-orange-700 font-medium",children:"In Progress"}),s.jsx("p",{className:"text-3xl font-bold text-orange-900 mt-1",children:f.filter(w=>!["completed","onboarding","documents-pending"].includes(w.statusId)).reduce((w,N)=>w+N.count,0)})]}),s.jsx(Mn,{className:"w-12 h-12 text-orange-600 opacity-20"})]})}),s.jsx(Se,{className:"p-6 bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-yellow-700 font-medium",children:"Pending"}),s.jsx("p",{className:"text-3xl font-bold text-yellow-900 mt-1",children:((x=f.find(w=>w.statusId==="documents-pending"))==null?void 0:x.count)||0})]}),s.jsx(Mr,{className:"w-12 h-12 text-yellow-600 opacity-20"})]})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Clients by Status"}),o&&s.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>l(null),children:"Clear Filter"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:f.filter(w=>w.count>0).map(w=>{const N=zv(w.statusId);if(!N)return null;const B=p[N.icon]||Mr,F=o===w.statusId;return s.jsxs(Se,{className:`
                    p-5 cursor-pointer transition-all hover:shadow-lg
                    ${F?"ring-2 ring-blue-500 shadow-lg":""}
                  `,onClick:()=>l(F?null:w.statusId),children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${N.color}`,children:s.jsx(B,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-2xl font-bold",children:w.count}),s.jsx("p",{className:"text-xs text-gray-500",children:w.count===1?"client":"clients"})]})]}),s.jsx("h3",{className:"font-semibold mb-1",children:N.label.en}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:N.description.en})]},w.statusId)})})]}),s.jsxs("div",{className:"mb-8 space-y-6",children:[s.jsx($9,{}),s.jsx(H9,{}),s.jsx(K9,{})]}),s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:o?`Clients - ${(y=zv(o))==null?void 0:y.label.en}`:"All Clients"}),s.jsxs(vt,{variant:"outline",className:"text-sm",children:[g.length," ",g.length===1?"client":"clients"]})]}),g.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(dr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"No clients found"})]}):s.jsx("div",{className:"space-y-3",children:g.map(w=>{var P;const N=(P=w.taxFilings)==null?void 0:P[0],B=(N==null?void 0:N.status)||(w.onboardingComplete?"documents-pending":"onboarding"),F=zv(B),E=F?p[F.icon]:Mr;return s.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>e(`/admin/client/${w.id}`),children:s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white font-semibold",children:w.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold truncate",children:w.name}),s.jsx("p",{className:"text-sm text-gray-500 truncate",children:w.email})]}),F&&s.jsxs(vt,{variant:"outline",className:`${F.color} border flex-shrink-0`,children:[s.jsx(E,{className:"w-3 h-3 mr-1"}),F.label.en]}),s.jsx(xh,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]})},w.id)})})]}),s.jsx("div",{className:"mt-8",children:s.jsx(V9,{})}),s.jsx("div",{className:"mt-8",children:s.jsx(z9,{})}),s.jsx("div",{className:"mt-8",children:s.jsx(R9,{})})]})]})}function q9(e,t){return C.useReducer((r,n)=>t[r][n]??r,e)}var Hx=e=>{const{present:t,children:r}=e,n=W9(t),a=typeof r=="function"?r({present:n.isPresent}):C.Children.only(r),i=dn(n.ref,Y9(a));return typeof r=="function"||n.isPresent?C.cloneElement(a,{ref:i}):null};Hx.displayName="Presence";function W9(e){const[t,r]=C.useState(),n=C.useRef(null),a=C.useRef(e),i=C.useRef("none"),o=e?"mounted":"unmounted",[l,c]=q9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const A=Em(n.current);i.current=l==="mounted"?A:"none"},[l]),hs(()=>{const A=n.current,u=a.current;if(u!==e){const h=i.current,f=Em(A);e?c("MOUNT"):f==="none"||(A==null?void 0:A.display)==="none"?c("UNMOUNT"):c(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),hs(()=>{if(t){let A;const u=t.ownerDocument.defaultView??window,d=f=>{const p=Em(n.current).includes(CSS.escape(f.animationName));if(f.target===t&&p&&(c("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",A=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=f=>{f.target===t&&(i.current=Em(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(A),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(A=>{n.current=A?getComputedStyle(A):null,r(A)},[])}}function Em(e){return(e==null?void 0:e.animationName)||"none"}function Y9(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function X9(e){const t=J9(e),r=C.forwardRef((n,a)=>{const{children:i,...o}=n,l=C.Children.toArray(i),c=l.find(eK);if(c){const A=c.props.children,u=l.map(d=>d===c?C.Children.count(A)>1?C.Children.only(null):C.isValidElement(A)?A.props.children:null:d);return s.jsx(t,{...o,ref:a,children:C.isValidElement(A)?C.cloneElement(A,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function J9(e){const t=C.forwardRef((r,n)=>{const{children:a,...i}=r;if(C.isValidElement(a)){const o=rK(a),l=tK(i,a.props);return a.type!==C.Fragment&&(l.ref=n?Pu(n,o):o),C.cloneElement(a,l)}return C.Children.count(a)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Z9=Symbol("radix.slottable");function eK(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Z9}function tK(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function rK(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Kx="Dialog",[p3]=kx(Kx),[nK,ni]=p3(Kx),g3=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=C.useRef(null),c=C.useRef(null),[A,u]=Cy({prop:n,defaultProp:a??!1,onChange:i,caller:Kx});return s.jsx(nK,{scope:t,triggerRef:l,contentRef:c,contentId:zA(),titleId:zA(),descriptionId:zA(),open:A,onOpenChange:u,onOpenToggle:C.useCallback(()=>u(d=>!d),[u]),modal:o,children:r})};g3.displayName=Kx;var x3="DialogTrigger",sK=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ni(x3,r),i=dn(t,a.triggerRef);return s.jsx(Or.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":y2(a.open),...n,ref:i,onClick:Lr(e.onClick,a.onOpenToggle)})});sK.displayName=x3;var v2="DialogPortal",[aK,v3]=p3(v2,{forceMount:void 0}),b3=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=ni(v2,t);return s.jsx(aK,{scope:t,forceMount:r,children:C.Children.map(n,o=>s.jsx(Hx,{present:r||i.open,children:s.jsx(i2,{asChild:!0,container:a,children:o})}))})};b3.displayName=v2;var lg="DialogOverlay",y3=C.forwardRef((e,t)=>{const r=v3(lg,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ni(lg,e.__scopeDialog);return i.modal?s.jsx(Hx,{present:n||i.open,children:s.jsx(oK,{...a,ref:t})}):null});y3.displayName=lg;var iK=X9("DialogOverlay.RemoveScroll"),oK=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ni(lg,r);return s.jsx(o2,{as:iK,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Or.div,{"data-state":y2(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Uc="DialogContent",w3=C.forwardRef((e,t)=>{const r=v3(Uc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ni(Uc,e.__scopeDialog);return s.jsx(Hx,{present:n||i.open,children:i.modal?s.jsx(lK,{...a,ref:t}):s.jsx(cK,{...a,ref:t})})});w3.displayName=Uc;var lK=C.forwardRef((e,t)=>{const r=ni(Uc,e.__scopeDialog),n=C.useRef(null),a=dn(t,r.contentRef,n);return C.useEffect(()=>{const i=n.current;if(i)return bP(i)},[]),s.jsx(j3,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Lr(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Lr(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Lr(e.onFocusOutside,i=>i.preventDefault())})}),cK=C.forwardRef((e,t)=>{const r=ni(Uc,e.__scopeDialog),n=C.useRef(!1),a=C.useRef(!1);return s.jsx(j3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,A;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((A=r.triggerRef.current)==null?void 0:A.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),j3=C.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ni(Uc,r),c=C.useRef(null),A=dn(t,c);return qT(),s.jsxs(s.Fragment,{children:[s.jsx(X1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Y1,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":y2(l.open),...o,ref:A,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(AK,{titleId:l.titleId}),s.jsx(dK,{contentRef:c,descriptionId:l.descriptionId})]})]})}),b2="DialogTitle",N3=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ni(b2,r);return s.jsx(Or.h2,{id:a.titleId,...n,ref:t})});N3.displayName=b2;var C3="DialogDescription",B3=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ni(C3,r);return s.jsx(Or.p,{id:a.descriptionId,...n,ref:t})});B3.displayName=C3;var S3="DialogClose",E3=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ni(S3,r);return s.jsx(Or.button,{type:"button",...n,ref:t,onClick:Lr(e.onClick,()=>a.onOpenChange(!1))})});E3.displayName=S3;function y2(e){return e?"open":"closed"}var F3="DialogTitleWarning",[m5e,T3]=$Q(F3,{contentName:Uc,titleName:b2,docsSlug:"dialog"}),AK=({titleId:e})=>{const t=T3(F3),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},uK="DialogDescriptionWarning",dK=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${T3(uK).contentName}}.`;return C.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},fK=g3,hK=b3,mK=y3,pK=w3,gK=N3,xK=B3,vK=E3;function P3({...e}){return s.jsx(fK,{"data-slot":"dialog",...e})}function bK({...e}){return s.jsx(hK,{"data-slot":"dialog-portal",...e})}const k3=C.forwardRef(({className:e,...t},r)=>s.jsx(mK,{ref:r,"data-slot":"dialog-overlay",className:bn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));k3.displayName="DialogOverlay";function O3({className:e,children:t,...r}){return s.jsxs(bK,{"data-slot":"dialog-portal",children:[s.jsx(k3,{}),s.jsxs(pK,{"data-slot":"dialog-content",className:bn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,s.jsxs(vK,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(In,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function I3({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-header",className:bn("flex flex-col gap-2 text-center sm:text-left",e),...t})}function U3({className:e,...t}){return s.jsx(gK,{"data-slot":"dialog-title",className:bn("text-lg leading-none font-semibold",e),...t})}function _3({className:e,...t}){return s.jsx(xK,{"data-slot":"dialog-description",className:bn("text-muted-foreground text-sm",e),...t})}function yK({open:e,onOpenChange:t,clientId:r,clientName:n}){const{t:a}=$r(),[i,o]=C.useState([]),[l,c]=C.useState(""),[A,u]=C.useState(!1),[d,h]=C.useState(!1);C.useEffect(()=>{e&&r&&f()},[e,r]);const f=async()=>{u(!0);try{const{data:p,error:b}=await Le.auth.getSession();if(b||!p.session)throw new Error("Not authenticated");const m=p.session.access_token,x=await fetch(Nt.messages(r),{headers:{Authorization:`Bearer ${m}`}});if(!x.ok)throw new Error("Failed to fetch messages");const y=await x.json();o(y.messages||[])}catch(p){console.error("Error fetching messages:",p),me.error("Failed to load messages")}finally{u(!1)}},g=async()=>{if(l.trim()){h(!0);try{const{data:p,error:b}=await Le.auth.getSession();if(b||!p.session)throw new Error("Not authenticated");const m=p.session.access_token;if(!(await fetch(Nt.messagesSend,{method:"POST",headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"},body:JSON.stringify({clientId:r,senderId:"admin",senderRole:"admin",senderName:"Tax Advisor",subject:"Admin Response",content:l})})).ok)throw new Error("Failed to send message");c(""),me.success("Message sent successfully!"),await f()}catch(p){console.error("Error sending message:",p),me.error("Failed to send message")}finally{h(!1)}}};return s.jsx(P3,{open:e,onOpenChange:t,children:s.jsxs(O3,{className:"max-w-3xl max-h-[80vh] flex flex-col",children:[s.jsxs(I3,{children:[s.jsxs(U3,{className:"flex items-center gap-2",children:[s.jsx(Ec,{className:"w-5 h-5"}),a("messages.title")," - ",n]}),s.jsx(_3,{children:"View and send messages to this client"})]}),s.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col gap-4",children:[s.jsx("div",{className:"flex-1 bg-gray-50 rounded-lg p-4 overflow-y-auto space-y-4 min-h-[400px]",children:A?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(ht,{className:"w-8 h-8 animate-spin text-gray-400"})}):i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ec,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:a("messages.noMessages")})]}):i.map(p=>{const b=p.senderRole==="admin",m=new Date(p.createdAt),x=new Date,y=new Date(x);y.setDate(y.getDate()-1);let w=m.toLocaleDateString();return m.toDateString()===x.toDateString()?w=a("messages.today"):m.toDateString()===y.toDateString()&&(w=a("messages.yesterday")),s.jsx("div",{className:`flex ${b?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[70%] rounded-lg p-4 ${b?"bg-blue-600 text-white":"bg-white border border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-xs font-semibold",children:b?a("messages.admin"):p.senderName}),s.jsxs("span",{className:`text-xs ${b?"text-blue-100":"text-gray-500"}`,children:[w," ‚Ä¢ ",m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),s.jsx("p",{className:"whitespace-pre-wrap",children:p.content})]})},p.id)})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(zc,{value:l,onChange:p=>c(p.target.value),placeholder:a("messages.writeMessage"),className:"flex-1 min-h-[80px] resize-none",onKeyDown:p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),g())}}),s.jsx(ye,{onClick:g,disabled:!l.trim()||d,className:"h-[80px]",children:d?s.jsx(ht,{className:"w-4 h-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Za,{className:"w-4 h-4 mr-2"}),a("messages.send")]})})]})]})]})})}function wK({open:e,onOpenChange:t,data:r,onSuccess:n}){const[a,i]=C.useState([]),[o,l]=C.useState(!0),[c,A]=C.useState(!1),[u,d]=C.useState((r==null?void 0:r.currentAssignedTo)||null),[h,f]=C.useState("");C.useEffect(()=>{e&&r&&(g(),d(r.currentAssignedTo||null))},[e,r]);const g=async()=>{try{const m=await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/users/list`,{headers:{Authorization:`Bearer ${ta}`,"Content-Type":"application/json"}});if(!m.ok)throw new Error("Failed to load users");const x=await m.json();i(x.filter(y=>y.isActive&&y.modules.includes("customers")))}catch(m){console.error("Error loading users:",m),me.error("Failed to load team members")}finally{l(!1)}},p=async()=>{if(!u){me.error("Please select a team member");return}A(!0);try{const m=(r==null?void 0:r.currentAssignedTo)&&r.currentAssignedTo!==u,x=m?"cases/transfer":"cases/assign",y=m?{clientId:r==null?void 0:r.clientId,year:r==null?void 0:r.year,fromUserId:r.currentAssignedTo,toUserId:u,reason:h||"Manual reassignment"}:{clientId:r==null?void 0:r.clientId,year:r==null?void 0:r.year,assignedTo:u};if(!(await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/${x}`,{method:"POST",headers:{Authorization:`Bearer ${ta}`,"Content-Type":"application/json"},body:JSON.stringify(y)})).ok)throw new Error("Failed to assign case");me.success(m?"Case transferred successfully":"Case assigned successfully"),n==null||n(),t(!1)}catch(m){console.error("Error assigning case:",m),me.error("Failed to assign case")}finally{A(!1)}},b=(r==null?void 0:r.currentAssignedTo)&&u&&r.currentAssignedTo!==u;return!e||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(Se,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:s.jsx(dr,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r!=null&&r.currentAssignedTo?"Reassign Case":"Assign Case"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[r==null?void 0:r.clientName," - Tax Year ",r==null?void 0:r.year]})]})]})}),s.jsx("div",{className:"p-6",children:o?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(ht,{className:"w-8 h-8 animate-spin text-blue-600"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select Team Member"}),a.map(m=>s.jsx("button",{onClick:()=>d(m.userId),className:`w-full p-4 border-2 rounded-lg text-left transition-all ${u===m.userId?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} ${m.userId===(r==null?void 0:r.currentAssignedTo)?"bg-yellow-50":""}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center text-white font-bold",children:m.name.split(" ").map(x=>x[0]).join("").toUpperCase()}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900",children:[m.name,m.userId===(r==null?void 0:r.currentAssignedTo)&&s.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded",children:"Currently Assigned"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:m.email}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[m.casesCount," total cases ‚Ä¢ ",m.pendingCases," pending"]})]})]}),u===m.userId&&s.jsx(Os,{className:"w-5 h-5 text-blue-600"})]})},m.userId))]}),b&&s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Transfer Reason (Optional)"}),s.jsx("textarea",{value:h,onChange:m=>f(m.target.value),placeholder:"Why is this case being transferred?",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3})]}),a.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(dr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No available team members"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Users need customer management permissions to be assigned cases"})]})]})}),s.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end",children:[s.jsx(ye,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),s.jsx(ye,{onClick:p,disabled:!u||c||u===(r==null?void 0:r.currentAssignedTo),className:"bg-blue-600 hover:bg-blue-700",children:c?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}),b?"Transferring...":"Assigning..."]}):s.jsxs(s.Fragment,{children:[b?"Transfer Case":"Assign Case",s.jsx(xh,{className:"w-4 h-4 ml-2"})]})})]})]})})}function jK(){const e=Br(),{user:t}=Wr(),{t:r}=$r(),[n,a]=C.useState([]),[i,o]=C.useState(!0),[l,c]=C.useState(""),[A,u]=C.useState(!1),[d,h]=C.useState(null),[f,g]=C.useState(!1),[p,b]=C.useState(null),m=!1;C.useEffect(()=>{if(!t||!Ya(t.email)){e("/login");return}x()},[t]);const x=async()=>{o(!0);try{const{data:F,error:E}=await Le.auth.getSession();if(E||!F.session)throw new Error("Not authenticated");const P=F.session.access_token;console.log("üîë Got access token, fetching clients from server...");try{const Q=await fetch(Nt.adminClients,{headers:{Authorization:`Bearer ${P}`}});if(!Q.ok)throw new Error("Backend not available");const U=await Q.json();console.log("‚úÖ Fetched clients from server:",U.clients),a(U.clients||[]),(!U.clients||U.clients.length===0)&&me.info("No customers found. Users need to sign up first.")}catch{console.log("‚ö†Ô∏è Backend not available, fetching from Supabase directly...");const{data:{users:U},error:T}=await Le.auth.admin.listUsers();if(T)throw console.error("Error fetching users from Supabase:",T),new Error("Failed to fetch users from Supabase");console.log("üì¶ [DEMO MODE] Found users:",U==null?void 0:U.length);const k=await Promise.all(U.map(async I=>{var K,R;const{data:M}=await Le.from("kv_store_c2a25be0").select("*").ilike("key",`personal_info:${I.id}%`).limit(1).single(),{data:L}=await Le.from("kv_store_c2a25be0").select("*").ilike("key",`tax_filing:${I.id}%`);return{id:I.id,email:I.email||"",name:((K=I.user_metadata)==null?void 0:K.name)||((R=I.email)==null?void 0:R.split("@")[0])||"Unknown",createdAt:I.created_at,personalInfo:(M==null?void 0:M.value)||null,taxFilings:(L==null?void 0:L.map($=>$.value))||[],onboardingComplete:!!(M!=null&&M.value),assignedAccountant:null}}));console.log("‚úÖ [DEMO MODE] Loaded clients from Supabase:",k.length),a(k),k.length===0?me.info("No customers found. Users need to sign up first."):me.success(`‚úÖ Loaded ${k.length} client(s) from database`)}}catch(F){console.error("Error loading clients:",F),me.error(`Failed to load customers: ${F instanceof Error?F.message:"Unknown error"}`)}finally{o(!1)}},y=n.filter(F=>F.name.toLowerCase().includes(l.toLowerCase())||F.email.toLowerCase().includes(l.toLowerCase())),w=F=>{var P;if(!F.onboardingComplete)return{label:"Pending Onboarding",color:"bg-yellow-100 text-yellow-700 border-yellow-300",icon:Ht};const E=(P=F.taxFilings)==null?void 0:P.find(Q=>Q.status==="in-progress"||Q.status==="under-review");return E?E.status==="under-review"?{label:"Needs Review",color:"bg-orange-100 text-orange-700 border-orange-300",icon:Ht}:{label:"In Progress",color:"bg-blue-100 text-blue-700 border-blue-300",icon:Mr}:{label:"Active",color:"bg-green-100 text-green-700 border-green-300",icon:He}},N=F=>{var E;return((E=F.taxFilings)==null?void 0:E.length)||0},B=F=>{if(!F.taxFilings||F.taxFilings.length===0)return null;const E=[];return F.taxFilings.forEach(P=>{P&&typeof P=="object"&&"year"in P&&typeof P.year=="number"&&E.push(P.year)}),E.length===0?null:(E.sort((P,Q)=>Q-P),E[0])};return i?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ht,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Loading clients..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(dr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold",children:r("admin.customerDashboard")}),s.jsxs("p",{className:"text-sm text-gray-500",children:[n.length," ",n.length===1?r("admin.customer"):r("admin.customers")," ",r("admin.customersTotal")]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ye,{onClick:()=>e("/admin/bookkeeping-dashboard"),className:"bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(vo,{className:"w-4 h-4 mr-2"}),r("admin.bookkeepingTitle")]}),s.jsxs(ye,{onClick:()=>e("/admin/financial-dashboard"),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"}),r("admin.financialTitle")]}),s.jsx("div",{className:"w-px h-8 bg-gray-300 mx-2"}),s.jsx(ye,{onClick:()=>e("/admin"),variant:"ghost",children:r("admin.backToHub")}),s.jsx(ye,{onClick:()=>e("/dashboard"),variant:"outline",children:r("admin.clientPortal")}),s.jsx(ye,{onClick:()=>e("/"),variant:"ghost",children:"Home"})]})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsx(Se,{className:"p-4 mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ex,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx(tt,{type:"text",placeholder:"Search clients by name or email...",value:l,onChange:F=>c(F.target.value),className:"pl-10"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Clients"}),s.jsx("p",{className:"text-2xl font-semibold mt-1",children:n.length})]}),s.jsx(dr,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Onboarded"}),s.jsx("p",{className:"text-2xl font-semibold mt-1",children:n.filter(F=>F.onboardingComplete).length})]}),s.jsx(He,{className:"w-8 h-8 text-green-600"})]})}),s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Needs Review"}),s.jsx("p",{className:"text-2xl font-semibold mt-1",children:n.filter(F=>{var E;return(E=F.taxFilings)==null?void 0:E.some(P=>P.status==="under-review")}).length})]}),s.jsx(Ht,{className:"w-8 h-8 text-orange-600"})]})}),s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Active Filings"}),s.jsx("p",{className:"text-2xl font-semibold mt-1",children:n.reduce((F,E)=>{var P;return F+(((P=E.taxFilings)==null?void 0:P.filter(Q=>Q.status==="in-progress"||Q.status==="under-review").length)||0)},0)})]}),s.jsx(Mt,{className:"w-8 h-8 text-blue-600"})]})})]}),s.jsx("div",{className:"space-y-4",children:y.length===0?s.jsxs(Se,{className:"p-8 text-center",children:[s.jsx(dr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:l?"No clients found matching your search":"No clients yet"})]}):y.map(F=>{const E=w(F),P=E.icon,Q=B(F);return s.jsx(Se,{className:"p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e(`/admin/client/${F.id}`),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white font-semibold text-lg",children:F.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s.jsx("h3",{className:"font-semibold text-lg",children:F.name}),s.jsxs(vt,{variant:"outline",className:`${E.color} border`,children:[s.jsx(P,{className:"w-3 h-3 mr-1"}),E.label]})]}),s.jsx("p",{className:"text-sm text-gray-500 mb-3",children:F.email}),s.jsxs("div",{className:"flex items-center gap-6 text-sm flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tr,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-gray-600",children:["Joined ",new Date(F.createdAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mt,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-gray-600",children:[N(F)," ",N(F)===1?"filing":"filings"]})]}),Q&&s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-gray-600",children:["Latest: Tax Year ",Q]})}),F.assignedAccountant?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dr,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-gray-600",children:["Managed by:"," ",s.jsx("span",{className:"font-medium text-purple-600",children:F.assignedAccountant.name})]})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dr,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-500 italic",children:"Unassigned"})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ye,{variant:"outline",size:"sm",onClick:U=>{U.stopPropagation(),h({id:F.id,name:F.name}),u(!0)},children:[s.jsx(Ec,{className:"w-4 h-4 mr-2"}),"Message"]}),s.jsxs(ye,{variant:"ghost",size:"sm",children:["View Details",s.jsx(xh,{className:"w-4 h-4 ml-2"})]})]})]})},F.id)})})]}),s.jsx(yK,{open:A,onOpenChange:u,clientId:(d==null?void 0:d.id)||"",clientName:(d==null?void 0:d.name)||""}),s.jsx(wK,{open:f,onOpenChange:g,data:p})]})}function NK({initialData:e,onSubmit:t,onCancel:r}){var L,K,R,$,q,Z,D;const[n,a]=C.useState(((L=e==null?void 0:e.federalRefund)==null?void 0:L.toString())||""),[i,o]=C.useState(((K=e==null?void 0:e.federalOwing)==null?void 0:K.toString())||""),[l,c]=C.useState(((R=e==null?void 0:e.provincialRefund)==null?void 0:R.toString())||""),[A,u]=C.useState((($=e==null?void 0:e.provincialOwing)==null?void 0:$.toString())||""),[d,h]=C.useState(((q=e==null?void 0:e.gstHstCredit)==null?void 0:q.toString())||""),[f,g]=C.useState(((Z=e==null?void 0:e.childBenefit)==null?void 0:Z.toString())||""),[p,b]=C.useState(((D=e==null?void 0:e.otherCredits)==null?void 0:D.toString())||""),[m,x]=C.useState((e==null?void 0:e.estimatedRefundDate)||""),[y,w]=C.useState((e==null?void 0:e.notes)||""),N=parseFloat(n)||0,B=parseFloat(i)||0,F=parseFloat(l)||0,E=parseFloat(A)||0,P=parseFloat(d)||0,Q=parseFloat(f)||0,U=parseFloat(p)||0,T=N+F+P+Q+U,k=B+E,I=T-k,M=H=>{H.preventDefault();const V={federalRefund:N>0?N:void 0,federalOwing:B>0?B:void 0,provincialRefund:F>0?F:void 0,provincialOwing:E>0?E:void 0,gstHstCredit:P>0?P:void 0,childBenefit:Q>0?Q:void 0,otherCredits:U>0?U:void 0,totalRefund:T>0?T:void 0,totalOwing:k>0?k:void 0,netAmount:I,estimatedRefundDate:m||void 0,notes:y.trim()||void 0};t(V)};return s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[s.jsxs(Se,{className:"p-6",children:[s.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[s.jsx(Mt,{className:"w-5 h-5 text-blue-600"}),"Federal Tax"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(De,{htmlFor:"federalRefund",className:"flex items-center gap-2",children:[s.jsx(Mn,{className:"w-4 h-4 text-green-600"}),"Federal Refund"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(tt,{id:"federalRefund",type:"number",step:"0.01",min:"0",value:n,onChange:H=>a(H.target.value),className:"pl-8",placeholder:"0.00"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(De,{htmlFor:"federalOwing",className:"flex items-center gap-2",children:[s.jsx(jl,{className:"w-4 h-4 text-red-600"}),"Federal Owing"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(tt,{id:"federalOwing",type:"number",step:"0.01",min:"0",value:i,onChange:H=>o(H.target.value),className:"pl-8",placeholder:"0.00"})]})]})]})]}),s.jsxs(Se,{className:"p-6",children:[s.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[s.jsx(Mt,{className:"w-5 h-5 text-purple-600"}),"Provincial Tax"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(De,{htmlFor:"provincialRefund",className:"flex items-center gap-2",children:[s.jsx(Mn,{className:"w-4 h-4 text-green-600"}),"Provincial Refund"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(tt,{id:"provincialRefund",type:"number",step:"0.01",min:"0",value:l,onChange:H=>c(H.target.value),className:"pl-8",placeholder:"0.00"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(De,{htmlFor:"provincialOwing",className:"flex items-center gap-2",children:[s.jsx(jl,{className:"w-4 h-4 text-red-600"}),"Provincial Owing"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(tt,{id:"provincialOwing",type:"number",step:"0.01",min:"0",value:A,onChange:H=>u(H.target.value),className:"pl-8",placeholder:"0.00"})]})]})]})]}),s.jsxs(Se,{className:"p-6",children:[s.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[s.jsx(hT,{className:"w-5 h-5 text-green-600"}),"Credits & Benefits"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"gstHstCredit",children:"GST/HST Credit (Annual)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(tt,{id:"gstHstCredit",type:"number",step:"0.01",min:"0",value:d,onChange:H=>h(H.target.value),className:"pl-8",placeholder:"0.00"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Quarterly payments totaling per year"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"childBenefit",children:"Canada Child Benefit (CCB)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(tt,{id:"childBenefit",type:"number",step:"0.01",min:"0",value:f,onChange:H=>g(H.target.value),className:"pl-8",placeholder:"0.00"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Monthly benefit amount per year"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"otherCredits",children:"Other Credits/Benefits"}),s.jsxs("div",{className:"relative",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(tt,{id:"otherCredits",type:"number",step:"0.01",min:"0",value:p,onChange:H=>b(H.target.value),className:"pl-8",placeholder:"0.00"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Other applicable credits"})]})]})]}),s.jsxs(Se,{className:"p-6",children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Additional Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"estimatedRefundDate",children:"Estimated Refund Date (Optional)"}),s.jsx(tt,{id:"estimatedRefundDate",type:"date",value:m,onChange:H=>x(H.target.value)}),s.jsx("p",{className:"text-xs text-gray-500",children:"When client can expect to receive refund"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"notes",children:"Notes (Optional)"}),s.jsx(zc,{id:"notes",value:y,onChange:H=>w(H.target.value),placeholder:"Additional information about the tax return...",rows:3})]})]})]}),s.jsxs(Se,{className:"p-6 bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200",children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Summary"}),s.jsxs("div",{className:"space-y-3",children:[T>0&&s.jsxs("div",{className:"flex items-center justify-between pb-2 border-b",children:[s.jsx("span",{className:"text-green-700 font-medium",children:"Total Refund:"}),s.jsx("span",{className:"text-green-700 font-bold text-xl",children:Je(T)})]}),k>0&&s.jsxs("div",{className:"flex items-center justify-between pb-2 border-b",children:[s.jsx("span",{className:"text-red-700 font-medium",children:"Total Owing:"}),s.jsx("span",{className:"text-red-700 font-bold text-xl",children:Je(k)})]}),s.jsxs("div",{className:`flex items-center justify-between pt-2 ${I>0?"text-green-700":I<0?"text-red-700":"text-gray-700"}`,children:[s.jsx("span",{className:"font-bold text-xl",children:"Net Amount:"}),s.jsxs("span",{className:"font-bold text-3xl",children:[I>0&&"+",Je(Math.abs(I))]})]}),I>0&&s.jsx("p",{className:"text-sm text-green-700 text-center pt-2",children:"üéâ Client will receive a refund!"}),I<0&&s.jsx("p",{className:"text-sm text-red-700 text-center pt-2",children:"‚ö†Ô∏è Client will need to pay CRA"}),I===0&&s.jsx("p",{className:"text-sm text-gray-700 text-center pt-2",children:"‚úÖ Balanced - No refund or payment needed"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r&&s.jsx(ye,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:"Cancel"}),s.jsx(ye,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Save Summary & Generate Preview"})]})]})}function D3(e){const t=`
TAX RETURN SUMMARY ${e.year}

Client: ${e.clientName}
Email: ${e.clientEmail}
Service: ${e.serviceName}
Generated: ${e.generatedDate}

FEDERAL TAX
Refund: $${e.summary.federalRefund}
Owing: $${e.summary.federalOwing}

PROVINCIAL TAX
Refund: $${e.summary.provincialRefund}
Owing: $${e.summary.provincialOwing}

CREDITS
GST Credit: $${e.summary.gstCredit||0}
Child Benefit: $${e.summary.childBenefit||0}
Other Credits: $${e.summary.otherCredits||0}

NET AMOUNT: $${e.summary.netAmount}
${e.summary.estimatedRefundDate?`Estimated Refund Date: ${e.summary.estimatedRefundDate}`:""}

${e.summary.notes||""}
  `.trim();return new Blob([t],{type:"text/plain"})}function CK({isOpen:e,onClose:t,client:r,filingYear:n,onSuccess:a}){var M,L,K,R,$;const[i,o]=C.useState(1),[l,c]=C.useState(!1),[A,u]=C.useState(null),[d,h]=C.useState(""),[f,g]=C.useState(""),[p,b]=C.useState(""),[m,x]=C.useState(!1),[y,w]=C.useState(!1),[N,B]=C.useState(null);if(!e)return null;const F=q=>{var D;const Z=(D=q.target.files)==null?void 0:D[0];if(Z){if(Z.type!=="application/pdf"){me.error("Please upload a PDF file");return}if(Z.size>10485760){me.error("File size must be less than 10MB");return}u(Z)}},E=q=>{B(q),me.success("Tax return summary saved!")},P=async()=>{var Z,D;if(!A){me.error("Please upload a PDF report");return}const q=d==="custom"?parseFloat(f):((Z=va.find(H=>H.id===d))==null?void 0:Z.amount)||0;if(!q||q<=0){me.error("Please select a pricing option or enter a custom amount");return}c(!0);try{const{data:H,error:V}=await Le.auth.getSession();if(V||!H.session)throw new Error("Not authenticated");const re=H.session.access_token,Ae="tax-documents-c2a25be0",ae=Date.now(),de=`${r.id}/${n}/report/tax_return_${n}_${ae}.pdf`,{error:X}=await Le.storage.from(Ae).upload(de,A,{cacheControl:"3600",upsert:!1});if(X)throw console.error("Upload error:",X),new Error(`Failed to upload file: ${X.message}`);const{data:te,error:ue}=await Le.storage.from(Ae).createSignedUrl(de,31536e3);if(ue||!te)throw new Error("Failed to get file URL");let se=null;if(N)try{const Ce=D3({year:n,clientName:r.name,clientEmail:r.email,summary:N,serviceName:d!=="custom"?((D=va.find(Ge=>Ge.id===d))==null?void 0:D.name.en)||"Tax Filing Service":"Custom Tax Filing Service",generatedDate:new Date().toLocaleDateString("en-CA")}),J=`${r.id}/${n}/report/tax_summary_${n}_${ae}.pdf`,{error:_e}=await Le.storage.from(Ae).upload(J,Ce,{cacheControl:"3600",upsert:!1,contentType:"application/pdf"});if(_e)console.error("Summary upload error:",_e),me.error("Failed to upload summary PDF, but report will be submitted");else{const{data:Ge}=await Le.storage.from(Ae).createSignedUrl(J,31536e3);Ge&&(se=Ge.signedUrl)}}catch(Ce){console.error("Error generating summary PDF:",Ce)}const we=await fetch(Nt.taxFilingSubmitReport,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${re}`},body:JSON.stringify({userId:r.id,year:n,reportUrl:te.signedUrl,fileName:A.name,fileSize:A.size,pricingPresetId:d!=="custom"?d:null,customAmount:q,adminNotes:p,includeQuebecReturn:m,includeQuebecTax:y,taxReturnSummary:N||void 0,summaryPdfUrl:se||void 0})});if(!we.ok){const Ce=await we.json();throw new Error(Ce.error||"Failed to submit report")}me.success("Report submitted successfully! Client will be notified."),a==null||a(),Q()}catch(H){console.error("Error submitting report:",H),me.error(H instanceof Error?H.message:"Failed to submit report")}finally{c(!1)}},Q=()=>{o(1),u(null),h(""),g(""),b(""),x(!1),w(!1),B(null),t()},U=d==="custom"?parseFloat(f)||0:((M=va.find(q=>q.id===d))==null?void 0:M.amount)||0,T=m&&((L=va.find(q=>q.id==="addon-quebec-return"))==null?void 0:L.amount)||0,k=y&&((K=va.find(q=>q.id==="addon-quebec-tax"))==null?void 0:K.amount)||0,I=U+T+k;return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between z-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Submit Tax Return Report"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.name," - Tax Year ",n]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${i===1?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:[s.jsx(Mt,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"1. Report & Pricing"})]}),s.jsx(Fc,{className:"w-4 h-4 text-gray-400"}),s.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${i===2?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[s.jsx(ji,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"2. CRA Assessment"})]})]}),s.jsx(ye,{variant:"ghost",size:"sm",onClick:Q,disabled:l,children:s.jsx(In,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"p-6",children:i===1?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(De,{htmlFor:"report-upload",className:"text-base font-medium",children:["Upload Completed Tax Return (PDF) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:A?s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(Mt,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium",children:A.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[(A.size/1024/1024).toFixed(2)," MB"]})]}),s.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>u(null),disabled:l,children:s.jsx(In,{className:"w-4 h-4"})})]}):s.jsxs("div",{children:[s.jsx(Qr,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Click to upload or drag and drop"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF only, max 10MB"}),s.jsx("input",{type:"file",id:"report-upload",accept:".pdf",onChange:F,className:"hidden"}),s.jsx(ye,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>{var q;return(q=document.getElementById("report-upload"))==null?void 0:q.click()},children:"Choose File"})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(De,{className:"text-base font-medium",children:["Select Service Price ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Personal Tax Returns"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:va.filter(q=>q.category==="personal").map(q=>s.jsx("label",{className:`flex flex-col gap-2 p-3 border rounded-lg cursor-pointer transition-colors ${d===q.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("input",{type:"radio",name:"pricing",value:q.id,checked:d===q.id,onChange:Z=>h(Z.target.value),className:"mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-sm",children:q.name.en}),s.jsx("span",{className:"font-semibold text-blue-600",children:Je(q.amount)})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:q.description.en})]})]})},q.id))})]}),s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Business Returns"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:va.filter(q=>q.category==="business").map(q=>s.jsx("label",{className:`flex flex-col gap-2 p-3 border rounded-lg cursor-pointer transition-colors ${d===q.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("input",{type:"radio",name:"pricing",value:q.id,checked:d===q.id,onChange:Z=>h(Z.target.value),className:"mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-sm",children:q.name.en}),s.jsx("span",{className:"font-semibold text-blue-600",children:Je(q.amount)})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:q.description.en})]})]})},q.id))})]}),s.jsx("div",{className:"pt-2",children:s.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer transition-colors ${d==="custom"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("input",{type:"radio",name:"pricing",value:"custom",checked:d==="custom",onChange:q=>h(q.target.value),className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"font-medium",children:"Custom Amount"}),d==="custom"&&s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(tt,{type:"number",min:"0",step:"0.01",value:f,onChange:q=>g(q.target.value),placeholder:"0.00",className:"pl-8"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Amount in CAD"})]})]})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(De,{className:"text-base font-medium flex items-center gap-2",children:[s.jsx(Ws,{className:"w-4 h-4 text-indigo-600"}),"Quebec Provincial Add-ons"]}),s.jsxs("div",{className:"border rounded-lg p-4 space-y-3 bg-indigo-50/30",children:[s.jsxs("label",{className:`flex items-center justify-between p-3 border rounded-lg cursor-pointer transition-colors ${m?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:m,onChange:q=>x(q.target.checked),className:"w-4 h-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Quebec Tax Return (TP-1)"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Provincial Quebec tax return"})]})]}),s.jsxs("span",{className:"font-semibold text-indigo-600",children:["+",Je(((R=va.find(q=>q.id==="addon-quebec-return"))==null?void 0:R.amount)||0)]})]}),s.jsxs("label",{className:`flex items-center justify-between p-3 border rounded-lg cursor-pointer transition-colors ${y?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:y,onChange:q=>w(q.target.checked),className:"w-4 h-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Quebec Tax Filing Fee"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Additional filing fee for Quebec residents"})]})]}),s.jsxs("span",{className:"font-semibold text-indigo-600",children:["+",Je((($=va.find(q=>q.id==="addon-quebec-tax"))==null?void 0:$.amount)||0)]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"admin-notes",className:"text-base font-medium",children:"Internal Notes (Optional)"}),s.jsx("textarea",{id:"admin-notes",value:p,onChange:q=>b(q.target.value),placeholder:"Add any internal notes about this filing...",className:"w-full px-3 py-2 border rounded-lg min-h-[80px]"})]}),I>0&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:"Total Amount"}),s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:Je(I)})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ye,{variant:"outline",onClick:Q,children:"Cancel"}),s.jsxs(ye,{onClick:()=>o(2),disabled:!A||I<=0,className:"bg-green-600 hover:bg-green-700",children:["Next: CRA Assessment ",s.jsx(Fc,{className:"w-4 h-4 ml-2"})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"Step 2: CRA Assessment Details (Optional but Recommended)"}),s.jsx("p",{className:"text-sm text-green-700",children:"Fill in the values from the tax return so the client can see what they'll receive or owe from CRA. A professional PDF summary will be generated automatically."})]}),s.jsx(NK,{initialData:N||void 0,onSubmit:E,onCancel:()=>B(null)}),s.jsxs("div",{className:"flex justify-between gap-3 pt-4 border-t",children:[s.jsx(ye,{variant:"outline",onClick:()=>o(1),children:"Back to Report & Pricing"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ye,{variant:"outline",onClick:P,disabled:l,children:"Skip & Submit Report Only"}),s.jsx(ye,{onClick:P,disabled:l||!N,className:"bg-green-600 hover:bg-green-700",children:l?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ji,{className:"w-4 h-4 mr-2"}),"Submit with CRA Assessment"]})})]})]})]})})]})})}function BK({isOpen:e,onClose:t,clientId:r,clientName:n,year:a,onSuccess:i}){const[o,l]=C.useState(!1),[c,A]=C.useState([]);if(!e)return null;const u=[{id:"income",label:"Income Documents"},{id:"deductions",label:"Deduction Receipts"},{id:"business",label:"Business Documents"},{id:"property",label:"Property & Investments"},{id:"other",label:"Other Documents"}],d=m=>{const y=Array.from(m.target.files||[]).map(w=>({file:w,category:"other"}));A(w=>[...w,...y])},h=m=>{A(x=>x.filter((y,w)=>w!==m))},f=(m,x)=>{A(y=>y.map((w,N)=>N===m?{...w,category:x}:w))},g=async()=>{if(c.length===0){me.error("Please select at least one file");return}l(!0);try{const m="tax-documents-c2a25be0",x=[];for(const{file:F,category:E}of c){const P=Date.now(),Q=`${r}/${a}/${E}/${P}_${F.name}`,{error:U}=await Le.storage.from(m).upload(Q,F,{cacheControl:"3600",upsert:!1});if(U)throw console.error("Upload error:",U),new Error(`Failed to upload ${F.name}: ${U.message}`);x.push({id:`${P}_${F.name}`,name:F.name,size:F.size,category:E,uploadedAt:new Date().toISOString(),path:Q})}const{data:y}=await Le.from("kv_store_c2a25be0").select("value").eq("key",`user:${r}:documents:${a}`).single(),N=[...(y==null?void 0:y.value)||[],...x],{error:B}=await Le.from("kv_store_c2a25be0").upsert({key:`user:${r}:documents:${a}`,value:N});if(B)throw new Error("Failed to save document metadata");me.success(`${x.length} file(s) uploaded successfully`),i==null||i(),p()}catch(m){console.error("Error uploading documents:",m),me.error(m instanceof Error?m.message:"Failed to upload documents")}finally{l(!1)}},p=()=>{A([]),t()},b=m=>{if(m===0)return"0 Bytes";const x=1024,y=["Bytes","KB","MB","GB"],w=Math.floor(Math.log(m)/Math.log(x));return Math.round(m/Math.pow(x,w)*100)/100+" "+y[w]};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Upload Documents"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n," - Tax Year ",a]})]}),s.jsx(ye,{variant:"ghost",size:"sm",onClick:p,disabled:o,children:s.jsx(In,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(De,{htmlFor:"document-upload",className:"text-base font-medium",children:["Select Files ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[s.jsx(Qr,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Click to upload or drag and drop"}),s.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"PDF, images, or documents"}),s.jsx("input",{type:"file",id:"document-upload",multiple:!0,onChange:d,className:"hidden",disabled:o}),s.jsx(ye,{variant:"outline",size:"sm",onClick:()=>{var m;return(m=document.getElementById("document-upload"))==null?void 0:m.click()},disabled:o,children:"Choose Files"})]})]}),c.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(De,{className:"text-base font-medium",children:["Selected Files (",c.length,")"]}),s.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:c.map((m,x)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-50",children:[s.jsx(Mt,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:m.file.name}),s.jsx("p",{className:"text-xs text-gray-500",children:b(m.file.size)}),s.jsxs("div",{className:"mt-2",children:[s.jsx(De,{className:"text-xs text-gray-600",children:"Category:"}),s.jsx("select",{value:m.category,onChange:y=>f(x,y.target.value),className:"mt-1 w-full text-sm border rounded px-2 py-1",disabled:o,children:u.map(y=>s.jsx("option",{value:y.id,children:y.label},y.id))})]})]}),s.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>h(x),disabled:o,className:"flex-shrink-0",children:s.jsx(Pi,{className:"w-4 h-4 text-red-500"})})]},x))})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t px-6 py-4 flex items-center justify-end gap-3",children:[s.jsx(ye,{variant:"outline",onClick:p,disabled:o,children:"Cancel"}),s.jsx(ye,{onClick:g,disabled:o||c.length===0,children:o?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Upload ",c.length," File",c.length!==1?"s":""]})})]})]})})}const SK={"returning-customer":{percentage:15,label:{en:"Returning Customer",fr:"Client Fid√®le",pt:"Cliente Recorrente"},description:{en:"15% discount for returning customers",fr:"15% de rabais pour clients fid√®les",pt:"15% de desconto para clientes recorrentes"}},referral:{percentage:10,label:{en:"Referral Discount",fr:"Rabais de R√©f√©rence",pt:"Desconto por Indica√ß√£o"},description:{en:"10% discount for referrals",fr:"10% de rabais pour r√©f√©rences",pt:"10% de desconto por indica√ß√£o"}},none:{percentage:0,label:{en:"No Discount",fr:"Aucun Rabais",pt:"Sem Desconto"},description:{en:"Regular price",fr:"Prix r√©gulier",pt:"Pre√ßo regular"}}};function UC(e,t,r){const a=SK[t].percentage,i=Math.round(e*a/100*100)/100;return{type:t,percentage:a,amount:i,referredBy:r}}function EK(e,t){return Math.round((e-t.amount)*100)/100}function FK({isOpen:e,onClose:t,onSubmit:r,existingYears:n,clientFilingType:a}){const i=new Date().getFullYear(),[o,l]=C.useState(i),[c,A]=C.useState(!1),[u,d]=C.useState(null),[h,f]=C.useState(""),[g,p]=C.useState(null),[b,m]=C.useState("none"),[x,y]=C.useState(""),[w,N]=C.useState(""),B=a?va.filter(k=>!k.filingType||k.filingType===a):va;C.useEffect(()=>{var k;e&&(l(i),d(null),A(!1),f(((k=B[0])==null?void 0:k.id)||""),p(null),m("none"),y(""),N(""))},[e,i]);const F=async k=>{var L;if(k.preventDefault(),d(null),n.includes(o)){d(`Tax filing for ${o} already exists`);return}const I=g||((L=Iy(h))==null?void 0:L.amount)||0,M=b!=="none"?UC(I,b,x):void 0;A(!0);try{await r({year:o,pricingPresetId:h,customAmount:g||void 0,discount:M,adminNotes:w||void 0}),t()}catch(K){console.error("Error creating tax filing:",K),d(K instanceof Error?K.message:"Failed to create tax filing")}finally{A(!1)}},E=n.includes(o),P=Iy(h),Q=g||(P==null?void 0:P.amount)||0,U=b!=="none"?UC(Q,b,x):null,T=U?EK(Q,U):Q;return s.jsx(P3,{open:e,onOpenChange:t,children:s.jsxs(O3,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(I3,{children:[s.jsxs(U3,{className:"flex items-center gap-2",children:[s.jsx(tr,{className:"w-5 h-5 text-blue-600"}),"Create New Tax Filing"]}),s.jsx(_3,{children:"Select the tax year and pricing for the new filing. You can only create one filing per year."})]}),s.jsxs("form",{onSubmit:F,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"year",children:"Tax Year *"}),s.jsx(tt,{id:"year",type:"number",value:o,onChange:k=>l(parseInt(k.target.value)),min:2e3,max:i+1,required:!0,className:E?"border-red-500":""}),E&&s.jsxs("p",{className:"text-sm text-red-500",children:["Tax filing for ",o," already exists"]})]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:[i,i-1,i-2].map(k=>{const I=n.includes(k);return s.jsxs(ye,{type:"button",variant:o===k?"default":"outline",size:"sm",onClick:()=>l(k),disabled:I,className:I?"opacity-50":"",children:[k,I&&" ‚úì"]},k)})}),n.length>0&&s.jsxs("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-3",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Existing Tax Filings:"}),s.jsx("p",{className:"text-xs text-blue-700",children:n.sort((k,I)=>I-k).join(", ")})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[s.jsx(Zt,{className:"w-4 h-4"}),"Pricing"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"pricingPresetId",children:"Pricing Preset *"}),s.jsxs(or,{value:h,onValueChange:f,required:!0,children:[s.jsx(cr,{id:"pricingPresetId",children:s.jsx(lr,{placeholder:"Select a pricing preset"})}),s.jsx(Ar,{children:B.map(k=>s.jsxs(it,{value:k.id,children:[k.name.en," - ",Je(k.amount)]},k.id))})]}),P&&s.jsx("p",{className:"text-xs text-gray-600",children:P.description.en})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"customAmount",children:"Custom Amount (Optional)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zt,{className:"w-4 h-4 text-gray-400"}),s.jsx(tt,{id:"customAmount",type:"number",value:g||"",onChange:k=>p(k.target.value?parseFloat(k.target.value):null),min:0,step:.01,placeholder:"Leave empty to use preset amount"})]})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[s.jsx(bD,{className:"w-4 h-4"}),"Discount (Optional)"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"discountType",children:"Discount Type"}),s.jsxs(or,{value:b,onValueChange:k=>m(k),children:[s.jsx(cr,{id:"discountType",children:s.jsx(lr,{placeholder:"No discount"})}),s.jsxs(Ar,{children:[s.jsx(it,{value:"none",children:"No Discount"}),s.jsx(it,{value:"returning-customer",children:"Returning Customer (15%)"}),s.jsx(it,{value:"referral",children:"Referral Discount (10%)"})]})]})]}),b==="referral"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"referredBy",children:"Referred By"}),s.jsx(tt,{id:"referredBy",type:"text",value:x,onChange:k=>y(k.target.value),placeholder:"Client name or email"})]}),U&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Base Amount:"}),s.jsx("span",{className:"font-medium",children:Je(Q)})]}),s.jsxs("div",{className:"flex justify-between text-sm text-green-700",children:[s.jsxs("span",{children:["Discount (",U.percentage,"%):"]}),s.jsxs("span",{className:"font-medium",children:["-",Je(U.amount)]})]}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-2 border-t border-green-300",children:[s.jsx("span",{children:"Final Amount:"}),s.jsx("span",{className:"text-green-700",children:Je(T)})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"adminNotes",children:"Admin Notes (Optional)"}),s.jsx(zc,{id:"adminNotes",value:w,onChange:k=>N(k.target.value),placeholder:"Internal notes about this filing...",rows:3})]}),u&&s.jsx("p",{className:"text-sm text-red-500 bg-red-50 border border-red-200 rounded p-2",children:u}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx(ye,{type:"button",variant:"outline",onClick:t,className:"flex-1",disabled:c,children:"Cancel"}),s.jsx(ye,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:c||E||!h,children:c?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Create Filing"]})})]})]})]})})}function TK({summary:e,year:t}){const{language:r}=$r(),n={title:{en:"Tax Return Assessment",fr:"√âvaluation de la D√©claration",pt:"Avalia√ß√£o da Declara√ß√£o"},subtitle:{en:`Estimated CRA results for ${t}`,fr:`R√©sultats estim√©s de l'ARC pour ${t}`,pt:`Resultados estimados da CRA para ${t}`},federal:{en:"Federal Tax",fr:"Imp√¥t F√©d√©ral",pt:"Imposto Federal"},provincial:{en:"Provincial Tax",fr:"Imp√¥t Provincial",pt:"Imposto Provincial"},refund:{en:"Refund",fr:"Remboursement",pt:"Reembolso"},owing:{en:"Owing",fr:"√Ä Payer",pt:"A Pagar"},credits:{en:"Credits & Benefits",fr:"Cr√©dits et Prestations",pt:"Cr√©ditos e Benef√≠cios"},gstCredit:{en:"GST/HST Credit (Annual)",fr:"Cr√©dit TPS/TVH (Annuel)",pt:"Cr√©dito GST/HST (Anual)"},childBenefit:{en:"Canada Child Benefit",fr:"Allocation Canadienne pour Enfants",pt:"Benef√≠cio Infantil do Canad√°"},otherCredits:{en:"Other Credits",fr:"Autres Cr√©dits",pt:"Outros Cr√©ditos"},totalRefund:{en:"Total Refund",fr:"Remboursement Total",pt:"Reembolso Total"},totalOwing:{en:"Total Owing",fr:"Total √† Payer",pt:"Total a Pagar"},netAmount:{en:"Net Amount",fr:"Montant Net",pt:"Valor L√≠quido"},estimatedDate:{en:"Estimated Refund Date",fr:"Date Estim√©e du Remboursement",pt:"Data Estimada do Reembolso"},notes:{en:"Important Notes",fr:"Notes Importantes",pt:"Notas Importantes"},willReceive:{en:"You will receive a refund!",fr:"Vous recevrez un remboursement!",pt:"Voc√™ receber√° um reembolso!"},willOwe:{en:"You will need to pay CRA",fr:"Vous devrez payer l'ARC",pt:"Voc√™ precisar√° pagar para CRA"},balanced:{en:"Balanced - No refund or payment",fr:"√âquilibr√© - Aucun remboursement ni paiement",pt:"Equilibrado - Sem reembolso ou pagamento"}},a=e.netAmount>0,i=e.netAmount<0,o=e.netAmount===0;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:n.title[r]}),s.jsx("p",{className:"text-gray-600",children:n.subtitle[r]})]}),(e.federalRefund||e.federalOwing)&&s.jsxs(Se,{className:"p-6 bg-blue-50 border-blue-200",children:[s.jsxs("h4",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[s.jsx(Mt,{className:"w-5 h-5 text-blue-600"}),n.federal[r]]}),s.jsxs("div",{className:"space-y-3",children:[e.federalRefund&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mn,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-green-700",children:n.refund[r]})]}),s.jsx("span",{className:"font-bold text-green-700 text-xl",children:Je(e.federalRefund)})]}),e.federalOwing&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jl,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-red-700",children:n.owing[r]})]}),s.jsx("span",{className:"font-bold text-red-700 text-xl",children:Je(e.federalOwing)})]})]})]}),(e.provincialRefund||e.provincialOwing)&&s.jsxs(Se,{className:"p-6 bg-purple-50 border-purple-200",children:[s.jsxs("h4",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[s.jsx(Mt,{className:"w-5 h-5 text-purple-600"}),n.provincial[r]]}),s.jsxs("div",{className:"space-y-3",children:[e.provincialRefund&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mn,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-green-700",children:n.refund[r]})]}),s.jsx("span",{className:"font-bold text-green-700 text-xl",children:Je(e.provincialRefund)})]}),e.provincialOwing&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jl,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-red-700",children:n.owing[r]})]}),s.jsx("span",{className:"font-bold text-red-700 text-xl",children:Je(e.provincialOwing)})]})]})]}),(e.gstHstCredit||e.childBenefit||e.otherCredits)&&s.jsxs(Se,{className:"p-6 bg-green-50 border-green-200",children:[s.jsxs("h4",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[s.jsx(hT,{className:"w-5 h-5 text-green-600"}),n.credits[r]]}),s.jsxs("div",{className:"space-y-3",children:[e.gstHstCredit&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-700",children:n.gstCredit[r]}),s.jsx("span",{className:"font-bold text-green-700",children:Je(e.gstHstCredit)})]}),e.childBenefit&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-700",children:n.childBenefit[r]}),s.jsx("span",{className:"font-bold text-green-700",children:Je(e.childBenefit)})]}),e.otherCredits&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-700",children:n.otherCredits[r]}),s.jsx("span",{className:"font-bold text-green-700",children:Je(e.otherCredits)})]})]})]}),s.jsx(Se,{className:"p-6 border-2 border-gray-300",children:s.jsxs("div",{className:"space-y-4",children:[e.totalRefund&&e.totalRefund>0&&s.jsxs("div",{className:"flex items-center justify-between pb-3 border-b",children:[s.jsx("span",{className:"font-medium text-lg",children:n.totalRefund[r]}),s.jsx("span",{className:"font-bold text-green-700 text-2xl",children:Je(e.totalRefund)})]}),e.totalOwing&&e.totalOwing>0&&s.jsxs("div",{className:"flex items-center justify-between pb-3 border-b",children:[s.jsx("span",{className:"font-medium text-lg",children:n.totalOwing[r]}),s.jsx("span",{className:"font-bold text-red-700 text-2xl",children:Je(e.totalOwing)})]}),s.jsxs("div",{className:`p-6 rounded-lg ${a?"bg-green-100 border-2 border-green-300":i?"bg-red-100 border-2 border-red-300":"bg-gray-100 border-2 border-gray-300"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"font-bold text-xl",children:n.netAmount[r]}),s.jsxs("span",{className:`font-bold text-4xl ${a?"text-green-700":i?"text-red-700":"text-gray-700"}`,children:[a&&"+",Je(Math.abs(e.netAmount))]})]}),s.jsxs("div",{className:`text-center text-sm font-medium ${a?"text-green-700":i?"text-red-700":"text-gray-700"}`,children:[a&&`üéâ ${n.willReceive[r]}`,i&&`‚ö†Ô∏è ${n.willOwe[r]}`,o&&`‚úÖ ${n.balanced[r]}`]})]})]})}),e.estimatedRefundDate&&a&&s.jsx(Se,{className:"p-4 bg-blue-50 border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(tr,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:n.estimatedDate[r]}),s.jsx("p",{className:"text-lg font-bold text-blue-700",children:new Date(e.estimatedRefundDate).toLocaleDateString(r==="fr"?"fr-CA":r==="pt"?"pt-BR":"en-CA",{year:"numeric",month:"long",day:"numeric"})})]})]})}),e.notes&&s.jsx(Se,{className:"p-4 bg-amber-50 border-amber-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ht,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-amber-900 mb-1",children:n.notes[r]}),s.jsx("p",{className:"text-sm text-amber-800",children:e.notes})]})]})})]})}function PK({userId:e,clientName:t,clientEmail:r,year:n,initialData:a,onSave:i}){var Z,D,H,V,re,Ae,ae;const[o,l]=C.useState(!a),[c,A]=C.useState(!1),[u,d]=C.useState(!1),[h,f]=C.useState(((Z=a==null?void 0:a.federalRefund)==null?void 0:Z.toString())||""),[g,p]=C.useState(((D=a==null?void 0:a.federalOwing)==null?void 0:D.toString())||""),[b,m]=C.useState(((H=a==null?void 0:a.provincialRefund)==null?void 0:H.toString())||""),[x,y]=C.useState(((V=a==null?void 0:a.provincialOwing)==null?void 0:V.toString())||""),[w,N]=C.useState(((re=a==null?void 0:a.gstCredit)==null?void 0:re.toString())||""),[B,F]=C.useState(((Ae=a==null?void 0:a.childBenefit)==null?void 0:Ae.toString())||""),[E,P]=C.useState(((ae=a==null?void 0:a.otherCredits)==null?void 0:ae.toString())||""),[Q,U]=C.useState((a==null?void 0:a.estimatedRefundDate)||""),[T,k]=C.useState((a==null?void 0:a.notes)||""),I=(parseFloat(h)||0)+(parseFloat(b)||0)+(parseFloat(w)||0)+(parseFloat(B)||0)+(parseFloat(E)||0),M=(parseFloat(g)||0)+(parseFloat(x)||0),L=I-M,K=async()=>{A(!0);try{const de={federalRefund:parseFloat(h)||0,federalOwing:parseFloat(g)||0,provincialRefund:parseFloat(b)||0,provincialOwing:parseFloat(x)||0,gstCredit:parseFloat(w)||0,childBenefit:parseFloat(B)||0,otherCredits:parseFloat(E)||0,estimatedRefundDate:Q||void 0,notes:T||void 0},{error:X}=await Le.from("kv_store_c2a25be0").upsert({key:`user:${e}:craAssessment:${n}`,value:de});if(X)throw new Error("Failed to save CRA Assessment");me.success("CRA Assessment saved successfully!"),l(!1),i==null||i()}catch(de){console.error("Error saving CRA Assessment:",de),me.error(de instanceof Error?de.message:"Failed to save")}finally{A(!1)}},R=async()=>{d(!0);try{const de={federalRefund:parseFloat(h)||0,federalOwing:parseFloat(g)||0,provincialRefund:parseFloat(b)||0,provincialOwing:parseFloat(x)||0,gstCredit:parseFloat(w)||0,childBenefit:parseFloat(B)||0,otherCredits:parseFloat(E)||0,estimatedRefundDate:Q||void 0,notes:T||void 0},X=D3({year:n,clientName:t,clientEmail:r,summary:de,serviceName:"Tax Filing Service",generatedDate:new Date().toLocaleDateString("en-CA")}),te=URL.createObjectURL(X),ue=document.createElement("a");ue.href=te,ue.download=`CRA_Assessment_${t.replace(/\s+/g,"_")}_${n}.pdf`,document.body.appendChild(ue),ue.click(),document.body.removeChild(ue),URL.revokeObjectURL(te),me.success("PDF downloaded successfully!")}catch(de){console.error("Error generating PDF:",de),me.error("Failed to generate PDF")}finally{d(!1)}},$=()=>{var de,X,te,ue,se,we,Ce;a?(f(((de=a.federalRefund)==null?void 0:de.toString())||""),p(((X=a.federalOwing)==null?void 0:X.toString())||""),m(((te=a.provincialRefund)==null?void 0:te.toString())||""),y(((ue=a.provincialOwing)==null?void 0:ue.toString())||""),N(((se=a.gstCredit)==null?void 0:se.toString())||""),F(((we=a.childBenefit)==null?void 0:we.toString())||""),P(((Ce=a.otherCredits)==null?void 0:Ce.toString())||""),U(a.estimatedRefundDate||""),k(a.notes||""),l(!1)):(f(""),p(""),m(""),y(""),N(""),F(""),P(""),U(""),k(""))},q={federalRefund:parseFloat(h)||0,federalOwing:parseFloat(g)||0,provincialRefund:parseFloat(b)||0,provincialOwing:parseFloat(x)||0,gstCredit:parseFloat(w)||0,childBenefit:parseFloat(B)||0,otherCredits:parseFloat(E)||0,estimatedRefundDate:Q||void 0,notes:T||void 0};return s.jsxs(Se,{className:"p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ji,{className:"w-5 h-5 text-orange-600"}),s.jsxs("h2",{className:"font-semibold text-lg",children:["CRA Assessment - Tax Year ",n]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!o&&a&&s.jsxs(s.Fragment,{children:[s.jsx(ye,{size:"sm",variant:"outline",onClick:R,disabled:u,className:"border-orange-300 text-orange-600 hover:bg-orange-50",children:u?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Download PDF"]})}),s.jsxs(ye,{size:"sm",onClick:()=>l(!0),className:"bg-orange-600 hover:bg-orange-700",children:[s.jsx(Cf,{className:"w-4 h-4 mr-2"}),"Edit Assessment"]})]}),a&&s.jsx(vt,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:"Saved"})]})]}),o?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-orange-800",children:[s.jsx("strong",{children:"Instructions:"})," Fill in the amounts from the completed tax return. Leave fields at $0.00 if not applicable. This information will be shown to the client."]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(De,{className:"text-base font-semibold text-gray-900",children:"Federal Tax"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"federal-refund",children:"Federal Refund"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(tt,{id:"federal-refund",type:"number",min:"0",step:"0.01",value:h,onChange:de=>f(de.target.value),placeholder:"0.00",className:"pl-9"})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"federal-owing",children:"Federal Owing"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(tt,{id:"federal-owing",type:"number",min:"0",step:"0.01",value:g,onChange:de=>p(de.target.value),placeholder:"0.00",className:"pl-9"})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(De,{className:"text-base font-semibold text-gray-900",children:"Provincial Tax"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"provincial-refund",children:"Provincial Refund"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(tt,{id:"provincial-refund",type:"number",min:"0",step:"0.01",value:b,onChange:de=>m(de.target.value),placeholder:"0.00",className:"pl-9"})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"provincial-owing",children:"Provincial Owing"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(tt,{id:"provincial-owing",type:"number",min:"0",step:"0.01",value:x,onChange:de=>y(de.target.value),placeholder:"0.00",className:"pl-9"})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(De,{className:"text-base font-semibold text-gray-900",children:"Credits & Benefits (Annual)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"gst-credit",children:"GST/HST Credit"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(tt,{id:"gst-credit",type:"number",min:"0",step:"0.01",value:w,onChange:de=>N(de.target.value),placeholder:"0.00",className:"pl-9"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Yearly amount"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"child-benefit",children:"Child Benefit (CCB)"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(tt,{id:"child-benefit",type:"number",min:"0",step:"0.01",value:B,onChange:de=>F(de.target.value),placeholder:"0.00",className:"pl-9"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Yearly amount"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"other-credits",children:"Other Credits"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(tt,{id:"other-credits",type:"number",min:"0",step:"0.01",value:E,onChange:de=>P(de.target.value),placeholder:"0.00",className:"pl-9"})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(De,{className:"text-base font-semibold text-gray-900",children:"Additional Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"refund-date",children:"Estimated Refund Date (Optional)"}),s.jsx(tt,{id:"refund-date",type:"date",value:Q,onChange:de=>U(de.target.value),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"notes",children:"Notes (Optional)"}),s.jsx(zc,{id:"notes",value:T,onChange:de=>k(de.target.value),placeholder:"Any additional notes for the client...",className:"mt-1",rows:3})]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Total Refund:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["$",I.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Total Owing:"}),s.jsxs("span",{className:"font-semibold text-red-600",children:["$",M.toFixed(2)]})]}),s.jsx("div",{className:"border-t pt-2 mt-2",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-semibold",children:"Net Amount:"}),s.jsxs("span",{className:`text-xl font-bold ${L>=0?"text-green-600":"text-red-600"}`,children:[L>=0?"+":""," $",L.toFixed(2)]})]})})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsxs(ye,{variant:"outline",onClick:$,disabled:c,children:[s.jsx(In,{className:"w-4 h-4 mr-2"}),"Cancel"]}),s.jsx(ye,{onClick:K,disabled:c,className:"bg-orange-600 hover:bg-orange-700",children:c?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Fx,{className:"w-4 h-4 mr-2"}),"Save CRA Assessment"]})})]})]}):s.jsx("div",{children:a?s.jsx(TK,{summary:q}):s.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[s.jsx(ji,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"No CRA Assessment filled yet"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Fill in the tax return values to show the client what they'll receive or owe"}),s.jsxs(ye,{onClick:()=>l(!0),className:"bg-orange-600 hover:bg-orange-700",children:[s.jsx(Cf,{className:"w-4 h-4 mr-2"}),"Fill CRA Assessment"]})]})})]})}function kK({userId:e,clientName:t}){const[r,n]=C.useState([]),[a,i]=C.useState(!0),[o,l]=C.useState(null),[c,A]=C.useState(!1),[u,d]=C.useState(!1),[h,f]=C.useState(!1),[g,p]=C.useState(null);C.useEffect(()=>{b()},[e]);const b=async()=>{i(!0);try{const{data:w,error:N}=await Le.from("kv_store_c2a25be0").select("*").like("key",`user:${e}:taxFiling:%`).order("key",{ascending:!1});if(N)throw N;const B=[];w==null||w.forEach(F=>{const E=parseInt(F.key.split(":")[3]);isNaN(E)||B.push({year:E,craDocument:F.value.craDocument,quebecDocument:F.value.quebecDocument,createdAt:F.value.createdAt||new Date().toISOString()})}),n(B.sort((F,E)=>E.year-F.year))}catch(w){console.error("Error loading tax filings:",w),me.error("Failed to load tax filings")}finally{i(!1)}},m=async w=>{try{const N={year:w,createdAt:new Date().toISOString()},{error:B}=await Le.from("kv_store_c2a25be0").upsert({key:`user:${e}:taxFiling:${w}`,value:N});if(B)throw B;me.success(`Tax filing folder created for ${w}`),b(),A(!1),l(w)}catch(N){console.error("Error creating folder:",N),me.error("Failed to create tax filing folder")}},x=async(w,N,B)=>{var E;const F=B==="cra"?d:f;F(!0);try{const P=`${e}/${w}/${B}_${Date.now()}_${N.name}`,{data:Q,error:U}=await Le.storage.from("tax-documents-c2a25be0").upload(P,N);if(U)throw U;const{data:T}=await Le.storage.from("tax-documents-c2a25be0").createSignedUrl(P,60*60*24*365);if(!(T!=null&&T.signedUrl))throw new Error("Failed to get file URL");const k=r.find(L=>L.year===w);if(!k)throw new Error("Folder not found");const I={...k,[B==="cra"?"craDocument":"quebecDocument"]:{name:N.name,url:T.signedUrl,uploadedAt:new Date().toISOString()}},{error:M}=await Le.from("kv_store_c2a25be0").upsert({key:`user:${e}:taxFiling:${w}`,value:I});if(M)throw M;me.success(`${B.toUpperCase()} document uploaded successfully!`);try{const{data:L}=await Le.auth.getSession();if((E=L.session)!=null&&E.access_token){const K=await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/admin/tax-document/notify`,{method:"POST",headers:{Authorization:`Bearer ${L.session.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({userId:e,year:w,documentType:B,language:"en"})});if(K.ok){const R=await K.json();console.log(`‚úÖ Email notification sent for ${B.toUpperCase()} document:`,R),me.success(`Client notified via email about ${B.toUpperCase()} document!`,{description:"The client will receive an email with download instructions."})}else console.error("Failed to send email notification:",await K.text()),me.warning("Document uploaded but email notification failed")}}catch(L){console.error("Error sending email notification:",L)}b()}catch(P){console.error("Error uploading document:",P),me.error(`Failed to upload ${B.toUpperCase()} document`)}finally{F(!1)}},y=(w,N,B)=>{var E;const F=(E=w.target.files)==null?void 0:E[0];F&&x(N,F,B)};return s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(Mt,{className:"w-5 h-5 text-blue-600"}),"Tax Filings"]}),s.jsxs(ye,{size:"sm",onClick:()=>A(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Create Tax Filing"]})]}),a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(ht,{className:"w-8 h-8 animate-spin text-blue-600"})}):r.length===0?s.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[s.jsx(Bf,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"No tax filings yet"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Create a tax filing folder for a specific year to upload final documents"})]}):s.jsx("div",{className:"space-y-3",children:r.map(w=>{var P,Q,U,T;const N=o===w.year,B=!!w.craDocument,F=!!w.quebecDocument,E=(B?1:0)+(F?1:0);return s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>l(N?null:w.year),children:s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[N?s.jsx(As,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}):s.jsx(Fc,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(tr,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:["Tax Year ",w.year]}),s.jsx("p",{className:"text-sm text-gray-500",children:E===0?"No documents uploaded":E===1?"1 document uploaded":"2 documents uploaded"})]}),E>0&&s.jsxs(vt,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:[E,"/2 Complete"]})]})}),N&&s.jsxs("div",{className:"border-t bg-gray-50 p-4 space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ji,{className:"w-5 h-5 text-blue-600"}),s.jsx("h4",{className:"font-medium",children:"CRA Federal Document"})]}),B&&s.jsx(vt,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:"Uploaded"})]}),B?s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx(Mt,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:(P=w.craDocument)==null?void 0:P.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded ",new Date(((Q=w.craDocument)==null?void 0:Q.uploadedAt)||"").toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>{var k;return window.open((k=w.craDocument)==null?void 0:k.url,"_blank")},children:s.jsx(aa,{className:"w-4 h-4"})}),s.jsx(De,{htmlFor:`cra-replace-${w.year}`,className:"cursor-pointer",children:s.jsx(ye,{size:"sm",variant:"outline",disabled:u,asChild:!0,children:s.jsx("span",{children:u?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Replace"]})})})}),s.jsx(tt,{id:`cra-replace-${w.year}`,type:"file",accept:".pdf",className:"hidden",onChange:k=>y(k,w.year,"cra"),disabled:u})]})]}):s.jsxs("div",{children:[s.jsx(De,{htmlFor:`cra-upload-${w.year}`,className:"cursor-pointer",children:s.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:bg-gray-50 transition-colors",children:u?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(ht,{className:"w-8 h-8 animate-spin text-blue-600"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Qr,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Upload CRA Federal Document"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF only"})]})})}),s.jsx(tt,{id:`cra-upload-${w.year}`,type:"file",accept:".pdf",className:"hidden",onChange:k=>y(k,w.year,"cra"),disabled:u})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ji,{className:"w-5 h-5 text-indigo-600"}),s.jsx("h4",{className:"font-medium",children:"Quebec Provincial Document"})]}),F&&s.jsx(vt,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:"Uploaded"})]}),F?s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx(Mt,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:(U=w.quebecDocument)==null?void 0:U.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded ",new Date(((T=w.quebecDocument)==null?void 0:T.uploadedAt)||"").toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>{var k;return window.open((k=w.quebecDocument)==null?void 0:k.url,"_blank")},children:s.jsx(aa,{className:"w-4 h-4"})}),s.jsx(De,{htmlFor:`quebec-replace-${w.year}`,className:"cursor-pointer",children:s.jsx(ye,{size:"sm",variant:"outline",disabled:h,asChild:!0,children:s.jsx("span",{children:h?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Replace"]})})})}),s.jsx(tt,{id:`quebec-replace-${w.year}`,type:"file",accept:".pdf",className:"hidden",onChange:k=>y(k,w.year,"quebec"),disabled:h})]})]}):s.jsxs("div",{children:[s.jsx(De,{htmlFor:`quebec-upload-${w.year}`,className:"cursor-pointer",children:s.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:bg-gray-50 transition-colors",children:h?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(ht,{className:"w-8 h-8 animate-spin text-indigo-600"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Qr,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Upload Quebec Provincial Document"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF only (if applicable)"})]})})}),s.jsx(tt,{id:`quebec-upload-${w.year}`,type:"file",accept:".pdf",className:"hidden",onChange:k=>y(k,w.year,"quebec"),disabled:h})]})]})]})]},w.year)})}),c&&s.jsx(OK,{onClose:()=>A(!1),onCreate:m,existingYears:r.map(w=>w.year)})]})}function OK({onClose:e,onCreate:t,existingYears:r}){const[n,a]=C.useState(new Date().getFullYear()),[i,o]=C.useState(!1),l=async()=>{if(r.includes(n)){me.error("Tax filing for this year already exists");return}o(!0);try{await t(n)}finally{o(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full m-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Create Tax Filing Folder"}),s.jsx(ye,{variant:"ghost",size:"sm",onClick:e,disabled:i,children:s.jsx(In,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"year",children:"Tax Year"}),s.jsx(tt,{id:"year",type:"number",min:"2000",max:new Date().getFullYear()+1,value:n,onChange:c=>a(parseInt(c.target.value)),className:"mt-1"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the tax year for this filing"})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Note:"})," This will create a folder where you can upload the final CRA (Federal) and Quebec (Provincial) documents for this tax year."]})})]}),s.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:[s.jsx(ye,{variant:"outline",onClick:e,disabled:i,children:"Cancel"}),s.jsx(ye,{onClick:l,disabled:i,className:"bg-blue-600 hover:bg-blue-700",children:i?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bf,{className:"w-4 h-4 mr-2"}),"Create Folder"]})})]})]})})}async function IK(e){var t;try{console.log(`üîß Calling backend to fix tax filings for user ${e}...`);const r=await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/fix-tax-filings/${e}`,{method:"POST",headers:{Authorization:`Bearer ${ta}`,"Content-Type":"application/json"}});if(!r.ok){const a=await r.json();throw new Error(((t=a.errors)==null?void 0:t[0])||"Failed to fix tax filings")}const n=await r.json();return console.log(`‚úÖ Backend fixed ${n.fixed} tax filings`),{success:n.success,fixed:n.fixed,errors:n.errors||[]}}catch(r){return console.error("‚ùå Error calling fix tax filings API:",r),{success:!1,fixed:0,errors:[r instanceof Error?r.message:String(r)]}}}function UK(){var de;const{userId:e}=lT(),t=Br(),{user:r}=Wr(),[n,a]=C.useState(null),[i,o]=C.useState(!0),[l,c]=C.useState(null),[A,u]=C.useState({}),[d,h]=C.useState({}),[f,g]=C.useState(!1),[p,b]=C.useState(null),[m,x]=C.useState([]),[y,w]=C.useState(!1),[N,B]=C.useState(""),[F,E]=C.useState(!1),[P,Q]=C.useState([]),[U,T]=C.useState(!1),[k,I]=C.useState(!1),[M,L]=C.useState(!1),K=!1;C.useEffect(()=>{if(!r||!Ya(r.email)){t("/login");return}R(),D(),re()},[r,e]);const R=async()=>{o(!0);try{if(!e)throw new Error("No user ID provided");const{data:X,error:te}=await Le.auth.getSession();if(te||!X.session)throw new Error("Not authenticated");const ue=X.session.access_token,se=await fetch(`${Nt.adminClients}/${e}`,{headers:{Authorization:`Bearer ${ue}`}});if(!se.ok){const Ce=await se.json();throw new Error(Ce.error||"Failed to fetch client")}const we=await se.json();console.log("Fetched client from server:",we.client),a(we.client)}catch(X){console.error("Error loading client:",X),me.error(`Failed to load client data: ${X instanceof Error?X.message:"Unknown error"}`)}finally{o(!1)}},$=async X=>{if(!A[X]){h(te=>({...te,[X]:!0}));try{if(!e)throw new Error("No user ID provided");const{data:te,error:ue}=await Le.from("kv_store_c2a25be0").select("key, value").eq("key",`user:${e}:documents:${X}`);if(ue)throw console.error("Error fetching documents from KV:",ue),new Error("Failed to load documents");let se=[];if(te&&te.length>0){const we=te[0].value;Array.isArray(we)&&(se=await Promise.all(we.map(async Ce=>{let J=null;if(Ce.path){const{data:_e}=await Le.storage.from("tax-documents-c2a25be0").createSignedUrl(Ce.path,3600);_e&&(J=_e.signedUrl)}return{id:Ce.id||Ce.path,name:Ce.name||Ce.fileName||"Unknown",size:Ce.size||0,category:Ce.category||"other",uploadedAt:Ce.uploadedAt||Ce.createdAt||new Date().toISOString(),path:Ce.path||"",url:J}})))}console.log(`Loaded ${se.length} files for year ${X}`),u(we=>({...we,[X]:se}))}catch(te){console.error("Error loading files:",te),me.error(`Failed to load documents: ${te instanceof Error?te.message:"Unknown error"}`),u(ue=>({...ue,[X]:[]}))}finally{h(te=>({...te,[X]:!1}))}}},q=X=>{if(X===0)return"0 Bytes";const te=1024,ue=["Bytes","KB","MB","GB"],se=Math.floor(Math.log(X)/Math.log(te));return Math.round(X/Math.pow(te,se)*100)/100+" "+ue[se]},Z=X=>({income:"Income Documents",deductions:"Deduction Receipts",business:"Business Documents",property:"Property & Investments",other:"Other Documents"})[X]||X,D=async()=>{w(!0);try{if(!e)throw new Error("No user ID provided");const{data:X,isMocked:te}=await Eo(`/messages?clientId=${e}`,{});x(te?X.messages||[]:X.messages||[]),console.log(`Loaded ${m.length} messages`)}catch(X){console.error("Error loading messages:",X),me.error(`Failed to load messages: ${X instanceof Error?X.message:"Unknown error"}`),x([])}finally{w(!1)}},H=async()=>{E(!0);try{if(!e||!n||!N.trim())throw new Error("Missing user, client, or message data");console.log("Sending message to client:",e);const{data:X,error:te}=await Le.auth.getSession();if(te||!X.session)throw new Error("Not authenticated");const ue=X.session.access_token,se=await fetch(Nt.messagesSend,{method:"POST",headers:{Authorization:`Bearer ${ue}`,"Content-Type":"application/json"},body:JSON.stringify({clientId:e,subject:"Admin Message",content:N})});if(!se.ok){const we=await se.json();throw new Error(we.error||"Failed to send message")}console.log("Message sent successfully via API"),me.success("Message sent successfully"),await D(),B("")}catch(X){console.error("Error sending message:",X);const te=X instanceof Error?X.message:"Unknown error";me.error(`Failed to send message: ${te}`)}finally{E(!1)}},V=async(X,te)=>{if(confirm(`Are you sure you want to delete the message "${te}"?

This action cannot be undone.`))try{const{data:ue}=await Le.auth.getSession();if(!ue.session)throw new Error("Not authenticated");const se=await fetch(`${Nt.messages(e||"")}/${X}`,{method:"DELETE",headers:{Authorization:`Bearer ${ue.session.access_token}`}});if(!se.ok){const we=await se.json();throw new Error(we.error||"Failed to delete message")}me.success("‚úÖ Message deleted successfully"),await D()}catch(ue){console.error("Delete error:",ue),me.error(`Failed to delete message: ${ue.message}`)}},re=async()=>{T(!0);try{if(!e)throw new Error("No user ID provided");const{data:X,error:te}=await Le.auth.getSession();if(te||!X.session)throw new Error("Not authenticated");const ue=X.session.access_token,se=await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/admin/client-documents/${e}`,{headers:{Authorization:`Bearer ${ue}`}});if(!se.ok){const J=await se.json();throw new Error(J.error||"Failed to load documents")}const Ce=(await se.json()).documents||[];console.log(`‚úÖ Loaded ${Ce.length} years with documents from backend`),Q(Ce)}catch(X){console.error("Error loading all documents:",X),me.error(`Failed to load all documents: ${X instanceof Error?X.message:"Unknown error"}`),Q([])}finally{T(!1)}},Ae=async X=>{var ue;const{year:te}=X;try{const{data:se}=await Le.auth.getSession();if(!((ue=se.session)!=null&&ue.access_token))throw new Error("Please log in again");const we=await fetch(Nt.taxFilingCreate,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se.session.access_token}`},body:JSON.stringify({userId:e,year:X.year,pricingPresetId:X.pricingPresetId,customAmount:X.customAmount,discount:X.discount,adminNotes:X.adminNotes})}),Ce=await we.json();if(!we.ok)throw new Error(Ce.error||"Failed to create tax filing");me.success(`Tax filing for ${te} created successfully`),await R()}catch(se){throw console.error("Error creating filing:",se),me.error(se.message||"Failed to create tax filing"),se}},ae=async()=>{try{if(!e)throw new Error("Missing user ID");me.info("Fixing corrupted tax filings...");const X=await IK(e);if(X.success)X.fixed>0?me.success(`Fixed ${X.fixed} corrupted tax filing(s)!`):me.success("No corrupted tax filings found"),await R();else throw new Error(X.errors.join(", ")||"Unknown error")}catch(X){console.error("Error fixing tax filings:",X),me.error(`Failed to fix tax filings: ${X instanceof Error?X.message:"Unknown error"}`)}};return i?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ht,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Loading client data..."})]})}):n?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>t("/admin"),children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to Clients"]}),s.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold text-xl",children:n.name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-semibold text-xl",children:n.name}),s.jsx("p",{className:"text-sm text-gray-500",children:n.email})]})]}),s.jsx(vt,{variant:"outline",className:`${n.onboardingComplete?"bg-green-100 text-green-700 border-green-300":"bg-yellow-100 text-yellow-700 border-yellow-300"} border`,children:n.onboardingComplete?"Onboarded":"Pending Onboarding"})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsxs(Se,{className:"p-6",children:[s.jsxs("h2",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[s.jsx(ea,{className:"w-5 h-5 text-blue-600"}),"Personal Information"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),s.jsx("p",{className:"font-medium",children:n.name||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[s.jsx(Ja,{className:"w-3 h-3"}),"Email"]}),s.jsx("p",{className:"font-medium",children:n.email})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[s.jsx(tr,{className:"w-3 h-3"}),"Account Created"]}),s.jsx("p",{className:"font-medium",children:new Date(n.createdAt).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"User ID"}),s.jsx("p",{className:"font-mono text-xs text-gray-600 break-all",children:n.id})]}),s.jsx("div",{className:"border-t pt-4 mt-4"}),n.personalInfo?s.jsxs(s.Fragment,{children:[n.personalInfo.phone&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[s.jsx(gh,{className:"w-3 h-3"}),"Phone"]}),s.jsx("p",{className:"font-medium",children:n.personalInfo.phone})]}),n.personalInfo.dateOfBirth&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[s.jsx(tr,{className:"w-3 h-3"}),"Date of Birth"]}),s.jsx("p",{className:"font-medium",children:n.personalInfo.dateOfBirth})]}),n.personalInfo.sin&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"SIN"}),s.jsx("p",{className:"font-medium font-mono",children:n.personalInfo.sin})]}),n.personalInfo.address&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[s.jsx(Ws,{className:"w-3 h-3"}),"Address"]}),s.jsx("p",{className:"font-medium",children:n.personalInfo.address}),n.personalInfo.city&&s.jsxs("p",{className:"font-medium",children:[n.personalInfo.city,", ",n.personalInfo.province," ",n.personalInfo.postalCode]})]}),n.personalInfo.maritalStatus&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Marital Status"}),s.jsx("p",{className:"font-medium capitalize",children:n.personalInfo.maritalStatus.replace("-"," ")})]}),n.personalInfo.residenceStatus&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Residence Status"}),s.jsx("p",{className:"font-medium capitalize",children:n.personalInfo.residenceStatus.replace("-"," ")})]})]}):s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Ht,{className:"w-5 h-5 text-yellow-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-yellow-900 mb-1",children:"Additional Information Pending"}),s.jsx("p",{className:"text-xs text-yellow-700",children:"The client hasn't completed the onboarding process yet. Additional details like phone, address, SIN, and tax information will appear here once they complete their profile."})]})]})})]})]}),s.jsxs(Se,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Account Details"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Joined"}),s.jsx("p",{className:"font-medium",children:new Date(n.createdAt).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Total Filings"}),s.jsx("p",{className:"font-medium",children:((de=n.taxFilings)==null?void 0:de.length)||0})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs(Se,{className:"p-6 mb-6",children:[s.jsxs("h2",{className:"font-semibold text-lg mb-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bf,{className:"w-5 h-5 text-green-600"}),"All Client Documents"]}),s.jsxs(vt,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:[P.reduce((X,te)=>X+te.files.length,0)," files"]})]}),U?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(ht,{className:"w-8 h-8 animate-spin text-blue-600"})}):P.length>0?s.jsx("div",{className:"space-y-4",children:P.map(X=>s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 px-4 py-3 border-b",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(tr,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:["Tax Year ",X.year]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[X.files.length," document",X.files.length!==1?"s":""]})]})]})})}),s.jsx("div",{className:"p-4 bg-white",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:X.files.map(te=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Mt,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate text-gray-900",children:te.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[Z(te.category)," ‚Ä¢ ",q(te.size)]}),s.jsx("p",{className:"text-xs text-gray-400",children:new Date(te.uploadedAt).toLocaleDateString()})]})]}),te.url&&s.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>window.open(te.url,"_blank"),className:"flex-shrink-0 hover:bg-blue-50",children:s.jsx(aa,{className:"w-4 h-4 text-blue-600"})})]},te.id))})})]},X.year))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Bf,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-500",children:"No documents uploaded yet"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Documents will appear here once the client uploads them"})]})]}),P.map(X=>s.jsx(PK,{userId:e,clientName:n.name,clientEmail:n.email,year:X.year,onSave:R},`cra-${X.year}`)),s.jsx(kK,{userId:e,clientName:n.name}),s.jsxs(Se,{className:"p-6 mt-6",children:[s.jsxs("h2",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[s.jsx(Ec,{className:"w-5 h-5 text-purple-600"}),"Messages"]}),s.jsx("div",{className:"mb-4 max-h-[400px] overflow-y-auto space-y-3",children:y?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(ht,{className:"w-6 h-6 animate-spin text-blue-600"})}):m.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ec,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-500",children:"No messages yet"})]}):m.map(X=>{const te=X.senderRole==="admin",ue=new Date(X.createdAt);return s.jsx("div",{className:`flex ${te?"justify-end":"justify-start"} group`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${te?"bg-blue-600 text-white":"bg-gray-100 border border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-xs font-semibold",children:te?"You":X.senderName}),s.jsxs("span",{className:`text-xs ${te?"text-blue-100":"text-gray-500"}`,children:[ue.toLocaleDateString()," ‚Ä¢ ",ue.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:X.content})]}),s.jsx("button",{onClick:()=>V(X.id,X.subject),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded",title:"Delete message",children:s.jsx(Ht,{className:"w-4 h-4 text-red-500"})})]})},X.id)})}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(zc,{value:N,onChange:X=>B(X.target.value),placeholder:"Type your message to the client...",className:"min-h-[100px] mb-2",onKeyDown:X=>{X.key==="Enter"&&!X.shiftKey&&(X.preventDefault(),H())}}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(ye,{onClick:H,disabled:!N.trim()||F,children:[F?s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Za,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})]})]})]})}),f&&p&&s.jsx(CK,{isOpen:f,onClose:()=>{g(!1),b(null)},client:{id:n.id,name:n.name,email:n.email},filingYear:p,onSuccess:R}),k&&p&&s.jsx(BK,{isOpen:k,onClose:()=>{I(!1),b(null)},clientId:n.id,clientName:n.name,year:p,onSuccess:async()=>{await re(),p&&(u(X=>{const te={...X};return delete te[p],te}),await $(p))}}),M&&(()=>{console.log("üîç Full client.taxFilings:",n.taxFilings);const X=[];return Array.isArray(n.taxFilings)&&n.taxFilings.forEach(te=>{if(console.log("üìã Processing tax filing:",te),te&&typeof te=="object"&&"year"in te){const ue=te.year;typeof ue=="number"&&!isNaN(ue)?X.push(ue):console.warn("‚ö†Ô∏è Invalid year type:",typeof ue,ue)}else console.warn("‚ö†Ô∏è Invalid filing structure:",te)}),console.log("‚úÖ Final existingYears array:",X),s.jsx(FK,{isOpen:M,onClose:()=>L(!1),onSubmit:Ae,existingYears:X})})(),s.jsxs(ye,{onClick:ae,className:"absolute bottom-4 right-4 bg-red-500 text-white px-4 py-2 rounded",children:[s.jsx(yD,{className:"w-4 h-4 mr-2"}),"Fix Tax Filings"]})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ht,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Client not found"}),s.jsx(ye,{onClick:()=>t("/admin"),className:"mt-4",children:"Back to Clients"})]})})}const _K="modulepreload",DK=function(e){return"/"+e},_C={},Ip=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=DK(c),c in _C)return;_C[c]=!0;const A=c.endsWith(".css"),u=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=A?"stylesheet":_K,A||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),A)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function LK(){const e=Br(),{user:t}=Wr(),{isAdmin:r,loading:n}=g2(),[a,i]=C.useState([]),[o,l]=C.useState(!0),[c,A]=C.useState(null),[u,d]=C.useState(!1),[h,f]=C.useState(!1);C.useEffect(()=>{!n&&!r()&&(me.error("Access denied. Admin permissions required."),e("/admin"))},[n,r,e]),C.useEffect(()=>{r()&&g()},[r]);const g=async()=>{try{const{data:m}=await Eo("/users/list");i(m)}catch(m){console.error("Error loading users:",m),me.error("Failed to load users")}finally{l(!1)}},p=async(m,x)=>{try{if(!(await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/users/permissions/${m}`,{method:"PUT",headers:{Authorization:`Bearer ${ta}`,"Content-Type":"application/json"},body:JSON.stringify(x)})).ok)throw new Error("Failed to update permissions");me.success("Permissions updated successfully"),await g(),d(!1),A(null)}catch(y){console.error("Error updating permissions:",y),me.error("Failed to update permissions")}},b=m=>{switch(m){case"admin":return"bg-purple-100 text-purple-700 border-purple-200";case"accountant":return"bg-blue-100 text-blue-700 border-blue-200";case"viewer":return"bg-gray-100 text-gray-700 border-gray-200";case"client":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return n||o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(ht,{className:"w-8 h-8 animate-spin text-blue-600"})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ye,{variant:"ghost",onClick:()=>e("/admin"),className:"flex items-center gap-2",children:[s.jsx(es,{className:"w-4 h-4"}),"Back to Admin Hub"]}),s.jsx("div",{className:"h-8 w-px bg-gray-300"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:s.jsx(dr,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manage team members and permissions"})]})]})]}),s.jsxs(ye,{onClick:()=>f(!0),className:"bg-purple-600 hover:bg-purple-700 flex items-center gap-2",children:[s.jsx(Gp,{className:"w-4 h-4"}),"Add User"]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:a.length}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.filter(m=>m.userType==="client").length," clients, ",a.filter(m=>m.userType==="staff").length," staff"]})]}),s.jsx(dr,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Active Users"}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:a.filter(m=>m.isActive).length})]}),s.jsx(Os,{className:"w-8 h-8 text-green-500"})]})}),s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Admins"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:a.filter(m=>m.role==="admin").length})]}),s.jsx(wD,{className:"w-8 h-8 text-purple-500"})]})})]}),s.jsx(Se,{className:"overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Modules Access"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Cases"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(m=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:m.name}),s.jsx("p",{className:"text-sm text-gray-500",children:m.email})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${b(m.role)}`,children:m.role})}),s.jsx("td",{className:"px-6 py-4",children:m.isActive?s.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[s.jsx(Os,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Active"})]}):s.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx(Zn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Inactive"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[m.modules.slice(0,3).map(x=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-blue-50 text-blue-700 border border-blue-100",children:x},x)),m.modules.length>3&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-600",children:["+",m.modules.length-3," more"]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium text-gray-900",children:m.casesCount||0}),s.jsx("span",{className:"text-gray-500",children:" total"})]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>{A(m),d(!0)},className:"flex items-center gap-2",children:[s.jsx(Tx,{className:"w-3 h-3"}),"Edit"]})})]},m.userId))})]})})})]}),u&&c&&s.jsx(QK,{user:c,onClose:()=>{d(!1),A(null)},onSave:p}),h&&s.jsx(RK,{onClose:()=>f(!1),onAddUser:g})]})}function QK({user:e,onClose:t,onSave:r}){const[n,a]=C.useState(e.role),[i,o]=C.useState(e.modules),[l,c]=C.useState(e.isActive),A=[{id:"dashboard",label:"Dashboard",description:"General overview and analytics"},{id:"customers",label:"Customers",description:"Manage clients and tax filings"},{id:"bookkeeping",label:"Bookkeeping",description:"Track expenses and invoices"},{id:"financial",label:"Financial",description:"Revenue and financial reports"},{id:"marketing",label:"Marketing",description:"Marketing tools and campaigns"},{id:"users",label:"User Management",description:"Manage team and permissions (Admin only)"}],u=h=>{i.includes(h)?o(i.filter(f=>f!==h)):o([...i,h])},d=()=>{r(e.userId,{role:n,modules:i,isActive:l})};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(Se,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Permissions"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.name," - ",e.email]})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Role"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:["admin","accountant","viewer"].map(h=>s.jsx("button",{onClick:()=>a(h),className:`p-4 border-2 rounded-lg text-center transition-all ${n===h?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:s.jsx("p",{className:"font-medium text-gray-900 capitalize",children:h})},h))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Module Access"}),s.jsx("div",{className:"space-y-2",children:A.map(h=>s.jsx("button",{onClick:()=>u(h.id),disabled:n==="admin"&&h.id==="users",className:`w-full p-4 border-2 rounded-lg text-left transition-all ${i.includes(h.id)?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"} ${n==="admin"&&h.id==="users"?"opacity-50":""}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:h.label}),s.jsx("p",{className:"text-sm text-gray-600",children:h.description})]}),i.includes(h.id)&&s.jsx(Os,{className:"w-5 h-5 text-green-600"})]})},h.id))}),n==="admin"&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* Admin users automatically have access to all modules including User Management"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Status"}),s.jsxs("button",{onClick:()=>c(!l),className:`w-full p-4 border-2 rounded-lg flex items-center justify-between ${l?"border-green-500 bg-green-50":"border-gray-300 bg-gray-50"}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:l?"Active":"Inactive"}),s.jsx("p",{className:"text-sm text-gray-600",children:l?"User can access the system":"User is blocked from accessing"})]}),l?s.jsx(Os,{className:"w-5 h-5 text-green-600"}):s.jsx(Zn,{className:"w-5 h-5 text-gray-400"})]})]})]}),s.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end",children:[s.jsx(ye,{variant:"outline",onClick:t,children:"Cancel"}),s.jsx(ye,{onClick:d,className:"bg-blue-600 hover:bg-blue-700",children:"Save Changes"})]})]})})}function RK({onClose:e,onAddUser:t}){const[r,n]=C.useState(""),[a,i]=C.useState(""),[o,l]=C.useState(""),[c,A]=C.useState("viewer"),[u,d]=C.useState(["dashboard"]),[h,f]=C.useState(!0),[g,p]=C.useState(!1),b=[{id:"dashboard",label:"Dashboard",description:"General overview and analytics"},{id:"customers",label:"Customers",description:"Manage clients and tax filings"},{id:"bookkeeping",label:"Bookkeeping",description:"Track expenses and invoices"},{id:"financial",label:"Financial",description:"Revenue and financial reports"},{id:"marketing",label:"Marketing",description:"Marketing tools and campaigns"},{id:"users",label:"User Management",description:"Manage team and permissions (Admin only)"}],m=y=>{u.includes(y)?d(u.filter(w=>w!==y)):d([...u,y])},x=async()=>{p(!0);try{if(!r||!a||!o){me.error("Please fill in all required fields"),p(!1);return}if(o.length<6){me.error("Password must be at least 6 characters"),p(!1);return}const{supabase:y}=await Ip(async()=>{const{supabase:E}=await Promise.resolve().then(()=>wL);return{supabase:E}},void 0),{data:w,error:N}=await y.auth.getSession();if(N||!w.session){me.error("Authentication error. Please log in again."),p(!1);return}const B=await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/admin/create-user`,{method:"POST",headers:{Authorization:`Bearer ${w.session.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({name:r,email:a,password:o,role:c,modules:u,isActive:h})}),F=await B.json();if(!B.ok){if(B.status===409)me.error(F.error||"A user with this email already exists"),console.log("Existing user details:",F.existingUser);else throw new Error(F.error||"Failed to add user");p(!1);return}console.log("User created successfully:",F),me.success(`User ${r} created successfully!`),t(),e()}catch(y){console.error("Error adding user:",y),me.error(y instanceof Error?y.message:"Failed to add user")}finally{p(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(Se,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add User"})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Name"}),s.jsx("input",{type:"text",value:r,onChange:y=>n(y.target.value),className:"w-full p-4 border-2 rounded-lg text-left transition-all border-gray-200 hover:border-gray-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email"}),s.jsx("input",{type:"email",value:a,onChange:y=>i(y.target.value),className:"w-full p-4 border-2 rounded-lg text-left transition-all border-gray-200 hover:border-gray-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Password"}),s.jsx("input",{type:"password",value:o,onChange:y=>l(y.target.value),className:"w-full p-4 border-2 rounded-lg text-left transition-all border-gray-200 hover:border-gray-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Role"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:["admin","accountant","viewer"].map(y=>s.jsx("button",{onClick:()=>A(y),className:`p-4 border-2 rounded-lg text-center transition-all ${c===y?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:s.jsx("p",{className:"font-medium text-gray-900 capitalize",children:y})},y))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Module Access"}),s.jsx("div",{className:"space-y-2",children:b.map(y=>s.jsx("button",{onClick:()=>m(y.id),disabled:c==="admin"&&y.id==="users",className:`w-full p-4 border-2 rounded-lg text-left transition-all ${u.includes(y.id)?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"} ${c==="admin"&&y.id==="users"?"opacity-50":""}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:y.label}),s.jsx("p",{className:"text-sm text-gray-600",children:y.description})]}),u.includes(y.id)&&s.jsx(Os,{className:"w-5 h-5 text-green-600"})]})},y.id))}),c==="admin"&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* Admin users automatically have access to all modules including User Management"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Status"}),s.jsxs("button",{onClick:()=>f(!h),className:`w-full p-4 border-2 rounded-lg flex items-center justify-between ${h?"border-green-500 bg-green-50":"border-gray-300 bg-gray-50"}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:h?"Active":"Inactive"}),s.jsx("p",{className:"text-sm text-gray-600",children:h?"User can access the system":"User is blocked from accessing"})]}),h?s.jsx(Os,{className:"w-5 h-5 text-green-600"}):s.jsx(Zn,{className:"w-5 h-5 text-gray-400"})]})]})]}),s.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end",children:[s.jsx(ye,{variant:"outline",onClick:e,children:"Cancel"}),s.jsx(ye,{onClick:x,className:"bg-blue-600 hover:bg-blue-700",children:g?s.jsx(ht,{className:"w-4 h-4 animate-spin"}):"Add User"})]})]})})}function MK(){const[e,t]=C.useState(null),[r,n]=C.useState(!0),a=async()=>{try{const i=new Promise((c,A)=>{setTimeout(()=>A(new Error("Request timeout")),3e3)}),o=fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/health`,{method:"GET",headers:{"Content-Type":"application/json"}}),l=await Promise.race([o,i]);if(l.ok){const c=await l.json();t(c.status==="ok")}else t(!1)}catch{t(!1)}finally{n(!1)}};return C.useEffect(()=>{a()},[]),{isBackendOnline:e,isChecking:r,recheckBackend:a}}function $K({onBackendReady:e}){const[t,r]=C.useState(!1),[n,a]=C.useState(!1),[i,o]=C.useState(null),l=async()=>{r(!0);try{const A=new Promise((h,f)=>{setTimeout(()=>f(new Error("Request timeout")),3e3)}),u=fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/health`,{method:"GET",headers:{"Content-Type":"application/json"}}),d=await Promise.race([u,A]);return d.ok&&(await d.json()).status==="ok"?(a(!0),o(new Date),e&&setTimeout(()=>e(),1e3),!0):(a(!1),o(new Date),!1)}catch{return a(!1),o(new Date),!1}finally{r(!1)}};C.useEffect(()=>{l()},[]);const c=()=>{window.open(`https://supabase.com/dashboard/project/${Vt}/functions/make-server-c2a25be0`,"_blank")};return n?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 flex items-center justify-center p-4",children:s.jsxs(Se,{className:"max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Os,{className:"w-10 h-10 text-green-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-green-900 mb-3",children:"‚úÖ Backend is Online!"}),s.jsx("p",{className:"text-green-700 mb-6",children:"The Edge Function is deployed and responding correctly."}),s.jsx("div",{className:"text-sm text-green-600",children:"Redirecting..."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center p-4",children:s.jsxs(Se,{className:"max-w-2xl w-full p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:s.jsx(Nf,{className:"w-10 h-10 text-red-600"})}),s.jsx("h1",{className:"text-3xl font-bold text-red-900 mb-3",children:"üö® Backend Not Deployed"}),s.jsx("p",{className:"text-lg text-red-700",children:"The Edge Function needs to be deployed before you can use this application."})]}),s.jsxs("div",{className:"bg-white rounded-lg p-6 mb-6 border-2 border-red-200",children:[s.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(fT,{className:"w-5 h-5 text-red-600"}),"Deployment Instructions"]}),s.jsxs("ol",{className:"space-y-4 text-gray-700",children:[s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-sm",children:"1"}),s.jsxs("div",{className:"flex-1 pt-1",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Click the button below to open Supabase Dashboard"}),s.jsxs(ye,{onClick:c,className:"bg-blue-600 hover:bg-blue-700 text-white mt-2 w-full",children:[s.jsx(wi,{className:"w-4 h-4 mr-2"}),"Open Supabase Dashboard"]})]})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-sm",children:"2"}),s.jsxs("div",{className:"flex-1 pt-1",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Find the Deploy button"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Look for a ",s.jsx("strong",{className:"text-blue-600",children:'blue "Deploy"'})," or ",s.jsx("strong",{className:"text-blue-600",children:'"Redeploy"'})," button in the top-right corner of the page."]})]})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-sm",children:"3"}),s.jsxs("div",{className:"flex-1 pt-1",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Click Deploy"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Click the button and wait 10-30 seconds for the deployment to complete."})]})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold text-sm",children:"4"}),s.jsxs("div",{className:"flex-1 pt-1",children:[s.jsx("p",{className:"font-semibold mb-1",children:'Come back here and click "Check Again"'}),s.jsx("p",{className:"text-sm text-gray-600",children:"The page will automatically reload once the backend is online."})]})]})]})]}),s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-amber-900 mb-2",children:"‚ö†Ô∏è Alternative Method"}),s.jsx("p",{className:"text-sm text-amber-800 mb-2",children:"If the button above doesn't work, manually navigate to:"}),s.jsxs("div",{className:"bg-white rounded px-3 py-2 font-mono text-xs break-all border border-amber-300",children:["https://supabase.com/dashboard/project/",Vt,"/functions/make-server-c2a25be0"]})]}),i&&s.jsxs("div",{className:"text-center text-sm text-gray-500 mb-4",children:["Last checked: ",i.toLocaleTimeString()]}),s.jsx(ye,{onClick:l,disabled:t,className:"w-full bg-green-600 hover:bg-green-700 text-white h-12 text-lg",children:t?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-5 h-5 mr-2 animate-spin"}),"Checking Backend Status..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Kc,{className:"w-5 h-5 mr-2"}),"Check Again"]})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("details",{className:"text-sm text-gray-600",children:[s.jsx("summary",{className:"cursor-pointer font-semibold text-gray-700 hover:text-gray-900",children:"üîß Technical Details"}),s.jsxs("div",{className:"mt-3 text-left bg-gray-50 rounded p-3 space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Project ID:"})," ",Vt]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Function Name:"})," make-server-c2a25be0"]}),s.jsx("p",{children:s.jsx("strong",{children:"Health Endpoint:"})}),s.jsxs("code",{className:"text-xs bg-white px-2 py-1 rounded block mt-1 break-all",children:["https://",Vt,".supabase.co/functions/v1/make-server-c2a25be0/health"]}),s.jsx("p",{className:"mt-2",children:s.jsx("strong",{children:"Expected Response:"})}),s.jsx("code",{className:"text-xs bg-white px-2 py-1 rounded block mt-1",children:'{ "status": "ok", "timestamp": "..." }'})]})]})})]})})}function HK(){var U;const e=Br(),{user:t}=Wr(),{isBackendOnline:r,isChecking:n}=MK(),[a,i]=C.useState([]),[o,l]=C.useState([]),[c,A]=C.useState(!0),[u,d]=C.useState(""),[h,f]=C.useState(!1),[g,p]=C.useState(""),[b,m]=C.useState(""),[x,y]=C.useState(""),[w,N]=C.useState(!1),F=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"].includes(((U=t==null?void 0:t.email)==null?void 0:U.toLowerCase())||"");C.useEffect(()=>{if(!F){me.error("Access denied. Admin only."),e("/admin");return}E()},[F,e]),C.useEffect(()=>{if(u.trim()==="")l(a);else{const T=u.toLowerCase();l(a.filter(k=>{var I,M,L,K;return((I=k.email)==null?void 0:I.toLowerCase().includes(T))||((M=k.name)==null?void 0:M.toLowerCase().includes(T))||((K=(L=k.userMetadata)==null?void 0:L.name)==null?void 0:K.toLowerCase().includes(T))}))}},[u,a]);const E=async()=>{try{A(!0),console.log("üîç Loading users from backend...");const{data:{session:T},error:k}=await Le.auth.getSession();if(k||!T)throw new Error("No active session");const I=T.access_token,M=await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/users`,{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(!M.ok){const K=await M.json().catch(()=>({}));throw M.status===404||M.status===503?new Error("Backend not deployed yet. Please deploy the Edge Function in Supabase Dashboard: Project ‚Üí Edge Functions ‚Üí make-server-c2a25be0 ‚Üí Redeploy"):new Error(K.error||`HTTP ${M.status}`)}const L=await M.json();console.log(`‚úÖ Found ${L.users.length} users from backend`),i(L.users),l(L.users),me.success(`Loaded ${L.users.length} users`)}catch(T){console.error("‚ùå Error loading users:",T),T.message.includes("Failed to fetch")?(me.error("‚ö†Ô∏è Backend not responding. Please DEPLOY the Edge Function first!",{duration:1e4,description:"Go to: Supabase Dashboard ‚Üí Edge Functions ‚Üí make-server-c2a25be0 ‚Üí Redeploy"}),me.info("üí° Click here to run Backend Diagnostic Tool",{duration:1e4,onClick:()=>{window.open("/backend-diagnostic","_blank")}})):me.error("Failed to load users: "+T.message)}finally{A(!1)}},P=async()=>{if(!g||!b||!x){me.error("Please fill all fields");return}if(b.length<6){me.error("Password must be at least 6 characters");return}try{N(!0),console.log("‚ûï Creating new user:",g);const{data:{session:T},error:k}=await Le.auth.getSession();if(k||!T)throw new Error("No active session");const I=T.access_token,M=await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/admin/create-user`,{method:"POST",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify({email:g,password:b,name:x})});if(!M.ok){const K=await M.json();throw new Error(K.error||`HTTP ${M.status}`)}const L=await M.json();console.log("‚úÖ User created successfully:",L.user.id),me.success(`User ${x} created successfully!`),p(""),m(""),y(""),f(!1),await E()}catch(T){console.error("‚ùå Error creating user:",T),me.error("Failed to create user: "+T.message)}finally{N(!1)}},Q=async(T,k)=>{if(confirm(`Are you sure you want to delete user "${k}"? This action cannot be undone.`))try{console.log("üóëÔ∏è Deleting user:",T);const{data:{session:I},error:M}=await Le.auth.getSession();if(M||!I)throw new Error("No active session");const L=I.access_token,K=await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/users/${T}`,{method:"DELETE",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}});if(!K.ok){const R=await K.json();throw new Error(R.error||`HTTP ${K.status}`)}console.log("‚úÖ User deleted successfully"),me.success(`User ${k} deleted`),await E()}catch(I){console.error("‚ùå Error deleting user:",I),me.error("Failed to delete user: "+I.message)}};return F?n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(ht,{className:"w-8 h-8 animate-spin text-blue-600"})}):r===!1?s.jsx($K,{onBackendReady:()=>window.location.reload()}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ye,{variant:"ghost",onClick:()=>e("/admin"),className:"flex items-center gap-2",children:[s.jsx(es,{className:"w-4 h-4"}),"Back to Admin"]}),s.jsx("div",{className:"h-8 w-px bg-gray-300"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:s.jsx(dr,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manage all registered users in the system"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ye,{variant:"outline",onClick:E,disabled:c,className:"flex items-center gap-2",children:[s.jsx(Kc,{className:`w-4 h-4 ${c?"animate-spin":""}`}),"Refresh"]}),s.jsxs(ye,{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(Gp,{className:"w-4 h-4"}),"Add User"]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:a.length})]}),s.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center",children:s.jsx(dr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Email Confirmed"}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:a.filter(T=>T.emailConfirmed).length})]}),s.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center",children:s.jsx(Os,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pending Confirmation"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-1",children:a.filter(T=>!T.emailConfirmed).length})]}),s.jsx("div",{className:"w-12 h-12 rounded-lg bg-orange-100 flex items-center justify-center",children:s.jsx(Zn,{className:"w-6 h-6 text-orange-600"})})]})})]}),s.jsx(Se,{className:"p-4 mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ex,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(tt,{type:"text",placeholder:"Search by email or name...",value:u,onChange:T=>d(T.target.value),className:"pl-10"})]})}),s.jsx(Se,{className:"overflow-hidden",children:c?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(ht,{className:"w-8 h-8 animate-spin text-blue-600"})}):o.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(dr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:u?"No users found matching your search":"No users registered yet"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:!u&&'Click "Add User" to create the first user'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase",children:"User"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase",children:"Contact"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase",children:"Created"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase",children:"Last Login"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-700 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold",children:T.name.charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:T.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",T.id.slice(0,8),"..."]})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Ja,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:T.email})]})}),s.jsx("td",{className:"px-6 py-4",children:T.emailConfirmed?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),s.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Confirmed"})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),s.jsx("span",{className:"text-sm text-orange-600 font-medium",children:"Pending"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(tr,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:new Date(T.createdAt).toLocaleDateString()})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:T.lastSignIn?new Date(T.lastSignIn).toLocaleDateString():"Never"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>e(`/admin/clients/${T.id}`),className:"text-blue-600 hover:text-blue-700",children:s.jsx(Sf,{className:"w-4 h-4"})}),s.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>Q(T.id,T.name),className:"text-red-600 hover:text-red-700",children:s.jsx(Pi,{className:"w-4 h-4"})})]})})]},T.id))})]})})}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"üí° Tip:"})," Users are automatically saved to Supabase Auth when they sign up. To see newly created users, make sure the backend is deployed in Supabase Dashboard."]})})]}),h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(Se,{className:"w-full max-w-md p-6 bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add New User"}),s.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>{f(!1),y(""),p(""),m("")},disabled:w,children:"‚úï"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"name",className:"text-gray-700 mb-2 block",children:"Full Name *"}),s.jsx(tt,{id:"name",type:"text",value:x,onChange:T=>y(T.target.value),placeholder:"John Doe",disabled:w,className:"mt-1 bg-white text-gray-900",required:!0})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"email",className:"text-gray-700 mb-2 block",children:"Email *"}),s.jsx(tt,{id:"email",type:"email",value:g,onChange:T=>p(T.target.value),placeholder:"user@example.com",disabled:w,className:"mt-1 bg-white text-gray-900",required:!0})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"password",className:"text-gray-700 mb-2 block",children:"Password *"}),s.jsx(tt,{id:"password",type:"password",value:b,onChange:T=>m(T.target.value),placeholder:"Minimum 6 characters",disabled:w,minLength:6,className:"mt-1 bg-white text-gray-900",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[s.jsx(ye,{onClick:P,disabled:w||!x||!g||!b,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:w?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Gp,{className:"w-4 h-4 mr-2"}),"Create User"]})}),s.jsx(ye,{variant:"outline",onClick:()=>{f(!1),y(""),p(""),m("")},disabled:w,children:"Cancel"})]})]})]})})]}):null}function Fm({title:e,value:t,subtitle:r,trend:n,icon:a,color:i}){const o={revenue:Zt,pending:Mr,clients:dr,average:He},l={blue:{bg:"bg-blue-50",icon:"text-blue-600",border:"border-blue-200"},amber:{bg:"bg-amber-50",icon:"text-amber-600",border:"border-amber-200"},green:{bg:"bg-green-50",icon:"text-green-600",border:"border-green-200"},purple:{bg:"bg-purple-50",icon:"text-purple-600",border:"border-purple-200"}},c=o[a],A=l[i];return s.jsx(Se,{className:"p-6 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:e}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:typeof t=="number"&&e.includes("$")?Je(t):t}),r&&s.jsx("p",{className:"text-sm text-gray-600",children:r}),n&&s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.isPositive?s.jsx(Mn,{className:"w-4 h-4 text-green-600"}):s.jsx(jl,{className:"w-4 h-4 text-red-600"}),s.jsxs("span",{className:`text-sm font-medium ${n.isPositive?"text-green-600":"text-red-600"}`,children:[n.value>0?"+":"",n.value,"%"]}),s.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"vs last month"})]})]}),s.jsx("div",{className:`w-12 h-12 rounded-lg ${A.bg} border ${A.border} flex items-center justify-center flex-shrink-0`,children:s.jsx(c,{className:`w-6 h-6 ${A.icon}`})})]})})}function KK({data:e}){return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Fm,{title:"Total Revenue ($)",value:e.totalRevenue,subtitle:"Paid invoices",icon:"revenue",color:"green"}),s.jsx(Fm,{title:"Pending Payments ($)",value:e.totalPending,subtitle:"Awaiting collection",icon:"pending",color:"amber"}),s.jsx(Fm,{title:"Average Ticket ($)",value:e.averageTicket,subtitle:"Per filing",icon:"average",color:"blue"}),s.jsx(Fm,{title:"Active Clients",value:e.activeClients,subtitle:`of ${e.totalClients} total`,icon:"clients",color:"purple"})]})}var VK=Array.isArray,Is=VK,zK=typeof xm=="object"&&xm&&xm.Object===Object&&xm,L3=zK,GK=L3,qK=typeof self=="object"&&self&&self.Object===Object&&self,WK=GK||qK||Function("return this")(),_i=WK,YK=_i,XK=YK.Symbol,yh=XK,DC=yh,Q3=Object.prototype,JK=Q3.hasOwnProperty,ZK=Q3.toString,kd=DC?DC.toStringTag:void 0;function eV(e){var t=JK.call(e,kd),r=e[kd];try{e[kd]=void 0;var n=!0}catch{}var a=ZK.call(e);return n&&(t?e[kd]=r:delete e[kd]),a}var tV=eV,rV=Object.prototype,nV=rV.toString;function sV(e){return nV.call(e)}var aV=sV,LC=yh,iV=tV,oV=aV,lV="[object Null]",cV="[object Undefined]",QC=LC?LC.toStringTag:void 0;function AV(e){return e==null?e===void 0?cV:lV:QC&&QC in Object(e)?iV(e):oV(e)}var Oo=AV;function uV(e){return e!=null&&typeof e=="object"}var Io=uV,dV=Oo,fV=Io,hV="[object Symbol]";function mV(e){return typeof e=="symbol"||fV(e)&&dV(e)==hV}var Du=mV,pV=Is,gV=Du,xV=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vV=/^\w*$/;function bV(e,t){if(pV(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||gV(e)?!0:vV.test(e)||!xV.test(e)||t!=null&&e in Object(t)}var w2=bV;function yV(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Pl=yV;const Lu=nr(Pl);var wV=Oo,jV=Pl,NV="[object AsyncFunction]",CV="[object Function]",BV="[object GeneratorFunction]",SV="[object Proxy]";function EV(e){if(!jV(e))return!1;var t=wV(e);return t==CV||t==BV||t==NV||t==SV}var j2=EV;const Et=nr(j2);var FV=_i,TV=FV["__core-js_shared__"],PV=TV,Gv=PV,RC=function(){var e=/[^.]+$/.exec(Gv&&Gv.keys&&Gv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function kV(e){return!!RC&&RC in e}var OV=kV,IV=Function.prototype,UV=IV.toString;function _V(e){if(e!=null){try{return UV.call(e)}catch{}try{return e+""}catch{}}return""}var R3=_V,DV=j2,LV=OV,QV=Pl,RV=R3,MV=/[\\^$.*+?()[\]{}|]/g,$V=/^\[object .+?Constructor\]$/,HV=Function.prototype,KV=Object.prototype,VV=HV.toString,zV=KV.hasOwnProperty,GV=RegExp("^"+VV.call(zV).replace(MV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qV(e){if(!QV(e)||LV(e))return!1;var t=DV(e)?GV:$V;return t.test(RV(e))}var WV=qV;function YV(e,t){return e==null?void 0:e[t]}var XV=YV,JV=WV,ZV=XV;function ez(e,t){var r=ZV(e,t);return JV(r)?r:void 0}var Gc=ez,tz=Gc,rz=tz(Object,"create"),Vx=rz,MC=Vx;function nz(){this.__data__=MC?MC(null):{},this.size=0}var sz=nz;function az(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var iz=az,oz=Vx,lz="__lodash_hash_undefined__",cz=Object.prototype,Az=cz.hasOwnProperty;function uz(e){var t=this.__data__;if(oz){var r=t[e];return r===lz?void 0:r}return Az.call(t,e)?t[e]:void 0}var dz=uz,fz=Vx,hz=Object.prototype,mz=hz.hasOwnProperty;function pz(e){var t=this.__data__;return fz?t[e]!==void 0:mz.call(t,e)}var gz=pz,xz=Vx,vz="__lodash_hash_undefined__";function bz(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=xz&&t===void 0?vz:t,this}var yz=bz,wz=sz,jz=iz,Nz=dz,Cz=gz,Bz=yz;function Qu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qu.prototype.clear=wz;Qu.prototype.delete=jz;Qu.prototype.get=Nz;Qu.prototype.has=Cz;Qu.prototype.set=Bz;var Sz=Qu;function Ez(){this.__data__=[],this.size=0}var Fz=Ez;function Tz(e,t){return e===t||e!==e&&t!==t}var N2=Tz,Pz=N2;function kz(e,t){for(var r=e.length;r--;)if(Pz(e[r][0],t))return r;return-1}var zx=kz,Oz=zx,Iz=Array.prototype,Uz=Iz.splice;function _z(e){var t=this.__data__,r=Oz(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Uz.call(t,r,1),--this.size,!0}var Dz=_z,Lz=zx;function Qz(e){var t=this.__data__,r=Lz(t,e);return r<0?void 0:t[r][1]}var Rz=Qz,Mz=zx;function $z(e){return Mz(this.__data__,e)>-1}var Hz=$z,Kz=zx;function Vz(e,t){var r=this.__data__,n=Kz(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var zz=Vz,Gz=Fz,qz=Dz,Wz=Rz,Yz=Hz,Xz=zz;function Ru(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ru.prototype.clear=Gz;Ru.prototype.delete=qz;Ru.prototype.get=Wz;Ru.prototype.has=Yz;Ru.prototype.set=Xz;var Gx=Ru,Jz=Gc,Zz=_i,eG=Jz(Zz,"Map"),C2=eG,$C=Sz,tG=Gx,rG=C2;function nG(){this.size=0,this.__data__={hash:new $C,map:new(rG||tG),string:new $C}}var sG=nG;function aG(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var iG=aG,oG=iG;function lG(e,t){var r=e.__data__;return oG(t)?r[typeof t=="string"?"string":"hash"]:r.map}var qx=lG,cG=qx;function AG(e){var t=cG(this,e).delete(e);return this.size-=t?1:0,t}var uG=AG,dG=qx;function fG(e){return dG(this,e).get(e)}var hG=fG,mG=qx;function pG(e){return mG(this,e).has(e)}var gG=pG,xG=qx;function vG(e,t){var r=xG(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var bG=vG,yG=sG,wG=uG,jG=hG,NG=gG,CG=bG;function Mu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Mu.prototype.clear=yG;Mu.prototype.delete=wG;Mu.prototype.get=jG;Mu.prototype.has=NG;Mu.prototype.set=CG;var B2=Mu,M3=B2,BG="Expected a function";function S2(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(BG);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(S2.Cache||M3),r}S2.Cache=M3;var $3=S2;const SG=nr($3);var EG=$3,FG=500;function TG(e){var t=EG(e,function(n){return r.size===FG&&r.clear(),n}),r=t.cache;return t}var PG=TG,kG=PG,OG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,IG=/\\(\\)?/g,UG=kG(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(OG,function(r,n,a,i){t.push(a?i.replace(IG,"$1"):n||r)}),t}),_G=UG;function DG(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var E2=DG,HC=yh,LG=E2,QG=Is,RG=Du,KC=HC?HC.prototype:void 0,VC=KC?KC.toString:void 0;function H3(e){if(typeof e=="string")return e;if(QG(e))return LG(e,H3)+"";if(RG(e))return VC?VC.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var MG=H3,$G=MG;function HG(e){return e==null?"":$G(e)}var K3=HG,KG=Is,VG=w2,zG=_G,GG=K3;function qG(e,t){return KG(e)?e:VG(e,t)?[e]:zG(GG(e))}var V3=qG,WG=Du;function YG(e){if(typeof e=="string"||WG(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Wx=YG,XG=V3,JG=Wx;function ZG(e,t){t=XG(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[JG(t[r++])];return r&&r==n?e:void 0}var F2=ZG,eq=F2;function tq(e,t,r){var n=e==null?void 0:eq(e,t);return n===void 0?r:n}var z3=tq;const na=nr(z3);function rq(e){return e==null}var nq=rq;const kt=nr(nq);var sq=Oo,aq=Is,iq=Io,oq="[object String]";function lq(e){return typeof e=="string"||!aq(e)&&iq(e)&&sq(e)==oq}var cq=lq;const _c=nr(cq);var G3={exports:{}},xr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T2=Symbol.for("react.element"),P2=Symbol.for("react.portal"),Yx=Symbol.for("react.fragment"),Xx=Symbol.for("react.strict_mode"),Jx=Symbol.for("react.profiler"),Zx=Symbol.for("react.provider"),e0=Symbol.for("react.context"),Aq=Symbol.for("react.server_context"),t0=Symbol.for("react.forward_ref"),r0=Symbol.for("react.suspense"),n0=Symbol.for("react.suspense_list"),s0=Symbol.for("react.memo"),a0=Symbol.for("react.lazy"),uq=Symbol.for("react.offscreen"),q3;q3=Symbol.for("react.module.reference");function Ta(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case T2:switch(e=e.type,e){case Yx:case Jx:case Xx:case r0:case n0:return e;default:switch(e=e&&e.$$typeof,e){case Aq:case e0:case t0:case a0:case s0:case Zx:return e;default:return t}}case P2:return t}}}xr.ContextConsumer=e0;xr.ContextProvider=Zx;xr.Element=T2;xr.ForwardRef=t0;xr.Fragment=Yx;xr.Lazy=a0;xr.Memo=s0;xr.Portal=P2;xr.Profiler=Jx;xr.StrictMode=Xx;xr.Suspense=r0;xr.SuspenseList=n0;xr.isAsyncMode=function(){return!1};xr.isConcurrentMode=function(){return!1};xr.isContextConsumer=function(e){return Ta(e)===e0};xr.isContextProvider=function(e){return Ta(e)===Zx};xr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===T2};xr.isForwardRef=function(e){return Ta(e)===t0};xr.isFragment=function(e){return Ta(e)===Yx};xr.isLazy=function(e){return Ta(e)===a0};xr.isMemo=function(e){return Ta(e)===s0};xr.isPortal=function(e){return Ta(e)===P2};xr.isProfiler=function(e){return Ta(e)===Jx};xr.isStrictMode=function(e){return Ta(e)===Xx};xr.isSuspense=function(e){return Ta(e)===r0};xr.isSuspenseList=function(e){return Ta(e)===n0};xr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yx||e===Jx||e===Xx||e===r0||e===n0||e===uq||typeof e=="object"&&e!==null&&(e.$$typeof===a0||e.$$typeof===s0||e.$$typeof===Zx||e.$$typeof===e0||e.$$typeof===t0||e.$$typeof===q3||e.getModuleId!==void 0)};xr.typeOf=Ta;G3.exports=xr;var dq=G3.exports,fq=Oo,hq=Io,mq="[object Number]";function pq(e){return typeof e=="number"||hq(e)&&fq(e)==mq}var W3=pq;const gq=nr(W3);var xq=W3;function vq(e){return xq(e)&&e!=+e}var bq=vq;const wh=nr(bq);var Ns=function(t){return t===0?0:t>0?1:-1},pc=function(t){return _c(t)&&t.indexOf("%")===t.length-1},ze=function(t){return gq(t)&&!wh(t)},yq=function(t){return kt(t)},On=function(t){return ze(t)||_c(t)},wq=0,$u=function(t){var r=++wq;return"".concat(t||"").concat(r)},Cs=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ze(t)&&!_c(t))return n;var i;if(pc(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return wh(i)&&(i=n),a&&i>r&&(i=r),i},ul=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},jq=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Xs=function(t,r){return ze(t)&&ze(r)?function(n){return t+n*(r-t)}:function(){return r}};function cg(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):na(n,t))===r})}var Nq=function(t,r){return ze(t)&&ze(r)?t-r:_c(t)&&_c(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function WA(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Uy(e){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uy(e)}var Cq=["viewBox","children"],Bq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zC=["points","pathLength"],qv={svg:Cq,polygon:zC,polyline:zC},k2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ag=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),!Lu(n))return null;var a={};return Object.keys(n).forEach(function(i){k2.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Sq=function(t,r,n){return function(a){return t(r,n,a),null}},Dc=function(t,r,n){if(!Lu(t)||Uy(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];k2.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Sq(o,r,n))}),a},Eq=["children"],Fq=["children"];function GC(e,t){if(e==null)return{};var r=Tq(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _y(e){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_y(e)}var qC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},WC=null,Wv=null,O2=function e(t){if(t===WC&&Array.isArray(Wv))return Wv;var r=[];return C.Children.forEach(t,function(n){kt(n)||(dq.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Wv=r,WC=t,r};function sa(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return bo(a)}):n=[bo(t)],O2(e).forEach(function(a){var i=na(a,"type.displayName")||na(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function qs(e,t){var r=sa(e,t);return r&&r[0]}var YC=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ze(n)||n<=0||!ze(a)||a<=0)},Pq=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kq=function(t){return t&&t.type&&_c(t.type)&&Pq.indexOf(t.type)>=0},Oq=function(t){return t&&_y(t)==="object"&&"clipDot"in t},Iq=function(t,r,n,a){var i,o=(i=qv==null?void 0:qv[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Et(t)&&(a&&o.includes(r)||Bq.includes(r))||n&&k2.includes(r)},bt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(C.isValidElement(t)&&(a=t.props),!Lu(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Iq((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},Dy=function e(t,r){if(t===r)return!0;var n=C.Children.count(t);if(n!==C.Children.count(r))return!1;if(n===0)return!0;if(n===1)return XC(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!XC(i,o))return!1}return!0},XC=function(t,r){if(kt(t)&&kt(r))return!0;if(!kt(t)&&!kt(r)){var n=t.props||{},a=n.children,i=GC(n,Eq),o=r.props||{},l=o.children,c=GC(o,Fq);return a&&l?WA(i,c)&&Dy(a,l):!a&&!l?WA(i,c):!1}return!1},JC=function(t,r){var n=[],a={};return O2(t).forEach(function(i,o){if(kq(i))n.push(i);else if(i){var l=bo(i.type),c=r[l]||{},A=c.handler,u=c.once;if(A&&(!u||!a[l])){var d=A(i,l,o);n.push(d),a[l]=!0}}}),n},Uq=function(t){var r=t&&t.type;return r&&qC[r]?qC[r]:null},_q=function(t,r){return O2(r).indexOf(t)},Dq=["children","width","height","viewBox","className","style","title","desc"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(this,arguments)}function Lq(e,t){if(e==null)return{};var r=Qq(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qy(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,A=Lq(e,Dq),u=a||{width:r,height:n,x:0,y:0},d=_t("recharts-surface",i);return fe.createElement("svg",Ly({},bt(A,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),fe.createElement("title",null,l),fe.createElement("desc",null,c),t)}var Rq=["children","className"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(this,arguments)}function Mq(e,t){if(e==null)return{};var r=$q(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $q(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var er=fe.forwardRef(function(e,t){var r=e.children,n=e.className,a=Mq(e,Rq),i=_t("recharts-layer",n);return fe.createElement("g",Ry({className:i},bt(a,!0),{ref:t}),r)}),Xa=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Hq(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Kq=Hq,Vq=Kq;function zq(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Vq(e,t,r)}var Gq=zq,qq="\\ud800-\\udfff",Wq="\\u0300-\\u036f",Yq="\\ufe20-\\ufe2f",Xq="\\u20d0-\\u20ff",Jq=Wq+Yq+Xq,Zq="\\ufe0e\\ufe0f",eW="\\u200d",tW=RegExp("["+eW+qq+Jq+Zq+"]");function rW(e){return tW.test(e)}var Y3=rW;function nW(e){return e.split("")}var sW=nW,X3="\\ud800-\\udfff",aW="\\u0300-\\u036f",iW="\\ufe20-\\ufe2f",oW="\\u20d0-\\u20ff",lW=aW+iW+oW,cW="\\ufe0e\\ufe0f",AW="["+X3+"]",My="["+lW+"]",$y="\\ud83c[\\udffb-\\udfff]",uW="(?:"+My+"|"+$y+")",J3="[^"+X3+"]",Z3="(?:\\ud83c[\\udde6-\\uddff]){2}",ek="[\\ud800-\\udbff][\\udc00-\\udfff]",dW="\\u200d",tk=uW+"?",rk="["+cW+"]?",fW="(?:"+dW+"(?:"+[J3,Z3,ek].join("|")+")"+rk+tk+")*",hW=rk+tk+fW,mW="(?:"+[J3+My+"?",My,Z3,ek,AW].join("|")+")",pW=RegExp($y+"(?="+$y+")|"+mW+hW,"g");function gW(e){return e.match(pW)||[]}var xW=gW,vW=sW,bW=Y3,yW=xW;function wW(e){return bW(e)?yW(e):vW(e)}var jW=wW,NW=Gq,CW=Y3,BW=jW,SW=K3;function EW(e){return function(t){t=SW(t);var r=CW(t)?BW(t):void 0,n=r?r[0]:t.charAt(0),a=r?NW(r,1).join(""):t.slice(1);return n[e]()+a}}var FW=EW,TW=FW,PW=TW("toUpperCase"),kW=PW;const i0=nr(kW);function Tr(e){return function(){return e}}const nk=Math.cos,ug=Math.sin,si=Math.sqrt,dg=Math.PI,o0=2*dg,Hy=Math.PI,Ky=2*Hy,lc=1e-6,OW=Ky-lc;function sk(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function IW(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sk;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class UW{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?sk:IW(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,A=a-r,u=o-t,d=l-r,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>lc)if(!(Math.abs(d*c-A*u)>lc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let f=n-o,g=a-l,p=c*c+A*A,b=f*f+g*g,m=Math.sqrt(p),x=Math.sqrt(h),y=i*Math.tan((Hy-Math.acos((p+h-b)/(2*m*x)))/2),w=y/x,N=y/m;Math.abs(w-1)>lc&&this._append`L${t+w*u},${r+w*d}`,this._append`A${i},${i},0,0,${+(d*f>u*g)},${this._x1=t+N*c},${this._y1=r+N*A}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),A=t+l,u=r+c,d=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${A},${u}`:(Math.abs(this._x1-A)>lc||Math.abs(this._y1-u)>lc)&&this._append`L${A},${u}`,n&&(h<0&&(h=h%Ky+Ky),h>OW?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=A},${this._y1=u}`:h>lc&&this._append`A${n},${n},0,${+(h>=Hy)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function I2(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new UW(t)}function U2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ak(e){this._context=e}ak.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function l0(e){return new ak(e)}function ik(e){return e[0]}function ok(e){return e[1]}function lk(e,t){var r=Tr(!0),n=null,a=l0,i=null,o=I2(l);e=typeof e=="function"?e:e===void 0?ik:Tr(e),t=typeof t=="function"?t:t===void 0?ok:Tr(t);function l(c){var A,u=(c=U2(c)).length,d,h=!1,f;for(n==null&&(i=a(f=o())),A=0;A<=u;++A)!(A<u&&r(d=c[A],A,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,A,c),+t(d,A,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Tr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Tr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Tr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Tm(e,t,r){var n=null,a=Tr(!0),i=null,o=l0,l=null,c=I2(A);e=typeof e=="function"?e:e===void 0?ik:Tr(+e),t=typeof t=="function"?t:Tr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ok:Tr(+r);function A(d){var h,f,g,p=(d=U2(d)).length,b,m=!1,x,y=new Array(p),w=new Array(p);for(i==null&&(l=o(x=c())),h=0;h<=p;++h){if(!(h<p&&a(b=d[h],h,d))===m)if(m=!m)f=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=f;--g)l.point(y[g],w[g]);l.lineEnd(),l.areaEnd()}m&&(y[h]=+e(b,h,d),w[h]=+t(b,h,d),l.point(n?+n(b,h,d):y[h],r?+r(b,h,d):w[h]))}if(x)return l=null,x+""||null}function u(){return lk().defined(a).curve(o).context(i)}return A.x=function(d){return arguments.length?(e=typeof d=="function"?d:Tr(+d),n=null,A):e},A.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Tr(+d),A):e},A.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Tr(+d),A):n},A.y=function(d){return arguments.length?(t=typeof d=="function"?d:Tr(+d),r=null,A):t},A.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Tr(+d),A):t},A.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Tr(+d),A):r},A.lineX0=A.lineY0=function(){return u().x(e).y(t)},A.lineY1=function(){return u().x(e).y(r)},A.lineX1=function(){return u().x(n).y(t)},A.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Tr(!!d),A):a},A.curve=function(d){return arguments.length?(o=d,i!=null&&(l=o(i)),A):o},A.context=function(d){return arguments.length?(d==null?i=l=null:l=o(i=d),A):i},A}class ck{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function _W(e){return new ck(e,!0)}function DW(e){return new ck(e,!1)}const _2={draw(e,t){const r=si(t/dg);e.moveTo(r,0),e.arc(0,0,r,0,o0)}},LW={draw(e,t){const r=si(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Ak=si(1/3),QW=Ak*2,RW={draw(e,t){const r=si(t/QW),n=r*Ak;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},MW={draw(e,t){const r=si(t),n=-r/2;e.rect(n,n,r,r)}},$W=.8908130915292852,uk=ug(dg/10)/ug(7*dg/10),HW=ug(o0/10)*uk,KW=-nk(o0/10)*uk,VW={draw(e,t){const r=si(t*$W),n=HW*r,a=KW*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=o0*i/5,l=nk(o),c=ug(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Yv=si(3),zW={draw(e,t){const r=-si(t/(Yv*3));e.moveTo(0,r*2),e.lineTo(-Yv*r,-r),e.lineTo(Yv*r,-r),e.closePath()}},ma=-.5,pa=si(3)/2,Vy=1/si(12),GW=(Vy/2+1)*3,qW={draw(e,t){const r=si(t/GW),n=r/2,a=r*Vy,i=n,o=r*Vy+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ma*n-pa*a,pa*n+ma*a),e.lineTo(ma*i-pa*o,pa*i+ma*o),e.lineTo(ma*l-pa*c,pa*l+ma*c),e.lineTo(ma*n+pa*a,ma*a-pa*n),e.lineTo(ma*i+pa*o,ma*o-pa*i),e.lineTo(ma*l+pa*c,ma*c-pa*l),e.closePath()}};function WW(e,t){let r=null,n=I2(a);e=typeof e=="function"?e:Tr(e||_2),t=typeof t=="function"?t:Tr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Tr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Tr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function fg(){}function hg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function dk(e){this._context=e}dk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YW(e){return new dk(e)}function fk(e){this._context=e}fk.prototype={areaStart:fg,areaEnd:fg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XW(e){return new fk(e)}function hk(e){this._context=e}hk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:hg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JW(e){return new hk(e)}function mk(e){this._context=e}mk.prototype={areaStart:fg,areaEnd:fg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ZW(e){return new mk(e)}function ZC(e){return e<0?-1:1}function e5(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(ZC(i)+ZC(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function t5(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Xv(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function mg(e){this._context=e}mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xv(this,this._t0,t5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Xv(this,t5(this,r=e5(this,e,t)),r);break;default:Xv(this,this._t0,r=e5(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function pk(e){this._context=new gk(e)}(pk.prototype=Object.create(mg.prototype)).point=function(e,t){mg.prototype.point.call(this,t,e)};function gk(e){this._context=e}gk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function eY(e){return new mg(e)}function tY(e){return new pk(e)}function xk(e){this._context=e}xk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=r5(e),a=r5(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function r5(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function rY(e){return new xk(e)}function c0(e,t){this._context=e,this._t=t}c0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function nY(e){return new c0(e,.5)}function sY(e){return new c0(e,0)}function aY(e){return new c0(e,1)}function au(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function zy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function iY(e,t){return e[t]}function oY(e){const t=[];return t.key=e,t}function lY(){var e=Tr([]),t=zy,r=au,n=iY;function a(i){var o=Array.from(e.apply(this,arguments),oY),l,c=o.length,A=-1,u;for(const d of i)for(l=0,++A;l<c;++l)(o[l][A]=[0,+n(d,o[l].key,A,i)]).data=d;for(l=0,u=U2(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Tr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Tr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?zy:typeof i=="function"?i:Tr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??au,a):r},a}function cY(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}au(e,t)}}function AY(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}au(e,t)}}function uY(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,A=0;l<o;++l){for(var u=e[t[l]],d=u[n][1]||0,h=u[n-1][1]||0,f=(d-h)/2,g=0;g<l;++g){var p=e[t[g]],b=p[n][1]||0,m=p[n-1][1]||0;f+=b-m}c+=d,A+=f*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=A/c)}a[n-1][1]+=a[n-1][0]=r,au(e,t)}}function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}var dY=["type","size","sizeType"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gy.apply(this,arguments)}function n5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n5(Object(r),!0).forEach(function(n){fY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fY(e,t,r){return t=hY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hY(e){var t=mY(e,"string");return Tf(t)=="symbol"?t:t+""}function mY(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pY(e,t){if(e==null)return{};var r=gY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vk={symbolCircle:_2,symbolCross:LW,symbolDiamond:RW,symbolSquare:MW,symbolStar:VW,symbolTriangle:zW,symbolWye:qW},xY=Math.PI/180,vY=function(t){var r="symbol".concat(i0(t));return vk[r]||_2},bY=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*xY;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},yY=function(t,r){vk["symbol".concat(i0(t))]=r},D2=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=pY(t,dY),A=s5(s5({},c),{},{type:n,size:i,sizeType:l}),u=function(){var b=vY(n),m=WW().type(b).size(bY(i,l,n));return m()},d=A.className,h=A.cx,f=A.cy,g=bt(A,!0);return h===+h&&f===+f&&i===+i?fe.createElement("path",Gy({},g,{className:_t("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:u()})):null};D2.registerSymbol=yY;function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(this,arguments)}function a5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a5(Object(r),!0).forEach(function(n){Pf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yk(n.key),n)}}function CY(e,t,r){return t&&NY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BY(e,t,r){return t=pg(t),SY(e,bk()?Reflect.construct(t,r||[],pg(e).constructor):t.apply(e,r))}function SY(e,t){if(t&&(iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EY(e)}function EY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bk=function(){return!!e})()}function pg(e){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pg(e)}function FY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wy(e,t)}function Wy(e,t){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wy(e,t)}function Pf(e,t,r){return t=yk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yk(e){var t=TY(e,"string");return iu(t)=="symbol"?t:t+""}function TY(e,t){if(iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ga=32,L2=function(e){function t(){return jY(this,t),BY(this,t,arguments)}return FY(t,e),CY(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ga/2,o=ga/6,l=ga/3,c=n.inactive?a:n.color;if(n.type==="plainline")return fe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ga,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return fe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ga,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return fe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ga/8,"h").concat(ga,"v").concat(ga*3/4,"h").concat(-ga,"z"),className:"recharts-legend-icon"});if(fe.isValidElement(n.legendIcon)){var A=wY({},n);return delete A.legendIcon,fe.cloneElement(n.legendIcon,A)}return fe.createElement(D2,{fill:c,cx:i,cy:i,size:ga,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,A=a.inactiveColor,u={x:0,y:0,width:ga,height:ga},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(f,g){var p=f.formatter||c,b=_t(Pf(Pf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",f.inactive));if(f.type==="none")return null;var m=Et(f.value)?null:f.value;Xa(!Et(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=f.inactive?A:f.color;return fe.createElement("li",qy({className:b,style:d,key:"legend-item-".concat(g)},Dc(n.props,f,g)),fe.createElement(Qy,{width:o,height:o,viewBox:u,style:h},n.renderIcon(f)),fe.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},p?p(m,f,g):m))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return fe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(C.PureComponent);Pf(L2,"displayName","Legend");Pf(L2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var PY=Gx;function kY(){this.__data__=new PY,this.size=0}var OY=kY;function IY(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var UY=IY;function _Y(e){return this.__data__.get(e)}var DY=_Y;function LY(e){return this.__data__.has(e)}var QY=LY,RY=Gx,MY=C2,$Y=B2,HY=200;function KY(e,t){var r=this.__data__;if(r instanceof RY){var n=r.__data__;if(!MY||n.length<HY-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $Y(n)}return r.set(e,t),this.size=r.size,this}var VY=KY,zY=Gx,GY=OY,qY=UY,WY=DY,YY=QY,XY=VY;function Hu(e){var t=this.__data__=new zY(e);this.size=t.size}Hu.prototype.clear=GY;Hu.prototype.delete=qY;Hu.prototype.get=WY;Hu.prototype.has=YY;Hu.prototype.set=XY;var wk=Hu,JY="__lodash_hash_undefined__";function ZY(e){return this.__data__.set(e,JY),this}var eX=ZY;function tX(e){return this.__data__.has(e)}var rX=tX,nX=B2,sX=eX,aX=rX;function gg(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new nX;++t<r;)this.add(e[t])}gg.prototype.add=gg.prototype.push=sX;gg.prototype.has=aX;var jk=gg;function iX(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Nk=iX;function oX(e,t){return e.has(t)}var Ck=oX,lX=jk,cX=Nk,AX=Ck,uX=1,dX=2;function fX(e,t,r,n,a,i){var o=r&uX,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var A=i.get(e),u=i.get(t);if(A&&u)return A==t&&u==e;var d=-1,h=!0,f=r&dX?new lX:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var g=e[d],p=t[d];if(n)var b=o?n(p,g,d,t,e,i):n(g,p,d,e,t,i);if(b!==void 0){if(b)continue;h=!1;break}if(f){if(!cX(t,function(m,x){if(!AX(f,x)&&(g===m||a(g,m,r,n,i)))return f.push(x)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var Bk=fX,hX=_i,mX=hX.Uint8Array,pX=mX;function gX(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var xX=gX;function vX(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Q2=vX,i5=yh,o5=pX,bX=N2,yX=Bk,wX=xX,jX=Q2,NX=1,CX=2,BX="[object Boolean]",SX="[object Date]",EX="[object Error]",FX="[object Map]",TX="[object Number]",PX="[object RegExp]",kX="[object Set]",OX="[object String]",IX="[object Symbol]",UX="[object ArrayBuffer]",_X="[object DataView]",l5=i5?i5.prototype:void 0,Jv=l5?l5.valueOf:void 0;function DX(e,t,r,n,a,i,o){switch(r){case _X:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case UX:return!(e.byteLength!=t.byteLength||!i(new o5(e),new o5(t)));case BX:case SX:case TX:return bX(+e,+t);case EX:return e.name==t.name&&e.message==t.message;case PX:case OX:return e==t+"";case FX:var l=wX;case kX:var c=n&NX;if(l||(l=jX),e.size!=t.size&&!c)return!1;var A=o.get(e);if(A)return A==t;n|=CX,o.set(e,t);var u=yX(l(e),l(t),n,a,i,o);return o.delete(e),u;case IX:if(Jv)return Jv.call(e)==Jv.call(t)}return!1}var LX=DX;function QX(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Sk=QX,RX=Sk,MX=Is;function $X(e,t,r){var n=t(e);return MX(e)?n:RX(n,r(e))}var HX=$X;function KX(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var VX=KX;function zX(){return[]}var GX=zX,qX=VX,WX=GX,YX=Object.prototype,XX=YX.propertyIsEnumerable,c5=Object.getOwnPropertySymbols,JX=c5?function(e){return e==null?[]:(e=Object(e),qX(c5(e),function(t){return XX.call(e,t)}))}:WX,ZX=JX;function eJ(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var tJ=eJ,rJ=Oo,nJ=Io,sJ="[object Arguments]";function aJ(e){return nJ(e)&&rJ(e)==sJ}var iJ=aJ,A5=iJ,oJ=Io,Ek=Object.prototype,lJ=Ek.hasOwnProperty,cJ=Ek.propertyIsEnumerable,AJ=A5(function(){return arguments}())?A5:function(e){return oJ(e)&&lJ.call(e,"callee")&&!cJ.call(e,"callee")},R2=AJ,xg={exports:{}};function uJ(){return!1}var dJ=uJ;xg.exports;(function(e,t){var r=_i,n=dJ,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,A=c||n;e.exports=A})(xg,xg.exports);var Fk=xg.exports,fJ=9007199254740991,hJ=/^(?:0|[1-9]\d*)$/;function mJ(e,t){var r=typeof e;return t=t??fJ,!!t&&(r=="number"||r!="symbol"&&hJ.test(e))&&e>-1&&e%1==0&&e<t}var M2=mJ,pJ=9007199254740991;function gJ(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=pJ}var $2=gJ,xJ=Oo,vJ=$2,bJ=Io,yJ="[object Arguments]",wJ="[object Array]",jJ="[object Boolean]",NJ="[object Date]",CJ="[object Error]",BJ="[object Function]",SJ="[object Map]",EJ="[object Number]",FJ="[object Object]",TJ="[object RegExp]",PJ="[object Set]",kJ="[object String]",OJ="[object WeakMap]",IJ="[object ArrayBuffer]",UJ="[object DataView]",_J="[object Float32Array]",DJ="[object Float64Array]",LJ="[object Int8Array]",QJ="[object Int16Array]",RJ="[object Int32Array]",MJ="[object Uint8Array]",$J="[object Uint8ClampedArray]",HJ="[object Uint16Array]",KJ="[object Uint32Array]",_r={};_r[_J]=_r[DJ]=_r[LJ]=_r[QJ]=_r[RJ]=_r[MJ]=_r[$J]=_r[HJ]=_r[KJ]=!0;_r[yJ]=_r[wJ]=_r[IJ]=_r[jJ]=_r[UJ]=_r[NJ]=_r[CJ]=_r[BJ]=_r[SJ]=_r[EJ]=_r[FJ]=_r[TJ]=_r[PJ]=_r[kJ]=_r[OJ]=!1;function VJ(e){return bJ(e)&&vJ(e.length)&&!!_r[xJ(e)]}var zJ=VJ;function GJ(e){return function(t){return e(t)}}var Tk=GJ,vg={exports:{}};vg.exports;(function(e,t){var r=L3,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(vg,vg.exports);var qJ=vg.exports,WJ=zJ,YJ=Tk,u5=qJ,d5=u5&&u5.isTypedArray,XJ=d5?YJ(d5):WJ,Pk=XJ,JJ=tJ,ZJ=R2,eZ=Is,tZ=Fk,rZ=M2,nZ=Pk,sZ=Object.prototype,aZ=sZ.hasOwnProperty;function iZ(e,t){var r=eZ(e),n=!r&&ZJ(e),a=!r&&!n&&tZ(e),i=!r&&!n&&!a&&nZ(e),o=r||n||a||i,l=o?JJ(e.length,String):[],c=l.length;for(var A in e)(t||aZ.call(e,A))&&!(o&&(A=="length"||a&&(A=="offset"||A=="parent")||i&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||rZ(A,c)))&&l.push(A);return l}var oZ=iZ,lZ=Object.prototype;function cZ(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||lZ;return e===r}var AZ=cZ;function uZ(e,t){return function(r){return e(t(r))}}var kk=uZ,dZ=kk,fZ=dZ(Object.keys,Object),hZ=fZ,mZ=AZ,pZ=hZ,gZ=Object.prototype,xZ=gZ.hasOwnProperty;function vZ(e){if(!mZ(e))return pZ(e);var t=[];for(var r in Object(e))xZ.call(e,r)&&r!="constructor"&&t.push(r);return t}var bZ=vZ,yZ=j2,wZ=$2;function jZ(e){return e!=null&&wZ(e.length)&&!yZ(e)}var jh=jZ,NZ=oZ,CZ=bZ,BZ=jh;function SZ(e){return BZ(e)?NZ(e):CZ(e)}var A0=SZ,EZ=HX,FZ=ZX,TZ=A0;function PZ(e){return EZ(e,TZ,FZ)}var kZ=PZ,f5=kZ,OZ=1,IZ=Object.prototype,UZ=IZ.hasOwnProperty;function _Z(e,t,r,n,a,i){var o=r&OZ,l=f5(e),c=l.length,A=f5(t),u=A.length;if(c!=u&&!o)return!1;for(var d=c;d--;){var h=l[d];if(!(o?h in t:UZ.call(t,h)))return!1}var f=i.get(e),g=i.get(t);if(f&&g)return f==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var b=o;++d<c;){h=l[d];var m=e[h],x=t[h];if(n)var y=o?n(x,m,h,t,e,i):n(m,x,h,e,t,i);if(!(y===void 0?m===x||a(m,x,r,n,i):y)){p=!1;break}b||(b=h=="constructor")}if(p&&!b){var w=e.constructor,N=t.constructor;w!=N&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof N=="function"&&N instanceof N)&&(p=!1)}return i.delete(e),i.delete(t),p}var DZ=_Z,LZ=Gc,QZ=_i,RZ=LZ(QZ,"DataView"),MZ=RZ,$Z=Gc,HZ=_i,KZ=$Z(HZ,"Promise"),VZ=KZ,zZ=Gc,GZ=_i,qZ=zZ(GZ,"Set"),Ok=qZ,WZ=Gc,YZ=_i,XZ=WZ(YZ,"WeakMap"),JZ=XZ,Yy=MZ,Xy=C2,Jy=VZ,Zy=Ok,ew=JZ,Ik=Oo,Ku=R3,h5="[object Map]",ZZ="[object Object]",m5="[object Promise]",p5="[object Set]",g5="[object WeakMap]",x5="[object DataView]",eee=Ku(Yy),tee=Ku(Xy),ree=Ku(Jy),nee=Ku(Zy),see=Ku(ew),cc=Ik;(Yy&&cc(new Yy(new ArrayBuffer(1)))!=x5||Xy&&cc(new Xy)!=h5||Jy&&cc(Jy.resolve())!=m5||Zy&&cc(new Zy)!=p5||ew&&cc(new ew)!=g5)&&(cc=function(e){var t=Ik(e),r=t==ZZ?e.constructor:void 0,n=r?Ku(r):"";if(n)switch(n){case eee:return x5;case tee:return h5;case ree:return m5;case nee:return p5;case see:return g5}return t});var aee=cc,Zv=wk,iee=Bk,oee=LX,lee=DZ,v5=aee,b5=Is,y5=Fk,cee=Pk,Aee=1,w5="[object Arguments]",j5="[object Array]",Pm="[object Object]",uee=Object.prototype,N5=uee.hasOwnProperty;function dee(e,t,r,n,a,i){var o=b5(e),l=b5(t),c=o?j5:v5(e),A=l?j5:v5(t);c=c==w5?Pm:c,A=A==w5?Pm:A;var u=c==Pm,d=A==Pm,h=c==A;if(h&&y5(e)){if(!y5(t))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new Zv),o||cee(e)?iee(e,t,r,n,a,i):oee(e,t,c,r,n,a,i);if(!(r&Aee)){var f=u&&N5.call(e,"__wrapped__"),g=d&&N5.call(t,"__wrapped__");if(f||g){var p=f?e.value():e,b=g?t.value():t;return i||(i=new Zv),a(p,b,r,n,i)}}return h?(i||(i=new Zv),lee(e,t,r,n,a,i)):!1}var fee=dee,hee=fee,C5=Io;function Uk(e,t,r,n,a){return e===t?!0:e==null||t==null||!C5(e)&&!C5(t)?e!==e&&t!==t:hee(e,t,r,n,Uk,a)}var H2=Uk,mee=wk,pee=H2,gee=1,xee=2;function vee(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],A=e[c],u=l[1];if(o&&l[2]){if(A===void 0&&!(c in e))return!1}else{var d=new mee;if(n)var h=n(A,u,c,e,t,d);if(!(h===void 0?pee(u,A,gee|xee,n,d):h))return!1}}return!0}var bee=vee,yee=Pl;function wee(e){return e===e&&!yee(e)}var _k=wee,jee=_k,Nee=A0;function Cee(e){for(var t=Nee(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,jee(a)]}return t}var Bee=Cee;function See(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Dk=See,Eee=bee,Fee=Bee,Tee=Dk;function Pee(e){var t=Fee(e);return t.length==1&&t[0][2]?Tee(t[0][0],t[0][1]):function(r){return r===e||Eee(r,e,t)}}var kee=Pee;function Oee(e,t){return e!=null&&t in Object(e)}var Iee=Oee,Uee=V3,_ee=R2,Dee=Is,Lee=M2,Qee=$2,Ree=Wx;function Mee(e,t,r){t=Uee(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=Ree(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Qee(a)&&Lee(o,a)&&(Dee(e)||_ee(e)))}var $ee=Mee,Hee=Iee,Kee=$ee;function Vee(e,t){return e!=null&&Kee(e,t,Hee)}var zee=Vee,Gee=H2,qee=z3,Wee=zee,Yee=w2,Xee=_k,Jee=Dk,Zee=Wx,ete=1,tte=2;function rte(e,t){return Yee(e)&&Xee(t)?Jee(Zee(e),t):function(r){var n=qee(r,e);return n===void 0&&n===t?Wee(r,e):Gee(t,n,ete|tte)}}var nte=rte;function ste(e){return e}var Vu=ste;function ate(e){return function(t){return t==null?void 0:t[e]}}var ite=ate,ote=F2;function lte(e){return function(t){return ote(t,e)}}var cte=lte,Ate=ite,ute=cte,dte=w2,fte=Wx;function hte(e){return dte(e)?Ate(fte(e)):ute(e)}var mte=hte,pte=kee,gte=nte,xte=Vu,vte=Is,bte=mte;function yte(e){return typeof e=="function"?e:e==null?xte:typeof e=="object"?vte(e)?gte(e[0],e[1]):pte(e):bte(e)}var Di=yte;function wte(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var Lk=wte;function jte(e){return e!==e}var Nte=jte;function Cte(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Bte=Cte,Ste=Lk,Ete=Nte,Fte=Bte;function Tte(e,t,r){return t===t?Fte(e,t,r):Ste(e,Ete,r)}var Pte=Tte,kte=Pte;function Ote(e,t){var r=e==null?0:e.length;return!!r&&kte(e,t,0)>-1}var Ite=Ote;function Ute(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var _te=Ute;function Dte(){}var Lte=Dte,eb=Ok,Qte=Lte,Rte=Q2,Mte=1/0,$te=eb&&1/Rte(new eb([,-0]))[1]==Mte?function(e){return new eb(e)}:Qte,Hte=$te,Kte=jk,Vte=Ite,zte=_te,Gte=Ck,qte=Hte,Wte=Q2,Yte=200;function Xte(e,t,r){var n=-1,a=Vte,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=zte;else if(i>=Yte){var A=t?null:qte(e);if(A)return Wte(A);o=!1,a=Gte,c=new Kte}else c=t?[]:l;e:for(;++n<i;){var u=e[n],d=t?t(u):u;if(u=r||u!==0?u:0,o&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),l.push(u)}else a(c,d,r)||(c!==l&&c.push(d),l.push(u))}return l}var Jte=Xte,Zte=Di,ere=Jte;function tre(e,t){return e&&e.length?ere(e,Zte(t)):[]}var rre=tre;const B5=nr(rre);function Qk(e,t,r){return t===!0?B5(e,r):Et(t)?B5(e,t):e}function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}var nre=["ref"];function S5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S5(Object(r),!0).forEach(function(n){u0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mk(n.key),n)}}function are(e,t,r){return t&&E5(e.prototype,t),r&&E5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ire(e,t,r){return t=bg(t),ore(e,Rk()?Reflect.construct(t,r||[],bg(e).constructor):t.apply(e,r))}function ore(e,t){if(t&&(ou(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lre(e)}function lre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rk=function(){return!!e})()}function bg(e){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(e)}function cre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tw(e,t)}function tw(e,t){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tw(e,t)}function u0(e,t,r){return t=Mk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mk(e){var t=Are(e,"string");return ou(t)=="symbol"?t:t+""}function Are(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ure(e,t){if(e==null)return{};var r=dre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fre(e){return e.value}function hre(e,t){if(fe.isValidElement(e))return fe.cloneElement(e,t);if(typeof e=="function")return fe.createElement(e,t);t.ref;var r=ure(t,nre);return fe.createElement(L2,r)}var F5=1,xl=function(e){function t(){var r;sre(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ire(this,t,[].concat(a)),u0(r,"lastBoundingBox",{width:-1,height:-1}),r}return cre(t,e),are(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>F5||Math.abs(a.height-this.lastBoundingBox.height)>F5)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?oo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,A=a.chartWidth,u=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var f=this.getBBoxSnapshot();d={left:((A||0)-f.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return oo(oo({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,A=a.payloadUniqBy,u=a.payload,d=oo(oo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return fe.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){n.wrapperNode=f}},hre(i,oo(oo({},this.props),{},{payload:Qk(u,A,fre)})))}}],[{key:"getWithHeight",value:function(n,a){var i=oo(oo({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&ze(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(C.PureComponent);u0(xl,"displayName","Legend");u0(xl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var T5=yh,mre=R2,pre=Is,P5=T5?T5.isConcatSpreadable:void 0;function gre(e){return pre(e)||mre(e)||!!(P5&&e&&e[P5])}var xre=gre,vre=Sk,bre=xre;function $k(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=bre),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?$k(l,t-1,r,n,a):vre(a,l):n||(a[a.length]=l)}return a}var Hk=$k;function yre(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var wre=yre,jre=wre,Nre=jre(),Cre=Nre,Bre=Cre,Sre=A0;function Ere(e,t){return e&&Bre(e,t,Sre)}var Kk=Ere,Fre=jh;function Tre(e,t){return function(r,n){if(r==null)return r;if(!Fre(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var Pre=Tre,kre=Kk,Ore=Pre,Ire=Ore(kre),K2=Ire,Ure=K2,_re=jh;function Dre(e,t){var r=-1,n=_re(e)?Array(e.length):[];return Ure(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var Vk=Dre;function Lre(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Qre=Lre,k5=Du;function Rre(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=k5(e),o=t!==void 0,l=t===null,c=t===t,A=k5(t);if(!l&&!A&&!i&&e>t||i&&o&&c&&!l&&!A||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!A&&e<t||A&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Mre=Rre,$re=Mre;function Hre(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=$re(a[n],i[n]);if(c){if(n>=l)return c;var A=r[n];return c*(A=="desc"?-1:1)}}return e.index-t.index}var Kre=Hre,tb=E2,Vre=F2,zre=Di,Gre=Vk,qre=Qre,Wre=Tk,Yre=Kre,Xre=Vu,Jre=Is;function Zre(e,t,r){t.length?t=tb(t,function(i){return Jre(i)?function(o){return Vre(o,i.length===1?i[0]:i)}:i}):t=[Xre];var n=-1;t=tb(t,Wre(zre));var a=Gre(e,function(i,o,l){var c=tb(t,function(A){return A(i)});return{criteria:c,index:++n,value:i}});return qre(a,function(i,o){return Yre(i,o,r)})}var ene=Zre;function tne(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var rne=tne,nne=rne,O5=Math.max;function sne(e,t,r){return t=O5(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=O5(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),nne(e,this,l)}}var ane=sne;function ine(e){return function(){return e}}var one=ine,lne=Gc,cne=function(){try{var e=lne(Object,"defineProperty");return e({},"",{}),e}catch{}}(),zk=cne,Ane=one,I5=zk,une=Vu,dne=I5?function(e,t){return I5(e,"toString",{configurable:!0,enumerable:!1,value:Ane(t),writable:!0})}:une,fne=dne,hne=800,mne=16,pne=Date.now;function gne(e){var t=0,r=0;return function(){var n=pne(),a=mne-(n-r);if(r=n,a>0){if(++t>=hne)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var xne=gne,vne=fne,bne=xne,yne=bne(vne),wne=yne,jne=Vu,Nne=ane,Cne=wne;function Bne(e,t){return Cne(Nne(e,t,jne),e+"")}var Sne=Bne,Ene=N2,Fne=jh,Tne=M2,Pne=Pl;function kne(e,t,r){if(!Pne(r))return!1;var n=typeof t;return(n=="number"?Fne(r)&&Tne(t,r.length):n=="string"&&t in r)?Ene(r[t],e):!1}var d0=kne,One=Hk,Ine=ene,Une=Sne,U5=d0,_ne=Une(function(e,t){if(e==null)return[];var r=t.length;return r>1&&U5(e,t[0],t[1])?t=[]:r>2&&U5(t[0],t[1],t[2])&&(t=[t[0]]),Ine(e,One(t,1),[])}),Dne=_ne;const V2=nr(Dne);function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(this,arguments)}function Lne(e,t){return $ne(e)||Mne(e,t)||Rne(e,t)||Qne()}function Qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rne(e,t){if(e){if(typeof e=="string")return _5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _5(e,t)}}function _5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){A=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function $ne(e){if(Array.isArray(e))return e}function D5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D5(Object(r),!0).forEach(function(n){Hne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hne(e,t,r){return t=Kne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kne(e){var t=Vne(e,"string");return kf(t)=="symbol"?t:t+""}function Vne(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zne(e){return Array.isArray(e)&&On(e[0])&&On(e[1])?e.join(" ~ "):e}var Gne=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,A=c===void 0?{}:c,u=t.payload,d=t.formatter,h=t.itemSorter,f=t.wrapperClassName,g=t.labelClassName,p=t.label,b=t.labelFormatter,m=t.accessibilityLayer,x=m===void 0?!1:m,y=function(){if(u&&u.length){var T={padding:0,margin:0},k=(h?V2(u,h):u).map(function(I,M){if(I.type==="none")return null;var L=rb({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),K=I.formatter||d||zne,R=I.value,$=I.name,q=R,Z=$;if(K&&q!=null&&Z!=null){var D=K(R,$,I,M,u);if(Array.isArray(D)){var H=Lne(D,2);q=H[0],Z=H[1]}else q=D}return fe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:L},On(Z)?fe.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,On(Z)?fe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,fe.createElement("span",{className:"recharts-tooltip-item-value"},q),fe.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return fe.createElement("ul",{className:"recharts-tooltip-item-list",style:T},k)}return null},w=rb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=rb({margin:0},A),B=!kt(p),F=B?p:"",E=_t("recharts-default-tooltip",f),P=_t("recharts-tooltip-label",g);B&&b&&u!==void 0&&u!==null&&(F=b(p,u));var Q=x?{role:"status","aria-live":"assertive"}:{};return fe.createElement("div",rw({className:E,style:w},Q),fe.createElement("p",{className:P,style:N},fe.isValidElement(F)?F:"".concat(F)),y())};function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function km(e,t,r){return t=qne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qne(e){var t=Wne(e,"string");return Of(t)=="symbol"?t:t+""}function Wne(e,t){if(Of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Od="recharts-tooltip-wrapper",Yne={visibility:"hidden"};function Xne(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return _t(Od,km(km(km(km({},"".concat(Od,"-right"),ze(r)&&t&&ze(t.x)&&r>=t.x),"".concat(Od,"-left"),ze(r)&&t&&ze(t.x)&&r<t.x),"".concat(Od,"-bottom"),ze(n)&&t&&ze(t.y)&&n>=t.y),"".concat(Od,"-top"),ze(n)&&t&&ze(t.y)&&n<t.y))}function L5(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,A=e.viewBoxDimension;if(i&&ze(i[n]))return i[n];var u=r[n]-l-a,d=r[n]+a;if(t[n])return o[n]?u:d;if(o[n]){var h=u,f=c[n];return h<f?Math.max(d,c[n]):Math.max(u,c[n])}var g=d+l,p=c[n]+A;return g>p?Math.max(u,c[n]):Math.max(d,c[n])}function Jne(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Zne(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,A,u,d;return o.height>0&&o.width>0&&r?(u=L5({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=L5({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),A=Jne({translateX:u,translateY:d,useTranslate3d:l})):A=Yne,{cssProperties:A,cssClasses:Xne({translateX:u,translateY:d,coordinate:r})}}function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function Q5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q5(Object(r),!0).forEach(function(n){sw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ese(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qk(n.key),n)}}function rse(e,t,r){return t&&tse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nse(e,t,r){return t=yg(t),sse(e,Gk()?Reflect.construct(t,r||[],yg(e).constructor):t.apply(e,r))}function sse(e,t){if(t&&(lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ase(e)}function ase(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gk=function(){return!!e})()}function yg(e){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yg(e)}function ise(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nw(e,t)}function nw(e,t){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nw(e,t)}function sw(e,t,r){return t=qk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qk(e){var t=ose(e,"string");return lu(t)=="symbol"?t:t+""}function ose(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var M5=1,lse=function(e){function t(){var r;ese(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=nse(this,t,[].concat(a)),sw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),sw(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,A,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(A=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&A!==void 0?A:0}})}}),r}return ise(t,e),rse(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>M5||Math.abs(n.height-this.state.lastBoundingBox.height)>M5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,A=a.children,u=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,f=a.offset,g=a.position,p=a.reverseDirection,b=a.useTranslate3d,m=a.viewBox,x=a.wrapperStyle,y=Zne({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:f,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:m}),w=y.cssClasses,N=y.cssProperties,B=R5(R5({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return fe.createElement("div",{tabIndex:-1,className:w,style:B,ref:function(E){n.wrapperNode=E}},A)}}])}(C.PureComponent),cse=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},qc={isSsr:cse()};function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function $5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$5(Object(r),!0).forEach(function(n){z2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ase(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function use(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yk(n.key),n)}}function dse(e,t,r){return t&&use(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fse(e,t,r){return t=wg(t),hse(e,Wk()?Reflect.construct(t,r||[],wg(e).constructor):t.apply(e,r))}function hse(e,t){if(t&&(cu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mse(e)}function mse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wk=function(){return!!e})()}function wg(e){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wg(e)}function pse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aw(e,t)}function aw(e,t){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aw(e,t)}function z2(e,t,r){return t=Yk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yk(e){var t=gse(e,"string");return cu(t)=="symbol"?t:t+""}function gse(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xse(e){return e.dataKey}function vse(e,t){return fe.isValidElement(e)?fe.cloneElement(e,t):typeof e=="function"?fe.createElement(e,t):fe.createElement(Gne,t)}var Ts=function(e){function t(){return Ase(this,t),fse(this,t,arguments)}return pse(t,e),dse(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,A=a.content,u=a.coordinate,d=a.filterNull,h=a.isAnimationActive,f=a.offset,g=a.payload,p=a.payloadUniqBy,b=a.position,m=a.reverseDirection,x=a.useTranslate3d,y=a.viewBox,w=a.wrapperStyle,N=g??[];d&&N.length&&(N=Qk(g.filter(function(F){return F.value!=null&&(F.hide!==!0||n.props.includeHidden)}),p,xse));var B=N.length>0;return fe.createElement(lse,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:u,hasPayload:B,offset:f,position:b,reverseDirection:m,useTranslate3d:x,viewBox:y,wrapperStyle:w},vse(A,H5(H5({},this.props),{},{payload:N})))}}])}(C.PureComponent);z2(Ts,"displayName","Tooltip");z2(Ts,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!qc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bse=_i,yse=function(){return bse.Date.now()},wse=yse,jse=/\s/;function Nse(e){for(var t=e.length;t--&&jse.test(e.charAt(t)););return t}var Cse=Nse,Bse=Cse,Sse=/^\s+/;function Ese(e){return e&&e.slice(0,Bse(e)+1).replace(Sse,"")}var Fse=Ese,Tse=Fse,K5=Pl,Pse=Du,V5=NaN,kse=/^[-+]0x[0-9a-f]+$/i,Ose=/^0b[01]+$/i,Ise=/^0o[0-7]+$/i,Use=parseInt;function _se(e){if(typeof e=="number")return e;if(Pse(e))return V5;if(K5(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=K5(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Tse(e);var r=Ose.test(e);return r||Ise.test(e)?Use(e.slice(2),r?2:8):kse.test(e)?V5:+e}var Xk=_se,Dse=Pl,nb=wse,z5=Xk,Lse="Expected a function",Qse=Math.max,Rse=Math.min;function Mse(e,t,r){var n,a,i,o,l,c,A=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(Lse);t=z5(t)||0,Dse(r)&&(u=!!r.leading,d="maxWait"in r,i=d?Qse(z5(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function f(B){var F=n,E=a;return n=a=void 0,A=B,o=e.apply(E,F),o}function g(B){return A=B,l=setTimeout(m,t),u?f(B):o}function p(B){var F=B-c,E=B-A,P=t-F;return d?Rse(P,i-E):P}function b(B){var F=B-c,E=B-A;return c===void 0||F>=t||F<0||d&&E>=i}function m(){var B=nb();if(b(B))return x(B);l=setTimeout(m,p(B))}function x(B){return l=void 0,h&&n?f(B):(n=a=void 0,o)}function y(){l!==void 0&&clearTimeout(l),A=0,n=c=a=l=void 0}function w(){return l===void 0?o:x(nb())}function N(){var B=nb(),F=b(B);if(n=arguments,a=this,c=B,F){if(l===void 0)return g(c);if(d)return clearTimeout(l),l=setTimeout(m,t),f(c)}return l===void 0&&(l=setTimeout(m,t)),o}return N.cancel=y,N.flush=w,N}var $se=Mse,Hse=$se,Kse=Pl,Vse="Expected a function";function zse(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Vse);return Kse(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Hse(e,t,{leading:n,maxWait:t,trailing:a})}var Gse=zse;const Jk=nr(Gse);function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function G5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G5(Object(r),!0).forEach(function(n){qse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qse(e,t,r){return t=Wse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wse(e){var t=Yse(e,"string");return If(t)=="symbol"?t:t+""}function Yse(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xse(e,t){return tae(e)||eae(e,t)||Zse(e,t)||Jse()}function Jse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zse(e,t){if(e){if(typeof e=="string")return q5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q5(e,t)}}function q5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){A=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function tae(e){if(Array.isArray(e))return e}var Nh=C.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,A=e.minWidth,u=A===void 0?0:A,d=e.minHeight,h=e.maxHeight,f=e.children,g=e.debounce,p=g===void 0?0:g,b=e.id,m=e.className,x=e.onResize,y=e.style,w=y===void 0?{}:y,N=C.useRef(null),B=C.useRef();B.current=x,C.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var F=C.useState({containerWidth:a.width,containerHeight:a.height}),E=Xse(F,2),P=E[0],Q=E[1],U=C.useCallback(function(k,I){Q(function(M){var L=Math.round(k),K=Math.round(I);return M.containerWidth===L&&M.containerHeight===K?M:{containerWidth:L,containerHeight:K}})},[]);C.useEffect(function(){var k=function($){var q,Z=$[0].contentRect,D=Z.width,H=Z.height;U(D,H),(q=B.current)===null||q===void 0||q.call(B,D,H)};p>0&&(k=Jk(k,p,{trailing:!0,leading:!1}));var I=new ResizeObserver(k),M=N.current.getBoundingClientRect(),L=M.width,K=M.height;return U(L,K),I.observe(N.current),function(){I.disconnect()}},[U,p]);var T=C.useMemo(function(){var k=P.containerWidth,I=P.containerHeight;if(k<0||I<0)return null;Xa(pc(o)||pc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Xa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=pc(o)?k:o,L=pc(c)?I:c;r&&r>0&&(M?L=M/r:L&&(M=L*r),h&&L>h&&(L=h)),Xa(M>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,L,o,c,u,d,r);var K=!Array.isArray(f)&&bo(f.type).endsWith("Chart");return fe.Children.map(f,function(R){return fe.isValidElement(R)?C.cloneElement(R,Om({width:M,height:L},K?{style:Om({height:"100%",width:"100%",maxHeight:L,maxWidth:M},R.props.style)}:{})):R})},[r,f,c,h,d,u,P,o]);return fe.createElement("div",{id:b?"".concat(b):void 0,className:_t("recharts-responsive-container",m),style:Om(Om({},w),{},{width:o,height:c,minWidth:u,minHeight:d,maxHeight:h}),ref:N},T)}),Ch=function(t){return null};Ch.displayName="Cell";function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function W5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W5(Object(r),!0).forEach(function(n){rae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rae(e,t,r){return t=nae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nae(e){var t=sae(e,"string");return Uf(t)=="symbol"?t:t+""}function sae(e,t){if(Uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bA={widthCache:{},cacheCount:0},aae=2e3,iae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Y5="recharts_measurement_span";function oae(e){var t=iw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var cf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qc.isSsr)return{width:0,height:0};var n=oae(r),a=JSON.stringify({text:t,copyStyle:n});if(bA.widthCache[a])return bA.widthCache[a];try{var i=document.getElementById(Y5);i||(i=document.createElement("span"),i.setAttribute("id",Y5),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=iw(iw({},iae),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return bA.widthCache[a]=c,++bA.cacheCount>aae&&(bA.cacheCount=0,bA.widthCache={}),c}catch{return{width:0,height:0}}},lae=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function jg(e,t){return dae(e)||uae(e,t)||Aae(e,t)||cae()}function cae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aae(e,t){if(e){if(typeof e=="string")return X5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X5(e,t)}}function X5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){A=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function dae(e){if(Array.isArray(e))return e}function fae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mae(n.key),n)}}function hae(e,t,r){return t&&J5(e.prototype,t),r&&J5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mae(e){var t=pae(e,"string");return _f(t)=="symbol"?t:t+""}function pae(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Z5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Zk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vae=Object.keys(Zk),DA="NaN";function bae(e,t){return e*Zk[t]}var Im=function(){function e(t,r){fae(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!gae.test(r)&&(this.num=NaN,this.unit=""),vae.includes(r)&&(this.num=bae(t,r),this.unit="px")}return hae(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=xae.exec(r))!==null&&n!==void 0?n:[],i=jg(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function eO(e){if(e.includes(DA))return DA;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Z5.exec(t))!==null&&r!==void 0?r:[],a=jg(n,4),i=a[1],o=a[2],l=a[3],c=Im.parse(i??""),A=Im.parse(l??""),u=o==="*"?c.multiply(A):c.divide(A);if(u.isNaN())return DA;t=t.replace(Z5,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=eB.exec(t))!==null&&d!==void 0?d:[],f=jg(h,4),g=f[1],p=f[2],b=f[3],m=Im.parse(g??""),x=Im.parse(b??""),y=p==="+"?m.add(x):m.subtract(x);if(y.isNaN())return DA;t=t.replace(eB,y.toString())}return t}var tB=/\(([^()]*)\)/;function yae(e){for(var t=e;t.includes("(");){var r=tB.exec(t),n=jg(r,2),a=n[1];t=t.replace(tB,eO(a))}return t}function wae(e){var t=e.replace(/\s+/g,"");return t=yae(t),t=eO(t),t}function jae(e){try{return wae(e)}catch{return DA}}function sb(e){var t=jae(e.slice(5,-1));return t===DA?"":t}var Nae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Cae=["dx","dy","angle","className","breakAll"];function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(this,arguments)}function rB(e,t){if(e==null)return{};var r=Bae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nB(e,t){return Tae(e)||Fae(e,t)||Eae(e,t)||Sae()}function Sae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eae(e,t){if(e){if(typeof e=="string")return sB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sB(e,t)}}function sB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){A=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function Tae(e){if(Array.isArray(e))return e}var tO=/[ \f\n\r\t\v\u2028\u2029]+/,rO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];kt(r)||(n?i=r.toString().split(""):i=r.toString().split(tO));var o=i.map(function(c){return{word:c,width:cf(c,a).width}}),l=n?0:cf("¬†",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Pae=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,A=t.breakAll,u=ze(o),d=l,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(L,K){var R=K.word,$=K.width,q=L[L.length-1];if(q&&(a==null||i||q.width+$+n<Number(a)))q.words.push(R),q.width+=$+n;else{var Z={words:[R],width:$};L.push(Z)}return L},[])},f=h(r),g=function(M){return M.reduce(function(L,K){return L.width>K.width?L:K})};if(!u)return f;for(var p="‚Ä¶",b=function(M){var L=d.slice(0,M),K=rO({breakAll:A,style:c,children:L+p}).wordsWithComputedWidth,R=h(K),$=R.length>o||g(R).width>Number(a);return[$,R]},m=0,x=d.length-1,y=0,w;m<=x&&y<=d.length-1;){var N=Math.floor((m+x)/2),B=N-1,F=b(B),E=nB(F,2),P=E[0],Q=E[1],U=b(N),T=nB(U,1),k=T[0];if(!P&&!k&&(m=N+1),P&&k&&(x=N-1),!P&&k){w=Q;break}y++}return w||f},aB=function(t){var r=kt(t)?[]:t.toString().split(tO);return[{words:r}]},kae=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!qc.isSsr){var c,A,u=rO({breakAll:o,children:a,style:i});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;c=d,A=h}else return aB(a);return Pae({breakAll:o,children:a,maxLines:l,style:i},c,A,r,n)}return aB(a)},iB="#808080",Lc=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,A=c===void 0?"0.71em":c,u=t.scaleToFit,d=u===void 0?!1:u,h=t.textAnchor,f=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,b=t.fill,m=b===void 0?iB:b,x=rB(t,Nae),y=C.useMemo(function(){return kae({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),w=x.dx,N=x.dy,B=x.angle,F=x.className,E=x.breakAll,P=rB(x,Cae);if(!On(n)||!On(i))return null;var Q=n+(ze(w)?w:0),U=i+(ze(N)?N:0),T;switch(p){case"start":T=sb("calc(".concat(A,")"));break;case"middle":T=sb("calc(".concat((y.length-1)/2," * -").concat(l," + (").concat(A," / 2))"));break;default:T=sb("calc(".concat(y.length-1," * -").concat(l,")"));break}var k=[];if(d){var I=y[0].width,M=x.width;k.push("scale(".concat((ze(M)?M/I:1)/I,")"))}return B&&k.push("rotate(".concat(B,", ").concat(Q,", ").concat(U,")")),k.length&&(P.transform=k.join(" ")),fe.createElement("text",ow({},bt(P,!0),{x:Q,y:U,className:_t("recharts-text",F),textAnchor:f,fill:m.includes("url")?iB:m}),y.map(function(L,K){var R=L.words.join(E?"":" ");return fe.createElement("tspan",{x:Q,dy:K===0?T:l,key:"".concat(R,"-").concat(K)},R)}))};function vl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Oae(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function G2(e){let t,r,n;e.length!==2?(t=vl,r=(l,c)=>vl(e(l),c),n=(l,c)=>e(l)-c):(t=e===vl||e===Oae?e:Iae,r=e,n=e);function a(l,c,A=0,u=l.length){if(A<u){if(t(c,c)!==0)return u;do{const d=A+u>>>1;r(l[d],c)<0?A=d+1:u=d}while(A<u)}return A}function i(l,c,A=0,u=l.length){if(A<u){if(t(c,c)!==0)return u;do{const d=A+u>>>1;r(l[d],c)<=0?A=d+1:u=d}while(A<u)}return A}function o(l,c,A=0,u=l.length){const d=a(l,c,A,u-1);return d>A&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:a,center:o,right:i}}function Iae(){return 0}function nO(e){return e===null?NaN:+e}function*Uae(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const _ae=G2(vl),Bh=_ae.right;G2(nO).center;class oB extends Map{constructor(t,r=Qae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(lB(this,t))}has(t){return super.has(lB(this,t))}set(t,r){return super.set(Dae(this,t),r)}delete(t){return super.delete(Lae(this,t))}}function lB({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Dae({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Lae({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Qae(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Rae(e=vl){if(e===vl)return sO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function sO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Mae=Math.sqrt(50),$ae=Math.sqrt(10),Hae=Math.sqrt(2);function Ng(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Mae?10:i>=$ae?5:i>=Hae?2:1;let l,c,A;return a<0?(A=Math.pow(10,-a)/o,l=Math.round(e*A),c=Math.round(t*A),l/A<e&&++l,c/A>t&&--c,A=-A):(A=Math.pow(10,a)*o,l=Math.round(e/A),c=Math.round(t/A),l*A<e&&++l,c*A>t&&--c),c<l&&.5<=r&&r<2?Ng(e,t,r*2):[l,c,A]}function lw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Ng(t,e,r):Ng(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let A=0;A<l;++A)c[A]=(i-A)/-o;else for(let A=0;A<l;++A)c[A]=(i-A)*o;else if(o<0)for(let A=0;A<l;++A)c[A]=(a+A)/-o;else for(let A=0;A<l;++A)c[A]=(a+A)*o;return c}function cw(e,t,r){return t=+t,e=+e,r=+r,Ng(e,t,r)[2]}function Aw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?cw(t,e,r):cw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function cB(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function AB(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function aO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?sO:Rae(a);n>r;){if(n-r>600){const c=n-r+1,A=t-r+1,u=Math.log(c),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(c-d)/c)*(A-c/2<0?-1:1),f=Math.max(r,Math.floor(t-A*d/c+h)),g=Math.min(n,Math.floor(t+(c-A)*d/c+h));aO(e,t,f,g,a)}const i=e[t];let o=r,l=n;for(Id(e,r,t),a(e[n],i)>0&&Id(e,r,n);o<l;){for(Id(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Id(e,r,l):(++l,Id(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Id(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Kae(e,t,r){if(e=Float64Array.from(Uae(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return AB(e);if(t>=1)return cB(e);var n,a=(n-1)*t,i=Math.floor(a),o=cB(aO(e,i).subarray(0,i+1)),l=AB(e.subarray(i+1));return o+(l-o)*(a-i)}}function Vae(e,t,r=nO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function zae(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Pa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Uo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const uw=Symbol("implicit");function q2(){var e=new oB,t=[],r=[],n=uw;function a(i){let o=e.get(i);if(o===void 0){if(n!==uw)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new oB;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return q2(t,r).unknown(n)},Pa.apply(a,arguments),a}function Df(){var e=q2().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,A=0,u=.5;delete e.unknown;function d(){var h=t().length,f=a<n,g=f?a:n,p=f?n:a;i=(p-g)/Math.max(1,h-c+A*2),l&&(i=Math.floor(i)),g+=(p-g-i*(h-c))*u,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var b=zae(h).map(function(m){return g+i*m});return r(f?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,A=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(A=+h,d()):A},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return Df(t(),[n,a]).round(l).paddingInner(c).paddingOuter(A).align(u)},Pa.apply(d(),arguments)}function iO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return iO(t())},e}function Af(){return iO(Df.apply(null,arguments).paddingInner(1))}function W2(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function oO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Sh(){}var Lf=.7,Cg=1/Lf,YA="\\s*([+-]?\\d+)\\s*",Qf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gae=/^#([0-9a-f]{3,8})$/,qae=new RegExp(`^rgb\\(${YA},${YA},${YA}\\)$`),Wae=new RegExp(`^rgb\\(${Fi},${Fi},${Fi}\\)$`),Yae=new RegExp(`^rgba\\(${YA},${YA},${YA},${Qf}\\)$`),Xae=new RegExp(`^rgba\\(${Fi},${Fi},${Fi},${Qf}\\)$`),Jae=new RegExp(`^hsl\\(${Qf},${Fi},${Fi}\\)$`),Zae=new RegExp(`^hsla\\(${Qf},${Fi},${Fi},${Qf}\\)$`),uB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};W2(Sh,Rf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dB,formatHex:dB,formatHex8:eie,formatHsl:tie,formatRgb:fB,toString:fB});function dB(){return this.rgb().formatHex()}function eie(){return this.rgb().formatHex8()}function tie(){return lO(this).formatHsl()}function fB(){return this.rgb().formatRgb()}function Rf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Gae.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?hB(t):r===3?new ks(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Um(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Um(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=qae.exec(e))?new ks(t[1],t[2],t[3],1):(t=Wae.exec(e))?new ks(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Yae.exec(e))?Um(t[1],t[2],t[3],t[4]):(t=Xae.exec(e))?Um(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Jae.exec(e))?gB(t[1],t[2]/100,t[3]/100,1):(t=Zae.exec(e))?gB(t[1],t[2]/100,t[3]/100,t[4]):uB.hasOwnProperty(e)?hB(uB[e]):e==="transparent"?new ks(NaN,NaN,NaN,0):null}function hB(e){return new ks(e>>16&255,e>>8&255,e&255,1)}function Um(e,t,r,n){return n<=0&&(e=t=r=NaN),new ks(e,t,r,n)}function rie(e){return e instanceof Sh||(e=Rf(e)),e?(e=e.rgb(),new ks(e.r,e.g,e.b,e.opacity)):new ks}function dw(e,t,r,n){return arguments.length===1?rie(e):new ks(e,t,r,n??1)}function ks(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}W2(ks,dw,oO(Sh,{brighter(e){return e=e==null?Cg:Math.pow(Cg,e),new ks(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lf:Math.pow(Lf,e),new ks(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ks(wc(this.r),wc(this.g),wc(this.b),Bg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mB,formatHex:mB,formatHex8:nie,formatRgb:pB,toString:pB}));function mB(){return`#${gc(this.r)}${gc(this.g)}${gc(this.b)}`}function nie(){return`#${gc(this.r)}${gc(this.g)}${gc(this.b)}${gc((isNaN(this.opacity)?1:this.opacity)*255)}`}function pB(){const e=Bg(this.opacity);return`${e===1?"rgb(":"rgba("}${wc(this.r)}, ${wc(this.g)}, ${wc(this.b)}${e===1?")":`, ${e})`}`}function Bg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gc(e){return e=wc(e),(e<16?"0":"")+e.toString(16)}function gB(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new qa(e,t,r,n)}function lO(e){if(e instanceof qa)return new qa(e.h,e.s,e.l,e.opacity);if(e instanceof Sh||(e=Rf(e)),!e)return new qa;if(e instanceof qa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new qa(o,l,c,e.opacity)}function sie(e,t,r,n){return arguments.length===1?lO(e):new qa(e,t,r,n??1)}function qa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}W2(qa,sie,oO(Sh,{brighter(e){return e=e==null?Cg:Math.pow(Cg,e),new qa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lf:Math.pow(Lf,e),new qa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ks(ab(e>=240?e-240:e+120,a,n),ab(e,a,n),ab(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new qa(xB(this.h),_m(this.s),_m(this.l),Bg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bg(this.opacity);return`${e===1?"hsl(":"hsla("}${xB(this.h)}, ${_m(this.s)*100}%, ${_m(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xB(e){return e=(e||0)%360,e<0?e+360:e}function _m(e){return Math.max(0,Math.min(1,e||0))}function ab(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Y2=e=>()=>e;function aie(e,t){return function(r){return e+r*t}}function iie(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function oie(e){return(e=+e)==1?cO:function(t,r){return r-t?iie(t,r,e):Y2(isNaN(t)?r:t)}}function cO(e,t){var r=t-e;return r?aie(e,r):Y2(isNaN(e)?t:e)}const vB=function e(t){var r=oie(t);function n(a,i){var o=r((a=dw(a)).r,(i=dw(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),A=cO(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=A(u),a+""}}return n.gamma=e,n}(1);function lie(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function cie(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Aie(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=zu(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function uie(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Sg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function die(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=zu(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var fw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ib=new RegExp(fw.source,"g");function fie(e){return function(){return e}}function hie(e){return function(t){return e(t)+""}}function mie(e,t){var r=fw.lastIndex=ib.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=fw.exec(e))&&(a=ib.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Sg(n,a)})),r=ib.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?hie(c[0].x):fie(t):(t=c.length,function(A){for(var u=0,d;u<t;++u)l[(d=c[u]).i]=d.x(A);return l.join("")})}function zu(e,t){var r=typeof t,n;return t==null||r==="boolean"?Y2(t):(r==="number"?Sg:r==="string"?(n=Rf(t))?(t=n,vB):mie:t instanceof Rf?vB:t instanceof Date?uie:cie(t)?lie:Array.isArray(t)?Aie:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?die:Sg)(e,t)}function X2(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function pie(e,t){t===void 0&&(t=e,e=zu);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function gie(e){return function(){return e}}function Eg(e){return+e}var bB=[0,1];function Bs(e){return e}function hw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:gie(isNaN(t)?NaN:.5)}function xie(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function vie(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=hw(a,n),i=r(o,i)):(n=hw(n,a),i=r(i,o)),function(l){return i(n(l))}}function bie(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=hw(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Bh(e,l,1,n)-1;return i[c](a[c](l))}}function Eh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function f0(){var e=bB,t=bB,r=zu,n,a,i,o=Bs,l,c,A;function u(){var h=Math.min(e.length,t.length);return o!==Bs&&(o=xie(e[0],e[h-1])),l=h>2?bie:vie,c=A=null,d}function d(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(a((A||(A=l(t,e.map(n),Sg)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Eg),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=X2,u()},d.clamp=function(h){return arguments.length?(o=h?!0:Bs,u()):o!==Bs},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,f){return n=h,a=f,u()}}function J2(){return f0()(Bs,Bs)}function yie(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fg(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Au(e){return e=Fg(Math.abs(e)),e?e[1]:NaN}function wie(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function jie(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Nie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mf(e){if(!(t=Nie.exec(e)))throw new Error("invalid format: "+e);var t;return new Z2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mf.prototype=Z2.prototype;function Z2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Z2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cie(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Tg;function Bie(e,t){var r=Fg(e,t);if(!r)return Tg=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(Tg=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Fg(e,Math.max(0,t+i-1))[0]}function yB(e,t){var r=Fg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const wB={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yie,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yB(e*100,t),r:yB,s:Bie,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function jB(e){return e}var NB=Array.prototype.map,CB=["y","z","a","f","p","n","¬µ","m","","k","M","G","T","P","E","Z","Y"];function Sie(e){var t=e.grouping===void 0||e.thousands===void 0?jB:wie(NB.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?jB:jie(NB.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"‚àí":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function A(d,h){d=Mf(d);var f=d.fill,g=d.align,p=d.sign,b=d.symbol,m=d.zero,x=d.width,y=d.comma,w=d.precision,N=d.trim,B=d.type;B==="n"?(y=!0,B="g"):wB[B]||(w===void 0&&(w=12),N=!0,B="g"),(m||f==="0"&&g==="=")&&(m=!0,f="0",g="=");var F=(h&&h.prefix!==void 0?h.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():""),E=(b==="$"?n:/[%p]/.test(B)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),P=wB[B],Q=/[defgprs%]/.test(B);w=w===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function U(T){var k=F,I=E,M,L,K;if(B==="c")I=P(T)+I,T="";else{T=+T;var R=T<0||1/T<0;if(T=isNaN(T)?c:P(Math.abs(T),w),N&&(T=Cie(T)),R&&+T==0&&p!=="+"&&(R=!1),k=(R?p==="("?p:l:p==="-"||p==="("?"":p)+k,I=(B==="s"&&!isNaN(T)&&Tg!==void 0?CB[8+Tg/3]:"")+I+(R&&p==="("?")":""),Q){for(M=-1,L=T.length;++M<L;)if(K=T.charCodeAt(M),48>K||K>57){I=(K===46?a+T.slice(M+1):T.slice(M))+I,T=T.slice(0,M);break}}}y&&!m&&(T=t(T,1/0));var $=k.length+T.length+I.length,q=$<x?new Array(x-$+1).join(f):"";switch(y&&m&&(T=t(q+T,q.length?x-I.length:1/0),q=""),g){case"<":T=k+T+I+q;break;case"=":T=k+q+T+I;break;case"^":T=q.slice(0,$=q.length>>1)+k+T+I+q.slice($);break;default:T=q+k+T+I;break}return i(T)}return U.toString=function(){return d+""},U}function u(d,h){var f=Math.max(-8,Math.min(8,Math.floor(Au(h)/3)))*3,g=Math.pow(10,-f),p=A((d=Mf(d),d.type="f",d),{suffix:CB[8+f/3]});return function(b){return p(g*b)}}return{format:A,formatPrefix:u}}var Dm,ej,AO;Eie({thousands:",",grouping:[3],currency:["$",""]});function Eie(e){return Dm=Sie(e),ej=Dm.format,AO=Dm.formatPrefix,Dm}function Fie(e){return Math.max(0,-Au(Math.abs(e)))}function Tie(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Au(t)/3)))*3-Au(Math.abs(e)))}function Pie(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Au(t)-Au(e))+1}function uO(e,t,r,n){var a=Aw(e,t,r),i;switch(n=Mf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Tie(a,o))&&(n.precision=i),AO(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Pie(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Fie(a))&&(n.precision=i-(n.type==="%")*2);break}}return ej(n)}function kl(e){var t=e.domain;return e.ticks=function(r){var n=t();return lw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return uO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,A,u=10;for(l<o&&(A=o,o=l,l=A,A=a,a=i,i=A);u-- >0;){if(A=cw(o,l,r),A===c)return n[a]=o,n[i]=l,t(n);if(A>0)o=Math.floor(o/A)*A,l=Math.ceil(l/A)*A;else if(A<0)o=Math.ceil(o*A)/A,l=Math.floor(l*A)/A;else break;c=A}return e},e}function Pg(){var e=J2();return e.copy=function(){return Eh(e,Pg())},Pa.apply(e,arguments),kl(e)}function dO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Eg),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return dO(e).unknown(t)},e=arguments.length?Array.from(e,Eg):[0,1],kl(r)}function fO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function BB(e){return Math.log(e)}function SB(e){return Math.exp(e)}function kie(e){return-Math.log(-e)}function Oie(e){return-Math.exp(-e)}function Iie(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Uie(e){return e===10?Iie:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _ie(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function EB(e){return(t,r)=>-e(-t,r)}function tj(e){const t=e(BB,SB),r=t.domain;let n=10,a,i;function o(){return a=_ie(n),i=Uie(n),r()[0]<0?(a=EB(a),i=EB(i),e(kie,Oie)):e(BB,SB),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let A=c[0],u=c[c.length-1];const d=u<A;d&&([A,u]=[u,A]);let h=a(A),f=a(u),g,p;const b=l==null?10:+l;let m=[];if(!(n%1)&&f-h<b){if(h=Math.floor(h),f=Math.ceil(f),A>0){for(;h<=f;++h)for(g=1;g<n;++g)if(p=h<0?g/i(-h):g*i(h),!(p<A)){if(p>u)break;m.push(p)}}else for(;h<=f;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<A)){if(p>u)break;m.push(p)}m.length*2<b&&(m=lw(A,u,b))}else m=lw(h,f,Math.min(f-h,b)).map(i);return d?m.reverse():m},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Mf(c)).precision==null&&(c.trim=!0),c=ej(c)),l===1/0)return c;const A=Math.max(1,n*l/t.ticks().length);return u=>{let d=u/i(Math.round(a(u)));return d*n<n-.5&&(d*=n),d<=A?c(u):""}},t.nice=()=>r(fO(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function hO(){const e=tj(f0()).domain([1,10]);return e.copy=()=>Eh(e,hO()).base(e.base()),Pa.apply(e,arguments),e}function FB(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function TB(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rj(e){var t=1,r=e(FB(t),TB(t));return r.constant=function(n){return arguments.length?e(FB(t=+n),TB(t)):t},kl(r)}function mO(){var e=rj(f0());return e.copy=function(){return Eh(e,mO()).constant(e.constant())},Pa.apply(e,arguments)}function PB(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Die(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Lie(e){return e<0?-e*e:e*e}function nj(e){var t=e(Bs,Bs),r=1;function n(){return r===1?e(Bs,Bs):r===.5?e(Die,Lie):e(PB(r),PB(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},kl(t)}function sj(){var e=nj(f0());return e.copy=function(){return Eh(e,sj()).exponent(e.exponent())},Pa.apply(e,arguments),e}function Qie(){return sj.apply(null,arguments).exponent(.5)}function kB(e){return Math.sign(e)*e*e}function Rie(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function pO(){var e=J2(),t=[0,1],r=!1,n;function a(i){var o=Rie(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(kB(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Eg)).map(kB)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return pO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Pa.apply(a,arguments),kl(a)}function gO(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Vae(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Bh(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(vl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return gO().domain(e).range(t).unknown(n)},Pa.apply(i,arguments)}function xO(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Bh(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var A=a.indexOf(c);return A<0?[NaN,NaN]:A<1?[e,n[0]]:A>=r?[n[r-1],t]:[n[A-1],n[A]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return xO().domain([e,t]).range(a).unknown(i)},Pa.apply(kl(o),arguments)}function vO(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Bh(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return vO().domain(e).range(t).unknown(r)},Pa.apply(a,arguments)}const ob=new Date,lb=new Date;function Un(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let A;do c.push(A=new Date(+i)),t(i,l),e(i);while(A<i&&i<o);return c},a.filter=i=>Un(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(ob.setTime(+i),lb.setTime(+o),e(ob),e(lb),Math.floor(r(ob,lb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const kg=Un(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);kg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Un(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):kg);kg.range;const po=1e3,Na=po*60,go=Na*60,Fo=go*24,aj=Fo*7,OB=Fo*30,cb=Fo*365,xc=Un(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*po)},(e,t)=>(t-e)/po,e=>e.getUTCSeconds());xc.range;const ij=Un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*po)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getMinutes());ij.range;const oj=Un(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getUTCMinutes());oj.range;const lj=Un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*po-e.getMinutes()*Na)},(e,t)=>{e.setTime(+e+t*go)},(e,t)=>(t-e)/go,e=>e.getHours());lj.range;const cj=Un(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*go)},(e,t)=>(t-e)/go,e=>e.getUTCHours());cj.range;const Fh=Un(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Na)/Fo,e=>e.getDate()-1);Fh.range;const h0=Un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fo,e=>e.getUTCDate()-1);h0.range;const bO=Un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fo,e=>Math.floor(e/Fo));bO.range;function Wc(e){return Un(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Na)/aj)}const m0=Wc(0),Og=Wc(1),Mie=Wc(2),$ie=Wc(3),uu=Wc(4),Hie=Wc(5),Kie=Wc(6);m0.range;Og.range;Mie.range;$ie.range;uu.range;Hie.range;Kie.range;function Yc(e){return Un(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/aj)}const p0=Yc(0),Ig=Yc(1),Vie=Yc(2),zie=Yc(3),du=Yc(4),Gie=Yc(5),qie=Yc(6);p0.range;Ig.range;Vie.range;zie.range;du.range;Gie.range;qie.range;const Aj=Un(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Aj.range;const uj=Un(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());uj.range;const To=Un(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());To.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Un(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});To.range;const Po=Un(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Po.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Un(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Po.range;function yO(e,t,r,n,a,i){const o=[[xc,1,po],[xc,5,5*po],[xc,15,15*po],[xc,30,30*po],[i,1,Na],[i,5,5*Na],[i,15,15*Na],[i,30,30*Na],[a,1,go],[a,3,3*go],[a,6,6*go],[a,12,12*go],[n,1,Fo],[n,2,2*Fo],[r,1,aj],[t,1,OB],[t,3,3*OB],[e,1,cb]];function l(A,u,d){const h=u<A;h&&([A,u]=[u,A]);const f=d&&typeof d.range=="function"?d:c(A,u,d),g=f?f.range(A,+u+1):[];return h?g.reverse():g}function c(A,u,d){const h=Math.abs(u-A)/d,f=G2(([,,b])=>b).right(o,h);if(f===o.length)return e.every(Aw(A/cb,u/cb,d));if(f===0)return kg.every(Math.max(Aw(A,u,d),1));const[g,p]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return g.every(p)}return[l,c]}const[Wie,Yie]=yO(Po,uj,p0,bO,cj,oj),[Xie,Jie]=yO(To,Aj,m0,Fh,lj,ij);function Ab(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ub(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ud(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Zie(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,A=_d(a),u=Dd(a),d=_d(i),h=Dd(i),f=_d(o),g=Dd(o),p=_d(l),b=Dd(l),m=_d(c),x=Dd(c),y={a:K,A:R,b:$,B:q,c:null,d:QB,e:QB,f:woe,g:koe,G:Ioe,H:voe,I:boe,j:yoe,L:wO,m:joe,M:Noe,p:Z,q:D,Q:$B,s:HB,S:Coe,u:Boe,U:Soe,V:Eoe,w:Foe,W:Toe,x:null,X:null,y:Poe,Y:Ooe,Z:Uoe,"%":MB},w={a:H,A:V,b:re,B:Ae,c:null,d:RB,e:RB,f:Qoe,g:Woe,G:Xoe,H:_oe,I:Doe,j:Loe,L:NO,m:Roe,M:Moe,p:ae,q:de,Q:$B,s:HB,S:$oe,u:Hoe,U:Koe,V:Voe,w:zoe,W:Goe,x:null,X:null,y:qoe,Y:Yoe,Z:Joe,"%":MB},N={a:Q,A:U,b:T,B:k,c:I,d:DB,e:DB,f:moe,g:_B,G:UB,H:LB,I:LB,j:uoe,L:hoe,m:Aoe,M:doe,p:P,q:coe,Q:goe,s:xoe,S:foe,u:soe,U:aoe,V:ioe,w:noe,W:ooe,x:M,X:L,y:_B,Y:UB,Z:loe,"%":poe};y.x=B(r,y),y.X=B(n,y),y.c=B(t,y),w.x=B(r,w),w.X=B(n,w),w.c=B(t,w);function B(X,te){return function(ue){var se=[],we=-1,Ce=0,J=X.length,_e,Ge,We;for(ue instanceof Date||(ue=new Date(+ue));++we<J;)X.charCodeAt(we)===37&&(se.push(X.slice(Ce,we)),(Ge=IB[_e=X.charAt(++we)])!=null?_e=X.charAt(++we):Ge=_e==="e"?" ":"0",(We=te[_e])&&(_e=We(ue,Ge)),se.push(_e),Ce=we+1);return se.push(X.slice(Ce,we)),se.join("")}}function F(X,te){return function(ue){var se=Ud(1900,void 0,1),we=E(se,X,ue+="",0),Ce,J;if(we!=ue.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(te&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(Ce=ub(Ud(se.y,0,1)),J=Ce.getUTCDay(),Ce=J>4||J===0?Ig.ceil(Ce):Ig(Ce),Ce=h0.offset(Ce,(se.V-1)*7),se.y=Ce.getUTCFullYear(),se.m=Ce.getUTCMonth(),se.d=Ce.getUTCDate()+(se.w+6)%7):(Ce=Ab(Ud(se.y,0,1)),J=Ce.getDay(),Ce=J>4||J===0?Og.ceil(Ce):Og(Ce),Ce=Fh.offset(Ce,(se.V-1)*7),se.y=Ce.getFullYear(),se.m=Ce.getMonth(),se.d=Ce.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),J="Z"in se?ub(Ud(se.y,0,1)).getUTCDay():Ab(Ud(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(J+5)%7:se.w+se.U*7-(J+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,ub(se)):Ab(se)}}function E(X,te,ue,se){for(var we=0,Ce=te.length,J=ue.length,_e,Ge;we<Ce;){if(se>=J)return-1;if(_e=te.charCodeAt(we++),_e===37){if(_e=te.charAt(we++),Ge=N[_e in IB?te.charAt(we++):_e],!Ge||(se=Ge(X,ue,se))<0)return-1}else if(_e!=ue.charCodeAt(se++))return-1}return se}function P(X,te,ue){var se=A.exec(te.slice(ue));return se?(X.p=u.get(se[0].toLowerCase()),ue+se[0].length):-1}function Q(X,te,ue){var se=f.exec(te.slice(ue));return se?(X.w=g.get(se[0].toLowerCase()),ue+se[0].length):-1}function U(X,te,ue){var se=d.exec(te.slice(ue));return se?(X.w=h.get(se[0].toLowerCase()),ue+se[0].length):-1}function T(X,te,ue){var se=m.exec(te.slice(ue));return se?(X.m=x.get(se[0].toLowerCase()),ue+se[0].length):-1}function k(X,te,ue){var se=p.exec(te.slice(ue));return se?(X.m=b.get(se[0].toLowerCase()),ue+se[0].length):-1}function I(X,te,ue){return E(X,t,te,ue)}function M(X,te,ue){return E(X,r,te,ue)}function L(X,te,ue){return E(X,n,te,ue)}function K(X){return o[X.getDay()]}function R(X){return i[X.getDay()]}function $(X){return c[X.getMonth()]}function q(X){return l[X.getMonth()]}function Z(X){return a[+(X.getHours()>=12)]}function D(X){return 1+~~(X.getMonth()/3)}function H(X){return o[X.getUTCDay()]}function V(X){return i[X.getUTCDay()]}function re(X){return c[X.getUTCMonth()]}function Ae(X){return l[X.getUTCMonth()]}function ae(X){return a[+(X.getUTCHours()>=12)]}function de(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var te=B(X+="",y);return te.toString=function(){return X},te},parse:function(X){var te=F(X+="",!1);return te.toString=function(){return X},te},utcFormat:function(X){var te=B(X+="",w);return te.toString=function(){return X},te},utcParse:function(X){var te=F(X+="",!0);return te.toString=function(){return X},te}}}var IB={"-":"",_:" ",0:"0"},$n=/^\s*\d+/,eoe=/^%/,toe=/[\\^$*+?|[\]().{}]/g;function rr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function roe(e){return e.replace(toe,"\\$&")}function _d(e){return new RegExp("^(?:"+e.map(roe).join("|")+")","i")}function Dd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function noe(e,t,r){var n=$n.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function soe(e,t,r){var n=$n.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function aoe(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function ioe(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ooe(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function UB(e,t,r){var n=$n.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function _B(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function loe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function coe(e,t,r){var n=$n.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Aoe(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function DB(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function uoe(e,t,r){var n=$n.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function LB(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function doe(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function foe(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function hoe(e,t,r){var n=$n.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function moe(e,t,r){var n=$n.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function poe(e,t,r){var n=eoe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function goe(e,t,r){var n=$n.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function xoe(e,t,r){var n=$n.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function QB(e,t){return rr(e.getDate(),t,2)}function voe(e,t){return rr(e.getHours(),t,2)}function boe(e,t){return rr(e.getHours()%12||12,t,2)}function yoe(e,t){return rr(1+Fh.count(To(e),e),t,3)}function wO(e,t){return rr(e.getMilliseconds(),t,3)}function woe(e,t){return wO(e,t)+"000"}function joe(e,t){return rr(e.getMonth()+1,t,2)}function Noe(e,t){return rr(e.getMinutes(),t,2)}function Coe(e,t){return rr(e.getSeconds(),t,2)}function Boe(e){var t=e.getDay();return t===0?7:t}function Soe(e,t){return rr(m0.count(To(e)-1,e),t,2)}function jO(e){var t=e.getDay();return t>=4||t===0?uu(e):uu.ceil(e)}function Eoe(e,t){return e=jO(e),rr(uu.count(To(e),e)+(To(e).getDay()===4),t,2)}function Foe(e){return e.getDay()}function Toe(e,t){return rr(Og.count(To(e)-1,e),t,2)}function Poe(e,t){return rr(e.getFullYear()%100,t,2)}function koe(e,t){return e=jO(e),rr(e.getFullYear()%100,t,2)}function Ooe(e,t){return rr(e.getFullYear()%1e4,t,4)}function Ioe(e,t){var r=e.getDay();return e=r>=4||r===0?uu(e):uu.ceil(e),rr(e.getFullYear()%1e4,t,4)}function Uoe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rr(t/60|0,"0",2)+rr(t%60,"0",2)}function RB(e,t){return rr(e.getUTCDate(),t,2)}function _oe(e,t){return rr(e.getUTCHours(),t,2)}function Doe(e,t){return rr(e.getUTCHours()%12||12,t,2)}function Loe(e,t){return rr(1+h0.count(Po(e),e),t,3)}function NO(e,t){return rr(e.getUTCMilliseconds(),t,3)}function Qoe(e,t){return NO(e,t)+"000"}function Roe(e,t){return rr(e.getUTCMonth()+1,t,2)}function Moe(e,t){return rr(e.getUTCMinutes(),t,2)}function $oe(e,t){return rr(e.getUTCSeconds(),t,2)}function Hoe(e){var t=e.getUTCDay();return t===0?7:t}function Koe(e,t){return rr(p0.count(Po(e)-1,e),t,2)}function CO(e){var t=e.getUTCDay();return t>=4||t===0?du(e):du.ceil(e)}function Voe(e,t){return e=CO(e),rr(du.count(Po(e),e)+(Po(e).getUTCDay()===4),t,2)}function zoe(e){return e.getUTCDay()}function Goe(e,t){return rr(Ig.count(Po(e)-1,e),t,2)}function qoe(e,t){return rr(e.getUTCFullYear()%100,t,2)}function Woe(e,t){return e=CO(e),rr(e.getUTCFullYear()%100,t,2)}function Yoe(e,t){return rr(e.getUTCFullYear()%1e4,t,4)}function Xoe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?du(e):du.ceil(e),rr(e.getUTCFullYear()%1e4,t,4)}function Joe(){return"+0000"}function MB(){return"%"}function $B(e){return+e}function HB(e){return Math.floor(+e/1e3)}var yA,BO,SO;Zoe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zoe(e){return yA=Zie(e),BO=yA.format,yA.parse,SO=yA.utcFormat,yA.utcParse,yA}function ele(e){return new Date(e)}function tle(e){return e instanceof Date?+e:+new Date(+e)}function dj(e,t,r,n,a,i,o,l,c,A){var u=J2(),d=u.invert,h=u.domain,f=A(".%L"),g=A(":%S"),p=A("%I:%M"),b=A("%I %p"),m=A("%a %d"),x=A("%b %d"),y=A("%B"),w=A("%Y");function N(B){return(c(B)<B?f:l(B)<B?g:o(B)<B?p:i(B)<B?b:n(B)<B?a(B)<B?m:x:r(B)<B?y:w)(B)}return u.invert=function(B){return new Date(d(B))},u.domain=function(B){return arguments.length?h(Array.from(B,tle)):h().map(ele)},u.ticks=function(B){var F=h();return e(F[0],F[F.length-1],B??10)},u.tickFormat=function(B,F){return F==null?N:A(F)},u.nice=function(B){var F=h();return(!B||typeof B.range!="function")&&(B=t(F[0],F[F.length-1],B??10)),B?h(fO(F,B)):u},u.copy=function(){return Eh(u,dj(e,t,r,n,a,i,o,l,c,A))},u}function rle(){return Pa.apply(dj(Xie,Jie,To,Aj,m0,Fh,lj,ij,xc,BO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nle(){return Pa.apply(dj(Wie,Yie,Po,uj,p0,h0,cj,oj,xc,SO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function g0(){var e=0,t=1,r,n,a,i,o=Bs,l=!1,c;function A(d){return d==null||isNaN(d=+d)?c:o(a===0?.5:(d=(i(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}A.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),A):[e,t]},A.clamp=function(d){return arguments.length?(l=!!d,A):l},A.interpolator=function(d){return arguments.length?(o=d,A):o};function u(d){return function(h){var f,g;return arguments.length?([f,g]=h,o=d(f,g),A):[o(0),o(1)]}}return A.range=u(zu),A.rangeRound=u(X2),A.unknown=function(d){return arguments.length?(c=d,A):c},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),A}}function Ol(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function EO(){var e=kl(g0()(Bs));return e.copy=function(){return Ol(e,EO())},Uo.apply(e,arguments)}function FO(){var e=tj(g0()).domain([1,10]);return e.copy=function(){return Ol(e,FO()).base(e.base())},Uo.apply(e,arguments)}function TO(){var e=rj(g0());return e.copy=function(){return Ol(e,TO()).constant(e.constant())},Uo.apply(e,arguments)}function fj(){var e=nj(g0());return e.copy=function(){return Ol(e,fj()).exponent(e.exponent())},Uo.apply(e,arguments)}function sle(){return fj.apply(null,arguments).exponent(.5)}function PO(){var e=[],t=Bs;function r(n){if(n!=null&&!isNaN(n=+n))return t((Bh(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(vl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Kae(e,i/n))},r.copy=function(){return PO(t).domain(e)},Uo.apply(r,arguments)}function x0(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,A=Bs,u,d=!1,h;function f(p){return isNaN(p=+p)?h:(p=.5+((p=+u(p))-i)*(n*p<n*i?l:c),A(d?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t,r]=p,a=u(e=+e),i=u(t=+t),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,f):[e,t,r]},f.clamp=function(p){return arguments.length?(d=!!p,f):d},f.interpolator=function(p){return arguments.length?(A=p,f):A};function g(p){return function(b){var m,x,y;return arguments.length?([m,x,y]=b,A=pie(p,[m,x,y]),f):[A(0),A(.5),A(1)]}}return f.range=g(zu),f.rangeRound=g(X2),f.unknown=function(p){return arguments.length?(h=p,f):h},function(p){return u=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,f}}function kO(){var e=kl(x0()(Bs));return e.copy=function(){return Ol(e,kO())},Uo.apply(e,arguments)}function OO(){var e=tj(x0()).domain([.1,1,10]);return e.copy=function(){return Ol(e,OO()).base(e.base())},Uo.apply(e,arguments)}function IO(){var e=rj(x0());return e.copy=function(){return Ol(e,IO()).constant(e.constant())},Uo.apply(e,arguments)}function hj(){var e=nj(x0());return e.copy=function(){return Ol(e,hj()).exponent(e.exponent())},Uo.apply(e,arguments)}function ale(){return hj.apply(null,arguments).exponent(.5)}const KB=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Df,scaleDiverging:kO,scaleDivergingLog:OO,scaleDivergingPow:hj,scaleDivergingSqrt:ale,scaleDivergingSymlog:IO,scaleIdentity:dO,scaleImplicit:uw,scaleLinear:Pg,scaleLog:hO,scaleOrdinal:q2,scalePoint:Af,scalePow:sj,scaleQuantile:gO,scaleQuantize:xO,scaleRadial:pO,scaleSequential:EO,scaleSequentialLog:FO,scaleSequentialPow:fj,scaleSequentialQuantile:PO,scaleSequentialSqrt:sle,scaleSequentialSymlog:TO,scaleSqrt:Qie,scaleSymlog:mO,scaleThreshold:vO,scaleTime:rle,scaleUtc:nle,tickFormat:uO},Symbol.toStringTag,{value:"Module"}));var ile=Du;function ole(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!ile(o):r(o,l)))var l=o,c=i}return c}var v0=ole;function lle(e,t){return e>t}var UO=lle,cle=v0,Ale=UO,ule=Vu;function dle(e){return e&&e.length?cle(e,ule,Ale):void 0}var fle=dle;const b0=nr(fle);function hle(e,t){return e<t}var _O=hle,mle=v0,ple=_O,gle=Vu;function xle(e){return e&&e.length?mle(e,gle,ple):void 0}var vle=xle;const y0=nr(vle);var ble=E2,yle=Di,wle=Vk,jle=Is;function Nle(e,t){var r=jle(e)?ble:wle;return r(e,yle(t))}var Cle=Nle,Ble=Hk,Sle=Cle;function Ele(e,t){return Ble(Sle(e,t),1)}var Fle=Ele;const Tle=nr(Fle);var Ple=H2;function kle(e,t){return Ple(e,t)}var Ole=kle;const Th=nr(Ole);var Gu=1e9,Ile={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pj,zr=!0,Ea="[DecimalError] ",jc=Ea+"Invalid argument: ",mj=Ea+"Exponent out of range: ",qu=Math.floor,Ac=Math.pow,Ule=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Js,Ln=1e7,Dr=7,DO=9007199254740991,Ug=qu(DO/Dr),rt={};rt.absoluteValue=rt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};rt.comparedTo=rt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};rt.decimalPlaces=rt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Dr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};rt.dividedBy=rt.div=function(e){return yo(this,new this.constructor(e))};rt.dividedToIntegerBy=rt.idiv=function(e){var t=this,r=t.constructor;return Cr(yo(t,new r(e),0,1),r.precision)};rt.equals=rt.eq=function(e){return!this.cmp(e)};rt.exponent=function(){return vn(this)};rt.greaterThan=rt.gt=function(e){return this.cmp(e)>0};rt.greaterThanOrEqualTo=rt.gte=function(e){return this.cmp(e)>=0};rt.isInteger=rt.isint=function(){return this.e>this.d.length-2};rt.isNegative=rt.isneg=function(){return this.s<0};rt.isPositive=rt.ispos=function(){return this.s>0};rt.isZero=function(){return this.s===0};rt.lessThan=rt.lt=function(e){return this.cmp(e)<0};rt.lessThanOrEqualTo=rt.lte=function(e){return this.cmp(e)<1};rt.logarithm=rt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Js))throw Error(Ea+"NaN");if(r.s<1)throw Error(Ea+(r.s?"NaN":"-Infinity"));return r.eq(Js)?new n(0):(zr=!1,t=yo($f(r,i),$f(e,i),i),zr=!0,Cr(t,a))};rt.minus=rt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RO(t,e):LO(t,(e.s=-e.s,e))};rt.modulo=rt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ea+"NaN");return r.s?(zr=!1,t=yo(r,e,0,1).times(e),zr=!0,r.minus(t)):Cr(new n(r),a)};rt.naturalExponential=rt.exp=function(){return QO(this)};rt.naturalLogarithm=rt.ln=function(){return $f(this)};rt.negated=rt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};rt.plus=rt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LO(t,e):RO(t,(e.s=-e.s,e))};rt.precision=rt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jc+e);if(t=vn(a)+1,n=a.d.length-1,r=n*Dr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};rt.squareRoot=rt.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ea+"NaN")}for(e=vn(l),zr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Bi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=qu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(yo(l,i,o+2)).times(.5),Bi(i.d).slice(0,o)===(t=Bi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Cr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return zr=!0,Cr(n,r)};rt.times=rt.mul=function(e){var t,r,n,a,i,o,l,c,A,u=this,d=u.constructor,h=u.d,f=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,c=h.length,A=f.length,c<A&&(i=h,h=f,f=i,o=c,c=A,A=o),i=[],o=c+A,n=o;n--;)i.push(0);for(n=A;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+f[n]*h[a-n-1]+t,i[a--]=l%Ln|0,t=l/Ln|0;i[a]=(i[a]+t)%Ln|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,zr?Cr(e,d.precision):e};rt.toDecimalPlaces=rt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Oi(e,0,Gu),t===void 0?t=n.rounding:Oi(t,0,8),Cr(r,e+vn(r)+1,t))};rt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Qc(n,!0):(Oi(e,0,Gu),t===void 0?t=a.rounding:Oi(t,0,8),n=Cr(new a(n),e+1,t),r=Qc(n,!0,e+1)),r};rt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Qc(a):(Oi(e,0,Gu),t===void 0?t=i.rounding:Oi(t,0,8),n=Cr(new i(a),e+vn(a)+1,t),r=Qc(n.abs(),!1,e+vn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};rt.toInteger=rt.toint=function(){var e=this,t=e.constructor;return Cr(new t(e),vn(e)+1,t.rounding)};rt.toNumber=function(){return+this};rt.toPower=rt.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,A=12,u=+(e=new c(e));if(!e.s)return new c(Js);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ea+"Infinity");return l}if(l.eq(Js))return l;if(n=c.precision,e.eq(Js))return Cr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=DO){for(a=new c(Js),t=Math.ceil(n/Dr+4),zr=!1;r%2&&(a=a.times(l),zB(a.d,t)),r=qu(r/2),r!==0;)l=l.times(l),zB(l.d,t);return zr=!0,e.s<0?new c(Js).div(a):Cr(a,n)}}else if(i<0)throw Error(Ea+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,zr=!1,a=e.times($f(l,n+A)),zr=!0,a=QO(a),a.s=i,a};rt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=vn(a),n=Qc(a,r<=i.toExpNeg||r>=i.toExpPos)):(Oi(e,1,Gu),t===void 0?t=i.rounding:Oi(t,0,8),a=Cr(new i(a),e,t),r=vn(a),n=Qc(a,e<=r||r<=i.toExpNeg,e)),n};rt.toSignificantDigits=rt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Oi(e,1,Gu),t===void 0?t=n.rounding:Oi(t,0,8)),Cr(new n(r),e,t)};rt.toString=rt.valueOf=rt.val=rt.toJSON=rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vn(e),r=e.constructor;return Qc(e,t<=r.toExpNeg||t>=r.toExpPos)};function LO(e,t){var r,n,a,i,o,l,c,A,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),zr?Cr(t,d):t;if(c=e.d,A=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=A.length):(n=A,a=o,l=c.length),o=Math.ceil(d/Dr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=A.length,l-i<0&&(i=l,n=A,A=c,c=n),r=0;i;)r=(c[--i]=c[i]+A[i]+r)/Ln|0,c[i]%=Ln;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,zr?Cr(t,d):t}function Oi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(jc+e)}function Bi(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Dr-n.length,r&&(i+=ol(r)),i+=n;o=e[t],n=o+"",r=Dr-n.length,r&&(i+=ol(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var yo=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Ln|0,o=i/Ln|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Ln+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,A,u,d,h,f,g,p,b,m,x,y,w,N,B,F,E,P=n.constructor,Q=n.s==a.s?1:-1,U=n.d,T=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Ea+"Division by zero");for(c=n.e-a.e,F=T.length,N=U.length,f=new P(Q),g=f.d=[],A=0;T[A]==(U[A]||0);)++A;if(T[A]>(U[A]||0)&&--c,i==null?x=i=P.precision:o?x=i+(vn(n)-vn(a))+1:x=i,x<0)return new P(0);if(x=x/Dr+2|0,A=0,F==1)for(u=0,T=T[0],x++;(A<N||u)&&x--;A++)y=u*Ln+(U[A]||0),g[A]=y/T|0,u=y%T|0;else{for(u=Ln/(T[0]+1)|0,u>1&&(T=e(T,u),U=e(U,u),F=T.length,N=U.length),w=F,p=U.slice(0,F),b=p.length;b<F;)p[b++]=0;E=T.slice(),E.unshift(0),B=T[0],T[1]>=Ln/2&&++B;do u=0,l=t(T,p,F,b),l<0?(m=p[0],F!=b&&(m=m*Ln+(p[1]||0)),u=m/B|0,u>1?(u>=Ln&&(u=Ln-1),d=e(T,u),h=d.length,b=p.length,l=t(d,p,h,b),l==1&&(u--,r(d,F<h?E:T,h))):(u==0&&(l=u=1),d=T.slice()),h=d.length,h<b&&d.unshift(0),r(p,d,b),l==-1&&(b=p.length,l=t(T,p,F,b),l<1&&(u++,r(p,F<b?E:T,b))),b=p.length):l===0&&(u++,p=[0]),g[A++]=u,l&&p[0]?p[b++]=U[w]||0:(p=[U[w]],b=1);while((w++<N||p[0]!==void 0)&&x--)}return g[0]||g.shift(),f.e=c,Cr(f,o?i+vn(f)+1:i)}}();function QO(e,t){var r,n,a,i,o,l,c=0,A=0,u=e.constructor,d=u.precision;if(vn(e)>16)throw Error(mj+vn(e));if(!e.s)return new u(Js);for(zr=!1,l=d,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),A+=5;for(n=Math.log(Ac(2,A))/Math.LN10*2+5|0,l+=n,r=a=i=new u(Js),u.precision=l;;){if(a=Cr(a.times(e),l),r=r.times(++c),o=i.plus(yo(a,r,l)),Bi(o.d).slice(0,l)===Bi(i.d).slice(0,l)){for(;A--;)i=Cr(i.times(i),l);return u.precision=d,t==null?(zr=!0,Cr(i,d)):i}i=o}}function vn(e){for(var t=e.e*Dr,r=e.d[0];r>=10;r/=10)t++;return t}function db(e,t,r){if(t>e.LN10.sd())throw zr=!0,r&&(e.precision=r),Error(Ea+"LN10 precision limit exceeded");return Cr(new e(e.LN10),t)}function ol(e){for(var t="";e--;)t+="0";return t}function $f(e,t){var r,n,a,i,o,l,c,A,u,d=1,h=10,f=e,g=f.d,p=f.constructor,b=p.precision;if(f.s<1)throw Error(Ea+(f.s?"NaN":"-Infinity"));if(f.eq(Js))return new p(0);if(t==null?(zr=!1,A=b):A=t,f.eq(10))return t==null&&(zr=!0),db(p,A);if(A+=h,p.precision=A,r=Bi(g),n=r.charAt(0),i=vn(f),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(e),r=Bi(f.d),n=r.charAt(0),d++;i=vn(f),n>1?(f=new p("0."+r),i++):f=new p(n+"."+r.slice(1))}else return c=db(p,A+2,b).times(i+""),f=$f(new p(n+"."+r.slice(1)),A-h).plus(c),p.precision=b,t==null?(zr=!0,Cr(f,b)):f;for(l=o=f=yo(f.minus(Js),f.plus(Js),A),u=Cr(f.times(f),A),a=3;;){if(o=Cr(o.times(u),A),c=l.plus(yo(o,new p(a),A)),Bi(c.d).slice(0,A)===Bi(l.d).slice(0,A))return l=l.times(2),i!==0&&(l=l.plus(db(p,A+2,b).times(i+""))),l=yo(l,new p(d),A),p.precision=b,t==null?(zr=!0,Cr(l,b)):l;l=c,a+=2}}function VB(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=qu(r/Dr),e.d=[],n=(r+1)%Dr,r<0&&(n+=Dr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Dr;n<a;)e.d.push(+t.slice(n,n+=Dr));t=t.slice(n),n=Dr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),zr&&(e.e>Ug||e.e<-Ug))throw Error(mj+r)}else e.s=0,e.e=0,e.d=[0];return e}function Cr(e,t,r){var n,a,i,o,l,c,A,u,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Dr,a=t,A=d[u=0];else{if(u=Math.ceil((n+1)/Dr),i=d.length,u>=i)return e;for(A=i=d[u],o=1;i>=10;i/=10)o++;n%=Dr,a=n-Dr+o}if(r!==void 0&&(i=Ac(10,o-a-1),l=A/i%10|0,c=t<0||d[u+1]!==void 0||A%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?A/Ac(10,o-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(i=vn(e),d.length=1,t=t-i-1,d[0]=Ac(10,(Dr-t%Dr)%Dr),e.e=qu(-t/Dr)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,i=1,u--):(d.length=u+1,i=Ac(10,Dr-n),d[u]=a>0?(A/Ac(10,o-a)%Ac(10,a)|0)*i:0),c)for(;;)if(u==0){(d[0]+=i)==Ln&&(d[0]=1,++e.e);break}else{if(d[u]+=i,d[u]!=Ln)break;d[u--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(zr&&(e.e>Ug||e.e<-Ug))throw Error(mj+vn(e));return e}function RO(e,t){var r,n,a,i,o,l,c,A,u,d,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),zr?Cr(t,f):t;if(c=e.d,d=t.d,n=t.e,A=e.e,c=c.slice(),o=A-n,o){for(u=o<0,u?(r=c,o=-o,l=d.length):(r=d,n=A,l=c.length),a=Math.max(Math.ceil(f/Dr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=d.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=d[a]){u=c[a]<d[a];break}o=0}for(u&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,a=d.length-l;a>0;--a)c[l++]=0;for(a=d.length;a>o;){if(c[--a]<d[a]){for(i=a;i&&c[--i]===0;)c[i]=Ln-1;--c[i],c[a]+=Ln}c[a]-=d[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,zr?Cr(t,f):t):new h(0)}function Qc(e,t,r){var n,a=vn(e),i=Bi(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ol(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ol(-a-1)+i,r&&(n=r-o)>0&&(i+=ol(n))):a>=o?(i+=ol(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ol(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ol(n))),e.s<0?"-"+i:i}function zB(e,t){if(e.length>t)return e.length=t,!0}function MO(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(jc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return VB(o,i.toString())}else if(typeof i!="string")throw Error(jc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Ule.test(i))VB(o,i);else throw Error(jc+i)}if(a.prototype=rt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=MO,a.config=a.set=_le,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function _le(e){if(!e||typeof e!="object")throw Error(Ea+"Object expected");var t,r,n,a=["precision",1,Gu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(qu(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(jc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(jc+r+": "+n);return this}var pj=MO(Ile);Js=new pj(1);const vr=pj;function Dle(e){return Mle(e)||Rle(e)||Qle(e)||Lle()}function Lle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qle(e,t){if(e){if(typeof e=="string")return mw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mw(e,t)}}function Rle(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Mle(e){if(Array.isArray(e))return mw(e)}function mw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $le=function(t){return t},$O={},HO=function(t){return t===$O},GB=function(t){return function r(){return arguments.length===0||arguments.length===1&&HO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Hle=function e(t,r){return t===1?r:GB(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==$O}).length;return o>=t?r.apply(void 0,a):e(t-o,GB(function(){for(var l=arguments.length,c=new Array(l),A=0;A<l;A++)c[A]=arguments[A];var u=a.map(function(d){return HO(d)?c.shift():d});return r.apply(void 0,Dle(u).concat(c))}))})},w0=function(t){return Hle(t.length,t)},pw=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Kle=w0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Vle=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return $le;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},gw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},KO=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function zle(e){var t;return e===0?t=1:t=Math.floor(new vr(e).abs().log(10).toNumber())+1,t}function Gle(e,t,r){for(var n=new vr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var qle=w0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Wle=w0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Yle=w0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const j0={rangeStep:Gle,getDigitCount:zle,interpolateNumber:qle,uninterpolateNumber:Wle,uninterpolateTruncation:Yle};function xw(e){return Zle(e)||Jle(e)||VO(e)||Xle()}function Xle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jle(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Zle(e){if(Array.isArray(e))return vw(e)}function Hf(e,t){return rce(e)||tce(e,t)||VO(e,t)||ece()}function ece(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VO(e,t){if(e){if(typeof e=="string")return vw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vw(e,t)}}function vw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tce(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function rce(e){if(Array.isArray(e))return e}function zO(e){var t=Hf(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function GO(e,t,r){if(e.lte(0))return new vr(0);var n=j0.getDigitCount(e.toNumber()),a=new vr(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new vr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new vr(Math.ceil(c))}function nce(e,t,r){var n=1,a=new vr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new vr(10).pow(j0.getDigitCount(e)-1),a=new vr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new vr(Math.floor(e)))}else e===0?a=new vr(Math.floor((t-1)/2)):r||(a=new vr(Math.floor(e)));var o=Math.floor((t-1)/2),l=Vle(Kle(function(c){return a.add(new vr(c-o).mul(n)).toNumber()}),pw);return l(0,t)}function qO(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new vr(0),tickMin:new vr(0),tickMax:new vr(0)};var i=GO(new vr(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new vr(0):(o=new vr(e).add(t).div(2),o=o.sub(new vr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new vr(t).sub(o).div(i).toNumber()),A=l+c+1;return A>r?qO(e,t,r,n,a+1):(A<r&&(c=t>0?c+(r-A):c,l=t>0?l:l+(r-A)),{step:i,tickMin:o.sub(new vr(l).mul(i)),tickMax:o.add(new vr(c).mul(i))})}function sce(e){var t=Hf(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=zO([r,n]),c=Hf(l,2),A=c[0],u=c[1];if(A===-1/0||u===1/0){var d=u===1/0?[A].concat(xw(pw(0,a-1).map(function(){return 1/0}))):[].concat(xw(pw(0,a-1).map(function(){return-1/0})),[u]);return r>n?gw(d):d}if(A===u)return nce(A,a,i);var h=qO(A,u,o,i),f=h.step,g=h.tickMin,p=h.tickMax,b=j0.rangeStep(g,p.add(new vr(.1).mul(f)),f);return r>n?gw(b):b}function ace(e,t){var r=Hf(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=zO([n,a]),l=Hf(o,2),c=l[0],A=l[1];if(c===-1/0||A===1/0)return[n,a];if(c===A)return[c];var u=Math.max(t,2),d=GO(new vr(A).sub(c).div(u-1),i,0),h=[].concat(xw(j0.rangeStep(new vr(c),new vr(A).sub(new vr(.99).mul(d)),d)),[A]);return n>a?gw(h):h}var ice=KO(sce),oce=KO(ace),lce="Invariant failed";function Rc(e,t){throw new Error(lce)}var cce=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_g.apply(this,arguments)}function Ace(e,t){return hce(e)||fce(e,t)||dce(e,t)||uce()}function uce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dce(e,t){if(e){if(typeof e=="string")return qB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qB(e,t)}}function qB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){A=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function hce(e){if(Array.isArray(e))return e}function mce(e,t){if(e==null)return{};var r=pce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XO(n.key),n)}}function vce(e,t,r){return t&&xce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bce(e,t,r){return t=Dg(t),yce(e,WO()?Reflect.construct(t,r||[],Dg(e).constructor):t.apply(e,r))}function yce(e,t){if(t&&(fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wce(e)}function wce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WO=function(){return!!e})()}function Dg(e){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(e)}function jce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bw(e,t)}function bw(e,t){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bw(e,t)}function YO(e,t,r){return t=XO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XO(e){var t=Nce(e,"string");return fu(t)=="symbol"?t:t+""}function Nce(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ph=function(e){function t(){return gce(this,t),bce(this,t,arguments)}return jce(t,e),vce(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,A=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,h=mce(n,cce),f=bt(h,!1);this.props.direction==="x"&&u.type!=="number"&&Rc();var g=c.map(function(p){var b=A(p,l),m=b.x,x=b.y,y=b.value,w=b.errorVal;if(!w)return null;var N=[],B,F;if(Array.isArray(w)){var E=Ace(w,2);B=E[0],F=E[1]}else B=F=w;if(i==="vertical"){var P=u.scale,Q=x+a,U=Q+o,T=Q-o,k=P(y-B),I=P(y+F);N.push({x1:I,y1:U,x2:I,y2:T}),N.push({x1:k,y1:Q,x2:I,y2:Q}),N.push({x1:k,y1:U,x2:k,y2:T})}else if(i==="horizontal"){var M=d.scale,L=m+a,K=L-o,R=L+o,$=M(y-B),q=M(y+F);N.push({x1:K,y1:q,x2:R,y2:q}),N.push({x1:L,y1:$,x2:L,y2:q}),N.push({x1:K,y1:$,x2:R,y2:$})}return fe.createElement(er,_g({className:"recharts-errorBar",key:"bar-".concat(N.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},f),N.map(function(Z){return fe.createElement("line",_g({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return fe.createElement(er,{className:"recharts-errorBars"},g)}}])}(fe.Component);YO(Ph,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});YO(Ph,"displayName","ErrorBar");function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function WB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WB(Object(r),!0).forEach(function(n){Cce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cce(e,t,r){return t=Bce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bce(e){var t=Sce(e,"string");return Kf(t)=="symbol"?t:t+""}function Sce(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JO=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=qs(r,xl);if(!o)return null;var l=xl.defaultProps,c=l!==void 0?nc(nc({},l),o.props):{},A;return o.props&&o.props.payload?A=o.props&&o.props.payload:i==="children"?A=(n||[]).reduce(function(u,d){var h=d.item,f=d.props,g=f.sectors||f.data||[];return u.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):A=(n||[]).map(function(u){var d=u.item,h=d.type.defaultProps,f=h!==void 0?nc(nc({},h),d.props):{},g=f.dataKey,p=f.name,b=f.legendType,m=f.hide;return{inactive:m,dataKey:g,type:c.iconType||b||"square",color:gj(d),value:p||g,payload:f}}),nc(nc(nc({},c),xl.getWithHeight(o,a)),{},{payload:A,item:o})};function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function YB(e){return Pce(e)||Tce(e)||Fce(e)||Ece()}function Ece(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fce(e,t){if(e){if(typeof e=="string")return yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yw(e,t)}}function Tce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pce(e){if(Array.isArray(e))return yw(e)}function yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XB(Object(r),!0).forEach(function(n){XA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XA(e,t,r){return t=kce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kce(e){var t=Oce(e,"string");return Vf(t)=="symbol"?t:t+""}function Oce(e,t){if(Vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kn(e,t,r){return kt(e)||kt(t)?r:On(t)?na(e,t,r):Et(t)?t(e):r}function uf(e,t,r,n){var a=Tle(e,function(l){return kn(l,t)});if(r==="number"){var i=a.filter(function(l){return ze(l)||parseFloat(l)});return i.length?[y0(i),b0(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!kt(l)}):a;return o.map(function(l){return On(l)||l instanceof Date?l:""})}var Ice=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,A=0;A<l;A++){var u=A>0?a[A-1].coordinate:a[l-1].coordinate,d=a[A].coordinate,h=A>=l-1?a[0].coordinate:a[A+1].coordinate,f=void 0;if(Ns(d-u)!==Ns(h-d)){var g=[];if(Ns(h-d)===Ns(c[1]-c[0])){f=h;var p=d+c[1]-c[0];g[0]=Math.min(p,(p+u)/2),g[1]=Math.max(p,(p+u)/2)}else{f=u;var b=h+c[1]-c[0];g[0]=Math.min(d,(b+d)/2),g[1]=Math.max(d,(b+d)/2)}var m=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(t>m[0]&&t<=m[1]||t>=g[0]&&t<=g[1]){o=a[A].index;break}}else{var x=Math.min(u,h),y=Math.max(u,h);if(t>(x+d)/2&&t<=(y+d)/2){o=a[A].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},gj=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?en(en({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Uce=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,A=l.length;c<A;c++)for(var u=i[l[c]].stackGroups,d=Object.keys(u),h=0,f=d.length;h<f;h++){var g=u[d[h]],p=g.items,b=g.cateAxisId,m=p.filter(function(F){return bo(F.type).indexOf("Bar")>=0});if(m&&m.length){var x=m[0].type.defaultProps,y=x!==void 0?en(en({},x),m[0].props):m[0].props,w=y.barSize,N=y[b];o[N]||(o[N]=[]);var B=kt(w)?r:w;o[N].push({item:m[0],stackList:m.slice(1),barSize:kt(B)?void 0:Cs(B,n,0)})}}return o},_ce=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var A=Cs(r,a,0,!0),u,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,f=a/c,g=o.reduce(function(w,N){return w+N.barSize||0},0);g+=(c-1)*A,g>=a&&(g-=(c-1)*A,A=0),g>=a&&f>0&&(h=!0,f*=.9,g=c*f);var p=(a-g)/2>>0,b={offset:p-A,size:0};u=o.reduce(function(w,N){var B={item:N.item,position:{offset:b.offset+b.size+A,size:h?f:N.barSize}},F=[].concat(YB(w),[B]);return b=F[F.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(E){F.push({item:E,position:b})}),F},d)}else{var m=Cs(n,a,0,!0);a-2*m-(c-1)*A<=0&&(A=0);var x=(a-2*m-(c-1)*A)/c;x>1&&(x>>=0);var y=l===+l?Math.min(x,l):x;u=o.reduce(function(w,N,B){var F=[].concat(YB(w),[{item:N.item,position:{offset:m+(x+A)*B+(x-y)/2,size:y}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(E){F.push({item:E,position:F[F.length-1].position})}),F},d)}return u},Dce=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),A=JO({children:i,legendWidth:c});if(A){var u=a||{},d=u.width,h=u.height,f=A.align,g=A.verticalAlign,p=A.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&f!=="center"&&ze(t[f]))return en(en({},t),{},XA({},f,t[f]+(d||0)));if((p==="horizontal"||p==="vertical"&&f==="center")&&g!=="middle"&&ze(t[g]))return en(en({},t),{},XA({},g,t[g]+(h||0)))}return t},Lce=function(t,r,n){return kt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},ZO=function(t,r,n,a,i){var o=r.props.children,l=sa(o,Ph).filter(function(A){return Lce(a,i,A.props.direction)});if(l&&l.length){var c=l.map(function(A){return A.props.dataKey});return t.reduce(function(A,u){var d=kn(u,n);if(kt(d))return A;var h=Array.isArray(d)?[y0(d),b0(d)]:[d,d],f=c.reduce(function(g,p){var b=kn(u,p,0),m=h[0]-Math.abs(Array.isArray(b)?b[0]:b),x=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(m,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(f[0],A[0]),Math.max(f[1],A[1])]},[1/0,-1/0])}return null},Qce=function(t,r,n,a,i){var o=r.map(function(l){return ZO(t,l,n,i,a)}).filter(function(l){return!kt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},eI=function(t,r,n,a,i){var o=r.map(function(c){var A=c.props.dataKey;return n==="number"&&A&&ZO(t,c,A,a)||uf(t,A,n,i)});if(n==="number")return o.reduce(function(c,A){return[Math.min(c[0],A[0]),Math.max(c[1],A[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,A){for(var u=0,d=A.length;u<d;u++)l[A[u]]||(l[A[u]]=!0,c.push(A[u]));return c},[])},tI=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},rI=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},xo=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,A=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(A=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ns(l[0]-l[1])*2*A:A,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:a(h)+A,value:d,offset:A}});return u.filter(function(d){return!wh(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+A,value:d,index:h,offset:A}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+A,value:d,offset:A}}):a.domain().map(function(d,h){return{coordinate:a(d)+A,value:i?i[d]:d,index:h,offset:A}})},fb=new WeakMap,Lm=function(t,r){if(typeof r!="function")return t;fb.has(t)||fb.set(t,new WeakMap);var n=fb.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},nI=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Df(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Pg(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Af(),realScaleType:"point"}:i==="category"?{scale:Df(),realScaleType:"band"}:{scale:Pg(),realScaleType:"linear"};if(_c(a)){var c="scale".concat(i0(a));return{scale:(KB[c]||Af)(),realScaleType:KB[c]?c:"point"}}return Et(a)?{scale:a}:{scale:Af(),realScaleType:"point"}},JB=1e-4,sI=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-JB,o=Math.max(a[0],a[1])+JB,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},Rce=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Mce=function(t,r){if(!r||r.length!==2||!ze(r[0])||!ze(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ze(t[0])||t[0]<n)&&(i[0]=n),(!ze(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},$ce=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=wh(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Hce=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=wh(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Kce={sign:$ce,expand:cY,none:au,silhouette:AY,wiggle:uY,positive:Hce},Vce=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=Kce[n],o=lY().keys(a).value(function(l,c){return+kn(l,c,0)}).order(zy).offset(i);return o(t)},zce=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},A=l.reduce(function(d,h){var f,g=(f=h.type)!==null&&f!==void 0&&f.defaultProps?en(en({},h.type.defaultProps),h.props):h.props,p=g.stackId,b=g.hide;if(b)return d;var m=g[n],x=d[m]||{hasStack:!1,stackGroups:{}};if(On(p)){var y=x.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};y.items.push(h),x.hasStack=!0,x.stackGroups[p]=y}else x.stackGroups[$u("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return en(en({},d),{},XA({},m,x))},c),u={};return Object.keys(A).reduce(function(d,h){var f=A[h];if(f.hasStack){var g={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(p,b){var m=f.stackGroups[b];return en(en({},p),{},XA({},b,{numericAxisId:n,cateAxisId:a,items:m.items,stackedData:Vce(t,m.items,i)}))},g)}return en(en({},d),{},XA({},h,f))},u)},aI=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var A=t.domain();if(!A.length)return null;var u=ice(A,i,l);return t.domain([y0(u),b0(u)]),{niceTicks:u}}if(i&&a==="number"){var d=t.domain(),h=oce(d,i,l);return{niceTicks:h}}return null};function ZB(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!kt(a[t.dataKey])){var l=cg(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=kn(a,kt(o)?t.dataKey:o);return kt(c)?null:t.scale(c)}var eS=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=kn(o,r.dataKey,r.domain[l]);return kt(c)?null:r.scale(c)-i/2+a},Gce=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},qce=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?en(en({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(On(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Wce=function(t){return t.reduce(function(r,n){return[y0(n.concat([r[0]]).filter(ze)),b0(n.concat([r[1]]).filter(ze))]},[1/0,-1/0])},iI=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(A,u){var d=Wce(u.slice(r,n+1));return[Math.min(A[0],d[0]),Math.max(A[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},tS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ww=function(t,r,n){if(Et(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ze(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(tS.test(t[0])){var i=+tS.exec(t[0])[1];a[0]=r[0]-i}else Et(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ze(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(rS.test(t[1])){var o=+rS.exec(t[1])[1];a[1]=r[1]+o}else Et(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Lg=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=V2(r,function(d){return d.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var A=i[l],u=i[l-1];o=Math.min((A.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},nS=function(t,r,n){return!t||!t.length||Th(t,na(n,"type.defaultProps.domain"))?r:t},oI=function(t,r){var n=t.type.defaultProps?en(en({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,A=n.chartType,u=n.hide;return en(en({},bt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:gj(t),value:kn(r,a),type:c,payload:r,chartType:A,hide:u})};function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){lI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lI(e,t,r){return t=Yce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yce(e){var t=Xce(e,"string");return zf(t)=="symbol"?t:t+""}function Xce(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jce(e,t){return rAe(e)||tAe(e,t)||eAe(e,t)||Zce()}function Zce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eAe(e,t){if(e){if(typeof e=="string")return aS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aS(e,t)}}function aS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){A=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function rAe(e){if(Array.isArray(e))return e}var Qg=Math.PI/180,nAe=function(t){return t*180/Math.PI},kr=function(t,r,n,a){return{x:t+Math.cos(-Qg*a)*n,y:r+Math.sin(-Qg*a)*n}},cI=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},sAe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,A=t.endAngle,u=Cs(t.cx,o,o/2),d=Cs(t.cy,l,l/2),h=cI(o,l,n),f=Cs(t.innerRadius,h,0),g=Cs(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(b,m){var x=r[m],y=x.domain,w=x.reversed,N;if(kt(x.range))a==="angleAxis"?N=[c,A]:a==="radiusAxis"&&(N=[f,g]),w&&(N=[N[1],N[0]]);else{N=x.range;var B=N,F=Jce(B,2);c=F[0],A=F[1]}var E=nI(x,i),P=E.realScaleType,Q=E.scale;Q.domain(y).range(N),sI(Q);var U=aI(Q,ho(ho({},x),{},{realScaleType:P})),T=ho(ho(ho({},x),U),{},{range:N,radius:g,realScaleType:P,scale:Q,cx:u,cy:d,innerRadius:f,outerRadius:g,startAngle:c,endAngle:A});return ho(ho({},b),{},lI({},m,T))},{})},aAe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},iAe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=aAe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,A=Math.acos(c);return a>o&&(A=2*Math.PI-A),{radius:l,angle:nAe(A),angleInRadian:A}},oAe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},lAe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},iS=function(t,r){var n=t.x,a=t.y,i=iAe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,A=r.outerRadius;if(o<c||o>A)return!1;if(o===0)return!0;var u=oAe(r),d=u.startAngle,h=u.endAngle,f=l,g;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;g=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;g=f>=h&&f<=d}return g?ho(ho({},r),{},{radius:o,angle:lAe(f,r)}):null},AI=function(t){return!C.isValidElement(t)&&!Et(t)&&typeof t!="boolean"?t.className:""};function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}var cAe=["offset"];function AAe(e){return hAe(e)||fAe(e)||dAe(e)||uAe()}function uAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dAe(e,t){if(e){if(typeof e=="string")return jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jw(e,t)}}function fAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hAe(e){if(Array.isArray(e))return jw(e)}function jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mAe(e,t){if(e==null)return{};var r=pAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){gAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gAe(e,t,r){return t=xAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xAe(e){var t=vAe(e,"string");return Gf(t)=="symbol"?t:t+""}function vAe(e,t){if(Gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qf.apply(this,arguments)}var bAe=function(t){var r=t.value,n=t.formatter,a=kt(t.children)?r:t.children;return Et(n)?n(a):a},yAe=function(t,r){var n=Ns(r-t),a=Math.min(Math.abs(r-t),360);return n*a},wAe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,A=c.cx,u=c.cy,d=c.innerRadius,h=c.outerRadius,f=c.startAngle,g=c.endAngle,p=c.clockWise,b=(d+h)/2,m=yAe(f,g),x=m>=0?1:-1,y,w;a==="insideStart"?(y=f+x*o,w=p):a==="insideEnd"?(y=g-x*o,w=!p):a==="end"&&(y=g+x*o,w=p),w=m<=0?w:!w;var N=kr(A,u,b,y),B=kr(A,u,b,y+(w?1:-1)*359),F="M".concat(N.x,",").concat(N.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(w?0:1,`,
    `).concat(B.x,",").concat(B.y),E=kt(t.id)?$u("recharts-radial-line-"):t.id;return fe.createElement("text",qf({},n,{dominantBaseline:"central",className:_t("recharts-radial-bar-label",l)}),fe.createElement("defs",null,fe.createElement("path",{id:E,d:F})),fe.createElement("textPath",{xlinkHref:"#".concat(E)},r))},jAe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,A=i.outerRadius,u=i.startAngle,d=i.endAngle,h=(u+d)/2;if(a==="outside"){var f=kr(o,l,A+n,h),g=f.x,p=f.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+A)/2,m=kr(o,l,b,h),x=m.x,y=m.y;return{x,y,textAnchor:"middle",verticalAnchor:"middle"}},NAe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,A=o.width,u=o.height,d=u>=0?1:-1,h=d*a,f=d>0?"end":"start",g=d>0?"start":"end",p=A>=0?1:-1,b=p*a,m=p>0?"end":"start",x=p>0?"start":"end";if(i==="top"){var y={x:l+A/2,y:c-d*a,textAnchor:"middle",verticalAnchor:f};return Fn(Fn({},y),n?{height:Math.max(c-n.y,0),width:A}:{})}if(i==="bottom"){var w={x:l+A/2,y:c+u+h,textAnchor:"middle",verticalAnchor:g};return Fn(Fn({},w),n?{height:Math.max(n.y+n.height-(c+u),0),width:A}:{})}if(i==="left"){var N={x:l-b,y:c+u/2,textAnchor:m,verticalAnchor:"middle"};return Fn(Fn({},N),n?{width:Math.max(N.x-n.x,0),height:u}:{})}if(i==="right"){var B={x:l+A+b,y:c+u/2,textAnchor:x,verticalAnchor:"middle"};return Fn(Fn({},B),n?{width:Math.max(n.x+n.width-B.x,0),height:u}:{})}var F=n?{width:A,height:u}:{};return i==="insideLeft"?Fn({x:l+b,y:c+u/2,textAnchor:x,verticalAnchor:"middle"},F):i==="insideRight"?Fn({x:l+A-b,y:c+u/2,textAnchor:m,verticalAnchor:"middle"},F):i==="insideTop"?Fn({x:l+A/2,y:c+h,textAnchor:"middle",verticalAnchor:g},F):i==="insideBottom"?Fn({x:l+A/2,y:c+u-h,textAnchor:"middle",verticalAnchor:f},F):i==="insideTopLeft"?Fn({x:l+b,y:c+h,textAnchor:x,verticalAnchor:g},F):i==="insideTopRight"?Fn({x:l+A-b,y:c+h,textAnchor:m,verticalAnchor:g},F):i==="insideBottomLeft"?Fn({x:l+b,y:c+u-h,textAnchor:x,verticalAnchor:f},F):i==="insideBottomRight"?Fn({x:l+A-b,y:c+u-h,textAnchor:m,verticalAnchor:f},F):Lu(i)&&(ze(i.x)||pc(i.x))&&(ze(i.y)||pc(i.y))?Fn({x:l+Cs(i.x,A),y:c+Cs(i.y,u),textAnchor:"end",verticalAnchor:"end"},F):Fn({x:l+A/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},F)},CAe=function(t){return"cx"in t&&ze(t.cx)};function Rn(e){var t=e.offset,r=t===void 0?5:t,n=mAe(e,cAe),a=Fn({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,A=a.content,u=a.className,d=u===void 0?"":u,h=a.textBreakAll;if(!i||kt(l)&&kt(c)&&!C.isValidElement(A)&&!Et(A))return null;if(C.isValidElement(A))return C.cloneElement(A,a);var f;if(Et(A)){if(f=C.createElement(A,a),C.isValidElement(f))return f}else f=bAe(a);var g=CAe(i),p=bt(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return wAe(a,f,p);var b=g?jAe(a):NAe(a);return fe.createElement(Lc,qf({className:_t("recharts-label",d)},p,b,{breakAll:h}),f)}Rn.displayName="Label";var uI=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,A=t.innerRadius,u=t.outerRadius,d=t.x,h=t.y,f=t.top,g=t.left,p=t.width,b=t.height,m=t.clockWise,x=t.labelViewBox;if(x)return x;if(ze(p)&&ze(b)){if(ze(d)&&ze(h))return{x:d,y:h,width:p,height:b};if(ze(f)&&ze(g))return{x:f,y:g,width:p,height:b}}return ze(d)&&ze(h)?{x:d,y:h,width:0,height:0}:ze(r)&&ze(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:A||0,outerRadius:u||c||l||0,clockWise:m}:t.viewBox?t.viewBox:{}},BAe=function(t,r){return t?t===!0?fe.createElement(Rn,{key:"label-implicit",viewBox:r}):On(t)?fe.createElement(Rn,{key:"label-implicit",viewBox:r,value:t}):C.isValidElement(t)?t.type===Rn?C.cloneElement(t,{key:"label-implicit",viewBox:r}):fe.createElement(Rn,{key:"label-implicit",content:t,viewBox:r}):Et(t)?fe.createElement(Rn,{key:"label-implicit",content:t,viewBox:r}):Lu(t)?fe.createElement(Rn,qf({viewBox:r},t,{key:"label-implicit"})):null:null},SAe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=uI(t),o=sa(a,Rn).map(function(c,A){return C.cloneElement(c,{viewBox:r||i,key:"label-".concat(A)})});if(!n)return o;var l=BAe(t.label,r||i);return[l].concat(AAe(o))};Rn.parseViewBox=uI;Rn.renderCallByParent=SAe;function EAe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var FAe=EAe;const TAe=nr(FAe);function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}var PAe=["valueAccessor"],kAe=["data","dataKey","clockWise","id","textBreakAll"];function OAe(e){return DAe(e)||_Ae(e)||UAe(e)||IAe()}function IAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UAe(e,t){if(e){if(typeof e=="string")return Nw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nw(e,t)}}function _Ae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DAe(e){if(Array.isArray(e))return Nw(e)}function Nw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){LAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LAe(e,t,r){return t=QAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QAe(e){var t=RAe(e,"string");return Wf(t)=="symbol"?t:t+""}function RAe(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AS(e,t){if(e==null)return{};var r=MAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $Ae=function(t){return Array.isArray(t.value)?TAe(t.value):t.value};function wo(e){var t=e.valueAccessor,r=t===void 0?$Ae:t,n=AS(e,PAe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,A=AS(n,kAe);return!a||!a.length?null:fe.createElement(er,{className:"recharts-label-list"},a.map(function(u,d){var h=kt(i)?r(u,d):kn(u&&u.payload,i),f=kt(l)?{}:{id:"".concat(l,"-").concat(d)};return fe.createElement(Rn,Rg({},bt(u,!0),A,f,{parentViewBox:u.parentViewBox,value:h,textBreakAll:c,viewBox:Rn.parseViewBox(kt(o)?u:cS(cS({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}wo.displayName="LabelList";function HAe(e,t){return e?e===!0?fe.createElement(wo,{key:"labelList-implicit",data:t}):fe.isValidElement(e)||Et(e)?fe.createElement(wo,{key:"labelList-implicit",data:t,content:e}):Lu(e)?fe.createElement(wo,Rg({data:t},e,{key:"labelList-implicit"})):null:null}function KAe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=sa(n,wo).map(function(o,l){return C.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=HAe(e.label,t);return[i].concat(OAe(a))}wo.renderCallByParent=KAe;function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cw.apply(this,arguments)}function uS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uS(Object(r),!0).forEach(function(n){VAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VAe(e,t,r){return t=zAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zAe(e){var t=GAe(e,"string");return Yf(t)=="symbol"?t:t+""}function GAe(e,t){if(Yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qAe=function(t,r){var n=Ns(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Qm=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,A=t.cornerIsExternal,u=c*(l?1:-1)+a,d=Math.asin(c/u)/Qg,h=A?i:i+o*d,f=kr(r,n,u,h),g=kr(r,n,a,h),p=A?i-o*d:i,b=kr(r,n,u*Math.cos(d*Qg),p);return{center:f,circleTangency:g,lineTangency:b,theta:d}},dI=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=qAe(o,l),A=o+c,u=kr(r,n,i,o),d=kr(r,n,i,A),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>A),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var f=kr(r,n,a,o),g=kr(r,n,a,A);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=A),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},WAe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,A=t.startAngle,u=t.endAngle,d=Ns(u-A),h=Qm({cx:r,cy:n,radius:i,angle:A,sign:d,cornerRadius:o,cornerIsExternal:c}),f=h.circleTangency,g=h.lineTangency,p=h.theta,b=Qm({cx:r,cy:n,radius:i,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:c}),m=b.circleTangency,x=b.lineTangency,y=b.theta,w=c?Math.abs(A-u):Math.abs(A-u)-p-y;if(w<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):dI({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:A,endAngle:u});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var B=Qm({cx:r,cy:n,radius:a,angle:A,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),F=B.circleTangency,E=B.lineTangency,P=B.theta,Q=Qm({cx:r,cy:n,radius:a,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),U=Q.circleTangency,T=Q.lineTangency,k=Q.theta,I=c?Math.abs(A-u):Math.abs(A-u)-P-k;if(I<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(d>0),",").concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},YAe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fI=function(t){var r=dS(dS({},YAe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,A=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,h=r.className;if(o<i||u===d)return null;var f=_t("recharts-sector",h),g=o-i,p=Cs(l,g,0,!0),b;return p>0&&Math.abs(u-d)<360?b=WAe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:A,startAngle:u,endAngle:d}):b=dI({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d}),fe.createElement("path",Cw({},bt(r,!0),{className:f,d:b,role:"img"}))};function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bw.apply(this,arguments)}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){XAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XAe(e,t,r){return t=JAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JAe(e){var t=ZAe(e,"string");return Xf(t)=="symbol"?t:t+""}function ZAe(e,t){if(Xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mS={curveBasisClosed:XW,curveBasisOpen:JW,curveBasis:YW,curveBumpX:_W,curveBumpY:DW,curveLinearClosed:ZW,curveLinear:l0,curveMonotoneX:eY,curveMonotoneY:tY,curveNatural:rY,curveStep:nY,curveStepAfter:aY,curveStepBefore:sY},Rm=function(t){return t.x===+t.x&&t.y===+t.y},Ld=function(t){return t.x},Qd=function(t){return t.y},eue=function(t,r){if(Et(t))return t;var n="curve".concat(i0(t));return(n==="curveMonotone"||n==="curveBump")&&r?mS["".concat(n).concat(r==="vertical"?"Y":"X")]:mS[n]||l0},tue=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,A=c===void 0?!1:c,u=eue(n,l),d=A?i.filter(function(p){return Rm(p)}):i,h;if(Array.isArray(o)){var f=A?o.filter(function(p){return Rm(p)}):o,g=d.map(function(p,b){return hS(hS({},p),{},{base:f[b]})});return l==="vertical"?h=Tm().y(Qd).x1(Ld).x0(function(p){return p.base.x}):h=Tm().x(Ld).y1(Qd).y0(function(p){return p.base.y}),h.defined(Rm).curve(u),h(g)}return l==="vertical"&&ze(o)?h=Tm().y(Qd).x1(Ld).x0(o):ze(o)?h=Tm().x(Ld).y1(Qd).y0(o):h=lk().x(Ld).y(Qd),h.defined(Rm).curve(u),h(d)},Mg=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?tue(t):a;return C.createElement("path",Bw({},bt(t,!1),Ag(t),{className:_t("recharts-curve",r),d:o,ref:i}))},hI={exports:{}},rue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nue=rue,sue=nue;function mI(){}function pI(){}pI.resetWarningCache=mI;var aue=function(){function e(n,a,i,o,l,c){if(c!==sue){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:pI,resetWarningCache:mI};return r.PropTypes=r,r};hI.exports=aue();var iue=hI.exports;const ir=nr(iue),{getOwnPropertyNames:oue,getOwnPropertySymbols:lue}=Object,{hasOwnProperty:cue}=Object.prototype;function hb(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Mm(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,a);return i.delete(r),i.delete(n),c}}function Aue(e){return e!=null?e[Symbol.toStringTag]:void 0}function pS(e){return oue(e).concat(lue(e))}const uue=Object.hasOwn||((e,t)=>cue.call(e,t));function Xc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const due="__v",fue="__o",hue="_owner",{getOwnPropertyDescriptor:gS,keys:xS}=Object;function mue(e,t){return e.byteLength===t.byteLength&&$g(new Uint8Array(e),new Uint8Array(t))}function pue(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function gue(e,t){return e.byteLength===t.byteLength&&$g(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function xue(e,t){return Xc(e.getTime(),t.getTime())}function vue(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function bue(e,t){return e===t}function vS(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const A=t.entries();let u=!1,d=0;for(;(l=A.next())&&!l.done;){if(a[d]){d++;continue}const h=o.value,f=l.value;if(r.equals(h[0],f[0],c,d,e,t,r)&&r.equals(h[1],f[1],h[0],f[0],e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1;c++}return!0}const yue=Xc;function wue(e,t,r){const n=xS(e);let a=n.length;if(xS(t).length!==a)return!1;for(;a-- >0;)if(!gI(e,t,r,n[a]))return!1;return!0}function Rd(e,t,r){const n=pS(e);let a=n.length;if(pS(t).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=n[a],!gI(e,t,r,i)||(o=gS(e,i),l=gS(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function jue(e,t){return Xc(e.valueOf(),t.valueOf())}function Nue(e,t){return e.source===t.source&&e.flags===t.flags}function bS(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let A=!1,u=0;for(;(l=c.next())&&!l.done;){if(!a[u]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){A=a[u]=!0;break}u++}if(!A)return!1}return!0}function $g(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Cue(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function gI(e,t,r,n){return(n===hue||n===fue||n===due)&&(e.$$typeof||t.$$typeof)?!0:uue(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const Bue="[object ArrayBuffer]",Sue="[object Arguments]",Eue="[object Boolean]",Fue="[object DataView]",Tue="[object Date]",Pue="[object Error]",kue="[object Map]",Oue="[object Number]",Iue="[object Object]",Uue="[object RegExp]",_ue="[object Set]",Due="[object String]",Lue={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Que="[object URL]",Rue=Object.prototype.toString;function Mue({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:A,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:f,unknownTagComparators:g}){return function(b,m,x){if(b===m)return!0;if(b==null||m==null)return!1;const y=typeof b;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?l(b,m,x):y==="function"?i(b,m,x):!1;const w=b.constructor;if(w!==m.constructor)return!1;if(w===Object)return c(b,m,x);if(Array.isArray(b))return t(b,m,x);if(w===Date)return n(b,m,x);if(w===RegExp)return u(b,m,x);if(w===Map)return o(b,m,x);if(w===Set)return d(b,m,x);const N=Rue.call(b);if(N===Tue)return n(b,m,x);if(N===Uue)return u(b,m,x);if(N===kue)return o(b,m,x);if(N===_ue)return d(b,m,x);if(N===Iue)return typeof b.then!="function"&&typeof m.then!="function"&&c(b,m,x);if(N===Que)return f(b,m,x);if(N===Pue)return a(b,m,x);if(N===Sue)return c(b,m,x);if(Lue[N])return h(b,m,x);if(N===Bue)return e(b,m,x);if(N===Fue)return r(b,m,x);if(N===Eue||N===Oue||N===Due)return A(b,m,x);if(g){let B=g[N];if(!B){const F=Aue(b);F&&(B=g[F])}if(B)return B(b,m,x)}return!1}}function $ue({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:mue,areArraysEqual:r?Rd:pue,areDataViewsEqual:gue,areDatesEqual:xue,areErrorsEqual:vue,areFunctionsEqual:bue,areMapsEqual:r?hb(vS,Rd):vS,areNumbersEqual:yue,areObjectsEqual:r?Rd:wue,arePrimitiveWrappersEqual:jue,areRegExpsEqual:Nue,areSetsEqual:r?hb(bS,Rd):bS,areTypedArraysEqual:r?hb($g,Rd):$g,areUrlsEqual:Cue,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Mm(n.areArraysEqual),i=Mm(n.areMapsEqual),o=Mm(n.areObjectsEqual),l=Mm(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function Hue(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function Kue({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:A=e?new WeakMap:void 0,meta:u}=r();return t(l,c,{cache:A,equals:n,meta:u,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const Vue=Il();Il({strict:!0});Il({circular:!0});Il({circular:!0,strict:!0});Il({createInternalComparator:()=>Xc});Il({strict:!0,createInternalComparator:()=>Xc});Il({circular:!0,createInternalComparator:()=>Xc});Il({circular:!0,createInternalComparator:()=>Xc,strict:!0});function Il(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=$ue(e),o=Mue(i),l=r?r(o):Hue(o);return Kue({circular:t,comparator:o,createState:n,equals:l,strict:a})}function zue(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function yS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):zue(a)};requestAnimationFrame(n)}function Sw(e){"@babel/helpers - typeof";return Sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sw(e)}function Gue(e){return Xue(e)||Yue(e)||Wue(e)||que()}function que(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wue(e,t){if(e){if(typeof e=="string")return wS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wS(e,t)}}function wS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xue(e){if(Array.isArray(e))return e}function Jue(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Gue(o),c=l[0],A=l.slice(1);if(typeof c=="number"){yS(a.bind(null,A),c);return}a(c),yS(a.bind(null,A));return}Sw(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function jS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(r),!0).forEach(function(n){xI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xI(e,t,r){return t=Zue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zue(e){var t=ede(e,"string");return Jf(t)==="symbol"?t:String(t)}function ede(e,t){if(Jf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tde=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},rde=function(t){return t},nde=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},df=function(t,r){return Object.keys(r).reduce(function(n,a){return NS(NS({},n),{},xI({},a,t(a,r[a])))},{})},CS=function(t,r,n){return t.map(function(a){return"".concat(nde(a)," ").concat(r,"ms ").concat(n)}).join(",")};function sde(e,t){return ode(e)||ide(e,t)||vI(e,t)||ade()}function ade(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ide(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){A=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function ode(e){if(Array.isArray(e))return e}function lde(e){return ude(e)||Ade(e)||vI(e)||cde()}function cde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vI(e,t){if(e){if(typeof e=="string")return Ew(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ew(e,t)}}function Ade(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ude(e){if(Array.isArray(e))return Ew(e)}function Ew(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Hg=1e-4,bI=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},yI=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},BS=function(t,r){return function(n){var a=bI(t,r);return yI(a,n)}},dde=function(t,r){return function(n){var a=bI(t,r),i=[].concat(lde(a.map(function(o,l){return o*l}).slice(1)),[0]);return yI(i,n)}},SS=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var A=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),u=sde(A,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var d=BS(a,o),h=BS(i,l),f=dde(a,o),g=function(m){return m>1?1:m<0?0:m},p=function(m){for(var x=m>1?1:m,y=x,w=0;w<8;++w){var N=d(y)-x,B=f(y);if(Math.abs(N-x)<Hg||B<Hg)return h(y);y=g(y-N/B)}return h(y)};return p.isStepper=!1,p},fde=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(u,d,h){var f=-(u-d)*n,g=h*i,p=h+(f-g)*l/1e3,b=h*l/1e3+u;return Math.abs(b-d)<Hg&&Math.abs(p)<Hg?[d,0]:[b,p]};return c.isStepper=!0,c.dt=l,c},hde=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SS(a);case"spring":return fde();default:if(a.split("(")[0]==="cubic-bezier")return SS(a)}return typeof a=="function"?a:null};function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function ES(e){return gde(e)||pde(e)||wI(e)||mde()}function mde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gde(e){if(Array.isArray(e))return Tw(e)}function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(n){Fw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fw(e,t,r){return t=xde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xde(e){var t=vde(e,"string");return Zf(t)==="symbol"?t:String(t)}function vde(e,t){if(Zf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bde(e,t){return jde(e)||wde(e,t)||wI(e,t)||yde()}function yde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wI(e,t){if(e){if(typeof e=="string")return Tw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tw(e,t)}}function Tw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){A=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function jde(e){if(Array.isArray(e))return e}var Kg=function(t,r,n){return t+(r-t)*n},Pw=function(t){var r=t.from,n=t.to;return r!==n},Nde=function e(t,r,n){var a=df(function(i,o){if(Pw(o)){var l=t(o.from,o.to,o.velocity),c=bde(l,2),A=c[0],u=c[1];return Wn(Wn({},o),{},{from:A,velocity:u})}return o},r);return n<1?df(function(i,o){return Pw(o)?Wn(Wn({},o),{},{velocity:Kg(o.velocity,a[i].velocity,n),from:Kg(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const Cde=function(e,t,r,n,a){var i=tde(e,t),o=i.reduce(function(b,m){return Wn(Wn({},b),{},Fw({},m,[e[m],t[m]]))},{}),l=i.reduce(function(b,m){return Wn(Wn({},b),{},Fw({},m,{from:e[m],velocity:0,to:t[m]}))},{}),c=-1,A,u,d=function(){return null},h=function(){return df(function(m,x){return x.from},l)},f=function(){return!Object.values(l).filter(Pw).length},g=function(m){A||(A=m);var x=m-A,y=x/r.dt;l=Nde(r,l,y),a(Wn(Wn(Wn({},e),t),h())),A=m,f()||(c=requestAnimationFrame(d))},p=function(m){u||(u=m);var x=(m-u)/n,y=df(function(N,B){return Kg.apply(void 0,ES(B).concat([r(x)]))},o);if(a(Wn(Wn(Wn({},e),t),y)),x<1)c=requestAnimationFrame(d);else{var w=df(function(N,B){return Kg.apply(void 0,ES(B).concat([r(1)]))},o);a(Wn(Wn(Wn({},e),t),w))}};return d=r.isStepper?g:p,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}var Bde=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Sde(e,t){if(e==null)return{};var r=Ede(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ede(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function mb(e){return kde(e)||Pde(e)||Tde(e)||Fde()}function Fde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tde(e,t){if(e){if(typeof e=="string")return kw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kw(e,t)}}function Pde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kde(e){if(Array.isArray(e))return kw(e)}function kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){Yd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yd(e,t,r){return t=jI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ode(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ide(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jI(n.key),n)}}function Ude(e,t,r){return t&&Ide(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jI(e){var t=_de(e,"string");return hu(t)==="symbol"?t:String(t)}function _de(e,t){if(hu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ow(e,t)}function Ow(e,t){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ow(e,t)}function Lde(e){var t=Qde();return function(){var n=Vg(e),a;if(t){var i=Vg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Iw(this,a)}}function Iw(e,t){if(t&&(hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uw(e)}function Uw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qde(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vg(e){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vg(e)}var Ii=function(e){Dde(r,e);var t=Lde(r);function r(n,a){var i;Ode(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,A=o.from,u=o.to,d=o.steps,h=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Uw(i)),i.changeStyle=i.changeStyle.bind(Uw(i)),!l||f<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),Iw(i);if(d&&d.length)i.state={style:d[0].style};else if(A){if(typeof h=="function")return i.state={style:A},Iw(i);i.state={style:c?Yd({},c,A):A}}else i.state={style:{}};return i}return Ude(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,A=i.shouldReAnimate,u=i.to,d=i.from,h=this.state.style;if(l){if(!o){var f={style:c?Yd({},c,u):u};this.state&&h&&(c&&h[c]!==u||!c&&h!==u)&&this.setState(f);return}if(!(Vue(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||A?d:a.to;if(this.state&&h){var b={style:c?Yd({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(b)}this.runAnimation(Ra(Ra({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,A=a.easing,u=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,f=Cde(o,l,hde(A),c,this.changeStyle),g=function(){i.stopJSAnimation=f()};this.manager.start([h,u,g,c,d])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,A=o[0],u=A.style,d=A.duration,h=d===void 0?0:d,f=function(p,b,m){if(m===0)return p;var x=b.duration,y=b.easing,w=y===void 0?"ease":y,N=b.style,B=b.properties,F=b.onAnimationEnd,E=m>0?o[m-1]:b,P=B||Object.keys(N);if(typeof w=="function"||w==="spring")return[].concat(mb(p),[i.runJSAnimation.bind(i,{from:E.style,to:N,duration:x,easing:w}),x]);var Q=CS(P,x,w),U=Ra(Ra(Ra({},E.style),N),{},{transition:Q});return[].concat(mb(p),[U,x,F]).filter(rde)};return this.manager.start([c].concat(mb(o.reduce(f,[u,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Jue());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,A=a.easing,u=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,f=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof A=="function"||typeof f=="function"||A==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?Yd({},l,c):c,b=CS(Object.keys(p),o,A);g.start([u,i,Ra(Ra({},p),{},{transition:b}),o,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Sde(a,Bde),A=C.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||A===0||o<=0)return i;var d=function(f){var g=f.props,p=g.style,b=p===void 0?{}:p,m=g.className,x=C.cloneElement(f,Ra(Ra({},c),{},{style:Ra(Ra({},b),u),className:m}));return x};return A===1?d(C.Children.only(i)):fe.createElement("div",null,C.Children.map(i,function(h){return d(h)}))}}]),r}(C.PureComponent);Ii.displayName="Animate";Ii.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ii.propTypes={from:ir.oneOfType([ir.object,ir.string]),to:ir.oneOfType([ir.object,ir.string]),attributeName:ir.string,duration:ir.number,begin:ir.number,easing:ir.oneOfType([ir.string,ir.func]),steps:ir.arrayOf(ir.shape({duration:ir.number.isRequired,style:ir.object.isRequired,easing:ir.oneOfType([ir.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ir.func]),properties:ir.arrayOf("string"),onAnimationEnd:ir.func})),children:ir.oneOfType([ir.node,ir.func]),isActive:ir.bool,canBegin:ir.bool,onAnimationEnd:ir.func,shouldReAnimate:ir.bool,onAnimationStart:ir.func,onAnimationReStart:ir.func};function eh(e){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eh(e)}function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(this,arguments)}function Rde(e,t){return Kde(e)||Hde(e,t)||$de(e,t)||Mde()}function Mde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $de(e,t){if(e){if(typeof e=="string")return PS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PS(e,t)}}function PS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){A=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function Kde(e){if(Array.isArray(e))return e}function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){Vde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vde(e,t,r){return t=zde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zde(e){var t=Gde(e,"string");return eh(t)=="symbol"?t:t+""}function Gde(e,t){if(eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IS=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,A=a>=0&&n>=0||a<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=i[h]>o?o:i[h];u="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(A,",").concat(t+c*d[0],",").concat(r)),u+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(A,`,
        `).concat(t+n,",").concat(r+l*d[1])),u+="L ".concat(t+n,",").concat(r+a-l*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(A,`,
        `).concat(t+n-c*d[2],",").concat(r+a)),u+="L ".concat(t+c*d[3],",").concat(r+a),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(A,`,
        `).concat(t,",").concat(r+a-l*d[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);u="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t,",").concat(r+a-l*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},qde=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var A=Math.min(i,i+l),u=Math.max(i,i+l),d=Math.min(o,o+c),h=Math.max(o,o+c);return n>=A&&n<=u&&a>=d&&a<=h}return!1},Wde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xj=function(t){var r=OS(OS({},Wde),t),n=C.useRef(),a=C.useState(-1),i=Rde(a,2),o=i[0],l=i[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,A=r.y,u=r.width,d=r.height,h=r.radius,f=r.className,g=r.animationEasing,p=r.animationDuration,b=r.animationBegin,m=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||A!==+A||u!==+u||d!==+d||u===0||d===0)return null;var y=_t("recharts-rectangle",f);return x?fe.createElement(Ii,{canBegin:o>0,from:{width:u,height:d,x:c,y:A},to:{width:u,height:d,x:c,y:A},duration:p,animationEasing:g,isActive:x},function(w){var N=w.width,B=w.height,F=w.x,E=w.y;return fe.createElement(Ii,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:p,isActive:m,easing:g},fe.createElement("path",zg({},bt(r,!0),{className:y,d:IS(F,E,N,B,h),ref:n})))}):fe.createElement("path",zg({},bt(r,!0),{className:y,d:IS(c,A,u,d,h)}))},Yde=["points","className","baseLinePoints","connectNulls"];function LA(){return LA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LA.apply(this,arguments)}function Xde(e,t){if(e==null)return{};var r=Jde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function US(e){return rfe(e)||tfe(e)||efe(e)||Zde()}function Zde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function efe(e,t){if(e){if(typeof e=="string")return _w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _w(e,t)}}function tfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rfe(e){if(Array.isArray(e))return _w(e)}function _w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _S=function(t){return t&&t.x===+t.x&&t.y===+t.y},nfe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){_S(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),_S(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ff=function(t,r){var n=nfe(t);r&&(n=[n.reduce(function(i,o){return[].concat(US(i),US(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},sfe=function(t,r,n){var a=ff(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(ff(r.reverse(),n).slice(1))},afe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Xde(t,Yde);if(!r||!r.length)return null;var l=_t("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",A=sfe(r,a,i);return fe.createElement("g",{className:l},fe.createElement("path",LA({},bt(o,!0),{fill:A.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:A})),c?fe.createElement("path",LA({},bt(o,!0),{fill:"none",d:ff(r,i)})):null,c?fe.createElement("path",LA({},bt(o,!0),{fill:"none",d:ff(a,i)})):null)}var u=ff(r,i);return fe.createElement("path",LA({},bt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dw.apply(this,arguments)}var N0=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=_t("recharts-dot",i);return r===+r&&n===+n&&a===+a?C.createElement("circle",Dw({},bt(t,!1),Ag(t),{className:o,cx:r,cy:n,r:a})):null};function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}var ife=["x","y","top","left","width","height","className"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lw.apply(this,arguments)}function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ofe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(n){lfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lfe(e,t,r){return t=cfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cfe(e){var t=Afe(e,"string");return th(t)=="symbol"?t:t+""}function Afe(e,t){if(th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ufe(e,t){if(e==null)return{};var r=dfe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ffe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},hfe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,A=c===void 0?0:c,u=t.width,d=u===void 0?0:u,h=t.height,f=h===void 0?0:h,g=t.className,p=ufe(t,ife),b=ofe({x:n,y:i,top:l,left:A,width:d,height:f},p);return!ze(n)||!ze(i)||!ze(d)||!ze(f)||!ze(l)||!ze(A)?null:fe.createElement("path",Lw({},bt(b,!0),{className:_t("recharts-cross",g),d:ffe(n,i,d,f,l,A)}))},mfe=v0,pfe=UO,gfe=Di;function xfe(e,t){return e&&e.length?mfe(e,gfe(t),pfe):void 0}var vfe=xfe;const bfe=nr(vfe);var yfe=v0,wfe=Di,jfe=_O;function Nfe(e,t){return e&&e.length?yfe(e,wfe(t),jfe):void 0}var Cfe=Nfe;const Bfe=nr(Cfe);var Sfe=["cx","cy","angle","ticks","axisLine"],Efe=["ticks","tick","angle","tickFormatter","stroke"];function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hf.apply(this,arguments)}function LS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(r),!0).forEach(function(n){C0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QS(e,t){if(e==null)return{};var r=Ffe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ffe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CI(n.key),n)}}function Pfe(e,t,r){return t&&RS(e.prototype,t),r&&RS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kfe(e,t,r){return t=Gg(t),Ofe(e,NI()?Reflect.construct(t,r||[],Gg(e).constructor):t.apply(e,r))}function Ofe(e,t){if(t&&(mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ife(e)}function Ife(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NI=function(){return!!e})()}function Gg(e){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(e)}function Ufe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qw(e,t)}function Qw(e,t){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qw(e,t)}function C0(e,t,r){return t=CI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CI(e){var t=_fe(e,"string");return mu(t)=="symbol"?t:t+""}function _fe(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var B0=function(e){function t(){return Tfe(this,t),kfe(this,t,arguments)}return Ufe(t,e),Pfe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return kr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=bfe(l,function(u){return u.coordinate||0}),A=Bfe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:A.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,A=QS(n,Sfe),u=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),d=kr(a,i,u[0],o),h=kr(a,i,u[1],o),f=sc(sc(sc({},bt(A,!1)),{},{fill:"none"},bt(c,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return fe.createElement("line",hf({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,A=a.stroke,u=QS(a,Efe),d=this.getTickTextAnchor(),h=bt(u,!1),f=bt(o,!1),g=i.map(function(p,b){var m=n.getTickValueCoord(p),x=sc(sc(sc(sc({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(m.x,", ").concat(m.y,")")},h),{},{stroke:"none",fill:A},f),{},{index:b},m),{},{payload:p});return fe.createElement(er,hf({className:_t("recharts-polar-radius-axis-tick",AI(o)),key:"tick-".concat(p.coordinate)},Dc(n.props,p,b)),t.renderTickItem(o,x,c?c(p.value,b):p.value))});return fe.createElement(er,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:fe.createElement(er,{className:_t("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Rn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return fe.isValidElement(n)?o=fe.cloneElement(n,a):Et(n)?o=n(a):o=fe.createElement(Lc,hf({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(C.PureComponent);C0(B0,"displayName","PolarRadiusAxis");C0(B0,"axisType","radiusAxis");C0(B0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dc.apply(this,arguments)}function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){S0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SI(n.key),n)}}function Lfe(e,t,r){return t&&$S(e.prototype,t),r&&$S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qfe(e,t,r){return t=qg(t),Rfe(e,BI()?Reflect.construct(t,r||[],qg(e).constructor):t.apply(e,r))}function Rfe(e,t){if(t&&(pu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mfe(e)}function Mfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BI=function(){return!!e})()}function qg(e){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qg(e)}function $fe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rw(e,t)}function Rw(e,t){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rw(e,t)}function S0(e,t,r){return t=SI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SI(e){var t=Hfe(e,"string");return pu(t)=="symbol"?t:t+""}function Hfe(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kfe=Math.PI/180,HS=1e-5,E0=function(e){function t(){return Dfe(this,t),Qfe(this,t,arguments)}return $fe(t,e),Lfe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,A=a.tickSize,u=A||8,d=kr(i,o,l,n.coordinate),h=kr(i,o,l+(c==="inner"?-1:1)*u,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Kfe),o;return i>HS?o=a==="outer"?"start":"end":i<-HS?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,A=ac(ac({},bt(this.props,!1)),{},{fill:"none"},bt(l,!1));if(c==="circle")return fe.createElement(N0,dc({className:"recharts-polar-angle-axis-line"},A,{cx:a,cy:i,r:o}));var u=this.props.ticks,d=u.map(function(h){return kr(a,i,o,h.coordinate)});return fe.createElement(afe,dc({className:"recharts-polar-angle-axis-line"},A,{points:d}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,A=a.stroke,u=bt(this.props,!1),d=bt(o,!1),h=ac(ac({},u),{},{fill:"none"},bt(l,!1)),f=i.map(function(g,p){var b=n.getTickLineCoord(g),m=n.getTickTextAnchor(g),x=ac(ac(ac({textAnchor:m},u),{},{stroke:"none",fill:A},d),{},{index:p,payload:g,x:b.x2,y:b.y2});return fe.createElement(er,dc({className:_t("recharts-polar-angle-axis-tick",AI(o)),key:"tick-".concat(g.coordinate)},Dc(n.props,g,p)),l&&fe.createElement("line",dc({className:"recharts-polar-angle-axis-tick-line"},h,b)),o&&t.renderTickItem(o,x,c?c(g.value,p):g.value))});return fe.createElement(er,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:fe.createElement(er,{className:_t("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return fe.isValidElement(n)?o=fe.cloneElement(n,a):Et(n)?o=n(a):o=fe.createElement(Lc,dc({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(C.PureComponent);S0(E0,"displayName","PolarAngleAxis");S0(E0,"axisType","angleAxis");S0(E0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Vfe=kk,zfe=Vfe(Object.getPrototypeOf,Object),Gfe=zfe,qfe=Oo,Wfe=Gfe,Yfe=Io,Xfe="[object Object]",Jfe=Function.prototype,Zfe=Object.prototype,EI=Jfe.toString,ehe=Zfe.hasOwnProperty,the=EI.call(Object);function rhe(e){if(!Yfe(e)||qfe(e)!=Xfe)return!1;var t=Wfe(e);if(t===null)return!0;var r=ehe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&EI.call(r)==the}var nhe=rhe;const she=nr(nhe);var ahe=Oo,ihe=Io,ohe="[object Boolean]";function lhe(e){return e===!0||e===!1||ihe(e)&&ahe(e)==ohe}var che=lhe;const Ahe=nr(che);function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(this,arguments)}function uhe(e,t){return mhe(e)||hhe(e,t)||fhe(e,t)||dhe()}function dhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fhe(e,t){if(e){if(typeof e=="string")return KS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KS(e,t)}}function KS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){A=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function mhe(e){if(Array.isArray(e))return e}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){phe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function phe(e,t,r){return t=ghe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ghe(e){var t=xhe(e,"string");return rh(t)=="symbol"?t:t+""}function xhe(e,t){if(rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GS=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},vhe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bhe=function(t){var r=zS(zS({},vhe),t),n=C.useRef(),a=C.useState(-1),i=uhe(a,2),o=i[0],l=i[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&l(y)}catch{}},[]);var c=r.x,A=r.y,u=r.upperWidth,d=r.lowerWidth,h=r.height,f=r.className,g=r.animationEasing,p=r.animationDuration,b=r.animationBegin,m=r.isUpdateAnimationActive;if(c!==+c||A!==+A||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var x=_t("recharts-trapezoid",f);return m?fe.createElement(Ii,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:A},to:{upperWidth:u,lowerWidth:d,height:h,x:c,y:A},duration:p,animationEasing:g,isActive:m},function(y){var w=y.upperWidth,N=y.lowerWidth,B=y.height,F=y.x,E=y.y;return fe.createElement(Ii,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:p,easing:g},fe.createElement("path",Wg({},bt(r,!0),{className:x,d:GS(F,E,w,N,B),ref:n})))}):fe.createElement("g",null,fe.createElement("path",Wg({},bt(r,!0),{className:x,d:GS(c,A,u,d,h)})))},yhe=["option","shapeType","propTransformer","activeClassName","isActive"];function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function whe(e,t){if(e==null)return{};var r=jhe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(n){Nhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nhe(e,t,r){return t=Che(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Che(e){var t=Bhe(e,"string");return nh(t)=="symbol"?t:t+""}function Bhe(e,t){if(nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function She(e,t){return Yg(Yg({},t),e)}function Ehe(e,t){return e==="symbols"}function WS(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return fe.createElement(xj,r);case"trapezoid":return fe.createElement(bhe,r);case"sector":return fe.createElement(fI,r);case"symbols":if(Ehe(t))return fe.createElement(D2,r);break;default:return null}}function Fhe(e){return C.isValidElement(e)?e.props:e}function FI(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?She:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=whe(e,yhe),A;if(C.isValidElement(t))A=C.cloneElement(t,Yg(Yg({},c),Fhe(t)));else if(Et(t))A=t(c);else if(she(t)&&!Ahe(t)){var u=a(t,c);A=fe.createElement(WS,{shapeType:r,elementProps:u})}else{var d=c;A=fe.createElement(WS,{shapeType:r,elementProps:d})}return l?fe.createElement(er,{className:o},A):A}function F0(e,t){return t!=null&&"trapezoids"in e.props}function T0(e,t){return t!=null&&"sectors"in e.props}function sh(e,t){return t!=null&&"points"in e.props}function The(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Phe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function khe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Ohe(e,t){var r;return F0(e,t)?r=The:T0(e,t)?r=Phe:sh(e,t)&&(r=khe),r}function Ihe(e,t){var r;return F0(e,t)?r="trapezoids":T0(e,t)?r="sectors":sh(e,t)&&(r="points"),r}function Uhe(e,t){if(F0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(T0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return sh(e,t)?t.payload:{}}function _he(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Ihe(r,t),i=Uhe(r,t),o=n.filter(function(c,A){var u=Th(i,c),d=r.props[a].filter(function(g){var p=Ohe(r,t);return p(g,t)}),h=r.props[a].indexOf(d[d.length-1]),f=A===h;return u&&f}),l=n.indexOf(o[o.length-1]);return l}var Up;function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function QA(){return QA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QA.apply(this,arguments)}function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){wa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PI(n.key),n)}}function Lhe(e,t,r){return t&&XS(e.prototype,t),r&&XS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qhe(e,t,r){return t=Xg(t),Rhe(e,TI()?Reflect.construct(t,r||[],Xg(e).constructor):t.apply(e,r))}function Rhe(e,t){if(t&&(gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mhe(e)}function Mhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TI=function(){return!!e})()}function Xg(e){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xg(e)}function $he(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mw(e,t)}function Mw(e,t){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mw(e,t)}function wa(e,t,r){return t=PI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PI(e){var t=Hhe(e,"string");return gu(t)=="symbol"?t:t+""}function Hhe(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _o=function(e){function t(r){var n;return Dhe(this,t),n=Qhe(this,t,[r]),wa(n,"pieRef",null),wa(n,"sectorRefs",[]),wa(n,"id",$u("recharts-pie-")),wa(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Et(a)&&a()}),wa(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Et(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return $he(t,e),Lhe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,A=i.valueKey,u=bt(this.props,!1),d=bt(o,!1),h=bt(l,!1),f=o&&o.offsetRadius||20,g=n.map(function(p,b){var m=(p.startAngle+p.endAngle)/2,x=kr(p.cx,p.cy,p.outerRadius+f,m),y=Fr(Fr(Fr(Fr({},u),p),{},{stroke:"none"},d),{},{index:b,textAnchor:t.getTextAnchor(x.x,p.cx)},x),w=Fr(Fr(Fr(Fr({},u),p),{},{fill:"none",stroke:p.fill},h),{},{index:b,points:[kr(p.cx,p.cy,p.outerRadius,m),x]}),N=c;return kt(c)&&kt(A)?N="value":kt(c)&&(N=A),fe.createElement(er,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(b)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,y,kn(p,N)))});return fe.createElement(er,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(A,u){if((A==null?void 0:A.startAngle)===0&&(A==null?void 0:A.endAngle)===0&&n.length!==1)return null;var d=a.isActiveIndex(u),h=c&&a.hasActiveIndex()?c:null,f=d?o:h,g=Fr(Fr({},A),{},{stroke:l?A.fill:A.stroke,tabIndex:-1});return fe.createElement(er,QA({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Dc(a.props,A,u),{key:"sector-".concat(A==null?void 0:A.startAngle,"-").concat(A==null?void 0:A.endAngle,"-").concat(A.midAngle,"-").concat(u)}),fe.createElement(FI,QA({option:f,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,A=a.animationEasing,u=a.animationId,d=this.state,h=d.prevSectors,f=d.prevIsAnimationActive;return fe.createElement(Ii,{begin:l,duration:c,isActive:o,easing:A,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,b=[],m=i&&i[0],x=m.startAngle;return i.forEach(function(y,w){var N=h&&h[w],B=w>0?na(y,"paddingAngle",0):0;if(N){var F=Xs(N.endAngle-N.startAngle,y.endAngle-y.startAngle),E=Fr(Fr({},y),{},{startAngle:x+B,endAngle:x+F(p)+B});b.push(E),x=E.endAngle}else{var P=y.endAngle,Q=y.startAngle,U=Xs(0,P-Q),T=U(p),k=Fr(Fr({},y),{},{startAngle:x+B,endAngle:x+T+B});b.push(k),x=k.endAngle}}),fe.createElement(er,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Th(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,A=a.cx,u=a.cy,d=a.innerRadius,h=a.outerRadius,f=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!ze(A)||!ze(u)||!ze(d)||!ze(h))return null;var p=_t("recharts-pie",l);return fe.createElement(er,{tabIndex:this.props.rootTabIndex,className:p,ref:function(m){n.pieRef=m}},this.renderSectors(),c&&this.renderLabels(o),Rn.renderCallByParent(this.props,null,!1),(!f||g)&&wo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(fe.isValidElement(n))return fe.cloneElement(n,a);if(Et(n))return n(a);var o=_t("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return fe.createElement(Mg,QA({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(fe.isValidElement(n))return fe.cloneElement(n,a);var o=i;if(Et(n)&&(o=n(a),fe.isValidElement(o)))return o;var l=_t("recharts-pie-label-text",typeof n!="boolean"&&!Et(n)?n.className:"");return fe.createElement(Lc,QA({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(C.PureComponent);Up=_o;wa(_o,"displayName","Pie");wa(_o,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!qc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});wa(_o,"parseDeltaAngle",function(e,t){var r=Ns(t-e),n=Math.min(Math.abs(t-e),360);return r*n});wa(_o,"getRealPieData",function(e){var t=e.data,r=e.children,n=bt(e,!1),a=sa(r,Ch);return t&&t.length?t.map(function(i,o){return Fr(Fr(Fr({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Fr(Fr({},n),i.props)}):[]});wa(_o,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=cI(a,i),l=n+Cs(e.cx,a,a/2),c=r+Cs(e.cy,i,i/2),A=Cs(e.innerRadius,o,0),u=Cs(e.outerRadius,o,o*.8),d=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:A,outerRadius:u,maxRadius:d}});wa(_o,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Fr(Fr({},t.type.defaultProps),t.props):t.props,a=Up.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,A=n.dataKey,u=n.nameKey,d=n.valueKey,h=n.tooltipType,f=Math.abs(n.minAngle),g=Up.parseCoordinateOfPie(n,r),p=Up.parseDeltaAngle(o,l),b=Math.abs(p),m=A;kt(A)&&kt(d)?(Xa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),m="value"):kt(A)&&(Xa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),m=d);var x=a.filter(function(E){return kn(E,m,0)!==0}).length,y=(b>=360?x:x-1)*c,w=b-x*f-y,N=a.reduce(function(E,P){var Q=kn(P,m,0);return E+(ze(Q)?Q:0)},0),B;if(N>0){var F;B=a.map(function(E,P){var Q=kn(E,m,0),U=kn(E,u,P),T=(ze(Q)?Q:0)/N,k;P?k=F.endAngle+Ns(p)*c*(Q!==0?1:0):k=o;var I=k+Ns(p)*((Q!==0?f:0)+T*w),M=(k+I)/2,L=(g.innerRadius+g.outerRadius)/2,K=[{name:U,value:Q,payload:E,dataKey:m,type:h}],R=kr(g.cx,g.cy,L,M);return F=Fr(Fr(Fr({percent:T,cornerRadius:i,name:U,tooltipPayload:K,midAngle:M,middleRadius:L,tooltipPosition:R},E),g),{},{value:kn(E,m),startAngle:k,endAngle:I,payload:E,paddingAngle:Ns(p)*c}),F})}return Fr(Fr({},g),{},{sectors:B,data:a})});var Khe=Math.ceil,Vhe=Math.max;function zhe(e,t,r,n){for(var a=-1,i=Vhe(Khe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var Ghe=zhe,qhe=Xk,JS=1/0,Whe=17976931348623157e292;function Yhe(e){if(!e)return e===0?e:0;if(e=qhe(e),e===JS||e===-JS){var t=e<0?-1:1;return t*Whe}return e===e?e:0}var kI=Yhe,Xhe=Ghe,Jhe=d0,pb=kI;function Zhe(e){return function(t,r,n){return n&&typeof n!="number"&&Jhe(t,r,n)&&(r=n=void 0),t=pb(t),r===void 0?(r=t,t=0):r=pb(r),n=n===void 0?t<r?1:-1:pb(n),Xhe(t,r,n,e)}}var eme=Zhe,tme=eme,rme=tme(),nme=rme;const Jg=nr(nme);function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(e)}function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(n){OI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OI(e,t,r){return t=sme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sme(e){var t=ame(e,"string");return ah(t)=="symbol"?t:t+""}function ame(e,t){if(ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ime=["Webkit","Moz","O","ms"],ome=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=ime.reduce(function(i,o){return e4(e4({},i),{},OI({},o+n,r))},{});return a[t]=r,a};function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(this,arguments)}function t4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t4(Object(r),!0).forEach(function(n){Gs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UI(n.key),n)}}function cme(e,t,r){return t&&r4(e.prototype,t),r&&r4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ame(e,t,r){return t=ex(t),ume(e,II()?Reflect.construct(t,r||[],ex(e).constructor):t.apply(e,r))}function ume(e,t){if(t&&(xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dme(e)}function dme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function II(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(II=function(){return!!e})()}function ex(e){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ex(e)}function fme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$w(e,t)}function $w(e,t){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$w(e,t)}function Gs(e,t,r){return t=UI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UI(e){var t=hme(e,"string");return xu(t)=="symbol"?t:t+""}function hme(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mme=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,A=Af().domain(Jg(0,c)).range([i,i+o-l]),u=A.domain().map(function(d){return A(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:A(n),endX:A(a),scale:A,scaleValues:u}},n4=function(t){return t.changedTouches&&!!t.changedTouches.length},vu=function(e){function t(r){var n;return lme(this,t),n=Ame(this,t,[r]),Gs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Gs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Gs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Gs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Gs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Gs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Gs(n,"handleSlideDragStart",function(a){var i=n4(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return fme(t,e),cme(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,A=l.data,u=A.length-1,d=Math.min(a,i),h=Math.max(a,i),f=t.getIndexInRange(o,d),g=t.getIndexInRange(o,h);return{startIndex:f-f%c,endIndex:g===u?u:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=kn(i[n],l,n);return Et(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,A=c.x,u=c.width,d=c.travellerWidth,h=c.startIndex,f=c.endIndex,g=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,A+u-d-l,A+u-d-o):p<0&&(p=Math.max(p,A-o,A-l));var b=this.getIndex({startX:o+p,endX:l+p});(b.startIndex!==h||b.endIndex!==f)&&g&&g(b),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=n4(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,A=this.state[o],u=this.props,d=u.x,h=u.width,f=u.travellerWidth,g=u.onChange,p=u.gap,b=u.data,m={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,d+h-f-A):x<0&&(x=Math.max(x,d-A)),m[o]=A+x;var y=this.getIndex(m),w=y.startIndex,N=y.endIndex,B=function(){var E=b.length-1;return o==="startX"&&(l>c?w%p===0:N%p===0)||l<c&&N===E||o==="endX"&&(l>c?N%p===0:w%p===0)||l>c&&N===E};this.setState(Gs(Gs({},o,A+x),"brushMoveStartX",n.pageX),function(){g&&B()&&g(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,A=o.endX,u=this.state[a],d=l.indexOf(u);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var f=l[h];a==="startX"&&f>=A||a==="endX"&&f<=c||this.setState(Gs({},a,f),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,A=n.stroke;return fe.createElement("rect",{stroke:A,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,A=n.children,u=n.padding,d=C.Children.only(A);return d?fe.cloneElement(d,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,A=c.y,u=c.travellerWidth,d=c.height,h=c.traveller,f=c.ariaLabel,g=c.data,p=c.startIndex,b=c.endIndex,m=Math.max(n,this.props.x),x=gb(gb({},bt(this.props,!1)),{},{x:m,y:A,width:u,height:d}),y=f||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[b])===null||o===void 0?void 0:o.name);return fe.createElement(er,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,A=i.travellerWidth,u=Math.min(n,a)+A,d=Math.max(Math.abs(a-n)-A,0);return fe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,A=n.stroke,u=this.state,d=u.startX,h=u.endX,f=5,g={pointerEvents:"none",fill:A};return fe.createElement(er,{className:"recharts-brush-texts"},fe.createElement(Lc,Zg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-f,y:o+l/2},g),this.getTextOfTick(a)),fe.createElement(Lc,Zg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+f,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,A=n.width,u=n.height,d=n.alwaysShowText,h=this.state,f=h.startX,g=h.endX,p=h.isTextActive,b=h.isSlideMoving,m=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!ze(l)||!ze(c)||!ze(A)||!ze(u)||A<=0||u<=0)return null;var y=_t("recharts-brush",i),w=fe.Children.count(o)===1,N=ome("userSelect","none");return fe.createElement(er,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(f,g),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(g,"endX"),(p||b||m||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,A=Math.floor(i+l/2)-1;return fe.createElement(fe.Fragment,null,fe.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),fe.createElement("line",{x1:a+1,y1:A,x2:a+o-1,y2:A,fill:"none",stroke:"#fff"}),fe.createElement("line",{x1:a+1,y1:A+2,x2:a+o-1,y2:A+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return fe.isValidElement(n)?i=fe.cloneElement(n,a):Et(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,A=n.updateId,u=n.startIndex,d=n.endIndex;if(i!==a.prevData||A!==a.prevUpdateId)return gb({prevData:i,prevTravellerWidth:c,prevUpdateId:A,prevX:l,prevWidth:o},i&&i.length?mme({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:A,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(C.PureComponent);Gs(vu,"displayName","Brush");Gs(vu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var pme=K2;function gme(e,t){var r;return pme(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var xme=gme,vme=Nk,bme=Di,yme=xme,wme=Is,jme=d0;function Nme(e,t,r){var n=wme(e)?vme:yme;return r&&jme(e,t,r)&&(t=void 0),n(e,bme(t))}var Cme=Nme;const Bme=nr(Cme);var Ti=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},s4=zk;function Sme(e,t,r){t=="__proto__"&&s4?s4(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Eme=Sme,Fme=Eme,Tme=Kk,Pme=Di;function kme(e,t){var r={};return t=Pme(t),Tme(e,function(n,a,i){Fme(r,a,t(n,a,i))}),r}var Ome=kme;const Ime=nr(Ome);function Ume(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var _me=Ume,Dme=K2;function Lme(e,t){var r=!0;return Dme(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Qme=Lme,Rme=_me,Mme=Qme,$me=Di,Hme=Is,Kme=d0;function Vme(e,t,r){var n=Hme(e)?Rme:Mme;return r&&Kme(e,t,r)&&(t=void 0),n(e,$me(t))}var zme=Vme;const _I=nr(zme);var Gme=["x","y"];function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(e)}function Hw(){return Hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hw.apply(this,arguments)}function a4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Md(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a4(Object(r),!0).forEach(function(n){qme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qme(e,t,r){return t=Wme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wme(e){var t=Yme(e,"string");return ih(t)=="symbol"?t:t+""}function Yme(e,t){if(ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xme(e,t){if(e==null)return{};var r=Jme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zme(e,t){var r=e.x,n=e.y,a=Xme(e,Gme),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),A="".concat(t.height||a.height),u=parseInt(A,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Md(Md(Md(Md(Md({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function i4(e){return fe.createElement(FI,Hw({shapeType:"rectangle",propTransformer:Zme,activeClassName:"recharts-active-bar"},e))}var epe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=ze(n)||yq(n);return i?t(n,a):(i||Rc(),r)}},tpe=["value","background"],DI;function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function rpe(e,t){if(e==null)return{};var r=npe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function npe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(this,arguments)}function o4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o4(Object(r),!0).forEach(function(n){fl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function spe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QI(n.key),n)}}function ape(e,t,r){return t&&l4(e.prototype,t),r&&l4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ipe(e,t,r){return t=rx(t),ope(e,LI()?Reflect.construct(t,r||[],rx(e).constructor):t.apply(e,r))}function ope(e,t){if(t&&(bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lpe(e)}function lpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LI=function(){return!!e})()}function rx(e){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rx(e)}function cpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kw(e,t)}function Kw(e,t){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kw(e,t)}function fl(e,t,r){return t=QI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QI(e){var t=Ape(e,"string");return bu(t)=="symbol"?t:t+""}function Ape(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ul=function(e){function t(){var r;spe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ipe(this,t,[].concat(a)),fl(r,"state",{isAnimationFinished:!1}),fl(r,"id",$u("recharts-bar-")),fl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),fl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return cpe(t,e),ape(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,A=i.activeBar,u=bt(this.props,!1);return n&&n.map(function(d,h){var f=h===c,g=f?A:o,p=pn(pn(pn({},u),d),{},{isActive:f,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return fe.createElement(er,tx({className:"recharts-bar-rectangle"},Dc(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),fe.createElement(i4,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,A=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state.prevData;return fe.createElement(Ii,{begin:c,duration:A,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var g=f.t,p=i.map(function(b,m){var x=h&&h[m];if(x){var y=Xs(x.x,b.x),w=Xs(x.y,b.y),N=Xs(x.width,b.width),B=Xs(x.height,b.height);return pn(pn({},b),{},{x:y(g),y:w(g),width:N(g),height:B(g)})}if(o==="horizontal"){var F=Xs(0,b.height),E=F(g);return pn(pn({},b),{},{y:b.y+b.height-E,height:E})}var P=Xs(0,b.width),Q=P(g);return pn(pn({},b),{},{width:Q})});return fe.createElement(er,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Th(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=bt(this.props.background,!1);return i.map(function(A,u){A.value;var d=A.background,h=rpe(A,tpe);if(!d)return null;var f=pn(pn(pn(pn(pn({},h),{},{fill:"#eee"},d),c),Dc(n.props,A,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return fe.createElement(i4,tx({key:"background-bar-".concat(u),option:n.props.background,isActive:u===l},f))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,A=i.layout,u=i.children,d=sa(u,Ph);if(!d)return null;var h=A==="vertical"?o[0].height/2:o[0].width/2,f=function(b,m){var x=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:x,errorVal:kn(b,m)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return fe.createElement(er,g,d.map(function(p){return fe.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:A,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,A=n.left,u=n.top,d=n.width,h=n.height,f=n.isAnimationActive,g=n.background,p=n.id;if(a||!i||!i.length)return null;var b=this.state.isAnimationFinished,m=_t("recharts-bar",o),x=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,w=x||y,N=kt(p)?this.id:p;return fe.createElement(er,{className:m},x||y?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(N)},fe.createElement("rect",{x:x?A:A-d/2,y:y?u:u-h/2,width:x?d:d*2,height:y?h:h*2}))):null,fe.createElement(er,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(N,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,N),(!f||b)&&wo.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(C.PureComponent);DI=Ul;fl(Ul,"displayName","Bar");fl(Ul,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!qc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fl(Ul,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,A=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=Rce(n,r);if(!f)return null;var g=t.layout,p=r.type.defaultProps,b=p!==void 0?pn(pn({},p),r.props):r.props,m=b.dataKey,x=b.children,y=b.minPointSize,w=g==="horizontal"?o:i,N=A?w.scale.domain():null,B=Gce({numericAxis:w}),F=sa(x,Ch),E=d.map(function(P,Q){var U,T,k,I,M,L;A?U=Mce(A[u+Q],N):(U=kn(P,m),Array.isArray(U)||(U=[B,U]));var K=epe(y,DI.defaultProps.minPointSize)(U[1],Q);if(g==="horizontal"){var R,$=[o.scale(U[0]),o.scale(U[1])],q=$[0],Z=$[1];T=eS({axis:i,ticks:l,bandSize:a,offset:f.offset,entry:P,index:Q}),k=(R=Z??q)!==null&&R!==void 0?R:void 0,I=f.size;var D=q-Z;if(M=Number.isNaN(D)?0:D,L={x:T,y:o.y,width:I,height:o.height},Math.abs(K)>0&&Math.abs(M)<Math.abs(K)){var H=Ns(M||K)*(Math.abs(K)-Math.abs(M));k-=H,M+=H}}else{var V=[i.scale(U[0]),i.scale(U[1])],re=V[0],Ae=V[1];if(T=re,k=eS({axis:o,ticks:c,bandSize:a,offset:f.offset,entry:P,index:Q}),I=Ae-re,M=f.size,L={x:i.x,y:k,width:i.width,height:M},Math.abs(K)>0&&Math.abs(I)<Math.abs(K)){var ae=Ns(I||K)*(Math.abs(K)-Math.abs(I));I+=ae}}return pn(pn(pn({},P),{},{x:T,y:k,width:I,height:M,value:A?U:U[1],payload:P,background:L},F&&F[Q]&&F[Q].props),{},{tooltipPayload:[oI(r,P)],tooltipPosition:{x:T+I/2,y:k+M/2}})});return pn({data:E,layout:g},h)});function oh(e){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oh(e)}function upe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RI(n.key),n)}}function dpe(e,t,r){return t&&c4(e.prototype,t),r&&c4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function A4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A4(Object(r),!0).forEach(function(n){P0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P0(e,t,r){return t=RI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RI(e){var t=fpe(e,"string");return oh(t)=="symbol"?t:t+""}function fpe(e,t){if(oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MI=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,A=t.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!qs(A,Ul);return u.reduce(function(f,g){var p=r[g],b=p.orientation,m=p.domain,x=p.padding,y=x===void 0?{}:x,w=p.mirror,N=p.reversed,B="".concat(b).concat(w?"Mirror":""),F,E,P,Q,U;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var T=m[1]-m[0],k=1/0,I=p.categoricalDomain.sort(Nq);if(I.forEach(function(V,re){re>0&&(k=Math.min((V||0)-(I[re-1]||0),k))}),Number.isFinite(k)){var M=k/T,L=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(F=M*L/2),p.padding==="no-gap"){var K=Cs(t.barCategoryGap,M*L),R=M*L/2;F=R-K-(R-K)/L*K}}}a==="xAxis"?E=[n.left+(y.left||0)+(F||0),n.left+n.width-(y.right||0)-(F||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(F||0),n.top+n.height-(y.bottom||0)-(F||0)]:E=p.range,N&&(E=[E[1],E[0]]);var $=nI(p,i,h),q=$.scale,Z=$.realScaleType;q.domain(m).range(E),sI(q);var D=aI(q,Ka(Ka({},p),{},{realScaleType:Z}));a==="xAxis"?(U=b==="top"&&!w||b==="bottom"&&w,P=n.left,Q=d[B]-U*p.height):a==="yAxis"&&(U=b==="left"&&!w||b==="right"&&w,P=d[B]-U*p.width,Q=n.top);var H=Ka(Ka(Ka({},p),D),{},{realScaleType:Z,x:P,y:Q,scale:q,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return H.bandSize=Lg(H,D),!p.hide&&a==="xAxis"?d[B]+=(U?-1:1)*H.height:p.hide||(d[B]+=(U?-1:1)*H.width),Ka(Ka({},f),{},P0({},g,H))},{})},$I=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},hpe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return $I({x:r,y:n},{x:a,y:i})},HI=function(){function e(t){upe(this,e),this.scale=t}return dpe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();P0(HI,"EPS",1e-4);var vj=function(t){var r=Object.keys(t).reduce(function(n,a){return Ka(Ka({},n),{},P0({},a,HI.create(t[a])))},{});return Ka(Ka({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Ime(a,function(c,A){return r[A].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return _I(a,function(i,o){return r[o].isInRange(i)})}})};function mpe(e){return(e%180+180)%180}var ppe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=mpe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},gpe=Di,xpe=jh,vpe=A0;function bpe(e){return function(t,r,n){var a=Object(t);if(!xpe(t)){var i=gpe(r);t=vpe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var ype=bpe,wpe=kI;function jpe(e){var t=wpe(e),r=t%1;return t===t?r?t-r:t:0}var Npe=jpe,Cpe=Lk,Bpe=Di,Spe=Npe,Epe=Math.max;function Fpe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Spe(r);return a<0&&(a=Epe(n+a,0)),Cpe(e,Bpe(t),a)}var Tpe=Fpe,Ppe=ype,kpe=Tpe,Ope=Ppe(kpe),Ipe=Ope;const Upe=nr(Ipe);var _pe=SG(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),bj=C.createContext(void 0),yj=C.createContext(void 0),KI=C.createContext(void 0),VI=C.createContext({}),zI=C.createContext(void 0),GI=C.createContext(0),qI=C.createContext(0),u4=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,A=t.height,u=_pe(i);return fe.createElement(bj.Provider,{value:n},fe.createElement(yj.Provider,{value:a},fe.createElement(VI.Provider,{value:i},fe.createElement(KI.Provider,{value:u},fe.createElement(zI.Provider,{value:o},fe.createElement(GI.Provider,{value:A},fe.createElement(qI.Provider,{value:c},l)))))))},Dpe=function(){return C.useContext(zI)},WI=function(t){var r=C.useContext(bj);r==null&&Rc();var n=r[t];return n==null&&Rc(),n},Lpe=function(){var t=C.useContext(bj);return ul(t)},Qpe=function(){var t=C.useContext(yj),r=Upe(t,function(n){return _I(n.domain,Number.isFinite)});return r||ul(t)},YI=function(t){var r=C.useContext(yj);r==null&&Rc();var n=r[t];return n==null&&Rc(),n},Rpe=function(){var t=C.useContext(KI);return t},Mpe=function(){return C.useContext(VI)},wj=function(){return C.useContext(qI)},jj=function(){return C.useContext(GI)};function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function $pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JI(n.key),n)}}function Kpe(e,t,r){return t&&Hpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vpe(e,t,r){return t=nx(t),zpe(e,XI()?Reflect.construct(t,r||[],nx(e).constructor):t.apply(e,r))}function zpe(e,t){if(t&&(yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gpe(e)}function Gpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XI=function(){return!!e})()}function nx(e){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nx(e)}function qpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vw(e,t)}function Vw(e,t){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vw(e,t)}function d4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(r),!0).forEach(function(n){Nj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nj(e,t,r){return t=JI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JI(e){var t=Wpe(e,"string");return yu(t)=="symbol"?t:t+""}function Wpe(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ype(e,t){return ege(e)||Zpe(e,t)||Jpe(e,t)||Xpe()}function Xpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jpe(e,t){if(e){if(typeof e=="string")return h4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h4(e,t)}}function h4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){A=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function ege(e){if(Array.isArray(e))return e}function zw(){return zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zw.apply(this,arguments)}var tge=function(t,r){var n;return fe.isValidElement(t)?n=fe.cloneElement(t,r):Et(t)?n=t(r):n=fe.createElement("line",zw({},r,{className:"recharts-reference-line-line"})),n},rge=function(t,r,n,a,i,o,l,c,A){var u=i.x,d=i.y,h=i.width,f=i.height;if(n){var g=A.y,p=t.y.apply(g,{position:o});if(Ti(A,"discard")&&!t.y.isInRange(p))return null;var b=[{x:u+h,y:p},{x:u,y:p}];return c==="left"?b.reverse():b}if(r){var m=A.x,x=t.x.apply(m,{position:o});if(Ti(A,"discard")&&!t.x.isInRange(x))return null;var y=[{x,y:d+f},{x,y:d}];return l==="top"?y.reverse():y}if(a){var w=A.segment,N=w.map(function(B){return t.apply(B,{position:o})});return Ti(A,"discard")&&Bme(N,function(B){return!t.isInRange(B)})?null:N}return null};function nge(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,A=Dpe(),u=WI(a),d=YI(i),h=Rpe();if(!A||!h)return null;Xa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=vj({x:u.scale,y:d.scale}),g=On(t),p=On(r),b=n&&n.length===2,m=rge(f,g,p,b,h,e.position,u.orientation,d.orientation,e);if(!m)return null;var x=Ype(m,2),y=x[0],w=y.x,N=y.y,B=x[1],F=B.x,E=B.y,P=Ti(e,"hidden")?"url(#".concat(A,")"):void 0,Q=f4(f4({clipPath:P},bt(e,!0)),{},{x1:w,y1:N,x2:F,y2:E});return fe.createElement(er,{className:_t("recharts-reference-line",l)},tge(o,Q),Rn.renderCallByParent(e,hpe({x1:w,y1:N,x2:F,y2:E})))}var Cj=function(e){function t(){return $pe(this,t),Vpe(this,t,arguments)}return qpe(t,e),Kpe(t,[{key:"render",value:function(){return fe.createElement(nge,this.props)}}])}(fe.Component);Nj(Cj,"displayName","ReferenceLine");Nj(Cj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Gw(){return Gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gw.apply(this,arguments)}function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function m4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m4(Object(r),!0).forEach(function(n){k0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function age(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e6(n.key),n)}}function ige(e,t,r){return t&&age(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oge(e,t,r){return t=sx(t),lge(e,ZI()?Reflect.construct(t,r||[],sx(e).constructor):t.apply(e,r))}function lge(e,t){if(t&&(wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cge(e)}function cge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZI=function(){return!!e})()}function sx(e){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sx(e)}function Age(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qw(e,t)}function qw(e,t){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qw(e,t)}function k0(e,t,r){return t=e6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e6(e){var t=uge(e,"string");return wu(t)=="symbol"?t:t+""}function uge(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dge=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=vj({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ti(t,"discard")&&!o.isInRange(l)?null:l},O0=function(e){function t(){return sge(this,t),oge(this,t,arguments)}return Age(t,e),ige(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,A=On(a),u=On(i);if(Xa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!A||!u)return null;var d=dge(this.props);if(!d)return null;var h=d.x,f=d.y,g=this.props,p=g.shape,b=g.className,m=Ti(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=p4(p4({clipPath:m},bt(this.props,!0)),{},{cx:h,cy:f});return fe.createElement(er,{className:_t("recharts-reference-dot",b)},t.renderDot(p,x),Rn.renderCallByParent(this.props,{x:h-o,y:f-o,width:2*o,height:2*o}))}}])}(fe.Component);k0(O0,"displayName","ReferenceDot");k0(O0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});k0(O0,"renderDot",function(e,t){var r;return fe.isValidElement(e)?r=fe.cloneElement(e,t):Et(e)?r=e(t):r=fe.createElement(N0,Gw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ww.apply(this,arguments)}function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(n){I0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r6(n.key),n)}}function mge(e,t,r){return t&&hge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pge(e,t,r){return t=ax(t),gge(e,t6()?Reflect.construct(t,r||[],ax(e).constructor):t.apply(e,r))}function gge(e,t){if(t&&(ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xge(e)}function xge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t6=function(){return!!e})()}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ax(e)}function vge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yw(e,t)}function Yw(e,t){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yw(e,t)}function I0(e,t,r){return t=r6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r6(e){var t=bge(e,"string");return ju(t)=="symbol"?t:t+""}function bge(e,t){if(ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yge=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,A=i.y2,u=i.xAxis,d=i.yAxis;if(!u||!d)return null;var h=vj({x:u.scale,y:d.scale}),f={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(A,{position:"end"}):h.y.rangeMax};return Ti(i,"discard")&&(!h.isInRange(f)||!h.isInRange(g))?null:$I(f,g)},U0=function(e){function t(){return fge(this,t),pge(this,t,arguments)}return vge(t,e),mge(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,A=n.alwaysShow,u=n.clipPathId;Xa(A===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=On(a),h=On(i),f=On(o),g=On(l),p=this.props.shape;if(!d&&!h&&!f&&!g&&!p)return null;var b=yge(d,h,f,g,this.props);if(!b&&!p)return null;var m=Ti(this.props,"hidden")?"url(#".concat(u,")"):void 0;return fe.createElement(er,{className:_t("recharts-reference-area",c)},t.renderRect(p,x4(x4({clipPath:m},bt(this.props,!0)),b)),Rn.renderCallByParent(this.props,b))}}])}(fe.Component);I0(U0,"displayName","ReferenceArea");I0(U0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});I0(U0,"renderRect",function(e,t){var r;return fe.isValidElement(e)?r=fe.cloneElement(e,t):Et(e)?r=e(t):r=fe.createElement(xj,Ww({},t,{className:"recharts-reference-area-rect"})),r});function n6(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function wge(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ppe(n,r)}function jge(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function ix(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Nge(e,t){return n6(e,t+1)}function Cge(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,A=1,u=o,d=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:n6(n,A)};var p=c,b,m=function(){return b===void 0&&(b=r(g,p)),b},x=g.coordinate,y=c===0||ix(e,x,m,u,l);y||(c=0,u=o,A+=1),y&&(u=x+e*(m()/2+a),c+=A)},h;A<=i.length;)if(h=d(),h)return h.v;return[]}function lh(e){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(e)}function v4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(r),!0).forEach(function(n){Bge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bge(e,t,r){return t=Sge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sge(e){var t=Ege(e,"string");return lh(t)=="symbol"?t:t+""}function Ege(e,t){if(lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fge(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,A=function(h){var f=i[h],g,p=function(){return g===void 0&&(g=r(f,h)),g};if(h===o-1){var b=e*(f.coordinate+e*p()/2-c);i[h]=f=cs(cs({},f),{},{tickCoord:b>0?f.coordinate-b*e:f.coordinate})}else i[h]=f=cs(cs({},f),{},{tickCoord:f.coordinate});var m=ix(e,f.tickCoord,p,l,c);m&&(c=f.tickCoord-e*(p()/2+a),i[h]=cs(cs({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)A(u);return i}function Tge(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,A=t.end;if(i){var u=n[l-1],d=r(u,l-1),h=e*(u.coordinate+e*d/2-A);o[l-1]=u=cs(cs({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var f=ix(e,u.tickCoord,function(){return d},c,A);f&&(A=u.tickCoord-e*(d/2+a),o[l-1]=cs(cs({},u),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(x){var y=o[x],w,N=function(){return w===void 0&&(w=r(y,x)),w};if(x===0){var B=e*(y.coordinate-e*N()/2-c);o[x]=y=cs(cs({},y),{},{tickCoord:B<0?y.coordinate-B*e:y.coordinate})}else o[x]=y=cs(cs({},y),{},{tickCoord:y.coordinate});var F=ix(e,y.tickCoord,N,c,A);F&&(c=y.tickCoord+e*(N()/2+a),o[x]=cs(cs({},y),{},{isShow:!0}))},b=0;b<g;b++)p(b);return o}function Bj(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,A=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(ze(c)||qc.isSsr)return Nge(a,typeof c=="number"&&ze(c)?c:0);var h=[],f=l==="top"||l==="bottom"?"width":"height",g=u&&f==="width"?cf(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(y,w){var N=Et(A)?A(y.value,w):y.value;return f==="width"?wge(cf(N,{fontSize:t,letterSpacing:r}),g,d):cf(N,{fontSize:t,letterSpacing:r})[f]},b=a.length>=2?Ns(a[1].coordinate-a[0].coordinate):1,m=jge(i,b,f);return c==="equidistantPreserveStart"?Cge(b,m,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=Tge(b,m,p,a,o,c==="preserveStartEnd"):h=Fge(b,m,p,a,o),h.filter(function(x){return x.isShow}))}var Pge=["viewBox"],kge=["viewBox"],Oge=["ticks"];function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function RA(){return RA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RA.apply(this,arguments)}function b4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(r),!0).forEach(function(n){Sj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xb(e,t){if(e==null)return{};var r=Ige(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ige(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Uge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a6(n.key),n)}}function _ge(e,t,r){return t&&y4(e.prototype,t),r&&y4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dge(e,t,r){return t=ox(t),Lge(e,s6()?Reflect.construct(t,r||[],ox(e).constructor):t.apply(e,r))}function Lge(e,t){if(t&&(Nu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qge(e)}function Qge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s6=function(){return!!e})()}function ox(e){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ox(e)}function Rge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xw(e,t)}function Xw(e,t){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xw(e,t)}function Sj(e,t,r){return t=a6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a6(e){var t=Mge(e,"string");return Nu(t)=="symbol"?t:t+""}function Mge(e,t){if(Nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wu=function(e){function t(r){var n;return Uge(this,t),n=Dge(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Rge(t,e),_ge(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=xb(n,Pge),l=this.props,c=l.viewBox,A=xb(l,kge);return!WA(i,c)||!WA(o,A)||!WA(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,A=a.orientation,u=a.tickSize,d=a.mirror,h=a.tickMargin,f,g,p,b,m,x,y=d?-1:1,w=n.tickSize||u,N=ze(n.tickCoord)?n.tickCoord:n.coordinate;switch(A){case"top":f=g=n.coordinate,b=o+ +!d*c,p=b-y*w,x=p-y*h,m=N;break;case"left":p=b=n.coordinate,g=i+ +!d*l,f=g-y*w,m=f-y*h,x=N;break;case"right":p=b=n.coordinate,g=i+ +d*l,f=g+y*w,m=f+y*h,x=N;break;default:f=g=n.coordinate,b=o+ +d*c,p=b+y*w,x=p+y*h,m=N;break}return{line:{x1:f,y1:p,x2:g,y2:b},tick:{x:m,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,A=n.mirror,u=n.axisLine,d=En(En(En({},bt(this.props,!1)),bt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!A||c==="bottom"&&A);d=En(En({},d),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var f=+(c==="left"&&!A||c==="right"&&A);d=En(En({},d),{},{x1:a+f*o,y1:i,x2:a+f*o,y2:i+l})}return fe.createElement("line",RA({},d,{className:_t("recharts-cartesian-axis-line",na(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,A=l.stroke,u=l.tick,d=l.tickFormatter,h=l.unit,f=Bj(En(En({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),b=bt(this.props,!1),m=bt(u,!1),x=En(En({},b),{},{fill:"none"},bt(c,!1)),y=f.map(function(w,N){var B=o.getTickLineCoord(w),F=B.line,E=B.tick,P=En(En(En(En({textAnchor:g,verticalAnchor:p},b),{},{stroke:"none",fill:A},m),E),{},{index:N,payload:w,visibleTicksCount:f.length,tickFormatter:d});return fe.createElement(er,RA({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Dc(o.props,w,N)),c&&fe.createElement("line",RA({},x,F,{className:_t("recharts-cartesian-axis-tick-line",na(c,"className"))})),u&&t.renderTickItem(u,P,"".concat(Et(d)?d(w.value,N):w.value).concat(h||"")))});return fe.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,A=a.className,u=a.hide;if(u)return null;var d=this.props,h=d.ticks,f=xb(d,Oge),g=h;return Et(c)&&(g=h&&h.length>0?c(this.props):c(f)),o<=0||l<=0||!g||!g.length?null:fe.createElement(er,{className:_t("recharts-cartesian-axis",A),ref:function(b){n.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Rn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=_t(a.className,"recharts-cartesian-axis-tick-value");return fe.isValidElement(n)?o=fe.cloneElement(n,En(En({},a),{},{className:l})):Et(n)?o=n(En(En({},a),{},{className:l})):o=fe.createElement(Lc,RA({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(C.Component);Sj(Wu,"displayName","CartesianAxis");Sj(Wu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $ge=["x1","y1","x2","y2","key"],Hge=["offset"];function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(n){Kge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kge(e,t,r){return t=Vge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vge(e){var t=zge(e,"string");return Mc(t)=="symbol"?t:t+""}function zge(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vc.apply(this,arguments)}function j4(e,t){if(e==null)return{};var r=Gge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qge=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return fe.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function i6(e,t){var r;if(fe.isValidElement(e))r=fe.cloneElement(e,t);else if(Et(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=j4(t,$ge),A=bt(c,!1);A.offset;var u=j4(A,Hge);r=fe.createElement("line",vc({},u,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Wge(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var A=ds(ds({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return i6(a,A)});return fe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Yge(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var A=ds(ds({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return i6(a,A)});return fe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Xge(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,A=c===void 0?!0:c;if(!A||!t||!t.length)return null;var u=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,f){return h-f});a!==u[0]&&u.unshift(0);var d=u.map(function(h,f){var g=!u[f+1],p=g?a+o-h:u[f+1]-h;if(p<=0)return null;var b=f%t.length;return fe.createElement("rect",{key:"react-".concat(f),y:h,x:n,height:p,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return fe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Jge(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,A=e.verticalPoints;if(!r||!n||!n.length)return null;var u=A.map(function(h){return Math.round(h+i-i)}).sort(function(h,f){return h-f});i!==u[0]&&u.unshift(0);var d=u.map(function(h,f){var g=!u[f+1],p=g?i+l-h:u[f+1]-h;if(p<=0)return null;var b=f%n.length;return fe.createElement("rect",{key:"react-".concat(f),x:h,y:o,width:p,height:c,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return fe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Zge=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return rI(Bj(ds(ds(ds({},Wu.defaultProps),n),{},{ticks:xo(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},exe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return rI(Bj(ds(ds(ds({},Wu.defaultProps),n),{},{ticks:xo(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},wA={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function kh(e){var t,r,n,a,i,o,l=wj(),c=jj(),A=Mpe(),u=ds(ds({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:wA.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:wA.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:wA.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:wA.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:wA.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:wA.verticalFill,x:ze(e.x)?e.x:A.left,y:ze(e.y)?e.y:A.top,width:ze(e.width)?e.width:A.width,height:ze(e.height)?e.height:A.height}),d=u.x,h=u.y,f=u.width,g=u.height,p=u.syncWithTicks,b=u.horizontalValues,m=u.verticalValues,x=Lpe(),y=Qpe();if(!ze(f)||f<=0||!ze(g)||g<=0||!ze(d)||d!==+d||!ze(h)||h!==+h)return null;var w=u.verticalCoordinatesGenerator||Zge,N=u.horizontalCoordinatesGenerator||exe,B=u.horizontalPoints,F=u.verticalPoints;if((!B||!B.length)&&Et(N)){var E=b&&b.length,P=N({yAxis:y?ds(ds({},y),{},{ticks:E?b:y.ticks}):void 0,width:l,height:c,offset:A},E?!0:p);Xa(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Mc(P),"]")),Array.isArray(P)&&(B=P)}if((!F||!F.length)&&Et(w)){var Q=m&&m.length,U=w({xAxis:x?ds(ds({},x),{},{ticks:Q?m:x.ticks}):void 0,width:l,height:c,offset:A},Q?!0:p);Xa(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Mc(U),"]")),Array.isArray(U)&&(F=U)}return fe.createElement("g",{className:"recharts-cartesian-grid"},fe.createElement(qge,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),fe.createElement(Wge,vc({},u,{offset:A,horizontalPoints:B,xAxis:x,yAxis:y})),fe.createElement(Yge,vc({},u,{offset:A,verticalPoints:F,xAxis:x,yAxis:y})),fe.createElement(Xge,vc({},u,{horizontalPoints:B})),fe.createElement(Jge,vc({},u,{verticalPoints:F})))}kh.displayName="CartesianGrid";var txe=["type","layout","connectNulls","ref"],rxe=["key"];function Cu(e){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}function N4(e,t){if(e==null)return{};var r=nxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mf.apply(this,arguments)}function C4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C4(Object(r),!0).forEach(function(n){Va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jA(e){return oxe(e)||ixe(e)||axe(e)||sxe()}function sxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function axe(e,t){if(e){if(typeof e=="string")return Jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jw(e,t)}}function ixe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oxe(e){if(Array.isArray(e))return Jw(e)}function Jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l6(n.key),n)}}function cxe(e,t,r){return t&&B4(e.prototype,t),r&&B4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Axe(e,t,r){return t=lx(t),uxe(e,o6()?Reflect.construct(t,r||[],lx(e).constructor):t.apply(e,r))}function uxe(e,t){if(t&&(Cu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dxe(e)}function dxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o6=function(){return!!e})()}function lx(e){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lx(e)}function fxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zw(e,t)}function Zw(e,t){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zw(e,t)}function Va(e,t,r){return t=l6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l6(e){var t=hxe(e,"string");return Cu(t)=="symbol"?t:t+""}function hxe(e,t){if(Cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bl=function(e){function t(){var r;lxe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Axe(this,t,[].concat(a)),Va(r,"state",{isAnimationFinished:!0,totalLength:0}),Va(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Va(r,"getStrokeDasharray",function(o,l,c){var A=c.reduce(function(m,x){return m+x});if(!A)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/A),d=o%A,h=l-o,f=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>d){f=[].concat(jA(c.slice(0,g)),[d-p]);break}var b=f.length%2===0?[0,h]:[h];return[].concat(jA(t.repeat(c,u)),jA(f),b).map(function(m){return"".concat(m,"px")}).join(", ")}),Va(r,"id",$u("recharts-line-")),Va(r,"pathRef",function(o){r.mainCurve=o}),Va(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Va(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return fxe(t,e),cxe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,A=i.layout,u=i.children,d=sa(u,Ph);if(!d)return null;var h=function(p,b){return{x:p.x,y:p.y,value:p.value,errorVal:kn(p.payload,b)}},f={clipPath:n?"url(#clipPath-".concat(a,")"):null};return fe.createElement(er,f,d.map(function(g){return fe.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:A,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,A=l.points,u=l.dataKey,d=bt(this.props,!1),h=bt(c,!0),f=A.map(function(p,b){var m=Vs(Vs(Vs({key:"dot-".concat(b),r:3},d),h),{},{index:b,cx:p.x,cy:p.y,value:p.value,dataKey:u,payload:p.payload,points:A});return t.renderDotItem(c,m)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return fe.createElement(er,mf({className:"recharts-line-dots",key:"dots"},g),f)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,A=l.layout,u=l.connectNulls;l.ref;var d=N4(l,txe),h=Vs(Vs(Vs({},bt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:A,connectNulls:u});return fe.createElement(Mg,mf({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,A=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,h=o.animationEasing,f=o.animationId,g=o.animateNewValues,p=o.width,b=o.height,m=this.state,x=m.prevPoints,y=m.totalLength;return fe.createElement(Ii,{begin:u,duration:d,isActive:A,easing:h,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var N=w.t;if(x){var B=x.length/l.length,F=l.map(function(T,k){var I=Math.floor(k*B);if(x[I]){var M=x[I],L=Xs(M.x,T.x),K=Xs(M.y,T.y);return Vs(Vs({},T),{},{x:L(N),y:K(N)})}if(g){var R=Xs(p*2,T.x),$=Xs(b/2,T.y);return Vs(Vs({},T),{},{x:R(N),y:$(N)})}return Vs(Vs({},T),{},{x:T.x,y:T.y})});return i.renderCurveStatically(F,n,a)}var E=Xs(0,y),P=E(N),Q;if(c){var U="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});Q=i.getStrokeDasharray(P,y,U)}else Q=i.generateSimpleStrokeDasharray(y,P);return i.renderCurveStatically(l,n,a,{strokeDasharray:Q})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,A=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!A&&u>0||!Th(A,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,A=a.xAxis,u=a.yAxis,d=a.top,h=a.left,f=a.width,g=a.height,p=a.isAnimationActive,b=a.id;if(i||!l||!l.length)return null;var m=this.state.isAnimationFinished,x=l.length===1,y=_t("recharts-line",c),w=A&&A.allowDataOverflow,N=u&&u.allowDataOverflow,B=w||N,F=kt(b)?this.id:b,E=(n=bt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=E.r,Q=P===void 0?3:P,U=E.strokeWidth,T=U===void 0?2:U,k=Oq(o)?o:{},I=k.clipDot,M=I===void 0?!0:I,L=Q*2+T;return fe.createElement(er,{className:y},w||N?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(F)},fe.createElement("rect",{x:w?h:h-f/2,y:N?d:d-g/2,width:w?f:f*2,height:N?g:g*2})),!M&&fe.createElement("clipPath",{id:"clipPath-dots-".concat(F)},fe.createElement("rect",{x:h-L/2,y:d-L/2,width:f+L,height:g+L}))):null,!x&&this.renderCurve(B,F),this.renderErrorBar(B,F),(x||o)&&this.renderDots(B,M,F),(!p||m)&&wo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(jA(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(jA(o),jA(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(fe.isValidElement(n))i=fe.cloneElement(n,a);else if(Et(n))i=n(a);else{var o=a.key,l=N4(a,rxe),c=_t("recharts-line-dot",typeof n!="boolean"?n.className:"");i=fe.createElement(N0,mf({key:o},l,{className:c}))}return i}}])}(C.PureComponent);Va(bl,"displayName","Line");Va(bl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!qc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Va(bl,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,A=e.offset,u=t.layout,d=c.map(function(h,f){var g=kn(h,o);return u==="horizontal"?{x:ZB({axis:r,ticks:a,bandSize:l,entry:h,index:f}),y:kt(g)?null:n.scale(g),value:g,payload:h}:{x:kt(g)?null:r.scale(g),y:ZB({axis:n,ticks:i,bandSize:l,entry:h,index:f}),value:g,payload:h}});return Vs({points:d,layout:u},A)});function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function mxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u6(n.key),n)}}function gxe(e,t,r){return t&&pxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xxe(e,t,r){return t=cx(t),vxe(e,c6()?Reflect.construct(t,r||[],cx(e).constructor):t.apply(e,r))}function vxe(e,t){if(t&&(Bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bxe(e)}function bxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c6=function(){return!!e})()}function cx(e){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cx(e)}function yxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e1(e,t)}function e1(e,t){return e1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e1(e,t)}function A6(e,t,r){return t=u6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u6(e){var t=wxe(e,"string");return Bu(t)=="symbol"?t:t+""}function wxe(e,t){if(Bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function t1(){return t1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t1.apply(this,arguments)}function jxe(e){var t=e.xAxisId,r=wj(),n=jj(),a=WI(t);return a==null?null:C.createElement(Wu,t1({},a,{className:_t("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return xo(o,!0)}}))}var _l=function(e){function t(){return mxe(this,t),xxe(this,t,arguments)}return yxe(t,e),gxe(t,[{key:"render",value:function(){return C.createElement(jxe,this.props)}}])}(C.Component);A6(_l,"displayName","XAxis");A6(_l,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function Nxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h6(n.key),n)}}function Bxe(e,t,r){return t&&Cxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sxe(e,t,r){return t=Ax(t),Exe(e,d6()?Reflect.construct(t,r||[],Ax(e).constructor):t.apply(e,r))}function Exe(e,t){if(t&&(Su(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fxe(e)}function Fxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d6=function(){return!!e})()}function Ax(e){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ax(e)}function Txe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r1(e,t)}function r1(e,t){return r1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},r1(e,t)}function f6(e,t,r){return t=h6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h6(e){var t=Pxe(e,"string");return Su(t)=="symbol"?t:t+""}function Pxe(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function n1(){return n1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n1.apply(this,arguments)}var kxe=function(t){var r=t.yAxisId,n=wj(),a=jj(),i=YI(r);return i==null?null:C.createElement(Wu,n1({},i,{className:_t("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return xo(l,!0)}}))},Dl=function(e){function t(){return Nxe(this,t),Sxe(this,t,arguments)}return Txe(t,e),Bxe(t,[{key:"render",value:function(){return C.createElement(kxe,this.props)}}])}(C.Component);f6(Dl,"displayName","YAxis");f6(Dl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function S4(e){return _xe(e)||Uxe(e)||Ixe(e)||Oxe()}function Oxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ixe(e,t){if(e){if(typeof e=="string")return s1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s1(e,t)}}function Uxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _xe(e){if(Array.isArray(e))return s1(e)}function s1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a1=function(t,r,n,a,i){var o=sa(t,Cj),l=sa(t,O0),c=[].concat(S4(o),S4(l)),A=sa(t,U0),u="".concat(a,"Id"),d=a[0],h=r;if(c.length&&(h=c.reduce(function(p,b){if(b.props[u]===n&&Ti(b.props,"extendDomain")&&ze(b.props[d])){var m=b.props[d];return[Math.min(p[0],m),Math.max(p[1],m)]}return p},h)),A.length){var f="".concat(d,"1"),g="".concat(d,"2");h=A.reduce(function(p,b){if(b.props[u]===n&&Ti(b.props,"extendDomain")&&ze(b.props[f])&&ze(b.props[g])){var m=b.props[f],x=b.props[g];return[Math.min(p[0],m,x),Math.max(p[1],m,x)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,b){return ze(b)?[Math.min(p[0],b),Math.max(p[1],b)]:p},h)),h},m6={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,A,u){this.fn=c,this.context=A,this.once=u||!1}function i(c,A,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new a(u,d||c,h),g=r?r+A:A;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],f]:c._events[g].push(f):(c._events[g]=f,c._eventsCount++),c}function o(c,A){--c._eventsCount===0?c._events=new n:delete c._events[A]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var A=[],u,d;if(this._eventsCount===0)return A;for(d in u=this._events)t.call(u,d)&&A.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(u)):A},l.prototype.listeners=function(A){var u=r?r+A:A,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,g=new Array(f);h<f;h++)g[h]=d[h].fn;return g},l.prototype.listenerCount=function(A){var u=r?r+A:A,d=this._events[u];return d?d.fn?1:d.length:0},l.prototype.emit=function(A,u,d,h,f,g){var p=r?r+A:A;if(!this._events[p])return!1;var b=this._events[p],m=arguments.length,x,y;if(b.fn){switch(b.once&&this.removeListener(A,b.fn,void 0,!0),m){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,d),!0;case 4:return b.fn.call(b.context,u,d,h),!0;case 5:return b.fn.call(b.context,u,d,h,f),!0;case 6:return b.fn.call(b.context,u,d,h,f,g),!0}for(y=1,x=new Array(m-1);y<m;y++)x[y-1]=arguments[y];b.fn.apply(b.context,x)}else{var w=b.length,N;for(y=0;y<w;y++)switch(b[y].once&&this.removeListener(A,b[y].fn,void 0,!0),m){case 1:b[y].fn.call(b[y].context);break;case 2:b[y].fn.call(b[y].context,u);break;case 3:b[y].fn.call(b[y].context,u,d);break;case 4:b[y].fn.call(b[y].context,u,d,h);break;default:if(!x)for(N=1,x=new Array(m-1);N<m;N++)x[N-1]=arguments[N];b[y].fn.apply(b[y].context,x)}}return!0},l.prototype.on=function(A,u,d){return i(this,A,u,d,!1)},l.prototype.once=function(A,u,d){return i(this,A,u,d,!0)},l.prototype.removeListener=function(A,u,d,h){var f=r?r+A:A;if(!this._events[f])return this;if(!u)return o(this,f),this;var g=this._events[f];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&o(this,f);else{for(var p=0,b=[],m=g.length;p<m;p++)(g[p].fn!==u||h&&!g[p].once||d&&g[p].context!==d)&&b.push(g[p]);b.length?this._events[f]=b.length===1?b[0]:b:o(this,f)}return this},l.prototype.removeAllListeners=function(A){var u;return A?(u=r?r+A:A,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(m6);var Dxe=m6.exports;const Lxe=nr(Dxe);var vb=new Lxe,bb="recharts.syncMouseEvents";function ch(e){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ch(e)}function Qxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p6(n.key),n)}}function Mxe(e,t,r){return t&&Rxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yb(e,t,r){return t=p6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p6(e){var t=$xe(e,"string");return ch(t)=="symbol"?t:t+""}function $xe(e,t){if(ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hxe=function(){function e(){Qxe(this,e),yb(this,"activeIndex",0),yb(this,"coordinateList",[]),yb(this,"layout","horizontal")}return Mxe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,A=c===void 0?null:c,u=r.offset,d=u===void 0?null:u,h=r.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=A??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,A=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+c+A,h=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function Kxe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ze(n)&&ze(a))return!0}return!1}function Vxe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function g6(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=kr(t,r,n,a),l=kr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function zxe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,A=t.innerRadius,u=t.outerRadius,d=t.angle,h=kr(l,c,A,d),f=kr(l,c,u,d);n=h.x,a=h.y,i=f.x,o=f.y}else return g6(t);return[{x:n,y:a},{x:i,y:o}]}function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function E4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $m(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(r),!0).forEach(function(n){Gxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gxe(e,t,r){return t=qxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qxe(e){var t=Wxe(e,"string");return Ah(t)=="symbol"?t:t+""}function Wxe(e,t){if(Ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yxe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,A=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,f=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,p=Mg;if(h==="ScatterChart")g=o,p=hfe;else if(h==="BarChart")g=Vxe(d,o,c,u),p=xj;else if(d==="radial"){var b=g6(o),m=b.cx,x=b.cy,y=b.radius,w=b.startAngle,N=b.endAngle;g={cx:m,cy:x,startAngle:w,endAngle:N,innerRadius:y,outerRadius:y},p=fI}else g={points:zxe(d,o,c)},p=Mg;var B=$m($m($m($m({stroke:"#ccc",pointerEvents:"none"},c),g),bt(f,!1)),{},{payload:l,payloadIndex:A,className:_t("recharts-tooltip-cursor",f.className)});return C.isValidElement(f)?C.cloneElement(f,B):C.createElement(p,B)}var Xxe=["item"],Jxe=["children","className","width","height","style","compact","title","desc"];function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function MA(){return MA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MA.apply(this,arguments)}function F4(e,t){return t0e(e)||e0e(e,t)||v6(e,t)||Zxe()}function Zxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){A=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function t0e(e){if(Array.isArray(e))return e}function T4(e,t){if(e==null)return{};var r=r0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b6(n.key),n)}}function a0e(e,t,r){return t&&s0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i0e(e,t,r){return t=ux(t),o0e(e,x6()?Reflect.construct(t,r||[],ux(e).constructor):t.apply(e,r))}function o0e(e,t){if(t&&(Eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l0e(e)}function l0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x6=function(){return!!e})()}function ux(e){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ux(e)}function c0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i1(e,t)}function i1(e,t){return i1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i1(e,t)}function Fu(e){return d0e(e)||u0e(e)||v6(e)||A0e()}function A0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v6(e,t){if(e){if(typeof e=="string")return o1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o1(e,t)}}function u0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d0e(e){if(Array.isArray(e))return o1(e)}function o1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P4(Object(r),!0).forEach(function(n){jt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jt(e,t,r){return t=b6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b6(e){var t=f0e(e,"string");return Eu(t)=="symbol"?t:t+""}function f0e(e,t){if(Eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h0e={xAxis:["bottom","top"],yAxis:["left","right"]},m0e={width:"100%",height:"100%"},y6={x:0,y:0};function Hm(e){return e}var p0e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},g0e=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Fe(Fe(Fe({},a),kr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,A=a.angle;return Fe(Fe(Fe({},a),kr(a.cx,a.cy,c,A)),{},{angle:A,radius:c})}return y6},_0=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var A=c.props.data;return A&&A.length?[].concat(Fu(l),Fu(A)):l},[]);return o.length>0?o:t&&t.length&&ze(a)&&ze(i)?t.slice(a,i+1):[]};function w6(e){return e==="number"?[0,"auto"]:void 0}var l1=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=_0(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,A){var u,d=(u=A.props.data)!==null&&u!==void 0?u:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var f=d===void 0?l:d;h=cg(f,o.dataKey,a)}else h=d&&d[n]||l[n];return h?[].concat(Fu(c),[oI(A,h)]):c},[])},k4=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=p0e(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,A=t.tooltipTicks,u=Ice(o,l,A,c);if(u>=0&&A){var d=A[u]&&A[u].value,h=l1(t,r,u,d),f=g0e(n,l,u,i);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:f}}return null},x0e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,A=r.dataEndIndex,u=t.layout,d=t.children,h=t.stackOffset,f=tI(u,i);return n.reduce(function(g,p){var b,m=p.type.defaultProps!==void 0?Fe(Fe({},p.type.defaultProps),p.props):p.props,x=m.type,y=m.dataKey,w=m.allowDataOverflow,N=m.allowDuplicatedCategory,B=m.scale,F=m.ticks,E=m.includeHidden,P=m[o];if(g[P])return g;var Q=_0(t.data,{graphicalItems:a.filter(function(D){var H,V=o in D.props?D.props[o]:(H=D.type.defaultProps)===null||H===void 0?void 0:H[o];return V===P}),dataStartIndex:c,dataEndIndex:A}),U=Q.length,T,k,I;Kxe(m.domain,w,x)&&(T=ww(m.domain,null,w),f&&(x==="number"||B!=="auto")&&(I=uf(Q,y,"category")));var M=w6(x);if(!T||T.length===0){var L,K=(L=m.domain)!==null&&L!==void 0?L:M;if(y){if(T=uf(Q,y,x),x==="category"&&f){var R=jq(T);N&&R?(k=T,T=Jg(0,U)):N||(T=nS(K,T,p).reduce(function(D,H){return D.indexOf(H)>=0?D:[].concat(Fu(D),[H])},[]))}else if(x==="category")N?T=T.filter(function(D){return D!==""&&!kt(D)}):T=nS(K,T,p).reduce(function(D,H){return D.indexOf(H)>=0||H===""||kt(H)?D:[].concat(Fu(D),[H])},[]);else if(x==="number"){var $=Qce(Q,a.filter(function(D){var H,V,re=o in D.props?D.props[o]:(H=D.type.defaultProps)===null||H===void 0?void 0:H[o],Ae="hide"in D.props?D.props.hide:(V=D.type.defaultProps)===null||V===void 0?void 0:V.hide;return re===P&&(E||!Ae)}),y,i,u);$&&(T=$)}f&&(x==="number"||B!=="auto")&&(I=uf(Q,y,"category"))}else f?T=Jg(0,U):l&&l[P]&&l[P].hasStack&&x==="number"?T=h==="expand"?[0,1]:iI(l[P].stackGroups,c,A):T=eI(Q,a.filter(function(D){var H=o in D.props?D.props[o]:D.type.defaultProps[o],V="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return H===P&&(E||!V)}),x,u,!0);if(x==="number")T=a1(d,T,P,i,F),K&&(T=ww(K,T,w));else if(x==="category"&&K){var q=K,Z=T.every(function(D){return q.indexOf(D)>=0});Z&&(T=q)}}return Fe(Fe({},g),{},jt({},P,Fe(Fe({},m),{},{axisType:i,domain:T,categoricalDomain:I,duplicateDomain:k,originalDomain:(b=m.domain)!==null&&b!==void 0?b:M,isCategorical:f,layout:u})))},{})},v0e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,A=r.dataEndIndex,u=t.layout,d=t.children,h=_0(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:A}),f=h.length,g=tI(u,i),p=-1;return n.reduce(function(b,m){var x=m.type.defaultProps!==void 0?Fe(Fe({},m.type.defaultProps),m.props):m.props,y=x[o],w=w6("number");if(!b[y]){p++;var N;return g?N=Jg(0,f):l&&l[y]&&l[y].hasStack?(N=iI(l[y].stackGroups,c,A),N=a1(d,N,y,i)):(N=ww(w,eI(h,n.filter(function(B){var F,E,P=o in B.props?B.props[o]:(F=B.type.defaultProps)===null||F===void 0?void 0:F[o],Q="hide"in B.props?B.props.hide:(E=B.type.defaultProps)===null||E===void 0?void 0:E.hide;return P===y&&!Q}),"number",u),a.defaultProps.allowDataOverflow),N=a1(d,N,y,i)),Fe(Fe({},b),{},jt({},y,Fe(Fe({axisType:i},a.defaultProps),{},{hide:!0,orientation:na(h0e,"".concat(i,".").concat(p%2),null),domain:N,originalDomain:w,isCategorical:g,layout:u})))}return b},{})},b0e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,A=r.dataEndIndex,u=t.children,d="".concat(a,"Id"),h=sa(u,i),f={};return h&&h.length?f=x0e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:A}):o&&o.length&&(f=v0e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:A})),f},y0e=function(t){var r=ul(t),n=xo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:V2(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Lg(r,n)}},O4=function(t){var r=t.children,n=t.defaultShowTooltip,a=qs(r,vu),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},w0e=function(t){return!t||!t.length?!1:t.some(function(r){var n=bo(r&&r.type);return n&&n.indexOf("Bar")>=0})},I4=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},j0e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,A=n.width,u=n.height,d=n.children,h=n.margin||{},f=qs(d,vu),g=qs(d,xl),p=Object.keys(c).reduce(function(N,B){var F=c[B],E=F.orientation;return!F.mirror&&!F.hide?Fe(Fe({},N),{},jt({},E,N[E]+F.width)):N},{left:h.left||0,right:h.right||0}),b=Object.keys(o).reduce(function(N,B){var F=o[B],E=F.orientation;return!F.mirror&&!F.hide?Fe(Fe({},N),{},jt({},E,na(N,"".concat(E))+F.height)):N},{top:h.top||0,bottom:h.bottom||0}),m=Fe(Fe({},b),p),x=m.bottom;f&&(m.bottom+=f.props.height||vu.defaultProps.height),g&&r&&(m=Dce(m,a,n,r));var y=A-m.left-m.right,w=u-m.top-m.bottom;return Fe(Fe({brushBottom:x},m),{},{width:Math.max(y,0),height:Math.max(w,0)})},N0e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Ej=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,A=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,h=function(m,x){var y=x.graphicalItems,w=x.stackGroups,N=x.offset,B=x.updateId,F=x.dataStartIndex,E=x.dataEndIndex,P=m.barSize,Q=m.layout,U=m.barGap,T=m.barCategoryGap,k=m.maxBarSize,I=I4(Q),M=I.numericAxisName,L=I.cateAxisName,K=w0e(y),R=[];return y.forEach(function($,q){var Z=_0(m.data,{graphicalItems:[$],dataStartIndex:F,dataEndIndex:E}),D=$.type.defaultProps!==void 0?Fe(Fe({},$.type.defaultProps),$.props):$.props,H=D.dataKey,V=D.maxBarSize,re=D["".concat(M,"Id")],Ae=D["".concat(L,"Id")],ae={},de=c.reduce(function(qe,ce){var pe=x["".concat(ce.axisType,"Map")],Be=D["".concat(ce.axisType,"Id")];pe&&pe[Be]||ce.axisType==="zAxis"||Rc();var Qe=pe[Be];return Fe(Fe({},qe),{},jt(jt({},ce.axisType,Qe),"".concat(ce.axisType,"Ticks"),xo(Qe)))},ae),X=de[L],te=de["".concat(L,"Ticks")],ue=w&&w[re]&&w[re].hasStack&&qce($,w[re].stackGroups),se=bo($.type).indexOf("Bar")>=0,we=Lg(X,te),Ce=[],J=K&&Uce({barSize:P,stackGroups:w,totalSize:N0e(de,L)});if(se){var _e,Ge,We=kt(V)?k:V,ke=(_e=(Ge=Lg(X,te,!0))!==null&&Ge!==void 0?Ge:We)!==null&&_e!==void 0?_e:0;Ce=_ce({barGap:U,barCategoryGap:T,bandSize:ke!==we?ke:we,sizeList:J[Ae],maxBarSize:We}),ke!==we&&(Ce=Ce.map(function(qe){return Fe(Fe({},qe),{},{position:Fe(Fe({},qe.position),{},{offset:qe.position.offset-ke/2})})}))}var At=$&&$.type&&$.type.getComposedData;At&&R.push({props:Fe(Fe({},At(Fe(Fe({},de),{},{displayedData:Z,props:m,dataKey:H,item:$,bandSize:we,barPosition:Ce,offset:N,stackedData:ue,layout:Q,dataStartIndex:F,dataEndIndex:E}))),{},jt(jt(jt({key:$.key||"item-".concat(q)},M,de[M]),L,de[L]),"animationId",B)),childIndex:_q($,m.children),item:$})}),R},f=function(m,x){var y=m.props,w=m.dataStartIndex,N=m.dataEndIndex,B=m.updateId;if(!YC({props:y}))return null;var F=y.children,E=y.layout,P=y.stackOffset,Q=y.data,U=y.reverseStackOrder,T=I4(E),k=T.numericAxisName,I=T.cateAxisName,M=sa(F,n),L=zce(Q,M,"".concat(k,"Id"),"".concat(I,"Id"),P,U),K=c.reduce(function(D,H){var V="".concat(H.axisType,"Map");return Fe(Fe({},D),{},jt({},V,b0e(y,Fe(Fe({},H),{},{graphicalItems:M,stackGroups:H.axisType===k&&L,dataStartIndex:w,dataEndIndex:N}))))},{}),R=j0e(Fe(Fe({},K),{},{props:y,graphicalItems:M}),x==null?void 0:x.legendBBox);Object.keys(K).forEach(function(D){K[D]=u(y,K[D],R,D.replace("Map",""),r)});var $=K["".concat(I,"Map")],q=y0e($),Z=h(y,Fe(Fe({},K),{},{dataStartIndex:w,dataEndIndex:N,updateId:B,graphicalItems:M,stackGroups:L,offset:R}));return Fe(Fe({formattedGraphicalItems:Z,graphicalItems:M,offset:R,stackGroups:L},q),K)},g=function(b){function m(x){var y,w,N;return n0e(this,m),N=i0e(this,m,[x]),jt(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jt(N,"accessibilityManager",new Hxe),jt(N,"handleLegendBBoxUpdate",function(B){if(B){var F=N.state,E=F.dataStartIndex,P=F.dataEndIndex,Q=F.updateId;N.setState(Fe({legendBBox:B},f({props:N.props,dataStartIndex:E,dataEndIndex:P,updateId:Q},Fe(Fe({},N.state),{},{legendBBox:B}))))}}),jt(N,"handleReceiveSyncEvent",function(B,F,E){if(N.props.syncId===B){if(E===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(F)}}),jt(N,"handleBrushChange",function(B){var F=B.startIndex,E=B.endIndex;if(F!==N.state.dataStartIndex||E!==N.state.dataEndIndex){var P=N.state.updateId;N.setState(function(){return Fe({dataStartIndex:F,dataEndIndex:E},f({props:N.props,dataStartIndex:F,dataEndIndex:E,updateId:P},N.state))}),N.triggerSyncEvent({dataStartIndex:F,dataEndIndex:E})}}),jt(N,"handleMouseEnter",function(B){var F=N.getMouseInfo(B);if(F){var E=Fe(Fe({},F),{},{isTooltipActive:!0});N.setState(E),N.triggerSyncEvent(E);var P=N.props.onMouseEnter;Et(P)&&P(E,B)}}),jt(N,"triggeredAfterMouseMove",function(B){var F=N.getMouseInfo(B),E=F?Fe(Fe({},F),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(E),N.triggerSyncEvent(E);var P=N.props.onMouseMove;Et(P)&&P(E,B)}),jt(N,"handleItemMouseEnter",function(B){N.setState(function(){return{isTooltipActive:!0,activeItem:B,activePayload:B.tooltipPayload,activeCoordinate:B.tooltipPosition||{x:B.cx,y:B.cy}}})}),jt(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),jt(N,"handleMouseMove",function(B){B.persist(),N.throttleTriggeredAfterMouseMove(B)}),jt(N,"handleMouseLeave",function(B){N.throttleTriggeredAfterMouseMove.cancel();var F={isTooltipActive:!1};N.setState(F),N.triggerSyncEvent(F);var E=N.props.onMouseLeave;Et(E)&&E(F,B)}),jt(N,"handleOuterEvent",function(B){var F=Uq(B),E=na(N.props,"".concat(F));if(F&&Et(E)){var P,Q;/.*touch.*/i.test(F)?Q=N.getMouseInfo(B.changedTouches[0]):Q=N.getMouseInfo(B),E((P=Q)!==null&&P!==void 0?P:{},B)}}),jt(N,"handleClick",function(B){var F=N.getMouseInfo(B);if(F){var E=Fe(Fe({},F),{},{isTooltipActive:!0});N.setState(E),N.triggerSyncEvent(E);var P=N.props.onClick;Et(P)&&P(E,B)}}),jt(N,"handleMouseDown",function(B){var F=N.props.onMouseDown;if(Et(F)){var E=N.getMouseInfo(B);F(E,B)}}),jt(N,"handleMouseUp",function(B){var F=N.props.onMouseUp;if(Et(F)){var E=N.getMouseInfo(B);F(E,B)}}),jt(N,"handleTouchMove",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(B.changedTouches[0])}),jt(N,"handleTouchStart",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&N.handleMouseDown(B.changedTouches[0])}),jt(N,"handleTouchEnd",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&N.handleMouseUp(B.changedTouches[0])}),jt(N,"handleDoubleClick",function(B){var F=N.props.onDoubleClick;if(Et(F)){var E=N.getMouseInfo(B);F(E,B)}}),jt(N,"handleContextMenu",function(B){var F=N.props.onContextMenu;if(Et(F)){var E=N.getMouseInfo(B);F(E,B)}}),jt(N,"triggerSyncEvent",function(B){N.props.syncId!==void 0&&vb.emit(bb,N.props.syncId,B,N.eventEmitterSymbol)}),jt(N,"applySyncEvent",function(B){var F=N.props,E=F.layout,P=F.syncMethod,Q=N.state.updateId,U=B.dataStartIndex,T=B.dataEndIndex;if(B.dataStartIndex!==void 0||B.dataEndIndex!==void 0)N.setState(Fe({dataStartIndex:U,dataEndIndex:T},f({props:N.props,dataStartIndex:U,dataEndIndex:T,updateId:Q},N.state)));else if(B.activeTooltipIndex!==void 0){var k=B.chartX,I=B.chartY,M=B.activeTooltipIndex,L=N.state,K=L.offset,R=L.tooltipTicks;if(!K)return;if(typeof P=="function")M=P(R,B);else if(P==="value"){M=-1;for(var $=0;$<R.length;$++)if(R[$].value===B.activeLabel){M=$;break}}var q=Fe(Fe({},K),{},{x:K.left,y:K.top}),Z=Math.min(k,q.x+q.width),D=Math.min(I,q.y+q.height),H=R[M]&&R[M].value,V=l1(N.state,N.props.data,M),re=R[M]?{x:E==="horizontal"?R[M].coordinate:Z,y:E==="horizontal"?D:R[M].coordinate}:y6;N.setState(Fe(Fe({},B),{},{activeLabel:H,activeCoordinate:re,activePayload:V,activeTooltipIndex:M}))}else N.setState(B)}),jt(N,"renderCursor",function(B){var F,E=N.state,P=E.isTooltipActive,Q=E.activeCoordinate,U=E.activePayload,T=E.offset,k=E.activeTooltipIndex,I=E.tooltipAxisBandSize,M=N.getTooltipEventType(),L=(F=B.props.active)!==null&&F!==void 0?F:P,K=N.props.layout,R=B.key||"_recharts-cursor";return fe.createElement(Yxe,{key:R,activeCoordinate:Q,activePayload:U,activeTooltipIndex:k,chartName:r,element:B,isActive:L,layout:K,offset:T,tooltipAxisBandSize:I,tooltipEventType:M})}),jt(N,"renderPolarAxis",function(B,F,E){var P=na(B,"type.axisType"),Q=na(N.state,"".concat(P,"Map")),U=B.type.defaultProps,T=U!==void 0?Fe(Fe({},U),B.props):B.props,k=Q&&Q[T["".concat(P,"Id")]];return C.cloneElement(B,Fe(Fe({},k),{},{className:_t(P,k.className),key:B.key||"".concat(F,"-").concat(E),ticks:xo(k,!0)}))}),jt(N,"renderPolarGrid",function(B){var F=B.props,E=F.radialLines,P=F.polarAngles,Q=F.polarRadius,U=N.state,T=U.radiusAxisMap,k=U.angleAxisMap,I=ul(T),M=ul(k),L=M.cx,K=M.cy,R=M.innerRadius,$=M.outerRadius;return C.cloneElement(B,{polarAngles:Array.isArray(P)?P:xo(M,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(Q)?Q:xo(I,!0).map(function(q){return q.coordinate}),cx:L,cy:K,innerRadius:R,outerRadius:$,key:B.key||"polar-grid",radialLines:E})}),jt(N,"renderLegend",function(){var B=N.state.formattedGraphicalItems,F=N.props,E=F.children,P=F.width,Q=F.height,U=N.props.margin||{},T=P-(U.left||0)-(U.right||0),k=JO({children:E,formattedGraphicalItems:B,legendWidth:T,legendContent:A});if(!k)return null;var I=k.item,M=T4(k,Xxe);return C.cloneElement(I,Fe(Fe({},M),{},{chartWidth:P,chartHeight:Q,margin:U,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),jt(N,"renderTooltip",function(){var B,F=N.props,E=F.children,P=F.accessibilityLayer,Q=qs(E,Ts);if(!Q)return null;var U=N.state,T=U.isTooltipActive,k=U.activeCoordinate,I=U.activePayload,M=U.activeLabel,L=U.offset,K=(B=Q.props.active)!==null&&B!==void 0?B:T;return C.cloneElement(Q,{viewBox:Fe(Fe({},L),{},{x:L.left,y:L.top}),active:K,label:M,payload:K?I:[],coordinate:k,accessibilityLayer:P})}),jt(N,"renderBrush",function(B){var F=N.props,E=F.margin,P=F.data,Q=N.state,U=Q.offset,T=Q.dataStartIndex,k=Q.dataEndIndex,I=Q.updateId;return C.cloneElement(B,{key:B.key||"_recharts-brush",onChange:Lm(N.handleBrushChange,B.props.onChange),data:P,x:ze(B.props.x)?B.props.x:U.left,y:ze(B.props.y)?B.props.y:U.top+U.height+U.brushBottom-(E.bottom||0),width:ze(B.props.width)?B.props.width:U.width,startIndex:T,endIndex:k,updateId:"brush-".concat(I)})}),jt(N,"renderReferenceElement",function(B,F,E){if(!B)return null;var P=N,Q=P.clipPathId,U=N.state,T=U.xAxisMap,k=U.yAxisMap,I=U.offset,M=B.type.defaultProps||{},L=B.props,K=L.xAxisId,R=K===void 0?M.xAxisId:K,$=L.yAxisId,q=$===void 0?M.yAxisId:$;return C.cloneElement(B,{key:B.key||"".concat(F,"-").concat(E),xAxis:T[R],yAxis:k[q],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:Q})}),jt(N,"renderActivePoints",function(B){var F=B.item,E=B.activePoint,P=B.basePoint,Q=B.childIndex,U=B.isRange,T=[],k=F.props.key,I=F.item.type.defaultProps!==void 0?Fe(Fe({},F.item.type.defaultProps),F.item.props):F.item.props,M=I.activeDot,L=I.dataKey,K=Fe(Fe({index:Q,dataKey:L,cx:E.x,cy:E.y,r:4,fill:gj(F.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},bt(M,!1)),Ag(M));return T.push(m.renderActiveDot(M,K,"".concat(k,"-activePoint-").concat(Q))),P?T.push(m.renderActiveDot(M,Fe(Fe({},K),{},{cx:P.x,cy:P.y}),"".concat(k,"-basePoint-").concat(Q))):U&&T.push(null),T}),jt(N,"renderGraphicChild",function(B,F,E){var P=N.filterFormatItem(B,F,E);if(!P)return null;var Q=N.getTooltipEventType(),U=N.state,T=U.isTooltipActive,k=U.tooltipAxis,I=U.activeTooltipIndex,M=U.activeLabel,L=N.props.children,K=qs(L,Ts),R=P.props,$=R.points,q=R.isRange,Z=R.baseLine,D=P.item.type.defaultProps!==void 0?Fe(Fe({},P.item.type.defaultProps),P.item.props):P.item.props,H=D.activeDot,V=D.hide,re=D.activeBar,Ae=D.activeShape,ae=!!(!V&&T&&K&&(H||re||Ae)),de={};Q!=="axis"&&K&&K.props.trigger==="click"?de={onClick:Lm(N.handleItemMouseEnter,B.props.onClick)}:Q!=="axis"&&(de={onMouseLeave:Lm(N.handleItemMouseLeave,B.props.onMouseLeave),onMouseEnter:Lm(N.handleItemMouseEnter,B.props.onMouseEnter)});var X=C.cloneElement(B,Fe(Fe({},P.props),de));function te(ce){return typeof k.dataKey=="function"?k.dataKey(ce.payload):null}if(ae)if(I>=0){var ue,se;if(k.dataKey&&!k.allowDuplicatedCategory){var we=typeof k.dataKey=="function"?te:"payload.".concat(k.dataKey.toString());ue=cg($,we,M),se=q&&Z&&cg(Z,we,M)}else ue=$==null?void 0:$[I],se=q&&Z&&Z[I];if(Ae||re){var Ce=B.props.activeIndex!==void 0?B.props.activeIndex:I;return[C.cloneElement(B,Fe(Fe(Fe({},P.props),de),{},{activeIndex:Ce})),null,null]}if(!kt(ue))return[X].concat(Fu(N.renderActivePoints({item:P,activePoint:ue,basePoint:se,childIndex:I,isRange:q})))}else{var J,_e=(J=N.getItemByXY(N.state.activeCoordinate))!==null&&J!==void 0?J:{graphicalItem:X},Ge=_e.graphicalItem,We=Ge.item,ke=We===void 0?B:We,At=Ge.childIndex,qe=Fe(Fe(Fe({},P.props),de),{},{activeIndex:At});return[C.cloneElement(ke,qe),null,null]}return q?[X,null,null]:[X,null]}),jt(N,"renderCustomized",function(B,F,E){return C.cloneElement(B,Fe(Fe({key:"recharts-customized-".concat(E)},N.props),N.state))}),jt(N,"renderMap",{CartesianGrid:{handler:Hm,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Hm},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Hm},YAxis:{handler:Hm},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((y=x.id)!==null&&y!==void 0?y:$u("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=Jk(N.triggeredAfterMouseMove,(w=x.throttleDelay)!==null&&w!==void 0?w:1e3/60),N.state={},N}return c0e(m,b),a0e(m,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,N=y.data,B=y.height,F=y.layout,E=qs(w,Ts);if(E){var P=E.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var Q=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,U=l1(this.state,N,P,Q),T=this.state.tooltipTicks[P].coordinate,k=(this.state.offset.top+B)/2,I=F==="horizontal",M=I?{x:T,y:k}:{y:T,x:k},L=this.state.formattedGraphicalItems.find(function(R){var $=R.item;return $.type.name==="Scatter"});L&&(M=Fe(Fe({},M),L.props.points[P].tooltipPosition),U=L.props.points[P].tooltipPayload);var K={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:Q,activePayload:U,activeCoordinate:M};this.setState(K),this.renderCursor(E),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var N,B;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0}})}return null}},{key:"componentDidUpdate",value:function(y){Dy([qs(y.children,Ts)],[qs(this.props.children,Ts)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=qs(this.props.children,Ts);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,N=w.getBoundingClientRect(),B=lae(N),F={chartX:Math.round(y.pageX-B.left),chartY:Math.round(y.pageY-B.top)},E=N.width/w.offsetWidth||1,P=this.inRange(F.chartX,F.chartY,E);if(!P)return null;var Q=this.state,U=Q.xAxisMap,T=Q.yAxisMap,k=this.getTooltipEventType(),I=k4(this.state,this.props.data,this.props.layout,P);if(k!=="axis"&&U&&T){var M=ul(U).scale,L=ul(T).scale,K=M&&M.invert?M.invert(F.chartX):null,R=L&&L.invert?L.invert(F.chartY):null;return Fe(Fe({},F),{},{xValue:K,yValue:R},I)}return I?Fe(Fe({},F),I):null}},{key:"inRange",value:function(y,w){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,B=this.props.layout,F=y/N,E=w/N;if(B==="horizontal"||B==="vertical"){var P=this.state.offset,Q=F>=P.left&&F<=P.left+P.width&&E>=P.top&&E<=P.top+P.height;return Q?{x:F,y:E}:null}var U=this.state,T=U.angleAxisMap,k=U.radiusAxisMap;if(T&&k){var I=ul(T);return iS({x:F,y:E},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),N=qs(y,Ts),B={};N&&w==="axis"&&(N.props.trigger==="click"?B={onClick:this.handleClick}:B={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var F=Ag(this.props,this.handleOuterEvent);return Fe(Fe({},F),B)}},{key:"addListener",value:function(){vb.on(bb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){vb.removeListener(bb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,N){for(var B=this.state.formattedGraphicalItems,F=0,E=B.length;F<E;F++){var P=B[F];if(P.item===y||P.props.key===y.key||w===bo(P.item.type)&&N===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,N=w.left,B=w.top,F=w.height,E=w.width;return fe.createElement("defs",null,fe.createElement("clipPath",{id:y},fe.createElement("rect",{x:N,y:B,height:F,width:E})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,N){var B=F4(N,2),F=B[0],E=B[1];return Fe(Fe({},w),{},jt({},F,E.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,N){var B=F4(N,2),F=B[0],E=B[1];return Fe(Fe({},w),{},jt({},F,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,N=w.formattedGraphicalItems,B=w.activeItem;if(N&&N.length)for(var F=0,E=N.length;F<E;F++){var P=N[F],Q=P.props,U=P.item,T=U.type.defaultProps!==void 0?Fe(Fe({},U.type.defaultProps),U.props):U.props,k=bo(U.type);if(k==="Bar"){var I=(Q.data||[]).find(function(R){return qde(y,R)});if(I)return{graphicalItem:P,payload:I}}else if(k==="RadialBar"){var M=(Q.data||[]).find(function(R){return iS(y,R)});if(M)return{graphicalItem:P,payload:M}}else if(F0(P,B)||T0(P,B)||sh(P,B)){var L=_he({graphicalItem:P,activeTooltipItem:B,itemData:T.data}),K=T.activeIndex===void 0?L:T.activeIndex;return{graphicalItem:Fe(Fe({},P),{},{childIndex:K}),payload:sh(P,B)?T.data[L]:P.props.data[L]}}}return null}},{key:"render",value:function(){var y=this;if(!YC(this))return null;var w=this.props,N=w.children,B=w.className,F=w.width,E=w.height,P=w.style,Q=w.compact,U=w.title,T=w.desc,k=T4(w,Jxe),I=bt(k,!1);if(Q)return fe.createElement(u4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement(Qy,MA({},I,{width:F,height:E,title:U,desc:T}),this.renderClipPath(),JC(N,this.renderMap)));if(this.props.accessibilityLayer){var M,L;I.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,I.role=(L=this.props.role)!==null&&L!==void 0?L:"application",I.onKeyDown=function(R){y.accessibilityManager.keyboardEvent(R)},I.onFocus=function(){y.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return fe.createElement(u4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement("div",MA({className:_t("recharts-wrapper",B),style:Fe({position:"relative",cursor:"default",width:F,height:E},P)},K,{ref:function($){y.container=$}}),fe.createElement(Qy,MA({},I,{width:F,height:E,title:U,desc:T,style:m0e}),this.renderClipPath(),JC(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);jt(g,"displayName",r),jt(g,"defaultProps",Fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),jt(g,"getDerivedStateFromProps",function(b,m){var x=b.dataKey,y=b.data,w=b.children,N=b.width,B=b.height,F=b.layout,E=b.stackOffset,P=b.margin,Q=m.dataStartIndex,U=m.dataEndIndex;if(m.updateId===void 0){var T=O4(b);return Fe(Fe(Fe({},T),{},{updateId:0},f(Fe(Fe({props:b},T),{},{updateId:0}),m)),{},{prevDataKey:x,prevData:y,prevWidth:N,prevHeight:B,prevLayout:F,prevStackOffset:E,prevMargin:P,prevChildren:w})}if(x!==m.prevDataKey||y!==m.prevData||N!==m.prevWidth||B!==m.prevHeight||F!==m.prevLayout||E!==m.prevStackOffset||!WA(P,m.prevMargin)){var k=O4(b),I={chartX:m.chartX,chartY:m.chartY,isTooltipActive:m.isTooltipActive},M=Fe(Fe({},k4(m,y,F)),{},{updateId:m.updateId+1}),L=Fe(Fe(Fe({},k),I),M);return Fe(Fe(Fe({},L),f(Fe({props:b},L),m)),{},{prevDataKey:x,prevData:y,prevWidth:N,prevHeight:B,prevLayout:F,prevStackOffset:E,prevMargin:P,prevChildren:w})}if(!Dy(w,m.prevChildren)){var K,R,$,q,Z=qs(w,vu),D=Z&&(K=(R=Z.props)===null||R===void 0?void 0:R.startIndex)!==null&&K!==void 0?K:Q,H=Z&&($=(q=Z.props)===null||q===void 0?void 0:q.endIndex)!==null&&$!==void 0?$:U,V=D!==Q||H!==U,re=!kt(y),Ae=re&&!V?m.updateId:m.updateId+1;return Fe(Fe({updateId:Ae},f(Fe(Fe({props:b},m),{},{updateId:Ae,dataStartIndex:D,dataEndIndex:H}),m)),{},{prevChildren:w,dataStartIndex:D,dataEndIndex:H})}return null}),jt(g,"renderActiveDot",function(b,m,x){var y;return C.isValidElement(b)?y=C.cloneElement(b,m):Et(b)?y=b(m):y=fe.createElement(N0,m),fe.createElement(er,{className:"recharts-active-dot",key:x},y)});var p=C.forwardRef(function(m,x){return fe.createElement(g,MA({},m,{ref:x}))});return p.displayName=g.displayName,p},j6=Ej({chartName:"LineChart",GraphicalChild:bl,axisComponents:[{axisType:"xAxis",AxisComp:_l},{axisType:"yAxis",AxisComp:Dl}],formatAxisMap:MI}),N6=Ej({chartName:"BarChart",GraphicalChild:Ul,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:_l},{axisType:"yAxis",AxisComp:Dl}],formatAxisMap:MI}),C0e=Ej({chartName:"PieChart",GraphicalChild:_o,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:E0},{axisType:"radiusAxis",AxisComp:B0}],formatAxisMap:sAe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function B0e({data:e}){const t=({active:r,payload:n})=>r&&n&&n.length?s.jsxs("div",{className:"bg-white border rounded-lg shadow-lg p-3",children:[s.jsx("p",{className:"font-medium text-gray-900",children:n[0].payload.monthName}),s.jsx("p",{className:"text-sm text-blue-600 font-semibold mt-1",children:Je(n[0].value)})]}):null;return s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Monthly Revenue"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Revenue trends throughout the year"})]}),s.jsx(Nh,{width:"100%",height:300,children:s.jsxs(j6,{data:e,children:[s.jsx(kh,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(_l,{dataKey:"monthName",stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(Dl,{stroke:"#6b7280",style:{fontSize:"12px"},tickFormatter:r=>`$${(r/1e3).toFixed(0)}k`}),s.jsx(Ts,{content:s.jsx(t,{})}),s.jsx(bl,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4},activeDot:{r:6}})]})})]})}function S0e({data:e}){const t=a=>a==="personal-basic"?"Basic":a==="personal-standard"?"Standard":a==="personal-complex"?"Complex":a==="personal-quebec"?"Quebec":a==="business-self-employed"?"Self-Employed":a==="business-small"?"Small Business":a==="business-corporate"?"Corporate":a==="custom"?"Custom":a,r=e.map(a=>({...a,name:t(a.serviceType)})),n=({active:a,payload:i})=>a&&i&&i.length?s.jsxs("div",{className:"bg-white border rounded-lg shadow-lg p-3",children:[s.jsx("p",{className:"font-medium text-gray-900",children:i[0].payload.name}),s.jsx("p",{className:"text-sm text-green-600 font-semibold mt-1",children:Je(i[0].value)}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i[0].payload.count," filing",i[0].payload.count!==1?"s":""]})]}):null;return s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Revenue by Service Type"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Breakdown by service categories"})]}),s.jsx(Nh,{width:"100%",height:300,children:s.jsxs(N6,{data:r,children:[s.jsx(kh,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(_l,{dataKey:"name",stroke:"#6b7280",style:{fontSize:"12px"},angle:-45,textAnchor:"end",height:80}),s.jsx(Dl,{stroke:"#6b7280",style:{fontSize:"12px"},tickFormatter:a=>`$${(a/1e3).toFixed(0)}k`}),s.jsx(Ts,{content:s.jsx(n,{})}),s.jsx(Ul,{dataKey:"revenue",fill:"#10b981",radius:[8,8,0,0]})]})})]})}const Km=["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ef4444","#06b6d4","#ec4899","#6366f1"];function E0e({data:e}){const t=e.map((a,i)=>({name:a.province,value:a.revenue,percentage:a.percentage,color:Km[i%Km.length]})),r=({active:a,payload:i})=>a&&i&&i.length?s.jsxs("div",{className:"bg-white border rounded-lg shadow-lg p-3",children:[s.jsx("p",{className:"font-medium text-gray-900",children:i[0].name}),s.jsx("p",{className:"text-sm text-blue-600 font-semibold mt-1",children:Je(i[0].value)}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i[0].payload.percentage,"% of total"]})]}):null,n=({payload:a})=>s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:a.map((i,o)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:i.color}}),s.jsx("span",{className:"text-sm text-gray-700 truncate",children:i.value})]},o))});return s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Ws,{className:"w-5 h-5 text-blue-600"}),"Revenue by Province"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Geographic distribution"})]}),e.length>0?s.jsxs(s.Fragment,{children:[s.jsx(Nh,{width:"100%",height:250,children:s.jsxs(C0e,{children:[s.jsx(_o,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({percentage:a})=>`${a}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((a,i)=>s.jsx(Ch,{fill:a.color},`cell-${i}`))}),s.jsx(Ts,{content:s.jsx(r,{})}),s.jsx(xl,{content:s.jsx(n,{})})]})}),s.jsx("div",{className:"mt-6 space-y-2 border-t pt-4",children:e.map((a,i)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:Km[i%Km.length]}}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:a.province})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:[a.percentage,"%"]}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 min-w-[80px] text-right",children:Je(a.revenue)})]})]},i))})]}):s.jsx("div",{className:"flex items-center justify-center py-12 text-gray-500",children:s.jsx("p",{className:"text-sm",children:"No data available"})})]})}function F0e({transactions:e,onClientClick:t}){const r=i=>{switch(i){case"paid":return s.jsx(vt,{className:"bg-green-100 text-green-700 border-green-300",children:"Paid"});case"pending":return s.jsx(vt,{className:"bg-amber-100 text-amber-700 border-amber-300",children:"Pending"});default:return s.jsx(vt,{variant:"outline",children:i})}},n=i=>I9(i,"en"),a=()=>{const i=["Date","Client","Email","Year","Service","Province","Amount","Status","Invoice"],o=e.map(d=>[d.paidAt?new Date(d.paidAt).toLocaleDateString():"N/A",d.clientName,d.clientEmail,d.year,n(d.serviceType),d.province,d.amount,d.status,d.invoiceNumber||"N/A"]),l=[i.join(","),...o.map(d=>d.map(h=>`"${h}"`).join(","))].join(`
`),c=new Blob([l],{type:"text/csv"}),A=window.URL.createObjectURL(c),u=document.createElement("a");u.href=A,u.download=`transactions_${new Date().toISOString().split("T")[0]}.csv`,u.click(),window.URL.revokeObjectURL(A)};return s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Recent Transactions"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[e.length," transactions"]})]}),s.jsxs(ye,{variant:"outline",size:"sm",onClick:a,disabled:e.length===0,children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]}),e.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left text-sm font-medium text-gray-500 pb-3 pr-4",children:"Date"}),s.jsx("th",{className:"text-left text-sm font-medium text-gray-500 pb-3 pr-4",children:"Client"}),s.jsx("th",{className:"text-left text-sm font-medium text-gray-500 pb-3 pr-4",children:"Year"}),s.jsx("th",{className:"text-left text-sm font-medium text-gray-500 pb-3 pr-4",children:"Service"}),s.jsx("th",{className:"text-left text-sm font-medium text-gray-500 pb-3 pr-4",children:"Province"}),s.jsx("th",{className:"text-right text-sm font-medium text-gray-500 pb-3 pr-4",children:"Amount"}),s.jsx("th",{className:"text-left text-sm font-medium text-gray-500 pb-3 pr-4",children:"Status"}),s.jsx("th",{className:"text-left text-sm font-medium text-gray-500 pb-3",children:"Invoice"})]})}),s.jsx("tbody",{children:e.map((i,o)=>s.jsxs("tr",{className:`border-b last:border-0 hover:bg-gray-50 ${o%2===0?"bg-white":"bg-gray-50/50"}`,children:[s.jsx("td",{className:"py-4 pr-4",children:s.jsx("span",{className:"text-sm text-gray-900",children:i.paidAt?new Date(i.paidAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-"})}),s.jsx("td",{className:"py-4 pr-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.clientName}),s.jsx("p",{className:"text-xs text-gray-500",children:i.clientEmail})]})}),s.jsx("td",{className:"py-4 pr-4",children:s.jsx("span",{className:"text-sm text-gray-900",children:i.year})}),s.jsx("td",{className:"py-4 pr-4",children:s.jsx("span",{className:"text-sm text-gray-700",children:n(i.serviceType)})}),s.jsx("td",{className:"py-4 pr-4",children:s.jsx("span",{className:"text-sm text-gray-700",children:i.province})}),s.jsx("td",{className:"py-4 pr-4 text-right",children:s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Je(i.amount)})}),s.jsx("td",{className:"py-4 pr-4",children:r(i.status)}),s.jsx("td",{className:"py-4",children:i.invoiceNumber?s.jsx("span",{className:"text-sm font-mono text-gray-600",children:i.invoiceNumber}):s.jsx("span",{className:"text-sm text-gray-400",children:"-"})})]},i.id))})]})}):s.jsx("div",{className:"flex items-center justify-center py-12 text-gray-500",children:s.jsx("p",{className:"text-sm",children:"No transactions found"})})]})}function T0e(){const e=Br(),{user:t}=Wr(),[r,n]=C.useState(!0),[a,i]=C.useState(null),[o,l]=C.useState(new Date().getFullYear().toString()),[c,A]=C.useState(""),[u,d]=C.useState(""),[h,f]=C.useState("");C.useEffect(()=>{if(!t||!Ya(t.email)){e("/login");return}g()},[t,o,c,u,h]);const g=async()=>{n(!0);try{const{data:x,error:y}=await Le.auth.getSession();if(y||!x.session)throw new Error("Not authenticated");const w=x.session.access_token,N=new URLSearchParams({year:o});c&&N.append("month",c),u&&N.append("province",u),h&&N.append("status",h);const B=await fetch(`${Nt.adminFinancials}?${N}`,{headers:{Authorization:`Bearer ${w}`}});if(!B.ok){const E=await B.json();throw new Error(E.error||"Failed to load financial data")}const F=await B.json();i(F)}catch(x){console.error("Error loading financial data:",x),me.error(`Failed to load financial data: ${x instanceof Error?x.message:"Unknown error"}`)}finally{n(!1)}},p=()=>{A(""),d(""),f("")};if(r)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ht,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Loading financial data..."})]})});if(!a)return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>e("/admin"),children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to Admin Hub"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:s.jsx(Zt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-semibold text-xl",children:"Financial Dashboard"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Revenue & Analytics"})]})]})]})})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 py-16",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Zt,{className:"w-10 h-10 text-green-600"})}),s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"No Financial Data Yet"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Financial data will appear here once you have completed tax filings with payment transactions."}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx(ye,{onClick:()=>e("/admin"),variant:"outline",children:"Back to Admin Hub"}),s.jsx(ye,{onClick:()=>e("/admin/clients"),children:"View Customers"})]})]})})]});const b=new Date().getFullYear(),m=[b,b-1,b-2,b-3];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>e("/admin"),children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to Admin"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:s.jsx(Zt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-semibold text-xl",children:"Financial Dashboard"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Revenue & Analytics"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mn,{className:"w-5 h-5 text-green-600"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[a.summary.paidTransactions," paid transactions"]})]})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsx(Se,{className:"p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vc,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),s.jsx("select",{value:o,onChange:x=>l(x.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:m.map(x=>s.jsx("option",{value:x,children:x},x))}),s.jsxs("select",{value:c,onChange:x=>A(x.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[s.jsx("option",{value:"",children:"All Months"}),["January","February","March","April","May","June","July","August","September","October","November","December"].map((x,y)=>s.jsx("option",{value:y+1,children:x},x))]}),s.jsxs("select",{value:u,onChange:x=>d(x.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[s.jsx("option",{value:"",children:"All Provinces"}),s.jsx("option",{value:"Ontario",children:"Ontario"}),s.jsx("option",{value:"Quebec",children:"Quebec"}),s.jsx("option",{value:"British Columbia",children:"British Columbia"}),s.jsx("option",{value:"Alberta",children:"Alberta"}),s.jsx("option",{value:"Manitoba",children:"Manitoba"}),s.jsx("option",{value:"Saskatchewan",children:"Saskatchewan"}),s.jsx("option",{value:"Nova Scotia",children:"Nova Scotia"}),s.jsx("option",{value:"New Brunswick",children:"New Brunswick"}),s.jsx("option",{value:"Newfoundland and Labrador",children:"Newfoundland and Labrador"}),s.jsx("option",{value:"Prince Edward Island",children:"Prince Edward Island"})]}),s.jsxs("select",{value:h,onChange:x=>f(x.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"pending",children:"Pending"})]}),(c||u||h)&&s.jsx(ye,{variant:"outline",size:"sm",onClick:p,children:"Clear Filters"})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(KK,{data:a.summary}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(B0e,{data:a.monthlyRevenue}),s.jsx(E0e,{data:a.provinceRevenue})]}),s.jsx(S0e,{data:a.serviceTypeRevenue}),s.jsx(F0e,{transactions:a.transactions,onClientClick:x=>e(`/admin/client/${x}`)})]})]})]})}const P0e=["Office Supplies","Software & Tools","Marketing & Advertising","Professional Fees","Bank Fees","Internet & Phone","Rent & Utilities","Insurance","Travel","Meals & Entertainment","Other"];function k0e({onSuccess:e,onCancel:t,existingExpense:r}){const[n,a]=C.useState(!1),[i,o]=C.useState(!1),[l,c]=C.useState({date:new Date().toISOString().split("T")[0],vendor:"",category:"Office Supplies",amount:"",gstAmount:"",qstAmount:"",description:"",receiptUrl:""});C.useEffect(()=>{r&&c({date:r.date,vendor:r.vendor,category:r.category,amount:r.amount.toString(),gstAmount:r.gstAmount?r.gstAmount.toString():"",qstAmount:r.qstAmount?r.qstAmount.toString():"",description:r.description||"",receiptUrl:r.receiptUrl||""})},[r]);const A=async x=>{var w;const y=(w=x.target.files)==null?void 0:w[0];if(y){if(!y.type.includes("pdf")&&!y.type.includes("image")){me.error("Please upload a PDF or image file");return}if(y.size>10*1024*1024){me.error("File size must be less than 10MB");return}o(!0);try{const{data:N,error:B}=await Le.auth.getSession();if(B||!N.session)throw new Error("Not authenticated");const E=`receipts/${Date.now()}_${y.name}`,{error:P}=await Le.storage.from("tax-documents-c2a25be0").upload(E,y);if(P)throw P;const{data:Q}=await Le.storage.from("tax-documents-c2a25be0").createSignedUrl(E,31536e3);Q!=null&&Q.signedUrl&&(c(U=>({...U,receiptUrl:Q.signedUrl})),me.success("Receipt uploaded successfully"))}catch(N){console.error("Upload error:",N),me.error("Failed to upload receipt")}finally{o(!1)}}},u=async x=>{if(x.preventDefault(),!l.vendor||!l.amount){me.error("Please fill in all required fields");return}a(!0);try{const{data:y,error:w}=await Le.auth.getSession();if(w||!y.session)throw new Error("Not authenticated");const N=y.session.access_token,B=r?"PUT":"POST",F=r?Nt.bookkeepingExpense(r.id):Nt.bookkeepingExpenses,E=await fetch(F,{method:B,headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify(l)});if(!E.ok){const P=await E.json();throw new Error(P.error||`Failed to ${r?"update":"create"} expense`)}me.success(`Expense ${r?"updated":"added"} successfully!`),e()}catch(y){console.error(`Error ${r?"updating":"creating"} expense:`,y),me.error(y instanceof Error?y.message:`Failed to ${r?"update":"create"} expense`)}finally{a(!1)}},d=parseFloat(l.amount)||0,h=parseFloat(l.gstAmount)||0,f=parseFloat(l.qstAmount)||0,g=h+f,p=d+g,b=d*.05,m=d*.09975;return s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:r?"Edit Expense":"Add New Expense"}),s.jsx(ye,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(In,{className:"w-4 h-4"})})]}),s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"date",children:"Date *"}),s.jsx(tt,{id:"date",type:"date",value:l.date,onChange:x=>c(y=>({...y,date:x.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"vendor",children:"Vendor/Supplier *"}),s.jsx(tt,{id:"vendor",type:"text",placeholder:"e.g. Zoom, Shopify, Bell",value:l.vendor,onChange:x=>c(y=>({...y,vendor:x.target.value})),required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(De,{htmlFor:"category",children:"Category *"}),s.jsx("select",{id:"category",value:l.category,onChange:x=>c(y=>({...y,category:x.target.value})),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:P0e.map(x=>s.jsx("option",{value:x,children:x},x))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(De,{htmlFor:"amount",children:"Amount - Before Tax (CAD) *"}),s.jsx(tt,{id:"amount",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:l.amount,onChange:x=>c(y=>({...y,amount:x.target.value})),required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the base amount WITHOUT any taxes"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"gstAmount",children:"GST (5%) - Canada"}),s.jsx(tt,{id:"gstAmount",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:l.gstAmount,onChange:x=>c(y=>({...y,gstAmount:x.target.value}))}),d>0&&s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Suggested: $",b.toFixed(2),l.gstAmount===""&&s.jsx("button",{type:"button",className:"ml-2 underline",onClick:()=>c(x=>({...x,gstAmount:b.toFixed(2)})),children:"Apply"})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"qstAmount",children:"QST (9.975%) - Quebec"}),s.jsx(tt,{id:"qstAmount",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:l.qstAmount,onChange:x=>c(y=>({...y,qstAmount:x.target.value}))}),d>0&&s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Suggested: $",m.toFixed(2),l.qstAmount===""&&s.jsx("button",{type:"button",className:"ml-2 underline",onClick:()=>c(x=>({...x,qstAmount:m.toFixed(2)})),children:"Apply"})]})]})]}),d>0&&s.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Subtotal (before tax):"}),s.jsxs("span",{className:"font-medium",children:["$",d.toFixed(2)]})]}),h>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"GST (5%):"}),s.jsxs("span",{className:"font-medium text-green-700",children:["+$",h.toFixed(2)]})]}),f>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"QST (9.975%):"}),s.jsxs("span",{className:"font-medium text-green-700",children:["+$",f.toFixed(2)]})]}),g>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm pt-1 border-t border-blue-300",children:[s.jsx("span",{className:"text-gray-700",children:"Total Tax:"}),s.jsxs("span",{className:"font-medium text-green-700",children:["$",g.toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center justify-between font-bold text-lg pt-2 border-t-2 border-blue-400",children:[s.jsx("span",{className:"text-gray-900",children:"TOTAL:"}),s.jsxs("span",{className:"text-blue-700",children:["$",p.toFixed(2)]})]})]})}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"description",children:"Description (optional)"}),s.jsx(zc,{id:"description",placeholder:"Add any notes about this expense...",value:l.description,onChange:x=>c(y=>({...y,description:x.target.value})),rows:3})]}),s.jsxs("div",{children:[s.jsx(De,{children:"Receipt (optional)"}),s.jsx("div",{className:"mt-2",children:l.receiptUrl?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-green-600",children:"‚úì Receipt uploaded"}),s.jsx(ye,{type:"button",variant:"ghost",size:"sm",onClick:()=>window.open(l.receiptUrl,"_blank"),children:"View"}),s.jsx(ye,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(x=>({...x,receiptUrl:""})),children:"Remove"})]}):s.jsxs("label",{className:"flex items-center justify-center gap-2 border-2 border-dashed rounded-lg p-4 cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:A,className:"hidden",disabled:i}),i?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-5 h-5 animate-spin text-blue-600"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Uploading..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Qr,{className:"w-5 h-5 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Click to upload receipt"})]})]})})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(ye,{type:"submit",disabled:n||i,className:"flex-1",children:n?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}),r?"Updating...":"Adding..."]}):r?"Update Expense":"Add Expense"}),s.jsx(ye,{type:"button",variant:"outline",onClick:t,disabled:n||i,children:"Cancel"})]})]})]})}function O0e({expenses:e,onDelete:t,onEdit:r}){const n=()=>{const i=["Date","Vendor","Category","Amount","GST","QST","Total Tax","Total","Description"],o=e.map(d=>{const h=d.gstAmount||0,f=d.qstAmount||0,g=h+f,p=d.amount+g;return[d.date,d.vendor,d.category,d.amount.toFixed(2),h.toFixed(2),f.toFixed(2),g.toFixed(2),p.toFixed(2),d.description||""]}),l=[i.join(","),...o.map(d=>d.map(h=>`"${h}"`).join(","))].join(`
`),c=new Blob([l],{type:"text/csv"}),A=window.URL.createObjectURL(c),u=document.createElement("a");u.href=A,u.download=`expenses_${new Date().toISOString().split("T")[0]}.csv`,u.click(),window.URL.revokeObjectURL(A)},a=i=>({"Office Supplies":"bg-blue-100 text-blue-700 border-blue-300","Software & Tools":"bg-purple-100 text-purple-700 border-purple-300","Marketing & Advertising":"bg-pink-100 text-pink-700 border-pink-300","Professional Fees":"bg-indigo-100 text-indigo-700 border-indigo-300","Bank Fees":"bg-yellow-100 text-yellow-700 border-yellow-300","Internet & Phone":"bg-cyan-100 text-cyan-700 border-cyan-300","Rent & Utilities":"bg-orange-100 text-orange-700 border-orange-300",Insurance:"bg-red-100 text-red-700 border-red-300",Travel:"bg-teal-100 text-teal-700 border-teal-300","Meals & Entertainment":"bg-green-100 text-green-700 border-green-300",Other:"bg-gray-100 text-gray-700 border-gray-300"})[i]||"bg-gray-100 text-gray-700 border-gray-300";return e.length===0?s.jsx(Se,{className:"p-12 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No expenses found. Add your first expense to get started!"})}):s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"All Expenses"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[e.length," expense",e.length!==1?"s":""]})]}),s.jsxs(ye,{variant:"outline",size:"sm",onClick:n,children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]}),s.jsx("div",{className:"space-y-3",children:e.map(i=>s.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex-shrink-0 text-center",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:new Date(i.date).toLocaleDateString("en",{month:"short"})}),s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:new Date(i.date).getDate()}),s.jsx("div",{className:"text-xs text-gray-500",children:new Date(i.date).getFullYear()})]}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-gray-900 truncate",children:i.vendor}),i.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:i.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(vt,{className:a(i.category),children:i.category}),i.gstAmount&&i.gstAmount>0&&s.jsxs(vt,{variant:"outline",className:"text-xs bg-green-50 border-green-300 text-green-700",children:["GST: ",Je(i.gstAmount)]}),i.qstAmount&&i.qstAmount>0&&s.jsxs(vt,{variant:"outline",className:"text-xs bg-blue-50 border-blue-300 text-blue-700",children:["QST: ",Je(i.qstAmount)]})]})]}),s.jsxs("div",{className:"flex-shrink-0 text-right",children:[s.jsx("div",{className:"text-lg font-bold text-gray-900",children:Je(i.amount)}),(i.gstAmount||i.qstAmount)&&s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Total: ",Je(i.amount+(i.gstAmount||0)+(i.qstAmount||0))]})]})]})}),s.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[i.receiptUrl&&s.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>window.open(i.receiptUrl,"_blank"),title:"View Receipt",children:s.jsx(Mt,{className:"w-4 h-4"})}),r&&s.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>r(i),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"Edit Expense",children:s.jsx(Cf,{className:"w-4 h-4"})}),t&&s.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>t(i.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Delete Expense",children:s.jsx(Pi,{className:"w-4 h-4"})})]})]},i.id))})]})}function I0e({year:e,revenue:t,expenses:r,netProfit:n}){const a=n>0?n:0,i=0,o=a+i,l=o,c=0,A=0,d=c+A,h=n,f=0,g=h+f,p=Math.abs(l-(d+g))<.01;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Balance Sheet (Bilan)"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["As of December 31, ",e]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Se,{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 border-blue-300",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"ASSETS"}),s.jsx("h3",{className:"text-2xl font-bold text-blue-900 mt-1",children:Je(l)})]}),s.jsx(Zt,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx(Se,{className:"p-6 bg-gradient-to-br from-red-50 to-red-100 border-red-300",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-red-700 font-medium",children:"LIABILITIES"}),s.jsx("h3",{className:"text-2xl font-bold text-red-900 mt-1",children:Je(d)})]}),s.jsx(jl,{className:"w-8 h-8 text-red-600"})]})}),s.jsx(Se,{className:"p-6 bg-gradient-to-br from-green-50 to-green-100 border-green-300",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-700 font-medium",children:"EQUITY"}),s.jsx("h3",{className:"text-2xl font-bold text-green-900 mt-1",children:Je(g)})]}),s.jsx(Mn,{className:"w-8 h-8 text-green-600"})]})})]}),p&&s.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("p",{className:"text-sm text-green-700 font-medium",children:"‚úì Balance Sheet is balanced: Assets = Liabilities + Equity"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Se,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),"Assets"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Current Assets"}),s.jsxs("div",{className:"space-y-2 pl-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Cash & Bank"}),s.jsx("span",{className:"font-medium",children:Je(a)})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Accounts Receivable"}),s.jsx("span",{className:"font-medium",children:Je(i)})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm pt-2 border-t",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Total Current Assets"}),s.jsx("span",{className:"font-bold",children:Je(o)})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Fixed Assets"}),s.jsx("div",{className:"space-y-2 pl-4",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Equipment & Property"}),s.jsx("span",{className:"font-medium",children:Je(0)})]})})]}),s.jsx("div",{className:"pt-4 border-t-2 border-blue-300",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-lg font-bold text-blue-900",children:"TOTAL ASSETS"}),s.jsx("span",{className:"text-xl font-bold text-blue-900",children:Je(l)})]})})]})]}),s.jsxs(Se,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),"Liabilities & Equity"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Current Liabilities"}),s.jsxs("div",{className:"space-y-2 pl-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Accounts Payable"}),s.jsx("span",{className:"font-medium",children:Je(c)})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Taxes Payable"}),s.jsx("span",{className:"font-medium",children:Je(A)})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm pt-2 border-t",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Total Liabilities"}),s.jsx("span",{className:"font-bold text-red-700",children:Je(d)})]})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Owner's Equity"}),s.jsxs("div",{className:"space-y-2 pl-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Owner's Capital"}),s.jsx("span",{className:"font-medium",children:Je(f)})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Retained Earnings"}),s.jsx("span",{className:"font-medium text-green-700",children:Je(h)})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm pt-2 border-t",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Total Equity"}),s.jsx("span",{className:"font-bold text-green-700",children:Je(g)})]})]})]}),s.jsx("div",{className:"pt-4 border-t-2 border-gray-300",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"TOTAL LIAB. + EQUITY"}),s.jsx("span",{className:"text-xl font-bold text-gray-900",children:Je(d+g)})]})})]})]})]}),s.jsxs(Se,{className:"p-6 bg-gray-50",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"üìù Notes"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[s.jsx("li",{children:"‚Ä¢ This is a simplified balance sheet based on available data"}),s.jsx("li",{children:"‚Ä¢ Cash & Bank includes net profit for the year"}),s.jsx("li",{children:"‚Ä¢ Retained Earnings represents accumulated profits"}),s.jsx("li",{children:"‚Ä¢ For a complete balance sheet, consider adding: inventory, fixed assets, loans, etc."})]})]})]})}function U0e({year:e,revenue:t,expenses:r,netProfit:n,profitMargin:a,categoryData:i,gstPaid:o,qstPaid:l}){const c=t,A=t>0?c/t*100:0,u=r,d=c-u,h=t>0?d/t*100:0,f=o+l,g=d-f,p=t>0?g/t*100:0,b=i.map(x=>({name:x.category.length>15?x.category.substring(0,15)+"...":x.category,amount:x.amount})),m=["#3b82f6","#8b5cf6","#ec4899","#6366f1","#f59e0b","#06b6d4","#f97316","#ef4444","#14b8a6","#84cc16","#6b7280"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profit & Loss Statement (P&L)"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["For the year ended December 31, ",e]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Se,{className:"p-6 bg-gradient-to-br from-green-50 to-green-100 border-green-300",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Total Revenue"}),s.jsx("h3",{className:"text-2xl font-bold text-green-900 mt-1",children:Je(t)})]}),s.jsx(Mn,{className:"w-8 h-8 text-green-600"})]})}),s.jsx(Se,{className:"p-6 bg-gradient-to-br from-red-50 to-red-100 border-red-300",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-red-700 font-medium",children:"Total Expenses"}),s.jsx("h3",{className:"text-2xl font-bold text-red-900 mt-1",children:Je(r)})]}),s.jsx(jl,{className:"w-8 h-8 text-red-600"})]})}),s.jsx(Se,{className:`p-6 bg-gradient-to-br ${g>=0?"from-blue-50 to-blue-100 border-blue-300":"from-orange-50 to-orange-100 border-orange-300"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${g>=0?"text-blue-700":"text-orange-700"}`,children:"Net Income"}),s.jsx("h3",{className:`text-2xl font-bold mt-1 ${g>=0?"text-blue-900":"text-orange-900"}`,children:Je(g)})]}),s.jsx(Zt,{className:`w-8 h-8 ${g>=0?"text-blue-600":"text-orange-600"}`})]})}),s.jsx(Se,{className:"p-6 bg-gradient-to-br from-purple-50 to-purple-100 border-purple-300",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Net Margin"}),s.jsxs("h3",{className:"text-2xl font-bold text-purple-900 mt-1",children:[p.toFixed(1),"%"]})]}),s.jsx(jD,{className:"w-8 h-8 text-purple-600"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Se,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Income Statement"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"pb-4 border-b-2 border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-lg font-bold text-green-700",children:"Revenue"}),s.jsx("span",{className:"text-xl font-bold text-green-700",children:Je(t)})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Cost of Goods Sold (COGS)"}),s.jsx("span",{className:"font-medium",children:Je(0)})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Gross Profit"}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"font-bold text-gray-900 block",children:Je(c)}),s.jsxs(vt,{variant:"outline",className:"text-xs bg-green-50 border-green-300 text-green-700 mt-1",children:[A.toFixed(1),"% margin"]})]})]})]}),s.jsxs("div",{className:"pt-4 border-t-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Operating Expenses"}),s.jsxs("div",{className:"space-y-2 pl-4",children:[i.slice(0,5).map((x,y)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:x.category}),s.jsx("span",{className:"font-medium",children:Je(x.amount)})]},y)),i.length>5&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-500 italic",children:["+ ",i.length-5," more categories..."]}),s.jsx("span",{className:"font-medium",children:Je(i.slice(5).reduce((x,y)=>x+y.amount,0))})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t font-semibold",children:[s.jsx("span",{className:"text-gray-700",children:"Total Operating Expenses"}),s.jsx("span",{className:"text-red-700",children:Je(u)})]})]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-bold text-gray-700",children:"Operating Income (EBIT)"}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"font-bold text-gray-900 block",children:Je(d)}),s.jsxs(vt,{variant:"outline",className:"text-xs bg-blue-50 border-blue-300 text-blue-700 mt-1",children:[h.toFixed(1),"% margin"]})]})]})}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Taxes Paid"}),s.jsxs("div",{className:"space-y-2 pl-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"GST (5%)"}),s.jsx("span",{className:"font-medium text-green-700",children:Je(o)})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"QST (9.975%)"}),s.jsx("span",{className:"font-medium text-blue-700",children:Je(l)})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Total Taxes"}),s.jsx("span",{className:"font-bold text-purple-700",children:Je(f)})]})]})]}),s.jsx("div",{className:"pt-4 border-t-2 border-gray-400",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"NET INCOME"}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:`text-2xl font-bold block ${g>=0?"text-green-700":"text-red-700"}`,children:Je(g)}),s.jsxs(vt,{className:`mt-1 ${g>=0?"bg-green-100 text-green-700 border-green-300":"bg-red-100 text-red-700 border-red-300"}`,children:[p.toFixed(1),"% net margin"]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Se,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Expenses by Category"}),b.length>0?s.jsx(Nh,{width:"100%",height:300,children:s.jsxs(N6,{data:b,children:[s.jsx(kh,{strokeDasharray:"3 3"}),s.jsx(_l,{dataKey:"name",angle:-45,textAnchor:"end",height:100,tick:{fontSize:11}}),s.jsx(Dl,{tick:{fontSize:12}}),s.jsx(Ts,{formatter:x=>Je(x),labelStyle:{color:"#000"}}),s.jsx(Ul,{dataKey:"amount",radius:[8,8,0,0],children:b.map((x,y)=>s.jsx(Ch,{fill:m[y%m.length]},`cell-${y}`))})]})}):s.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"No expense data available"})]}),s.jsxs(Se,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Expense Breakdown"}),s.jsx("div",{className:"space-y-2",children:i.map((x,y)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:m[y%m.length]}}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:x.category})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-sm font-bold text-gray-900 block",children:Je(x.amount)}),s.jsxs("span",{className:"text-xs text-gray-500",children:[x.percentage,"%"]})]})]},y))})]})]})]}),s.jsxs(Se,{className:"p-6 bg-gradient-to-r from-indigo-50 to-purple-50",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"üìä Key Financial Ratios"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Gross Margin"}),s.jsxs("p",{className:"text-xl font-bold text-indigo-700",children:[A.toFixed(1),"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Operating Margin"}),s.jsxs("p",{className:"text-xl font-bold text-purple-700",children:[h.toFixed(1),"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Net Margin"}),s.jsxs("p",{className:`text-xl font-bold ${p>=0?"text-green-700":"text-red-700"}`,children:[p.toFixed(1),"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Tax Rate"}),s.jsxs("p",{className:"text-xl font-bold text-blue-700",children:[t>0?(f/t*100).toFixed(1):0,"%"]})]})]})]})]})}var _0e={exports:{}};(function(e){var t=function(r){var n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function($,q,Z){$[q]=Z.value},o,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",A=l.asyncIterator||"@@asyncIterator",u=l.toStringTag||"@@toStringTag";function d($,q,Z){return Object.defineProperty($,q,{value:Z,enumerable:!0,configurable:!0,writable:!0}),$[q]}try{d({},"")}catch{d=function(q,Z,D){return q[Z]=D}}function h($,q,Z,D){var H=q&&q.prototype instanceof y?q:y,V=Object.create(H.prototype),re=new L(D||[]);return i(V,"_invoke",{value:T($,Z,re)}),V}r.wrap=h;function f($,q,Z){try{return{type:"normal",arg:$.call(q,Z)}}catch(D){return{type:"throw",arg:D}}}var g="suspendedStart",p="suspendedYield",b="executing",m="completed",x={};function y(){}function w(){}function N(){}var B={};d(B,c,function(){return this});var F=Object.getPrototypeOf,E=F&&F(F(K([])));E&&E!==n&&a.call(E,c)&&(B=E);var P=N.prototype=y.prototype=Object.create(B);w.prototype=N,i(P,"constructor",{value:N,configurable:!0}),i(N,"constructor",{value:w,configurable:!0}),w.displayName=d(N,u,"GeneratorFunction");function Q($){["next","throw","return"].forEach(function(q){d($,q,function(Z){return this._invoke(q,Z)})})}r.isGeneratorFunction=function($){var q=typeof $=="function"&&$.constructor;return q?q===w||(q.displayName||q.name)==="GeneratorFunction":!1},r.mark=function($){return Object.setPrototypeOf?Object.setPrototypeOf($,N):($.__proto__=N,d($,u,"GeneratorFunction")),$.prototype=Object.create(P),$},r.awrap=function($){return{__await:$}};function U($,q){function Z(V,re,Ae,ae){var de=f($[V],$,re);if(de.type==="throw")ae(de.arg);else{var X=de.arg,te=X.value;return te&&typeof te=="object"&&a.call(te,"__await")?q.resolve(te.__await).then(function(ue){Z("next",ue,Ae,ae)},function(ue){Z("throw",ue,Ae,ae)}):q.resolve(te).then(function(ue){X.value=ue,Ae(X)},function(ue){return Z("throw",ue,Ae,ae)})}}var D;function H(V,re){function Ae(){return new q(function(ae,de){Z(V,re,ae,de)})}return D=D?D.then(Ae,Ae):Ae()}i(this,"_invoke",{value:H})}Q(U.prototype),d(U.prototype,A,function(){return this}),r.AsyncIterator=U,r.async=function($,q,Z,D,H){H===void 0&&(H=Promise);var V=new U(h($,q,Z,D),H);return r.isGeneratorFunction(q)?V:V.next().then(function(re){return re.done?re.value:V.next()})};function T($,q,Z){var D=g;return function(V,re){if(D===b)throw new Error("Generator is already running");if(D===m){if(V==="throw")throw re;return R()}for(Z.method=V,Z.arg=re;;){var Ae=Z.delegate;if(Ae){var ae=k(Ae,Z);if(ae){if(ae===x)continue;return ae}}if(Z.method==="next")Z.sent=Z._sent=Z.arg;else if(Z.method==="throw"){if(D===g)throw D=m,Z.arg;Z.dispatchException(Z.arg)}else Z.method==="return"&&Z.abrupt("return",Z.arg);D=b;var de=f($,q,Z);if(de.type==="normal"){if(D=Z.done?m:p,de.arg===x)continue;return{value:de.arg,done:Z.done}}else de.type==="throw"&&(D=m,Z.method="throw",Z.arg=de.arg)}}}function k($,q){var Z=q.method,D=$.iterator[Z];if(D===o)return q.delegate=null,Z==="throw"&&$.iterator.return&&(q.method="return",q.arg=o,k($,q),q.method==="throw")||Z!=="return"&&(q.method="throw",q.arg=new TypeError("The iterator does not provide a '"+Z+"' method")),x;var H=f(D,$.iterator,q.arg);if(H.type==="throw")return q.method="throw",q.arg=H.arg,q.delegate=null,x;var V=H.arg;if(!V)return q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,x;if(V.done)q[$.resultName]=V.value,q.next=$.nextLoc,q.method!=="return"&&(q.method="next",q.arg=o);else return V;return q.delegate=null,x}Q(P),d(P,u,"Generator"),d(P,c,function(){return this}),d(P,"toString",function(){return"[object Generator]"});function I($){var q={tryLoc:$[0]};1 in $&&(q.catchLoc=$[1]),2 in $&&(q.finallyLoc=$[2],q.afterLoc=$[3]),this.tryEntries.push(q)}function M($){var q=$.completion||{};q.type="normal",delete q.arg,$.completion=q}function L($){this.tryEntries=[{tryLoc:"root"}],$.forEach(I,this),this.reset(!0)}r.keys=function($){var q=Object($),Z=[];for(var D in q)Z.push(D);return Z.reverse(),function H(){for(;Z.length;){var V=Z.pop();if(V in q)return H.value=V,H.done=!1,H}return H.done=!0,H}};function K($){if($){var q=$[c];if(q)return q.call($);if(typeof $.next=="function")return $;if(!isNaN($.length)){var Z=-1,D=function H(){for(;++Z<$.length;)if(a.call($,Z))return H.value=$[Z],H.done=!1,H;return H.value=o,H.done=!0,H};return D.next=D}}return{next:R}}r.values=K;function R(){return{value:o,done:!0}}return L.prototype={constructor:L,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(M),!$)for(var q in this)q.charAt(0)==="t"&&a.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=o)},stop:function(){this.done=!0;var $=this.tryEntries[0],q=$.completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var q=this;function Z(ae,de){return V.type="throw",V.arg=$,q.next=ae,de&&(q.method="next",q.arg=o),!!de}for(var D=this.tryEntries.length-1;D>=0;--D){var H=this.tryEntries[D],V=H.completion;if(H.tryLoc==="root")return Z("end");if(H.tryLoc<=this.prev){var re=a.call(H,"catchLoc"),Ae=a.call(H,"finallyLoc");if(re&&Ae){if(this.prev<H.catchLoc)return Z(H.catchLoc,!0);if(this.prev<H.finallyLoc)return Z(H.finallyLoc)}else if(re){if(this.prev<H.catchLoc)return Z(H.catchLoc,!0)}else if(Ae){if(this.prev<H.finallyLoc)return Z(H.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function($,q){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var D=this.tryEntries[Z];if(D.tryLoc<=this.prev&&a.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var H=D;break}}H&&($==="break"||$==="continue")&&H.tryLoc<=q&&q<=H.finallyLoc&&(H=null);var V=H?H.completion:{};return V.type=$,V.arg=q,H?(this.method="next",this.next=H.finallyLoc,x):this.complete(V)},complete:function($,q){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&q&&(this.next=q),x},finish:function($){for(var q=this.tryEntries.length-1;q>=0;--q){var Z=this.tryEntries[q];if(Z.finallyLoc===$)return this.complete(Z.completion,Z.afterLoc),M(Z),x}},catch:function($){for(var q=this.tryEntries.length-1;q>=0;--q){var Z=this.tryEntries[q];if(Z.tryLoc===$){var D=Z.completion;if(D.type==="throw"){var H=D.arg;M(Z)}return H}}throw new Error("illegal catch attempt")},delegateYield:function($,q,Z){return this.delegate={iterator:K($),resultName:q,nextLoc:Z},this.method==="next"&&(this.arg=o),x}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(_0e);var Fj=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const D0e=Fj;let U4=0;var C6=({id:e,action:t,payload:r={}})=>{let n=e;return typeof n>"u"&&(n=D0e("Job",U4),U4+=1),{id:n,action:t,payload:r}},Yu={};let Tj=!1;Yu.logging=Tj;Yu.setLogging=e=>{Tj=e};Yu.log=(...e)=>Tj?console.log.apply(void 0,e):null;const L0e=C6,{log:Vm}=Yu,Q0e=Fj;let _4=0;var R0e=()=>{const e=Q0e("Scheduler",_4),t={},r={};let n=[];_4+=1;const a=()=>n.length,i=()=>Object.keys(t).length,o=()=>{if(n.length!==0){const d=Object.keys(t);for(let h=0;h<d.length;h+=1)if(typeof r[d[h]]>"u"){n[0](t[d[h]]);break}}},l=(d,h)=>new Promise((f,g)=>{const p=L0e({action:d,payload:h});n.push(async b=>{n.shift(),r[b.id]=p;try{f(await b[d].apply(void 0,[...h,p.id]))}catch(m){g(m)}finally{delete r[b.id],o()}}),Vm(`[${e}]: Add ${p.id} to JobQueue`),Vm(`[${e}]: JobQueue length=${n.length}`),o()});return{addWorker:d=>(t[d.id]=d,Vm(`[${e}]: Add ${d.id}`),Vm(`[${e}]: Number of workers=${i()}`),o(),d.id),addJob:async(d,...h)=>{if(i()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return l(d,h)},terminate:async()=>{Object.keys(t).forEach(async d=>{await t[d].terminate()}),n=[]},getQueueLen:a,getNumWorkers:i}};function M0e(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $0e=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof M0e=="function"&&(t.type="node"),typeof e>"u"?t:t[e]};const H0e=$0e("type")==="browser",K0e=H0e?e=>new URL(e,window.location.href).href:e=>e;var V0e=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(r=>{e[r]&&(t[r]=K0e(t[r]))}),t},B6={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const z0e="7.0.0",G0e={version:z0e};var q0e={workerBlobURL:!0,logger:()=>{}};const W0e=G0e.version,Y0e=q0e;var X0e={...Y0e,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${W0e}/dist/worker.min.js`},J0e=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const n=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(e);return r},Z0e=e=>{e.terminate()},eve=(e,t)=>{e.onmessage=({data:r})=>{t(r)}},tve=async(e,t)=>{e.postMessage(t)};const wb=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=({target:{error:{code:a}}})=>{r(Error(`File could not be read! Code=${a}`))},n.readAsArrayBuffer(e)}),c1=async e=>{let t=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(r=>r.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(t=await c1(e.src)),e.tagName==="VIDEO"&&(t=await c1(e.poster)),e.tagName==="CANVAS"&&await new Promise(r=>{e.toBlob(async n=>{t=await wb(n),r()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const r=await e.convertToBlob();t=await wb(r)}else(e instanceof File||e instanceof Blob)&&(t=await wb(e));return new Uint8Array(t)};var rve=c1;const nve=X0e,sve=J0e,ave=Z0e,ive=eve,ove=tve,lve=rve;var cve={defaultOptions:nve,spawnWorker:sve,terminateWorker:ave,onMessage:ive,send:ove,loadImage:lve};const Ave=V0e,gi=C6,{log:D4}=Yu,uve=Fj,ic=B6,{defaultOptions:dve,spawnWorker:fve,terminateWorker:hve,onMessage:mve,loadImage:L4,send:pve}=cve;let Q4=0;var S6=async(e="eng",t=ic.LSTM_ONLY,r={},n={})=>{const a=uve("Worker",Q4),{logger:i,errorHandler:o,...l}=Ave({...dve,...r}),c={},A=typeof e=="string"?e.split("+"):e;let u=t,d=n;const h=[ic.DEFAULT,ic.LSTM_ONLY].includes(t)&&!l.legacyCore;let f,g;const p=new Promise((K,R)=>{g=K,f=R}),b=K=>{f(K.message)};let m=fve(l);m.onerror=b,Q4+=1;const x=({id:K,action:R,payload:$})=>new Promise((q,Z)=>{D4(`[${a}]: Start ${K}, action=${R}`);const D=`${R}-${K}`;c[D]={resolve:q,reject:Z},pve(m,{workerId:a,jobId:K,action:R,payload:$})}),y=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),w=K=>x(gi({id:K,action:"load",payload:{options:{lstmOnly:h,corePath:l.corePath,logging:l.logging}}})),N=(K,R,$)=>x(gi({id:$,action:"FS",payload:{method:"writeFile",args:[K,R]}})),B=(K,R)=>x(gi({id:R,action:"FS",payload:{method:"readFile",args:[K,{encoding:"utf8"}]}})),F=(K,R)=>x(gi({id:R,action:"FS",payload:{method:"unlink",args:[K]}})),E=(K,R,$)=>x(gi({id:$,action:"FS",payload:{method:K,args:R}})),P=(K,R)=>x(gi({id:R,action:"loadLanguage",payload:{langs:K,options:{langPath:l.langPath,dataPath:l.dataPath,cachePath:l.cachePath,cacheMethod:l.cacheMethod,gzip:l.gzip,lstmOnly:[ic.DEFAULT,ic.LSTM_ONLY].includes(u)&&!l.legacyLang}}})),Q=(K,R,$,q)=>x(gi({id:q,action:"initialize",payload:{langs:K,oem:R,config:$}})),U=(K="eng",R,$,q)=>{if(h&&[ic.TESSERACT_ONLY,ic.TESSERACT_LSTM_COMBINED].includes(R))throw Error("Legacy model requested but code missing.");const Z=R||u;u=Z;const D=$||d;d=D;const V=(typeof K=="string"?K.split("+"):K).filter(re=>!A.includes(re));return A.push(...V),V.length>0?P(V,q).then(()=>Q(K,Z,D,q)):Q(K,Z,D,q)},T=(K={},R)=>x(gi({id:R,action:"setParameters",payload:{params:K}})),k=async(K,R={},$={text:!0},q)=>x(gi({id:q,action:"recognize",payload:{image:await L4(K),options:R,output:$}})),I=async(K,R)=>{if(h)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return x(gi({id:R,action:"detect",payload:{image:await L4(K)}}))},M=async()=>(m!==null&&(hve(m),m=null),Promise.resolve());mve(m,({workerId:K,jobId:R,status:$,action:q,data:Z})=>{const D=`${q}-${R}`;if($==="resolve")D4(`[${K}]: Complete ${R}`),c[D].resolve({jobId:R,data:Z}),delete c[D];else if($==="reject")if(c[D].reject(Z),delete c[D],q==="load"&&f(Z),o)o(Z);else throw Error(Z);else $==="progress"&&i({...Z,userJobId:R})});const L={id:a,worker:m,load:y,writeText:N,readText:B,removeFile:F,FS:E,reinitialize:U,setParameters:T,recognize:k,detect:I,terminate:M};return w().then(()=>P(e)).then(()=>Q(e,t,n)).then(()=>g(L)).catch(()=>{}),p};const E6=S6,gve=async(e,t,r)=>{const n=await E6(t,1,r);return n.recognize(e).finally(async()=>{await n.terminate()})},xve=async(e,t)=>{const r=await E6("osd",0,t);return r.detect(e).finally(async()=>{await r.terminate()})};var vve={recognize:gve,detect:xve},bve={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},yve={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const wve=R0e,jve=S6,Nve=vve,Cve=bve,Bve=B6,Sve=yve,{setLogging:Eve}=Yu;var Fve={languages:Cve,OEM:Bve,PSM:Sve,createScheduler:wve,createWorker:jve,setLogging:Eve,...Nve};function Tve({onDataExtracted:e,language:t="en"}){var x;const[r,n]=C.useState(null),[a,i]=C.useState(!1),[o,l]=C.useState(0),[c,A]=C.useState(null),u=C.useRef(null),d={title:{en:"Receipt Scanner",fr:"Scanner de Re√ßus",pt:"Scanner de Recibos"},uploadButton:{en:"Upload Receipt",fr:"T√©l√©charger Re√ßu",pt:"Carregar Recibo"},processing:{en:"Processing...",fr:"Traitement...",pt:"Processando..."},extractedInfo:{en:"Extracted Information",fr:"Informations Extraites",pt:"Informa√ß√µes Extra√≠das"},useData:{en:"Use This Data",fr:"Utiliser Ces Donn√©es",pt:"Usar Estes Dados"},scanAnother:{en:"Scan Another",fr:"Scanner Un Autre",pt:"Escanear Outro"},merchant:{en:"Merchant",fr:"Commer√ßant",pt:"Comerciante"},date:{en:"Date",fr:"Date",pt:"Data"},total:{en:"Total",fr:"Total",pt:"Total"},gst:{en:"GST",fr:"TPS",pt:"GST"},qst:{en:"QST",fr:"TVQ",pt:"QST"},category:{en:"Category",fr:"Cat√©gorie",pt:"Categoria"},dropzone:{en:"Drop your receipt image here or click to upload",fr:"D√©posez votre image de re√ßu ici ou cliquez pour t√©l√©charger",pt:"Solte sua imagem de recibo aqui ou clique para carregar"}},h=y=>{var N;const w=(N=y.target.files)==null?void 0:N[0];if(w){if(!w.type.startsWith("image/")){me.error("Please upload an image file");return}const B=new FileReader;B.onload=F=>{var P;const E=(P=F.target)==null?void 0:P.result;n(E),f(E)},B.readAsDataURL(w)}},f=async y=>{i(!0),l(0),A(null);try{const w=await Fve.createWorker("eng",1,{logger:F=>{F.status==="recognizing text"&&l(Math.round(F.progress*100))}}),{data:{text:N}}=await w.recognize(y);await w.terminate();const B=g(N);A(B),me.success("Receipt scanned successfully!")}catch(w){console.error("Error processing image:",w),me.error("Failed to process receipt. Please try again.")}finally{i(!1),l(0)}},g=y=>{const N=y.split(`
`).map($=>$.trim()).filter($=>$)[0]||"Unknown Merchant",B=/(\d{1,2}[-/]\d{1,2}[-/]\d{2,4})|(\d{4}[-/]\d{1,2}[-/]\d{1,2})/,F=y.match(B),E=F?F[0]:new Date().toISOString().split("T")[0],P=/(?:total|amount|subtotal)[:\s]*\$?\s*([\d,]+\.?\d{0,2})/i,Q=y.match(P),U=Q?parseFloat(Q[1].replace(",","")):0,T=/(?:gst|tps|tax)[:\s]*\$?\s*([\d,]+\.?\d{0,2})/i,k=y.match(T),I=k?parseFloat(k[1].replace(",","")):0,M=/(?:qst|tvq)[:\s]*\$?\s*([\d,]+\.?\d{0,2})/i,L=y.match(M),K=L?parseFloat(L[1].replace(",","")):0,R=p(N.toLowerCase());return{merchant:N,date:E,total:U,gst:I,qst:K,category:R,rawText:y}},p=y=>{const w={office:["staples","bureau","office","depot"],meals:["restaurant","cafe","coffee","food","pizza","burger"],travel:["hotel","motel","airline","uber","taxi","parking"],supplies:["amazon","walmart","costco","home depot"],utilities:["bell","rogers","hydro","gas","electric"],"professional-fees":["lawyer","accountant","consultant"]};for(const[N,B]of Object.entries(w))if(B.some(F=>y.includes(F)))return N;return"other"},b=()=>{c&&(e(c),m())},m=()=>{n(null),A(null),i(!1),l(0),u.current&&(u.current.value="")};return s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-50 border border-purple-200 flex items-center justify-center",children:s.jsx(mT,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:d.title[t]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[t==="en"&&"Automatically extract data from receipts",t==="fr"&&"Extraire automatiquement les donn√©es des re√ßus",t==="pt"&&"Extrair automaticamente dados de recibos"]})]})]}),!r&&!a&&s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-colors",onClick:()=>{var y;return(y=u.current)==null?void 0:y.click()},children:[s.jsx(Qr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:d.dropzone[t]}),s.jsxs(ye,{children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"}),d.uploadButton[t]]}),s.jsx("input",{ref:u,type:"file",accept:"image/*",className:"hidden",onChange:h})]}),r&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:r,alt:"Receipt",className:"w-full max-h-96 object-contain rounded-lg border"}),!a&&!c&&s.jsx("button",{onClick:m,className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-lg hover:bg-gray-100",children:s.jsx(In,{className:"w-5 h-5"})})]}),a&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ht,{className:"w-5 h-5 text-blue-600 animate-spin"}),s.jsx("span",{className:"font-medium text-blue-900",children:d.processing[t]})]}),s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${o}%`}})}),s.jsxs("p",{className:"text-sm text-blue-700 mt-2",children:[o,"%"]})]}),c&&!a&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(He,{className:"w-5 h-5 text-green-600"}),s.jsx("h3",{className:"font-semibold text-green-900",children:d.extractedInfo[t]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:d.merchant[t]}),s.jsx("p",{className:"font-medium text-gray-900",children:c.merchant})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:d.date[t]}),s.jsx("p",{className:"font-medium text-gray-900",children:c.date})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:d.total[t]}),s.jsxs("p",{className:"font-medium text-gray-900",children:["$",(x=c.total)==null?void 0:x.toFixed(2)]})]}),c.gst>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:d.gst[t]}),s.jsxs("p",{className:"font-medium text-gray-900",children:["$",c.gst.toFixed(2)]})]}),c.qst>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:d.qst[t]}),s.jsxs("p",{className:"font-medium text-gray-900",children:["$",c.qst.toFixed(2)]})]}),c.category&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:d.category[t]}),s.jsx("p",{className:"font-medium text-gray-900 capitalize",children:c.category.replace("-"," ")})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsxs(ye,{onClick:b,className:"flex-1",children:[s.jsx(He,{className:"w-4 h-4 mr-2"}),d.useData[t]]}),s.jsx(ye,{onClick:m,variant:"outline",className:"flex-1",children:d.scanAnother[t]})]})]})]})]})}function gr(e){"@babel/helpers - typeof";return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(e)}var ri=Uint8Array,Zs=Uint16Array,Pj=Int32Array,kj=new ri([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Oj=new ri([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),R4=new ri([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),F6=function(e,t){for(var r=new Zs(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new Pj(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},T6=F6(kj,2),Pve=T6.b,A1=T6.r;Pve[28]=258,A1[258]=28;var kve=F6(Oj,0),M4=kve.r,u1=new Zs(32768);for(var Rr=0;Rr<32768;++Rr){var tl=(Rr&43690)>>1|(Rr&21845)<<1;tl=(tl&52428)>>2|(tl&13107)<<2,tl=(tl&61680)>>4|(tl&3855)<<4,u1[Rr]=((tl&65280)>>8|(tl&255)<<8)>>1}var pf=function(e,t,r){for(var n=e.length,a=0,i=new Zs(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new Zs(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Zs(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var A=a<<4|e[a],u=t-e[a],d=o[e[a]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)l[u1[d]>>c]=A}else for(l=new Zs(n),a=0;a<n;++a)e[a]&&(l[a]=u1[o[e[a]-1]++]>>15-e[a]);return l},$c=new ri(288);for(var Rr=0;Rr<144;++Rr)$c[Rr]=8;for(var Rr=144;Rr<256;++Rr)$c[Rr]=9;for(var Rr=256;Rr<280;++Rr)$c[Rr]=7;for(var Rr=280;Rr<288;++Rr)$c[Rr]=8;var dx=new ri(32);for(var Rr=0;Rr<32;++Rr)dx[Rr]=5;var Ove=pf($c,9,0),Ive=pf(dx,5,0),P6=function(e){return(e+7)/8|0},Uve=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ri(e.subarray(t,r))},lo=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},$d=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},jb=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:O6,l:0};if(a==1){var o=new ri(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(N,B){return N.f-B.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],A=0,u=1,d=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=r[r[A].f<r[d].f?A++:d++],c=r[A!=u&&r[A].f<r[d].f?A++:d++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var f=new Zs(h+1),g=d1(r[u-1],f,0);if(g>t){var n=0,p=0,b=g-t,m=1<<b;for(i.sort(function(B,F){return f[F.s]-f[B.s]||B.f-F.f});n<a;++n){var x=i[n].s;if(f[x]>t)p+=m-(1<<g-f[x]),f[x]=t;else break}for(p>>=b;p>0;){var y=i[n].s;f[y]<t?p-=1<<t-f[y]++-1:++n}for(;n>=0&&p;--n){var w=i[n].s;f[w]==t&&(--f[w],++p)}g=t}return{t:new ri(f),l:g}},d1=function(e,t,r){return e.s==-1?Math.max(d1(e.l,t,r+1),d1(e.r,t,r+1)):t[e.s]=r},$4=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Zs(++t),n=0,a=e[0],i=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,n),n:t}},Hd=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},k6=function(e,t,r){var n=r.length,a=P6(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},H4=function(e,t,r,n,a,i,o,l,c,A,u){lo(t,u++,r),++a[256];for(var d=jb(a,15),h=d.t,f=d.l,g=jb(i,15),p=g.t,b=g.l,m=$4(h),x=m.c,y=m.n,w=$4(p),N=w.c,B=w.n,F=new Zs(19),E=0;E<x.length;++E)++F[x[E]&31];for(var E=0;E<N.length;++E)++F[N[E]&31];for(var P=jb(F,7),Q=P.t,U=P.l,T=19;T>4&&!Q[R4[T-1]];--T);var k=A+5<<3,I=Hd(a,$c)+Hd(i,dx)+o,M=Hd(a,h)+Hd(i,p)+o+14+3*T+Hd(F,Q)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&k<=I&&k<=M)return k6(t,u,e.subarray(c,c+A));var L,K,R,$;if(lo(t,u,1+(M<I)),u+=2,M<I){L=pf(h,f,0),K=h,R=pf(p,b,0),$=p;var q=pf(Q,U,0);lo(t,u,y-257),lo(t,u+5,B-1),lo(t,u+10,T-4),u+=14;for(var E=0;E<T;++E)lo(t,u+3*E,Q[R4[E]]);u+=3*T;for(var Z=[x,N],D=0;D<2;++D)for(var H=Z[D],E=0;E<H.length;++E){var V=H[E]&31;lo(t,u,q[V]),u+=Q[V],V>15&&(lo(t,u,H[E]>>5&127),u+=H[E]>>12)}}else L=Ove,K=$c,R=Ive,$=dx;for(var E=0;E<l;++E){var re=n[E];if(re>255){var V=re>>18&31;$d(t,u,L[V+257]),u+=K[V+257],V>7&&(lo(t,u,re>>23&31),u+=kj[V]);var Ae=re&31;$d(t,u,R[Ae]),u+=$[Ae],Ae>3&&($d(t,u,re>>5&8191),u+=Oj[Ae])}else $d(t,u,L[re]),u+=K[re]}return $d(t,u,L[256]),u+K[256]},_ve=new Pj([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),O6=new ri(0),Dve=function(e,t,r,n,a,i){var o=i.z||e.length,l=new ri(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),A=i.l,u=(i.r||0)&7;if(t){u&&(c[0]=i.r>>3);for(var d=_ve[t-1],h=d>>13,f=d&8191,g=(1<<r)-1,p=i.p||new Zs(32768),b=i.h||new Zs(g+1),m=Math.ceil(r/3),x=2*m,y=function(Ce){return(e[Ce]^e[Ce+1]<<m^e[Ce+2]<<x)&g},w=new Pj(25e3),N=new Zs(288),B=new Zs(32),F=0,E=0,P=i.i||0,Q=0,U=i.w||0,T=0;P+2<o;++P){var k=y(P),I=P&32767,M=b[k];if(p[I]=M,b[k]=I,U<=P){var L=o-P;if((F>7e3||Q>24576)&&(L>423||!A)){u=H4(e,c,0,w,N,B,E,Q,T,P-T,u),Q=F=E=0,T=P;for(var K=0;K<286;++K)N[K]=0;for(var K=0;K<30;++K)B[K]=0}var R=2,$=0,q=f,Z=I-M&32767;if(L>2&&k==y(P-Z))for(var D=Math.min(h,L)-1,H=Math.min(32767,P),V=Math.min(258,L);Z<=H&&--q&&I!=M;){if(e[P+R]==e[P+R-Z]){for(var re=0;re<V&&e[P+re]==e[P+re-Z];++re);if(re>R){if(R=re,$=Z,re>D)break;for(var Ae=Math.min(Z,re-2),ae=0,K=0;K<Ae;++K){var de=P-Z+K&32767,X=p[de],te=de-X&32767;te>ae&&(ae=te,M=de)}}}I=M,M=p[I],Z+=I-M&32767}if($){w[Q++]=268435456|A1[R]<<18|M4[$];var ue=A1[R]&31,se=M4[$]&31;E+=kj[ue]+Oj[se],++N[257+ue],++B[se],U=P+R,++F}else w[Q++]=e[P],++N[e[P]]}}for(P=Math.max(P,U);P<o;++P)w[Q++]=e[P],++N[e[P]];u=H4(e,c,A,w,N,B,E,Q,T,P-T,u),A||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=b,i.p=p,i.i=P,i.w=U)}else{for(var P=i.w||0;P<o+A;P+=65535){var we=P+65535;we>=o&&(c[u/8|0]=A,we=o),u=k6(c,u+1,e.subarray(P,we))}i.i=o}return Uve(l,0,n+P6(u)+a)},I6=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Lve=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new ri(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return Dve(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},U6=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Qve=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=I6();a.p(t.dictionary),U6(e,2,a.d())}};function f1(e,t){t||(t={});var r=I6();r.p(e);var n=Lve(e,t,t.dictionary?6:2,4);return Qve(n,t),U6(n,n.length-4,r.d()),n}var Rve=typeof TextDecoder<"u"&&new TextDecoder,Mve=0;try{Rve.decode(O6,{stream:!0}),Mve=1}catch{}function $ve(e){if(Array.isArray(e))return e}function Hve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){A=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function K4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Kve(e,t){if(e){if(typeof e=="string")return K4(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K4(e,t):void 0}}function Vve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V4(e,t){return $ve(e)||Hve(e,t)||Kve(e,t)||Vve()}function z4(e,t="utf8"){return new TextDecoder(t).decode(e)}const zve=new TextEncoder;function Gve(e){return zve.encode(e)}const qve=1024*8,Wve=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Nb={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ij{constructor(t=qve,r={}){Gt(this,"buffer");Gt(this,"byteLength");Gt(this,"byteOffset");Gt(this,"length");Gt(this,"offset");Gt(this,"lastWrittenByte");Gt(this,"littleEndian");Gt(this,"_data");Gt(this,"_mark");Gt(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof Ij)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=Nb[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===Wve&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new Nb[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new Nb[r](i);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return z4(this.readBytes(t))}decodeText(t=1,r="utf8"){return z4(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Gve(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Xu(e){let t=e.length;for(;--t>=0;)e[t]=0}const Yve=3,Xve=258,_6=29,Jve=256,Zve=Jve+1+_6,D6=30,ebe=512,tbe=new Array((Zve+2)*2);Xu(tbe);const rbe=new Array(D6*2);Xu(rbe);const nbe=new Array(ebe);Xu(nbe);const sbe=new Array(Xve-Yve+1);Xu(sbe);const abe=new Array(_6);Xu(abe);const ibe=new Array(D6);Xu(ibe);const obe=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+t[n++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var h1=obe;const lbe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},cbe=new Uint32Array(lbe()),Abe=(e,t,r,n)=>{const a=cbe,i=n+r;e^=-1;for(let o=n;o<i;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var xi=Abe,m1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},L6={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const ube=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var dbe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)ube(r,n)&&(e[n]=r[n])}}return e},fbe=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let o=e[n];r.set(o,a),a+=o.length}return r},Q6={assign:dbe,flattenChunks:fbe};let R6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{R6=!1}const uh=new Uint8Array(256);for(let e=0;e<256;e++)uh[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;uh[254]=uh[254]=1;var hbe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,o=e.length,l=0;for(a=0;a<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,a=0;i<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const mbe=(e,t)=>{if(t<65534&&e.subarray&&R6)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var pbe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let o=e[n++];if(o<128){i[a++]=o;continue}let l=uh[o];if(l>4){i[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return mbe(i,a)},gbe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+uh[e[r]]>t?r:t},p1={string2buf:hbe,buf2string:pbe,utf8border:gbe};function xbe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var vbe=xbe;const zm=16209,bbe=16191;var ybe=function(t,r){let n,a,i,o,l,c,A,u,d,h,f,g,p,b,m,x,y,w,N,B,F,E,P,Q;const U=t.state;n=t.next_in,P=t.input,a=n+(t.avail_in-5),i=t.next_out,Q=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),c=U.dmax,A=U.wsize,u=U.whave,d=U.wnext,h=U.window,f=U.hold,g=U.bits,p=U.lencode,b=U.distcode,m=(1<<U.lenbits)-1,x=(1<<U.distbits)-1;e:do{g<15&&(f+=P[n++]<<g,g+=8,f+=P[n++]<<g,g+=8),y=p[f&m];t:for(;;){if(w=y>>>24,f>>>=w,g-=w,w=y>>>16&255,w===0)Q[i++]=y&65535;else if(w&16){N=y&65535,w&=15,w&&(g<w&&(f+=P[n++]<<g,g+=8),N+=f&(1<<w)-1,f>>>=w,g-=w),g<15&&(f+=P[n++]<<g,g+=8,f+=P[n++]<<g,g+=8),y=b[f&x];r:for(;;){if(w=y>>>24,f>>>=w,g-=w,w=y>>>16&255,w&16){if(B=y&65535,w&=15,g<w&&(f+=P[n++]<<g,g+=8,g<w&&(f+=P[n++]<<g,g+=8)),B+=f&(1<<w)-1,B>c){t.msg="invalid distance too far back",U.mode=zm;break e}if(f>>>=w,g-=w,w=i-o,B>w){if(w=B-w,w>u&&U.sane){t.msg="invalid distance too far back",U.mode=zm;break e}if(F=0,E=h,d===0){if(F+=A-w,w<N){N-=w;do Q[i++]=h[F++];while(--w);F=i-B,E=Q}}else if(d<w){if(F+=A+d-w,w-=d,w<N){N-=w;do Q[i++]=h[F++];while(--w);if(F=0,d<N){w=d,N-=w;do Q[i++]=h[F++];while(--w);F=i-B,E=Q}}}else if(F+=d-w,w<N){N-=w;do Q[i++]=h[F++];while(--w);F=i-B,E=Q}for(;N>2;)Q[i++]=E[F++],Q[i++]=E[F++],Q[i++]=E[F++],N-=3;N&&(Q[i++]=E[F++],N>1&&(Q[i++]=E[F++]))}else{F=i-B;do Q[i++]=Q[F++],Q[i++]=Q[F++],Q[i++]=Q[F++],N-=3;while(N>2);N&&(Q[i++]=Q[F++],N>1&&(Q[i++]=Q[F++]))}}else if(w&64){t.msg="invalid distance code",U.mode=zm;break e}else{y=b[(y&65535)+(f&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){U.mode=bbe;break e}else{t.msg="invalid literal/length code",U.mode=zm;break e}else{y=p[(y&65535)+(f&(1<<w)-1)];continue t}break}}while(n<a&&i<l);N=g>>3,n-=N,g-=N<<3,f&=(1<<g)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<l?257+(l-i):257-(i-l),U.hold=f,U.bits=g};const NA=15,G4=852,q4=592,W4=0,Cb=1,Y4=2,wbe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),jbe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Nbe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Cbe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Bbe=(e,t,r,n,a,i,o,l)=>{const c=l.bits;let A=0,u=0,d=0,h=0,f=0,g=0,p=0,b=0,m=0,x=0,y,w,N,B,F,E=null,P;const Q=new Uint16Array(NA+1),U=new Uint16Array(NA+1);let T=null,k,I,M;for(A=0;A<=NA;A++)Q[A]=0;for(u=0;u<n;u++)Q[t[r+u]]++;for(f=c,h=NA;h>=1&&Q[h]===0;h--);if(f>h&&(f=h),h===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(d=1;d<h&&Q[d]===0;d++);for(f<d&&(f=d),b=1,A=1;A<=NA;A++)if(b<<=1,b-=Q[A],b<0)return-1;if(b>0&&(e===W4||h!==1))return-1;for(U[1]=0,A=1;A<NA;A++)U[A+1]=U[A]+Q[A];for(u=0;u<n;u++)t[r+u]!==0&&(o[U[t[r+u]]++]=u);if(e===W4?(E=T=o,P=20):e===Cb?(E=wbe,T=jbe,P=257):(E=Nbe,T=Cbe,P=0),x=0,u=0,A=d,F=i,g=f,p=0,N=-1,m=1<<f,B=m-1,e===Cb&&m>G4||e===Y4&&m>q4)return 1;for(;;){k=A-p,o[u]+1<P?(I=0,M=o[u]):o[u]>=P?(I=T[o[u]-P],M=E[o[u]-P]):(I=96,M=0),y=1<<A-p,w=1<<g,d=w;do w-=y,a[F+(x>>p)+w]=k<<24|I<<16|M|0;while(w!==0);for(y=1<<A-1;x&y;)y>>=1;if(y!==0?(x&=y-1,x+=y):x=0,u++,--Q[A]===0){if(A===h)break;A=t[r+o[u]]}if(A>f&&(x&B)!==N){for(p===0&&(p=f),F+=d,g=A-p,b=1<<g;g+p<h&&(b-=Q[g+p],!(b<=0));)g++,b<<=1;if(m+=1<<g,e===Cb&&m>G4||e===Y4&&m>q4)return 1;N=x&B,a[N]=f<<24|g<<16|F-i|0}}return x!==0&&(a[F+x]=A-p<<24|64<<16|0),l.bits=f,0};var gf=Bbe;const Sbe=0,M6=1,$6=2,{Z_FINISH:X4,Z_BLOCK:Ebe,Z_TREES:Gm,Z_OK:Hc,Z_STREAM_END:Fbe,Z_NEED_DICT:Tbe,Z_STREAM_ERROR:Fa,Z_DATA_ERROR:H6,Z_MEM_ERROR:K6,Z_BUF_ERROR:Pbe,Z_DEFLATED:J4}=L6,D0=16180,Z4=16181,eE=16182,tE=16183,rE=16184,nE=16185,sE=16186,aE=16187,iE=16188,oE=16189,fx=16190,co=16191,Bb=16192,lE=16193,Sb=16194,cE=16195,AE=16196,uE=16197,dE=16198,qm=16199,Wm=16200,fE=16201,hE=16202,mE=16203,pE=16204,gE=16205,Eb=16206,xE=16207,vE=16208,Kr=16209,V6=16210,z6=16211,kbe=852,Obe=592,Ibe=15,Ube=Ibe,bE=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function _be(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Jc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<D0||t.mode>z6?1:0},G6=e=>{if(Jc(e))return Fa;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=D0,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(kbe),t.distcode=t.distdyn=new Int32Array(Obe),t.sane=1,t.back=-1,Hc},q6=e=>{if(Jc(e))return Fa;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,G6(e)},W6=(e,t)=>{let r;if(Jc(e))return Fa;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Fa:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,q6(e))},Y6=(e,t)=>{if(!e)return Fa;const r=new _be;e.state=r,r.strm=e,r.window=null,r.mode=D0;const n=W6(e,t);return n!==Hc&&(e.state=null),n},Dbe=e=>Y6(e,Ube);let yE=!0,Fb,Tb;const Lbe=e=>{if(yE){Fb=new Int32Array(512),Tb=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(gf(M6,e.lens,0,288,Fb,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;gf($6,e.lens,0,32,Tb,0,e.work,{bits:5}),yE=!1}e.lencode=Fb,e.lenbits=9,e.distcode=Tb,e.distbits=5},X6=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},Qbe=(e,t)=>{let r,n,a,i,o,l,c,A,u,d,h,f,g,p,b=0,m,x,y,w,N,B,F,E;const P=new Uint8Array(4);let Q,U;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Jc(e)||!e.output||!e.input&&e.avail_in!==0)return Fa;r=e.state,r.mode===co&&(r.mode=Bb),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,A=r.hold,u=r.bits,d=l,h=c,E=Hc;e:for(;;)switch(r.mode){case D0:if(r.wrap===0){r.mode=Bb;break}for(;u<16;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}if(r.wrap&2&&A===35615){r.wbits===0&&(r.wbits=15),r.check=0,P[0]=A&255,P[1]=A>>>8&255,r.check=xi(r.check,P,2,0),A=0,u=0,r.mode=Z4;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((A&255)<<8)+(A>>8))%31){e.msg="incorrect header check",r.mode=Kr;break}if((A&15)!==J4){e.msg="unknown compression method",r.mode=Kr;break}if(A>>>=4,u-=4,F=(A&15)+8,r.wbits===0&&(r.wbits=F),F>15||F>r.wbits){e.msg="invalid window size",r.mode=Kr;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=A&512?oE:co,A=0,u=0;break;case Z4:for(;u<16;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}if(r.flags=A,(r.flags&255)!==J4){e.msg="unknown compression method",r.mode=Kr;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Kr;break}r.head&&(r.head.text=A>>8&1),r.flags&512&&r.wrap&4&&(P[0]=A&255,P[1]=A>>>8&255,r.check=xi(r.check,P,2,0)),A=0,u=0,r.mode=eE;case eE:for(;u<32;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}r.head&&(r.head.time=A),r.flags&512&&r.wrap&4&&(P[0]=A&255,P[1]=A>>>8&255,P[2]=A>>>16&255,P[3]=A>>>24&255,r.check=xi(r.check,P,4,0)),A=0,u=0,r.mode=tE;case tE:for(;u<16;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}r.head&&(r.head.xflags=A&255,r.head.os=A>>8),r.flags&512&&r.wrap&4&&(P[0]=A&255,P[1]=A>>>8&255,r.check=xi(r.check,P,2,0)),A=0,u=0,r.mode=rE;case rE:if(r.flags&1024){for(;u<16;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}r.length=A,r.head&&(r.head.extra_len=A),r.flags&512&&r.wrap&4&&(P[0]=A&255,P[1]=A>>>8&255,r.check=xi(r.check,P,2,0)),A=0,u=0}else r.head&&(r.head.extra=null);r.mode=nE;case nE:if(r.flags&1024&&(f=r.length,f>l&&(f=l),f&&(r.head&&(F=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+f),F)),r.flags&512&&r.wrap&4&&(r.check=xi(r.check,n,f,i)),l-=f,i+=f,r.length-=f),r.length))break e;r.length=0,r.mode=sE;case sE:if(r.flags&2048){if(l===0)break e;f=0;do F=n[i+f++],r.head&&F&&r.length<65536&&(r.head.name+=String.fromCharCode(F));while(F&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=xi(r.check,n,f,i)),l-=f,i+=f,F)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=aE;case aE:if(r.flags&4096){if(l===0)break e;f=0;do F=n[i+f++],r.head&&F&&r.length<65536&&(r.head.comment+=String.fromCharCode(F));while(F&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=xi(r.check,n,f,i)),l-=f,i+=f,F)break e}else r.head&&(r.head.comment=null);r.mode=iE;case iE:if(r.flags&512){for(;u<16;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}if(r.wrap&4&&A!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Kr;break}A=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=co;break;case oE:for(;u<32;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}e.adler=r.check=bE(A),A=0,u=0,r.mode=fx;case fx:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=A,r.bits=u,Tbe;e.adler=r.check=1,r.mode=co;case co:if(t===Ebe||t===Gm)break e;case Bb:if(r.last){A>>>=u&7,u-=u&7,r.mode=Eb;break}for(;u<3;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}switch(r.last=A&1,A>>>=1,u-=1,A&3){case 0:r.mode=lE;break;case 1:if(Lbe(r),r.mode=qm,t===Gm){A>>>=2,u-=2;break e}break;case 2:r.mode=AE;break;case 3:e.msg="invalid block type",r.mode=Kr}A>>>=2,u-=2;break;case lE:for(A>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}if((A&65535)!==(A>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Kr;break}if(r.length=A&65535,A=0,u=0,r.mode=Sb,t===Gm)break e;case Sb:r.mode=cE;case cE:if(f=r.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;a.set(n.subarray(i,i+f),o),l-=f,i+=f,c-=f,o+=f,r.length-=f;break}r.mode=co;break;case AE:for(;u<14;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}if(r.nlen=(A&31)+257,A>>>=5,u-=5,r.ndist=(A&31)+1,A>>>=5,u-=5,r.ncode=(A&15)+4,A>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Kr;break}r.have=0,r.mode=uE;case uE:for(;r.have<r.ncode;){for(;u<3;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}r.lens[T[r.have++]]=A&7,A>>>=3,u-=3}for(;r.have<19;)r.lens[T[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Q={bits:r.lenbits},E=gf(Sbe,r.lens,0,19,r.lencode,0,r.work,Q),r.lenbits=Q.bits,E){e.msg="invalid code lengths set",r.mode=Kr;break}r.have=0,r.mode=dE;case dE:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[A&(1<<r.lenbits)-1],m=b>>>24,x=b>>>16&255,y=b&65535,!(m<=u);){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}if(y<16)A>>>=m,u-=m,r.lens[r.have++]=y;else{if(y===16){for(U=m+2;u<U;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}if(A>>>=m,u-=m,r.have===0){e.msg="invalid bit length repeat",r.mode=Kr;break}F=r.lens[r.have-1],f=3+(A&3),A>>>=2,u-=2}else if(y===17){for(U=m+3;u<U;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}A>>>=m,u-=m,F=0,f=3+(A&7),A>>>=3,u-=3}else{for(U=m+7;u<U;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}A>>>=m,u-=m,F=0,f=11+(A&127),A>>>=7,u-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Kr;break}for(;f--;)r.lens[r.have++]=F}}if(r.mode===Kr)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Kr;break}if(r.lenbits=9,Q={bits:r.lenbits},E=gf(M6,r.lens,0,r.nlen,r.lencode,0,r.work,Q),r.lenbits=Q.bits,E){e.msg="invalid literal/lengths set",r.mode=Kr;break}if(r.distbits=6,r.distcode=r.distdyn,Q={bits:r.distbits},E=gf($6,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Q),r.distbits=Q.bits,E){e.msg="invalid distances set",r.mode=Kr;break}if(r.mode=qm,t===Gm)break e;case qm:r.mode=Wm;case Wm:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=A,r.bits=u,ybe(e,h),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,A=r.hold,u=r.bits,r.mode===co&&(r.back=-1);break}for(r.back=0;b=r.lencode[A&(1<<r.lenbits)-1],m=b>>>24,x=b>>>16&255,y=b&65535,!(m<=u);){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}if(x&&!(x&240)){for(w=m,N=x,B=y;b=r.lencode[B+((A&(1<<w+N)-1)>>w)],m=b>>>24,x=b>>>16&255,y=b&65535,!(w+m<=u);){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}A>>>=w,u-=w,r.back+=w}if(A>>>=m,u-=m,r.back+=m,r.length=y,x===0){r.mode=gE;break}if(x&32){r.back=-1,r.mode=co;break}if(x&64){e.msg="invalid literal/length code",r.mode=Kr;break}r.extra=x&15,r.mode=fE;case fE:if(r.extra){for(U=r.extra;u<U;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}r.length+=A&(1<<r.extra)-1,A>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=hE;case hE:for(;b=r.distcode[A&(1<<r.distbits)-1],m=b>>>24,x=b>>>16&255,y=b&65535,!(m<=u);){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}if(!(x&240)){for(w=m,N=x,B=y;b=r.distcode[B+((A&(1<<w+N)-1)>>w)],m=b>>>24,x=b>>>16&255,y=b&65535,!(w+m<=u);){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}A>>>=w,u-=w,r.back+=w}if(A>>>=m,u-=m,r.back+=m,x&64){e.msg="invalid distance code",r.mode=Kr;break}r.offset=y,r.extra=x&15,r.mode=mE;case mE:if(r.extra){for(U=r.extra;u<U;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}r.offset+=A&(1<<r.extra)-1,A>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Kr;break}r.mode=pE;case pE:if(c===0)break e;if(f=h-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Kr;break}f>r.wnext?(f-=r.wnext,g=r.wsize-f):g=r.wnext-f,f>r.length&&(f=r.length),p=r.window}else p=a,g=o-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do a[o++]=p[g++];while(--f);r.length===0&&(r.mode=Wm);break;case gE:if(c===0)break e;a[o++]=r.length,c--,r.mode=Wm;break;case Eb:if(r.wrap){for(;u<32;){if(l===0)break e;l--,A|=n[i++]<<u,u+=8}if(h-=c,e.total_out+=h,r.total+=h,r.wrap&4&&h&&(e.adler=r.check=r.flags?xi(r.check,a,h,o-h):h1(r.check,a,h,o-h)),h=c,r.wrap&4&&(r.flags?A:bE(A))!==r.check){e.msg="incorrect data check",r.mode=Kr;break}A=0,u=0}r.mode=xE;case xE:if(r.wrap&&r.flags){for(;u<32;){if(l===0)break e;l--,A+=n[i++]<<u,u+=8}if(r.wrap&4&&A!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Kr;break}A=0,u=0}r.mode=vE;case vE:E=Fbe;break e;case Kr:E=H6;break e;case V6:return K6;case z6:default:return Fa}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=A,r.bits=u,(r.wsize||h!==e.avail_out&&r.mode<Kr&&(r.mode<Eb||t!==X4))&&X6(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,r.total+=h,r.wrap&4&&h&&(e.adler=r.check=r.flags?xi(r.check,a,h,e.next_out-h):h1(r.check,a,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===co?128:0)+(r.mode===qm||r.mode===Sb?256:0),(d===0&&h===0||t===X4)&&E===Hc&&(E=Pbe),E},Rbe=e=>{if(Jc(e))return Fa;let t=e.state;return t.window&&(t.window=null),e.state=null,Hc},Mbe=(e,t)=>{if(Jc(e))return Fa;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Hc):Fa},$be=(e,t)=>{const r=t.length;let n,a,i;return Jc(e)||(n=e.state,n.wrap!==0&&n.mode!==fx)?Fa:n.mode===fx&&(a=1,a=h1(a,t,r,0),a!==n.check)?H6:(i=X6(e,t,r,r),i?(n.mode=V6,K6):(n.havedict=1,Hc))};var Hbe=q6,Kbe=W6,Vbe=G6,zbe=Dbe,Gbe=Y6,qbe=Qbe,Wbe=Rbe,Ybe=Mbe,Xbe=$be,Jbe="pako inflate (from Nodeca project)",mo={inflateReset:Hbe,inflateReset2:Kbe,inflateResetKeep:Vbe,inflateInit:zbe,inflateInit2:Gbe,inflate:qbe,inflateEnd:Wbe,inflateGetHeader:Ybe,inflateSetDictionary:Xbe,inflateInfo:Jbe};function Zbe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var eye=Zbe;const J6=Object.prototype.toString,{Z_NO_FLUSH:tye,Z_FINISH:rye,Z_OK:dh,Z_STREAM_END:Pb,Z_NEED_DICT:kb,Z_STREAM_ERROR:nye,Z_DATA_ERROR:wE,Z_MEM_ERROR:sye}=L6;function Oh(e){this.options=Q6.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new vbe,this.strm.avail_out=0;let r=mo.inflateInit2(this.strm,t.windowBits);if(r!==dh)throw new Error(m1[r]);if(this.header=new eye,mo.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=p1.string2buf(t.dictionary):J6.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=mo.inflateSetDictionary(this.strm,t.dictionary),r!==dh)))throw new Error(m1[r])}Oh.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?rye:tye,J6.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=mo.inflate(r,o),i===kb&&a&&(i=mo.inflateSetDictionary(r,a),i===dh?i=mo.inflate(r,o):i===wE&&(i=kb));r.avail_in>0&&i===Pb&&r.state.wrap>0&&e[r.next_in]!==0;)mo.inflateReset(r),i=mo.inflate(r,o);switch(i){case nye:case wE:case kb:case sye:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===Pb))if(this.options.to==="string"){let c=p1.utf8border(r.output,r.next_out),A=r.next_out-c,u=p1.buf2string(r.output,c);r.next_out=A,r.avail_out=n-A,A&&r.output.set(r.output.subarray(c,c+A),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===dh&&l===0)){if(i===Pb)return i=mo.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Oh.prototype.onData=function(e){this.chunks.push(e)};Oh.prototype.onEnd=function(e){e===dh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Q6.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function aye(e,t){const r=new Oh(t);if(r.push(e),r.err)throw r.msg||m1[r.err];return r.result}var iye=Oh,oye=aye,lye={Inflate:iye,inflate:oye};const{Inflate:cye,inflate:Aye}=lye;var jE=cye,uye=Aye;const Z6=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;Z6[e]=t}const NE=4294967295;function dye(e,t,r){let n=e;for(let a=0;a<r;a++)n=Z6[(n^t[a])&255]^n>>>8;return n}function fye(e,t){return(dye(NE,e,t)^NE)>>>0}function CE(e,t,r){const n=e.readUint32(),a=fye(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function eU(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function tU(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function rU(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function nU(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function sU(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+hye(t[i-a],r[i],r[i-a])&255}}function hye(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),o=Math.abs(n-r);return a<=i&&a<=o?e:i<=o?t:r}function mye(e,t,r,n,a,i){switch(e){case 0:eU(t,r,a);break;case 1:tU(t,r,a,i);break;case 2:rU(t,r,n,a);break;case 3:nU(t,r,n,a,i);break;case 4:sU(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const pye=new Uint16Array([255]),gye=new Uint8Array(pye.buffer),xye=gye[0]===255;function vye(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(n*r*l);let A=0;for(let u=0;u<7;u++){const d=o[u],h=Math.ceil((r-d.x)/d.xStep),f=Math.ceil((n-d.y)/d.yStep);if(h<=0||f<=0)continue;const g=h*l,p=new Uint8Array(g);for(let b=0;b<f;b++){const m=t[A++],x=t.subarray(A,A+g);A+=g;const y=new Uint8Array(g);mye(m,x,y,p,g,l),p.set(y);for(let w=0;w<h;w++){const N=d.x+w*d.xStep,B=d.y+b*d.yStep;if(!(N>=r||B>=n))for(let F=0;F<l;F++)c[(B*r+N)*l+F]=y[w*l+F]}}}if(i===16){const u=new Uint16Array(c.buffer);if(xye)for(let d=0;d<u.length;d++)u[d]=bye(u[d]);return u}else return c}function bye(e){return(e&255)<<8|e>>8&255}const yye=new Uint16Array([255]),wye=new Uint8Array(yye.buffer),jye=wye[0]===255,Nye=new Uint8Array(0);function BE(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(n*l);let A=Nye,u=0,d,h;for(let f=0;f<n;f++){switch(d=t.subarray(u+1,u+1+l),h=c.subarray(f*l,(f+1)*l),t[u]){case 0:eU(d,h,l);break;case 1:tU(d,h,l,o);break;case 2:rU(d,h,A,l);break;case 3:nU(d,h,A,l,o);break;case 4:sU(d,h,A,l,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}A=h,u+=l+1}if(i===16){const f=new Uint16Array(c.buffer);if(jye)for(let g=0;g<f.length;g++)f[g]=Cye(f[g]);return f}else return c}function Cye(e){return(e&255)<<8|e>>8&255}const _p=Uint8Array.of(137,80,78,71,13,10,26,10);function SE(e){if(!Bye(e.readBytes(_p.length)))throw new Error("wrong PNG signature")}function Bye(e){if(e.length<_p.length)return!1;for(let t=0;t<_p.length;t++)if(e[t]!==_p[t])return!1;return!0}const Sye="tEXt",Eye=0,aU=new TextDecoder("latin1");function Fye(e){if(Pye(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Tye=/^[\u0000-\u00FF]*$/;function Pye(e){if(!Tye.test(e))throw new Error("invalid latin1 text")}function kye(e,t,r){const n=iU(t);e[n]=Oye(t,r-n.length-1)}function iU(e){for(e.mark();e.readByte()!==Eye;);const t=e.offset;e.reset();const r=aU.decode(e.readBytes(t-e.offset-1));return e.skip(1),Fye(r),r}function Oye(e,t){return aU.decode(e.readBytes(t))}const Ks={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Ob={UNKNOWN:-1,DEFLATE:0},EE={UNKNOWN:-1,ADAPTIVE:0},Ib={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ym={NONE:0,BACKGROUND:1,PREVIOUS:2},Ub={SOURCE:0,OVER:1};class Iye extends Ij{constructor(r,n={}){super(r);Gt(this,"_checkCrc");Gt(this,"_inflator");Gt(this,"_png");Gt(this,"_apng");Gt(this,"_end");Gt(this,"_hasPalette");Gt(this,"_palette");Gt(this,"_hasTransparency");Gt(this,"_transparency");Gt(this,"_compressionMethod");Gt(this,"_filterMethod");Gt(this,"_interlaceMethod");Gt(this,"_colorType");Gt(this,"_isAnimated");Gt(this,"_numberOfFrames");Gt(this,"_numberOfPlays");Gt(this,"_frames");Gt(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new jE,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Ob.UNKNOWN,this._filterMethod=EE.UNKNOWN,this._interlaceMethod=Ib.UNKNOWN,this._colorType=Ks.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(SE(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(SE(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Sye:kye(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?CE(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?CE(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=Uye(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Ks.GREYSCALE:a=1;break;case Ks.TRUECOLOUR:a=3;break;case Ks.INDEXED_COLOUR:a=1;break;case Ks.GREYSCALE_ALPHA:a=2;break;case Ks.TRUECOLOUR_ALPHA:a=4;break;case Ks.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Ob.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ks.GREYSCALE:case Ks.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ks.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ks.UNKNOWN:case Ks.GREYSCALE_ALPHA:case Ks.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=iU(this),a=this.readUint8();if(a!==Ob.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:uye(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=BE({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case Ym.NONE:break;case Ym.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case Ym.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,A=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:A}};switch(n.blendOp){case Ub.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:A}=i(o,l);for(let u=0;u<this._png.channels;u++)r.data[c+u]=n.data[A+u]}break;case Ub.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:A}=i(o,l);for(let u=0;u<this._png.channels;u++){const d=n.data[A+this._png.channels-1]/a,h=u%(this._png.channels-1)===0?1:n.data[A+u],f=Math.floor(d*h+(1-d)*r.data[c+u]);r.data[c+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==EE.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ib.NO_INTERLACE)this._png.data=BE({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ib.ADAM7)this._png.data=vye({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ym.NONE,blendOp:Ub.SOURCE,data:r}),this._inflator=new jE,this._writingDataChunks=!1}}function Uye(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var FE;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(FE||(FE={}));function _ye(e,t){return new Iye(e,t).decode()}var St=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function _b(){St.console&&typeof St.console.log=="function"&&St.console.log.apply(St.console,arguments)}var Nr={log:_b,warn:function(e){St.console&&(typeof St.console.warn=="function"?St.console.warn.apply(St.console,arguments):_b.call(null,arguments))},error:function(e){St.console&&(typeof St.console.error=="function"?St.console.error.apply(St.console,arguments):_b(e))}};function Db(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){uc(n.response,t,r)},n.onerror=function(){Nr.error("could not download file")},n.send()}function TE(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Xm(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var uc=St.saveAs||((typeof window>"u"?"undefined":gr(window))!=="object"||window!==St?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=St.URL||St.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?TE(a.href)?Db(e,t,r):Xm(a,a.target="_blank"):Xm(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Xm(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(TE(e))Db(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Xm(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:gr(i)!=="object"&&(Nr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Db(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(St.HTMLElement)||St.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":gr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(e)}else{var c=St.URL||St.webkitURL,A=c.createObjectURL(e);n?n.location=A:location.href=A,n=null,setTimeout(function(){c.revokeObjectURL(A)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function oU(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),A=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),A.length==1&&(A="0"+A),"#"+l+c+A}}var Dp=St.atob.bind(St),PE=St.btoa.bind(St);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Lb(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=ns(r,n,a,i,t[0],7,-680876936),i=ns(i,r,n,a,t[1],12,-389564586),a=ns(a,i,r,n,t[2],17,606105819),n=ns(n,a,i,r,t[3],22,-1044525330),r=ns(r,n,a,i,t[4],7,-176418897),i=ns(i,r,n,a,t[5],12,1200080426),a=ns(a,i,r,n,t[6],17,-1473231341),n=ns(n,a,i,r,t[7],22,-45705983),r=ns(r,n,a,i,t[8],7,1770035416),i=ns(i,r,n,a,t[9],12,-1958414417),a=ns(a,i,r,n,t[10],17,-42063),n=ns(n,a,i,r,t[11],22,-1990404162),r=ns(r,n,a,i,t[12],7,1804603682),i=ns(i,r,n,a,t[13],12,-40341101),a=ns(a,i,r,n,t[14],17,-1502002290),r=ss(r,n=ns(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=ss(i,r,n,a,t[6],9,-1069501632),a=ss(a,i,r,n,t[11],14,643717713),n=ss(n,a,i,r,t[0],20,-373897302),r=ss(r,n,a,i,t[5],5,-701558691),i=ss(i,r,n,a,t[10],9,38016083),a=ss(a,i,r,n,t[15],14,-660478335),n=ss(n,a,i,r,t[4],20,-405537848),r=ss(r,n,a,i,t[9],5,568446438),i=ss(i,r,n,a,t[14],9,-1019803690),a=ss(a,i,r,n,t[3],14,-187363961),n=ss(n,a,i,r,t[8],20,1163531501),r=ss(r,n,a,i,t[13],5,-1444681467),i=ss(i,r,n,a,t[2],9,-51403784),a=ss(a,i,r,n,t[7],14,1735328473),r=as(r,n=ss(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=as(i,r,n,a,t[8],11,-2022574463),a=as(a,i,r,n,t[11],16,1839030562),n=as(n,a,i,r,t[14],23,-35309556),r=as(r,n,a,i,t[1],4,-1530992060),i=as(i,r,n,a,t[4],11,1272893353),a=as(a,i,r,n,t[7],16,-155497632),n=as(n,a,i,r,t[10],23,-1094730640),r=as(r,n,a,i,t[13],4,681279174),i=as(i,r,n,a,t[0],11,-358537222),a=as(a,i,r,n,t[3],16,-722521979),n=as(n,a,i,r,t[6],23,76029189),r=as(r,n,a,i,t[9],4,-640364487),i=as(i,r,n,a,t[12],11,-421815835),a=as(a,i,r,n,t[15],16,530742520),r=is(r,n=as(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=is(i,r,n,a,t[7],10,1126891415),a=is(a,i,r,n,t[14],15,-1416354905),n=is(n,a,i,r,t[5],21,-57434055),r=is(r,n,a,i,t[12],6,1700485571),i=is(i,r,n,a,t[3],10,-1894986606),a=is(a,i,r,n,t[10],15,-1051523),n=is(n,a,i,r,t[1],21,-2054922799),r=is(r,n,a,i,t[8],6,1873313359),i=is(i,r,n,a,t[15],10,-30611744),a=is(a,i,r,n,t[6],15,-1560198380),n=is(n,a,i,r,t[13],21,1309151649),r=is(r,n,a,i,t[4],6,-145523070),i=is(i,r,n,a,t[11],10,-1120210379),a=is(a,i,r,n,t[2],15,718787259),n=is(n,a,i,r,t[9],21,-343485551),e[0]=hl(r,e[0]),e[1]=hl(n,e[1]),e[2]=hl(a,e[2]),e[3]=hl(i,e[3])}function L0(e,t,r,n,a,i){return t=hl(hl(t,e),hl(n,i)),hl(t<<a|t>>>32-a,r)}function ns(e,t,r,n,a,i,o){return L0(t&r|~t&n,e,t,a,i,o)}function ss(e,t,r,n,a,i,o){return L0(t&n|r&~n,e,t,a,i,o)}function as(e,t,r,n,a,i,o){return L0(t^r^n,e,t,a,i,o)}function is(e,t,r,n,a,i,o){return L0(r^(t|~n),e,t,a,i,o)}function lU(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Lb(n,Dye(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Lb(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Lb(n,a),n}function Dye(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var kE="0123456789abcdef".split("");function Lye(e){for(var t="",r=0;r<4;r++)t+=kE[e>>8*r+4&15]+kE[e>>8*r&15];return t}function Qye(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function g1(e){return lU(e).map(Qye).join("")}var Rye=function(e){for(var t=0;t<e.length;t++)e[t]=Lye(e[t]);return e.join("")}(lU("hello"))!="5d41402abc4b2a76b9719d911017c592";function hl(e,t){if(Rye){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function x1(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var A=0;for(c=0;c<256;c++){var u=l[c];A=(A+u+o.charCodeAt(c))%256,l[c]=l[A],l[A]=u}r=e,n=l}else l=n;var d=t.length,h=0,f=0,g="";for(c=0;c<d;c++)f=(f+(u=l[h=(h+1)%256]))%256,l[h]=l[f],l[f]=u,o=l[(l[h]+l[f])%256],g+=String.fromCharCode(t.charCodeAt(c)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var OE={print:4,modify:8,copy:16,"annot-forms":32};function OA(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(OE.perm!==void 0)throw new Error("Invalid permission: "+l);a+=OE[l]}),this.padding="(¬øN^Nu¬äAd\0NV√ø√∫\b..\0¬∂√êh>¬Ä/\f¬©√ædSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=g1(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=x1(this.encryptionKey,this.padding)}function IA(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function IE(e){if(gr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){St.console&&Nr.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function hx(e){if(!(this instanceof hx))return new hx(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function cU(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function fc(e,t,r,n,a){if(!(this instanceof fc))return new fc(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,cU.call(this,n,a)}function $A(e,t,r,n,a){if(!(this instanceof $A))return new $A(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,cU.call(this,n,a)}function gt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,A="S",u=null;gr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),A=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=IE;var g="1.3",p=f.__private__.getPdfVersion=function(){return g};f.__private__.setPdfVersion=function(S){g=S};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return b};var m=f.__private__.getPageFormat=function(S){return b[S]};a=a||"a4";var x="compat",y="advanced",w=x;function N(){this.saveGraphicsState(),J(new wt(lt,0,0,-lt,0,zl()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),A="n",w=y}function B(){this.restoreGraphicsState(),A="S",w=x}var F=f.__private__.combineFontStyleAndFontWeight=function(S,z){if(S=="bold"&&z=="normal"||S=="bold"&&z==400||S=="normal"&&z=="italic"||S=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(S=z==400||z==="normal"?S==="italic"?"italic":"normal":z!=700&&z!=="bold"||S!=="normal"?(z==700?"bold":z)+""+S:"bold"),S};f.advancedAPI=function(S){var z=w===x;return z&&N.call(this),typeof S!="function"||(S(this),z&&B.call(this)),this},f.compatAPI=function(S){var z=w===y;return z&&B.call(this),typeof S!="function"||(S(this),z&&N.call(this)),this},f.isAdvancedAPI=function(){return w===y};var E,P=function(S){if(w!==y)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Q=f.roundToPrecision=f.__private__.roundToPrecision=function(S,z){var le=t||z;if(isNaN(S)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(le).replace(/0+$/,"")};E=f.hpf=f.__private__.hpf=typeof c=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(S,c)}:c==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(S,16)};var U=f.f2=f.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return Q(S,2)},T=f.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return Q(S,3)},k=f.scale=f.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return w===x?S*lt:w===y?S:void 0},I=function(S){return k(function(z){return w===x?zl()-z:w===y?z:void 0}(S))};f.__private__.setPrecision=f.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var M,L="00000000000000000000000000000000",K=f.__private__.getFileId=function(){return L},R=f.__private__.setFileId=function(S){return L=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():L.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(yn=new OA(u.userPermissions,u.userPassword,u.ownerPassword,L)),L};f.setFileId=function(S){return R(S),this},f.getFileId=function(){return K()};var $=f.__private__.convertDateToPDFDate=function(S){var z=S.getTimezoneOffset(),le=z<0?"+":"-",he=Math.floor(Math.abs(z/60)),ve=Math.abs(z%60),Oe=[le,V(he),"'",V(ve),"'"].join("");return["D:",S.getFullYear(),V(S.getMonth()+1),V(S.getDate()),V(S.getHours()),V(S.getMinutes()),V(S.getSeconds()),Oe].join("")},q=f.__private__.convertPDFDateToDate=function(S){var z=parseInt(S.substr(2,4),10),le=parseInt(S.substr(6,2),10)-1,he=parseInt(S.substr(8,2),10),ve=parseInt(S.substr(10,2),10),Oe=parseInt(S.substr(12,2),10),Re=parseInt(S.substr(14,2),10);return new Date(z,le,he,ve,Oe,Re,0)},Z=f.__private__.setCreationDate=function(S){var z;if(S===void 0&&(S=new Date),S instanceof Date)z=$(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=S}return M=z},D=f.__private__.getCreationDate=function(S){var z=M;return S==="jsDate"&&(z=q(M)),z};f.setCreationDate=function(S){return Z(S),this},f.getCreationDate=function(S){return D(S)};var H,V=f.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},re=f.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},Ae=0,ae=[],de=[],X=0,te=[],ue=[],se=!1,we=de;f.__private__.setCustomOutputDestination=function(S){se=!0,we=S};var Ce=function(S){se||(we=S)};f.__private__.resetCustomOutputDestination=function(){se=!1,we=de};var J=f.__private__.out=function(S){return S=S.toString(),X+=S.length+1,we.push(S),we},_e=f.__private__.write=function(S){return J(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Ge=f.__private__.getArrayBuffer=function(S){for(var z=S.length,le=new ArrayBuffer(z),he=new Uint8Array(le);z--;)he[z]=S.charCodeAt(z);return le},We=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return We};var ke=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(S){return ke=w===y?S/lt:S,this};var At,qe=f.__private__.getFontSize=f.getFontSize=function(){return w===x?ke:ke*lt},ce=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(S){return ce=S,this},f.__private__.getR2L=f.getR2L=function(){return ce};var pe,Be=f.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))At=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');At=S}else At=parseInt(S,10)};f.__private__.getZoomMode=function(){return At};var Qe,Ie=f.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');pe=S};f.__private__.getPageMode=function(){return pe};var Pe=f.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Qe=S};f.__private__.getLayoutMode=function(){return Qe},f.__private__.setDisplayMode=f.setDisplayMode=function(S,z,le){return Be(S),Pe(z),Ie(le),this};var $e={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(S){if(Object.keys($e).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $e[S]},f.__private__.getDocumentProperties=function(){return $e},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(S){for(var z in $e)$e.hasOwnProperty(z)&&S[z]&&($e[z]=S[z]);return this},f.__private__.setDocumentProperty=function(S,z){if(Object.keys($e).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $e[S]=z};var Ve,lt,Xe,Gr,zt,Ot={},Lt={},yr=[],xt={},fr={},Ct={},It={},Hr=null,Kt=0,yt=[],sr=new IE(f),Ll=e.hotfixes||[],ts={},Mi={},li=[],wt=function S(z,le,he,ve,Oe,Re){if(!(this instanceof S))return new S(z,le,he,ve,Oe,Re);isNaN(z)&&(z=1),isNaN(le)&&(le=0),isNaN(he)&&(he=0),isNaN(ve)&&(ve=1),isNaN(Oe)&&(Oe=0),isNaN(Re)&&(Re=0),this._matrix=[z,le,he,ve,Oe,Re]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(S)},wt.prototype.multiply=function(S){var z=S.sx*this.sx+S.shy*this.shx,le=S.sx*this.shy+S.shy*this.sy,he=S.shx*this.sx+S.sy*this.shx,ve=S.shx*this.shy+S.sy*this.sy,Oe=S.tx*this.sx+S.ty*this.shx+this.tx,Re=S.tx*this.shy+S.ty*this.sy+this.ty;return new wt(z,le,he,ve,Oe,Re)},wt.prototype.decompose=function(){var S=this.sx,z=this.shy,le=this.shx,he=this.sy,ve=this.tx,Oe=this.ty,Re=Math.sqrt(S*S+z*z),ct=(S/=Re)*le+(z/=Re)*he;le-=S*ct,he-=z*ct;var mt=Math.sqrt(le*le+he*he);return ct/=mt,S*(he/=mt)<z*(le/=mt)&&(S=-S,z=-z,ct=-ct,Re=-Re),{scale:new wt(Re,0,0,mt,0,0),translate:new wt(1,0,0,1,ve,Oe),rotate:new wt(S,z,-z,S,0,0),skew:new wt(1,0,ct,1,0,0)}},wt.prototype.toString=function(S){return this.join(" ")},wt.prototype.inversed=function(){var S=this.sx,z=this.shy,le=this.shx,he=this.sy,ve=this.tx,Oe=this.ty,Re=1/(S*he-z*le),ct=he*Re,mt=-z*Re,Ft=-le*Re,Dt=S*Re;return new wt(ct,mt,Ft,Dt,-ct*ve-Ft*Oe,-mt*ve-Dt*Oe)},wt.prototype.applyToPoint=function(S){var z=S.x*this.sx+S.y*this.shx+this.tx,le=S.x*this.shy+S.y*this.sy+this.ty;return new qi(z,le)},wt.prototype.applyToRectangle=function(S){var z=this.applyToPoint(S),le=this.applyToPoint(new qi(S.x+S.w,S.y+S.h));return new od(z.x,z.y,le.x-z.x,le.y-z.y)},wt.prototype.clone=function(){var S=this.sx,z=this.shy,le=this.shx,he=this.sy,ve=this.tx,Oe=this.ty;return new wt(S,z,le,he,ve,Oe)},f.Matrix=wt;var $i=f.matrixMult=function(S,z){return z.multiply(S)},Hi=new wt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Hi;var ia=function(S,z){if(!fr[S]){var le=(z instanceof fc?"Sh":"P")+(Object.keys(xt).length+1).toString(10);z.id=le,fr[S]=le,xt[le]=z,sr.publish("addPattern",z)}};f.ShadingPattern=fc,f.TilingPattern=$A,f.addShadingPattern=function(S,z){return P("addShadingPattern()"),ia(S,z),this},f.beginTilingPattern=function(S){P("beginTilingPattern()"),ld(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},f.endTilingPattern=function(S,z){P("endTilingPattern()"),z.stream=ue[H].join(`
`),ia(S,z),sr.publish("endTilingPattern",z),li.pop().restore()};var oa,Yr=f.__private__.newObject=function(){var S=_n();return Hn(S,!0),S},_n=f.__private__.newObjectDeferred=function(){return Ae++,ae[Ae]=function(){return X},Ae},Hn=function(S,z){return z=typeof z=="boolean"&&z,ae[S]=X,z&&J(S+" 0 obj"),S},Ql=f.__private__.newAdditionalObject=function(){var S={objId:_n(),content:""};return te.push(S),S},Do=_n(),ka=_n(),ci=f.__private__.decodeColorString=function(S){var z=S.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var le=parseFloat(z[0]);z=[le,le,le,"r"]}for(var he="#",ve=0;ve<3;ve++)he+=("0"+Math.floor(255*parseFloat(z[ve])).toString(16)).slice(-2);return he},Oa=f.__private__.encodeColorString=function(S){var z;typeof S=="string"&&(S={ch1:S});var le=S.ch1,he=S.ch2,ve=S.ch3,Oe=S.ch4,Re=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var ct=new oU(le);if(ct.ok)le=ct.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var mt=parseInt(le.substr(1),16);le=mt>>16&255,he=mt>>8&255,ve=255&mt}if(he===void 0||Oe===void 0&&le===he&&he===ve)z=typeof le=="string"?le+" "+Re[0]:S.precision===2?U(le/255)+" "+Re[0]:T(le/255)+" "+Re[0];else if(Oe===void 0||gr(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return["1.","1.","1.",Re[1]].join(" ");z=typeof le=="string"?[le,he,ve,Re[1]].join(" "):S.precision===2?[U(le/255),U(he/255),U(ve/255),Re[1]].join(" "):[T(le/255),T(he/255),T(ve/255),Re[1]].join(" ")}else z=typeof le=="string"?[le,he,ve,Oe,Re[2]].join(" "):S.precision===2?[U(le),U(he),U(ve),U(Oe),Re[2]].join(" "):[T(le),T(he),T(ve),T(Oe),Re[2]].join(" ");return z},Ia=f.__private__.getFilters=function(){return o},la=f.__private__.putStream=function(S){var z=(S=S||{}).data||"",le=S.filters||Ia(),he=S.alreadyAppliedFilters||[],ve=S.addLength1||!1,Oe=z.length,Re=S.objectId,ct=function(wn){return wn};if(u!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ct=yn.encryptor(Re,0));var mt={};le===!0&&(le=["FlateEncode"]);var Ft=S.additionalKeyValues||[],Dt=(mt=gt.API.processDataByFilters!==void 0?gt.API.processDataByFilters(z,le):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if(mt.data.length!==0&&(Ft.push({key:"Length",value:mt.data.length}),ve===!0&&Ft.push({key:"Length1",value:Oe})),Dt.length!=0)if(Dt.split("/").length-1==1)Ft.push({key:"Filter",value:Dt});else{Ft.push({key:"Filter",value:"["+Dt+"]"});for(var Xt=0;Xt<Ft.length;Xt+=1)if(Ft[Xt].key==="DecodeParms"){for(var qr=[],hn=0;hn<mt.reverseChain.split("/").length-1;hn+=1)qr.push("null");qr.push(Ft[Xt].value),Ft[Xt].value="["+qr.join(" ")+"]"}}J("<<");for(var Sr=0;Sr<Ft.length;Sr++)J("/"+Ft[Sr].key+" "+Ft[Sr].value);J(">>"),mt.data.length!==0&&(J("stream"),J(ct(mt.data)),J("endstream"))},Rl=f.__private__.putPage=function(S){var z=S.number,le=S.data,he=S.objId,ve=S.contentsObjId;Hn(he,!0),J("<</Type /Page"),J("/Parent "+S.rootDictionaryObjId+" 0 R"),J("/Resources "+S.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(E(S.mediaBox.bottomLeftX))+" "+parseFloat(E(S.mediaBox.bottomLeftY))+" "+E(S.mediaBox.topRightX)+" "+E(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&J("/CropBox ["+E(S.cropBox.bottomLeftX)+" "+E(S.cropBox.bottomLeftY)+" "+E(S.cropBox.topRightX)+" "+E(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&J("/BleedBox ["+E(S.bleedBox.bottomLeftX)+" "+E(S.bleedBox.bottomLeftY)+" "+E(S.bleedBox.topRightX)+" "+E(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&J("/TrimBox ["+E(S.trimBox.bottomLeftX)+" "+E(S.trimBox.bottomLeftY)+" "+E(S.trimBox.topRightX)+" "+E(S.trimBox.topRightY)+"]"),S.artBox!==null&&J("/ArtBox ["+E(S.artBox.bottomLeftX)+" "+E(S.artBox.bottomLeftY)+" "+E(S.artBox.topRightX)+" "+E(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&J("/UserUnit "+S.userUnit),sr.publish("putPage",{objId:he,pageContext:yt[z],pageNumber:z,page:le}),J("/Contents "+ve+" 0 R"),J(">>"),J("endobj");var Oe=le.join(`
`);return w===y&&(Oe+=`
Q`),Hn(ve,!0),la({data:Oe,filters:Ia(),objectId:ve}),J("endobj"),he},Ai=f.__private__.putPages=function(){var S,z,le=[];for(S=1;S<=Kt;S++)yt[S].objId=_n(),yt[S].contentsObjId=_n();for(S=1;S<=Kt;S++)le.push(Rl({number:S,data:ue[S],objId:yt[S].objId,contentsObjId:yt[S].contentsObjId,mediaBox:yt[S].mediaBox,cropBox:yt[S].cropBox,bleedBox:yt[S].bleedBox,trimBox:yt[S].trimBox,artBox:yt[S].artBox,userUnit:yt[S].userUnit,rootDictionaryObjId:Do,resourceDictionaryObjId:ka}));Hn(Do,!0),J("<</Type /Pages");var he="/Kids [";for(z=0;z<Kt;z++)he+=le[z]+" 0 R ";J(he+"]"),J("/Count "+Kt),J(">>"),J("endobj"),sr.publish("postPutPages")},Ml=function(S){sr.publish("putFont",{font:S,out:J,newObject:Yr,putStream:la}),S.isAlreadyPutted!==!0&&(S.objectNumber=Yr(),J("<<"),J("/Type /Font"),J("/BaseFont /"+IA(S.postScriptName)),J("/Subtype /Type1"),typeof S.encoding=="string"&&J("/Encoding /"+S.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},eA=function(S){S.objectNumber=Yr();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[E(S.x),E(S.y),E(S.x+S.width),E(S.y+S.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var le=S.pages[1].join(`
`);la({data:le,additionalKeyValues:z,objectId:S.objectNumber}),J("endobj")},tA=function(S,z){z||(z=21);var le=Yr(),he=function(Re,ct){var mt,Ft=[],Dt=1/(ct-1);for(mt=0;mt<1;mt+=Dt)Ft.push(mt);if(Ft.push(1),Re[0].offset!=0){var Xt={offset:0,color:Re[0].color};Re.unshift(Xt)}if(Re[Re.length-1].offset!=1){var qr={offset:1,color:Re[Re.length-1].color};Re.push(qr)}for(var hn="",Sr=0,wn=0;wn<Ft.length;wn++){for(mt=Ft[wn];mt>Re[Sr+1].offset;)Sr++;var mn=Re[Sr].offset,Kn=(mt-mn)/(Re[Sr+1].offset-mn),Xi=Re[Sr].color,_a=Re[Sr+1].color;hn+=re(Math.round((1-Kn)*Xi[0]+Kn*_a[0]).toString(16))+re(Math.round((1-Kn)*Xi[1]+Kn*_a[1]).toString(16))+re(Math.round((1-Kn)*Xi[2]+Kn*_a[2]).toString(16))}return hn.trim()}(S.colors,z),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+z+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),la({data:he,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),J("endobj"),S.objectNumber=Yr(),J("<< /ShadingType "+S.type),J("/ColorSpace /DeviceRGB");var Oe="/Coords ["+E(parseFloat(S.coords[0]))+" "+E(parseFloat(S.coords[1]))+" ";S.type===2?Oe+=E(parseFloat(S.coords[2]))+" "+E(parseFloat(S.coords[3])):Oe+=E(parseFloat(S.coords[2]))+" "+E(parseFloat(S.coords[3]))+" "+E(parseFloat(S.coords[4]))+" "+E(parseFloat(S.coords[5])),J(Oe+="]"),S.matrix&&J("/Matrix ["+S.matrix.toString()+"]"),J("/Function "+le+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},rA=function(S,z){var le=_n(),he=Yr();z.push({resourcesOid:le,objectOid:he}),S.objectNumber=he;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+S.boundingBox.map(E).join(" ")+"]"}),ve.push({key:"XStep",value:E(S.xStep)}),ve.push({key:"YStep",value:E(S.yStep)}),ve.push({key:"Resources",value:le+" 0 R"}),S.matrix&&ve.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),la({data:S.stream,additionalKeyValues:ve,objectId:S.objectNumber}),J("endobj")},W0=function(S){for(var z in S.objectNumber=Yr(),J("<<"),S)switch(z){case"opacity":J("/ca "+U(S[z]));break;case"stroke-opacity":J("/CA "+U(S[z]))}J(">>"),J("endobj")},Zu=function(S){Hn(S.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var z in J("/Font <<"),Ot)Ot.hasOwnProperty(z)&&(d===!1||d===!0&&h.hasOwnProperty(z))&&J("/"+z+" "+Ot[z].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(xt).length>0){for(var z in J("/Shading <<"),xt)xt.hasOwnProperty(z)&&xt[z]instanceof fc&&xt[z].objectNumber>=0&&J("/"+z+" "+xt[z].objectNumber+" 0 R");sr.publish("putShadingPatternDict"),J(">>")}}(),function(z){if(Object.keys(xt).length>0){for(var le in J("/Pattern <<"),xt)xt.hasOwnProperty(le)&&xt[le]instanceof f.TilingPattern&&xt[le].objectNumber>=0&&xt[le].objectNumber<z&&J("/"+le+" "+xt[le].objectNumber+" 0 R");sr.publish("putTilingPatternDict"),J(">>")}}(S.objectOid),function(){if(Object.keys(Ct).length>0){var z;for(z in J("/ExtGState <<"),Ct)Ct.hasOwnProperty(z)&&Ct[z].objectNumber>=0&&J("/"+z+" "+Ct[z].objectNumber+" 0 R");sr.publish("putGStateDict"),J(">>")}}(),function(){for(var z in J("/XObject <<"),ts)ts.hasOwnProperty(z)&&ts[z].objectNumber>=0&&J("/"+z+" "+ts[z].objectNumber+" 0 R");sr.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},_h=function(S){Lt[S.fontName]=Lt[S.fontName]||{},Lt[S.fontName][S.fontStyle]=S.id},Dh=function(S,z,le,he,ve){var Oe={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:S,fontName:z,fontStyle:le,encoding:he,isStandardFont:ve||!1,metadata:{}};return sr.publish("addFont",{font:Oe,instance:this}),Ot[Oe.id]=Oe,_h(Oe),Oe.id},ca=f.__private__.pdfEscape=f.pdfEscape=function(S,z){return function(le,he){var ve,Oe,Re,ct,mt,Ft,Dt,Xt,qr;if(Re=(he=he||{}).sourceEncoding||"Unicode",mt=he.outputEncoding,(he.autoencode||mt)&&Ot[Ve].metadata&&Ot[Ve].metadata[Re]&&Ot[Ve].metadata[Re].encoding&&(ct=Ot[Ve].metadata[Re].encoding,!mt&&Ot[Ve].encoding&&(mt=Ot[Ve].encoding),!mt&&ct.codePages&&(mt=ct.codePages[0]),typeof mt=="string"&&(mt=ct[mt]),mt)){for(Dt=!1,Ft=[],ve=0,Oe=le.length;ve<Oe;ve++)(Xt=mt[le.charCodeAt(ve)])?Ft.push(String.fromCharCode(Xt)):Ft.push(le[ve]),Ft[ve].charCodeAt(0)>>8&&(Dt=!0);le=Ft.join("")}for(ve=le.length;Dt===void 0&&ve!==0;)le.charCodeAt(ve-1)>>8&&(Dt=!0),ve--;if(!Dt)return le;for(Ft=he.noBOM?[]:[254,255],ve=0,Oe=le.length;ve<Oe;ve++){if((qr=(Xt=le.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ft.push(qr),Ft.push(Xt-(qr<<8))}return String.fromCharCode.apply(void 0,Ft)}(S,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ed=f.__private__.beginPage=function(S){ue[++Kt]=[],yt[Kt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Qh(Kt),Ce(ue[H])},Lh=function(S,z){var le,he,ve;switch(r=z||r,typeof S=="string"&&(le=m(S.toLowerCase()),Array.isArray(le)&&(he=le[0],ve=le[1])),Array.isArray(S)&&(he=S[0]*lt,ve=S[1]*lt),isNaN(he)&&(he=a[0],ve=a[1]),(he>14400||ve>14400)&&(Nr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),ve=Math.min(14400,ve)),a=[he,ve],r.substr(0,1)){case"l":ve>he&&(a=[ve,he]);break;case"p":he>ve&&(a=[ve,he])}ed(a),Tt(nd),J(iA),ad!==0&&J(ad+" J"),id!==0&&J(id+" j"),sr.publish("addPage",{pageNumber:Kt})},td=function(S){S>0&&S<=Kt&&(ue.splice(S,1),yt.splice(S,1),Kt--,H>Kt&&(H=Kt),this.setPage(H))},Qh=function(S){S>0&&S<=Kt&&(H=S)},Rh=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ue.length-1},Mh=function(S,z,le){var he,ve=void 0;return le=le||{},S=S!==void 0?S:Ot[Ve].fontName,z=z!==void 0?z:Ot[Ve].fontStyle,he=S.toLowerCase(),Lt[he]!==void 0&&Lt[he][z]!==void 0?ve=Lt[he][z]:Lt[S]!==void 0&&Lt[S][z]!==void 0?ve=Lt[S][z]:le.disableWarning===!1&&Nr.warn("Unable to look up font label for font '"+S+"', '"+z+"'. Refer to getFontList() for available fonts."),ve||le.noFallback||(ve=Lt.times[z])==null&&(ve=Lt.times.normal),ve},ui=f.__private__.putInfo=function(){var S=Yr(),z=function(he){return he};for(var le in u!==null&&(z=yn.encryptor(S,0)),J("<<"),J("/Producer ("+ca(z("jsPDF "+gt.version))+")"),$e)$e.hasOwnProperty(le)&&$e[le]&&J("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+ca(z($e[le]))+")");J("/CreationDate ("+ca(z(M))+")"),J(">>"),J("endobj")},nA=f.__private__.putCatalog=function(S){var z=(S=S||{}).rootDictionaryObjId||Do;switch(Yr(),J("<<"),J("/Type /Catalog"),J("/Pages "+z+" 0 R"),At||(At="fullwidth"),At){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+At;le.substr(le.length-1)==="%"&&(At=parseInt(At)/100),typeof At=="number"&&J("/OpenAction [3 0 R /XYZ null null "+U(At)+"]")}switch(Qe||(Qe="continuous"),Qe){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}pe&&J("/PageMode /"+pe),sr.publish("putCatalog"),J(">>"),J("endobj")},Y0=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(Ae+1)),J("/Root "+Ae+" 0 R"),J("/Info "+(Ae-1)+" 0 R"),u!==null&&J("/Encrypt "+yn.oid+" 0 R"),J("/ID [ <"+L+"> <"+L+"> ]"),J(">>")},fn=f.__private__.putHeader=function(){J("%PDF-"+g),J("%¬∫√ü¬¨√†")},$h=f.__private__.putXRef=function(){var S="0000000000";J("xref"),J("0 "+(Ae+1)),J("0000000000 65535 f ");for(var z=1;z<=Ae;z++)typeof ae[z]=="function"?J((S+ae[z]()).slice(-10)+" 00000 n "):ae[z]!==void 0?J((S+ae[z]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},di=f.__private__.buildDocument=function(){var S;Ae=0,X=0,de=[],ae=[],te=[],Do=_n(),ka=_n(),Ce(de),sr.publish("buildDocument"),fn(),Ai(),function(){sr.publish("putAdditionalObjects");for(var le=0;le<te.length;le++){var he=te[le];Hn(he.objId,!0),J(he.content),J("endobj")}sr.publish("postPutAdditionalObjects")}(),S=[],function(){for(var le in Ot)Ot.hasOwnProperty(le)&&(d===!1||d===!0&&h.hasOwnProperty(le))&&Ml(Ot[le])}(),function(){var le;for(le in Ct)Ct.hasOwnProperty(le)&&W0(Ct[le])}(),function(){for(var le in ts)ts.hasOwnProperty(le)&&eA(ts[le])}(),function(le){var he;for(he in xt)xt.hasOwnProperty(he)&&(xt[he]instanceof fc?tA(xt[he]):xt[he]instanceof $A&&rA(xt[he],le))}(S),sr.publish("putResources"),S.forEach(Zu),Zu({resourcesOid:ka,objectOid:Number.MAX_SAFE_INTEGER}),sr.publish("postPutResources"),u!==null&&(yn.oid=Yr(),J("<<"),J("/Filter /Standard"),J("/V "+yn.v),J("/R "+yn.r),J("/U <"+yn.toHexString(yn.U)+">"),J("/O <"+yn.toHexString(yn.O)+">"),J("/P "+yn.P),J(">>"),J("endobj")),ui(),nA();var z=X;return $h(),Y0(),J("startxref"),J(""+z),J("%%EOF"),Ce(ue[H]),de.join(`
`)},sA=f.__private__.getBlob=function(S){return new Blob([Ge(S)],{type:"application/pdf"})},Hh=f.output=f.__private__.output=(oa=function(S,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",S){case void 0:return di();case"save":f.save(z.filename);break;case"arraybuffer":return Ge(di());case"blob":return sA(di());case"bloburi":case"bloburl":if(St.URL!==void 0&&typeof St.URL.createObjectURL=="function")return St.URL&&St.URL.createObjectURL(sA(di()))||void 0;Nr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",he=di();try{le=PE(he)}catch{le=PE(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+z.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(ve=z.pdfObjectUrl,Oe="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",ct=St.open();return ct!==null&&ct.document.write(Re),ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',Ft=St.open();if(Ft!==null){Ft.document.write(mt);var Dt=this;Ft.document.documentElement.querySelector("#pdfViewer").onload=function(){Ft.document.title=z.filename,Ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Dt.output("bloburl"))}}return Ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(St)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',qr=St.open();if(qr!==null&&(qr.document.write(Xt),qr.document.title=z.filename),qr||typeof safari>"u")return qr;break;case"datauri":case"dataurl":return St.document.location.href=this.output("datauristring",z);default:return null}},oa.foo=function(){try{return oa.apply(this,arguments)}catch(le){var S=le.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var z="Error in function "+S.split(`
`)[0].split("<")[0]+": "+le.message;if(!St.console)throw new Error(z);St.console.error(z,le),St.alert&&alert(z)}},oa.foo.bar=oa,oa.foo),Aa=function(S){return Array.isArray(Ll)===!0&&Ll.indexOf(S)>-1};switch(n){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=Aa("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);lt=n}var yn=null;Z(),R();var Ki=f.__private__.getPageInfo=f.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[S].objId,pageNumber:S,pageContext:yt[S]}},Kh=f.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in yt)if(yt[z].objId===S)break;return Ki(z)},X0=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:yt[H].objId,pageNumber:H,pageContext:yt[H]}};f.addPage=function(){return Lh.apply(this,arguments),this},f.setPage=function(){return Qh.apply(this,arguments),Ce.call(this,ue[H]),this},f.insertPage=function(S){return this.addPage(),this.movePage(H,S),this},f.movePage=function(S,z){var le,he;if(S>z){le=ue[S],he=yt[S];for(var ve=S;ve>z;ve--)ue[ve]=ue[ve-1],yt[ve]=yt[ve-1];ue[z]=le,yt[z]=he,this.setPage(z)}else if(S<z){le=ue[S],he=yt[S];for(var Oe=S;Oe<z;Oe++)ue[Oe]=ue[Oe+1],yt[Oe]=yt[Oe+1];ue[z]=le,yt[z]=he,this.setPage(z)}return this},f.deletePage=function(){return td.apply(this,arguments),this},f.__private__.text=f.text=function(S,z,le,he,ve){var Oe,Re,ct,mt,Ft,Dt,Xt,qr,hn,Sr=(he=he||{}).scope||this;if(typeof S=="number"&&typeof z=="number"&&(typeof le=="string"||Array.isArray(le))){var wn=le;le=z,z=S,S=wn}if(arguments[3]instanceof wt==0?(ct=arguments[4],mt=arguments[5],gr(Xt=arguments[3])==="object"&&Xt!==null||(typeof ct=="string"&&(mt=ct,ct=null),typeof Xt=="string"&&(mt=Xt,Xt=null),typeof Xt=="number"&&(ct=Xt,Xt=null),he={flags:Xt,angle:ct,align:mt})):(P("The transform parameter of text() with a Matrix value"),hn=ve),isNaN(z)||isNaN(le)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Sr;var mn,Kn="",Xi=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:Hl,_a=Sr.internal.scaleFactor;function Ji(ar){return ar=ar.split("	").join(Array(he.TabLen||9).join(" ")),ca(ar,Xt)}function Ad(ar){for(var wr,rn=ar.concat(),jn=[],to=rn.length;to--;)typeof(wr=rn.shift())=="string"?jn.push(wr):Array.isArray(ar)&&(wr.length===1||wr[1]===void 0&&wr[2]===void 0)?jn.push(wr[0]):jn.push([wr[0],wr[1],wr[2]]);return jn}function lA(ar,wr){var rn;if(typeof ar=="string")rn=wr(ar)[0];else if(Array.isArray(ar)){for(var jn,to,bd=ar.concat(),uA=[],tm=bd.length;tm--;)typeof(jn=bd.shift())=="string"?uA.push(wr(jn)[0]):Array.isArray(jn)&&typeof jn[0]=="string"&&(to=wr(jn[0],jn[1],jn[2]),uA.push([to[0],to[1],to[2]]));rn=uA}return rn}var Lo=!1,Gl=!0;if(typeof S=="string")Lo=!0;else if(Array.isArray(S)){var ql=S.concat();Re=[];for(var Qo,Vn=ql.length;Vn--;)(typeof(Qo=ql.shift())!="string"||Array.isArray(Qo)&&typeof Qo[0]!="string")&&(Gl=!1);Lo=Gl}if(Lo===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Wl=ke/Sr.internal.scaleFactor,Yl=Wl*(Xi-1);switch(he.baseline){case"bottom":le-=Yl;break;case"top":le+=Wl-Yl;break;case"hanging":le+=Wl-2*Yl;break;case"middle":le+=Wl/2-Yl}if((Dt=he.maxWidth||0)>0&&(typeof S=="string"?S=Sr.splitTextToSize(S,Dt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(ar,wr){return ar.concat(Sr.splitTextToSize(wr,Dt))},[]))),Oe={text:S,x:z,y:le,options:he,mutex:{pdfEscape:ca,activeFontKey:Ve,fonts:Ot,activeFontSize:ke}},sr.publish("preProcessText",Oe),S=Oe.text,ct=(he=Oe.options).angle,hn instanceof wt==0&&ct&&typeof ct=="number"){ct*=Math.PI/180,he.rotationDirection===0&&(ct=-ct),w===y&&(ct=-ct);var ud=Math.cos(ct),dd=Math.sin(ct);hn=new wt(ud,dd,-dd,ud,0,0)}else ct&&ct instanceof wt&&(hn=ct);w!==y||hn||(hn=Hi),(Ft=he.charSpace||Gi)!==void 0&&(Kn+=E(k(Ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(qr=he.horizontalScale)!==void 0&&(Kn+=E(100*qr)+` Tz
`),he.lang;var ms=-1,Zi=he.renderingMode!==void 0?he.renderingMode:he.stroke,cA=Sr.internal.getCurrentPageInfo().pageContext;switch(Zi){case 0:case!1:case"fill":ms=0;break;case 1:case!0:case"stroke":ms=1;break;case 2:case"fillThenStroke":ms=2;break;case 3:case"invisible":ms=3;break;case 4:case"fillAndAddForClipping":ms=4;break;case 5:case"strokeAndAddPathForClipping":ms=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ms=6;break;case 7:case"addToPathForClipping":ms=7}var Zh=cA.usedRenderingMode!==void 0?cA.usedRenderingMode:-1;ms!==-1?Kn+=ms+` Tr
`:Zh!==-1&&(Kn+=`0 Tr
`),ms!==-1&&(cA.usedRenderingMode=ms),mt=he.align||"left";var ua,Xl=ke*Xi,fd=Sr.internal.pageSize.getWidth(),hd=Ot[Ve];Ft=he.charSpace||Gi,Dt=he.maxWidth||0,Xt=Object.assign({autoencode:!0,noBOM:!0},he.flags);var Ro=[],Jl=function(ar){return Sr.getStringUnitWidth(ar,{font:hd,charSpace:Ft,fontSize:ke,doKerning:!1})*ke/_a};if(Object.prototype.toString.call(S)==="[object Array]"){var _s;Re=Ad(S),mt!=="left"&&(ua=Re.map(Jl));var Ds,Mo=0;if(mt==="right"){z-=ua[0],S=[],Vn=Re.length;for(var eo=0;eo<Vn;eo++)eo===0?(Ds=Vi(z),_s=zi(le)):(Ds=k(Mo-ua[eo]),_s=-Xl),S.push([Re[eo],Ds,_s]),Mo=ua[eo]}else if(mt==="center"){z-=ua[0]/2,S=[],Vn=Re.length;for(var $o=0;$o<Vn;$o++)$o===0?(Ds=Vi(z),_s=zi(le)):(Ds=k((Mo-ua[$o])/2),_s=-Xl),S.push([Re[$o],Ds,_s]),Mo=ua[$o]}else if(mt==="left"){S=[],Vn=Re.length;for(var md=0;md<Vn;md++)S.push(Re[md])}else if(mt==="justify"&&hd.encoding==="Identity-H"){S=[],Vn=Re.length,Dt=Dt!==0?Dt:fd;for(var AA=0,tn=0;tn<Vn;tn++)if(_s=tn===0?zi(le):-Xl,Ds=tn===0?Vi(z):AA,tn<Vn-1){var em=k((Dt-ua[tn])/(Re[tn].split(" ").length-1)),hi=Re[tn].split(" ");S.push([hi[0]+" ",Ds,_s]),AA=0;for(var mi=1;mi<hi.length;mi++){var pd=(Jl(hi[mi-1]+" "+hi[mi])-Jl(hi[mi]))*_a+em;mi==hi.length-1?S.push([hi[mi],pd,0]):S.push([hi[mi]+" ",pd,0]),AA-=pd}}else S.push([Re[tn],Ds,_s]);S.push(["",AA,0])}else{if(mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Vn=Re.length,Dt=Dt!==0?Dt:fd,tn=0;tn<Vn;tn++){_s=tn===0?zi(le):-Xl,Ds=tn===0?Vi(z):0;var gd=Re[tn].split(" ").length-1,xd=gd>0?(Dt-ua[tn])/gd:0;tn<Vn-1?Ro.push(E(k(xd))):Ro.push(0),S.push([Re[tn],Ds,_s])}}}(typeof he.R2L=="boolean"?he.R2L:ce)===!0&&(S=lA(S,function(ar,wr,rn){return[ar.split("").reverse().join(""),wr,rn]})),Oe={text:S,x:z,y:le,options:he,mutex:{pdfEscape:ca,activeFontKey:Ve,fonts:Ot,activeFontSize:ke}},sr.publish("postProcessText",Oe),S=Oe.text,mn=Oe.mutex.isHex||!1;var vd=Ot[Ve].encoding;vd!=="WinAnsiEncoding"&&vd!=="StandardEncoding"||(S=lA(S,function(ar,wr,rn){return[Ji(ar),wr,rn]})),Re=Ad(S),S=[];for(var Ho,Ko,Vo,Zl=Array.isArray(Re[0])?1:0,zo="",ec=function(ar,wr,rn){var jn="";return rn instanceof wt?(rn=typeof he.angle=="number"?$i(rn,new wt(1,0,0,1,ar,wr)):$i(new wt(1,0,0,1,ar,wr),rn),w===y&&(rn=$i(new wt(1,0,0,-1,0,0),rn)),jn=rn.join(" ")+` Tm
`):jn=E(ar)+" "+E(wr)+` Td
`,jn},da=0;da<Re.length;da++){switch(zo="",Zl){case 1:Vo=(mn?"<":"(")+Re[da][0]+(mn?">":")"),Ho=parseFloat(Re[da][1]),Ko=parseFloat(Re[da][2]);break;case 0:Vo=(mn?"<":"(")+Re[da]+(mn?">":")"),Ho=Vi(z),Ko=zi(le)}Ro!==void 0&&Ro[da]!==void 0&&(zo=Ro[da]+` Tw
`),da===0?S.push(zo+ec(Ho,Ko,hn)+Vo):Zl===0?S.push(zo+Vo):Zl===1&&S.push(zo+ec(Ho,Ko,hn)+Vo)}S=Zl===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var pi=`BT
/`;return pi+=Ve+" "+ke+` Tf
`,pi+=E(ke*Xi)+` TL
`,pi+=Kl+`
`,pi+=Kn,pi+=S,J(pi+="ET"),h[Ve]=!0,Sr};var J0=f.__private__.clip=f.clip=function(S){return J(S==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return J0("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var fi=f.__private__.isValidStyle=function(S){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(z=!0),z};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(S){return fi(S)&&(A=S),this};var Vh=f.__private__.getStyle=f.getStyle=function(S){var z=A;switch(S){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=S}return z},zh=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(S){return aA("f",S),this},f.fillEvenOdd=function(S){return aA("f*",S),this},f.fillStroke=function(S){return aA("B",S),this},f.fillStrokeEvenOdd=function(S){return aA("B*",S),this};var aA=function(S,z){gr(z)==="object"?ev(z,S):J(S)},$l=function(S){S===null||w===y&&S===void 0||(S=Vh(S),J(S))};function Z0(S,z,le,he,ve){var Oe=new $A(z||this.boundingBox,le||this.xStep,he||this.yStep,this.gState,ve||this.matrix);Oe.stream=this.stream;var Re=S+"$$"+this.cloneIndex+++"$$";return ia(Re,Oe),Oe}var ev=function(S,z){var le=fr[S.key],he=xt[le];if(he instanceof fc)J("q"),J(tv(z)),he.gState&&f.setGState(he.gState),J(S.matrix.toString()+" cm"),J("/"+le+" sh"),J("Q");else if(he instanceof $A){var ve=new wt(1,0,0,-1,0,zl());S.matrix&&(ve=ve.multiply(S.matrix||Hi),le=Z0.call(he,S.key,S.boundingBox,S.xStep,S.yStep,ve).id),J("q"),J("/Pattern cs"),J("/"+le+" scn"),he.gState&&f.setGState(he.gState),J(z),J("Q")}},tv=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},rd=f.moveTo=function(S,z){return J(E(k(S))+" "+E(I(z))+" m"),this},Gh=f.lineTo=function(S,z){return J(E(k(S))+" "+E(I(z))+" l"),this},Ua=f.curveTo=function(S,z,le,he,ve,Oe){return J([E(k(S)),E(I(z)),E(k(le)),E(I(he)),E(k(ve)),E(I(Oe)),"c"].join(" ")),this};f.__private__.line=f.line=function(S,z,le,he,ve){if(isNaN(S)||isNaN(z)||isNaN(le)||isNaN(he)||!fi(ve))throw new Error("Invalid arguments passed to jsPDF.line");return w===x?this.lines([[le-S,he-z]],S,z,[1,1],ve||"S"):this.lines([[le-S,he-z]],S,z,[1,1]).stroke()},f.__private__.lines=f.lines=function(S,z,le,he,ve,Oe){var Re,ct,mt,Ft,Dt,Xt,qr,hn,Sr,wn,mn,Kn;if(typeof S=="number"&&(Kn=le,le=z,z=S,S=Kn),he=he||[1,1],Oe=Oe||!1,isNaN(z)||isNaN(le)||!Array.isArray(S)||!Array.isArray(he)||!fi(ve)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rd(z,le),Re=he[0],ct=he[1],Ft=S.length,wn=z,mn=le,mt=0;mt<Ft;mt++)(Dt=S[mt]).length===2?(wn=Dt[0]*Re+wn,mn=Dt[1]*ct+mn,Gh(wn,mn)):(Xt=Dt[0]*Re+wn,qr=Dt[1]*ct+mn,hn=Dt[2]*Re+wn,Sr=Dt[3]*ct+mn,wn=Dt[4]*Re+wn,mn=Dt[5]*ct+mn,Ua(Xt,qr,hn,Sr,wn,mn));return Oe&&zh(),$l(ve),this},f.path=function(S){for(var z=0;z<S.length;z++){var le=S[z],he=le.c;switch(le.op){case"m":rd(he[0],he[1]);break;case"l":Gh(he[0],he[1]);break;case"c":Ua.apply(this,he);break;case"h":zh()}}return this},f.__private__.rect=f.rect=function(S,z,le,he,ve){if(isNaN(S)||isNaN(z)||isNaN(le)||isNaN(he)||!fi(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return w===x&&(he=-he),J([E(k(S)),E(I(z)),E(k(le)),E(k(he)),"re"].join(" ")),$l(ve),this},f.__private__.triangle=f.triangle=function(S,z,le,he,ve,Oe,Re){if(isNaN(S)||isNaN(z)||isNaN(le)||isNaN(he)||isNaN(ve)||isNaN(Oe)||!fi(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-S,he-z],[ve-le,Oe-he],[S-ve,z-Oe]],S,z,[1,1],Re,!0),this},f.__private__.roundedRect=f.roundedRect=function(S,z,le,he,ve,Oe,Re){if(isNaN(S)||isNaN(z)||isNaN(le)||isNaN(he)||isNaN(ve)||isNaN(Oe)||!fi(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ct=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*le),Oe=Math.min(Oe,.5*he),this.lines([[le-2*ve,0],[ve*ct,0,ve,Oe-Oe*ct,ve,Oe],[0,he-2*Oe],[0,Oe*ct,-ve*ct,Oe,-ve,Oe],[2*ve-le,0],[-ve*ct,0,-ve,-Oe*ct,-ve,-Oe],[0,2*Oe-he],[0,-Oe*ct,ve*ct,-Oe,ve,-Oe]],S+ve,z,[1,1],Re,!0),this},f.__private__.ellipse=f.ellipse=function(S,z,le,he,ve){if(isNaN(S)||isNaN(z)||isNaN(le)||isNaN(he)||!fi(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*le,Re=4/3*(Math.SQRT2-1)*he;return rd(S+le,z),Ua(S+le,z-Re,S+Oe,z-he,S,z-he),Ua(S-Oe,z-he,S-le,z-Re,S-le,z),Ua(S-le,z+Re,S-Oe,z+he,S,z+he),Ua(S+Oe,z+he,S+le,z+Re,S+le,z),$l(ve),this},f.__private__.circle=f.circle=function(S,z,le,he){if(isNaN(S)||isNaN(z)||isNaN(le)||!fi(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,z,le,le,he)},f.setFont=function(S,z,le){return le&&(z=F(z,le)),Ve=Mh(S,z,{disableWarning:!1}),this};var rv=f.__private__.getFont=f.getFont=function(){return Ot[Mh.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var S,z,le={};for(S in Lt)if(Lt.hasOwnProperty(S))for(z in le[S]=[],Lt[S])Lt[S].hasOwnProperty(z)&&le[S].push(z);return le},f.addFont=function(S,z,le,he,ve){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(le=F(le,he)),Dh.call(this,S,z,le,ve=ve||"Identity-H")};var Hl,nd=e.lineWidth||.200025,nv=f.__private__.getLineWidth=f.getLineWidth=function(){return nd},Tt=f.__private__.setLineWidth=f.setLineWidth=function(S){return nd=S,J(E(k(S))+" w"),this};f.__private__.setLineDash=gt.API.setLineDash=gt.API.setLineDashPattern=function(S,z){if(S=S||[],z=z||0,isNaN(z)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(le){return E(k(le))}).join(" "),z=E(k(z)),J("["+S+"] "+z+" d"),this};var sv=f.__private__.getLineHeight=f.getLineHeight=function(){return ke*Hl};f.__private__.getLineHeight=f.getLineHeight=function(){return ke*Hl};var av=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Hl=S),this},iv=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Hl};av(e.lineHeight);var Vi=f.__private__.getHorizontalCoordinate=function(S){return k(S)},zi=f.__private__.getVerticalCoordinate=function(S){return w===y?S:yt[H].mediaBox.topRightY-yt[H].mediaBox.bottomLeftY-k(S)},ov=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(S){return E(Vi(S))},lv=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(S){return E(zi(S))},iA=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ci(iA)},f.__private__.setStrokeColor=f.setDrawColor=function(S,z,le,he){return iA=Oa({ch1:S,ch2:z,ch3:le,ch4:he,pdfColorType:"draw",precision:2}),J(iA),this};var sd=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ci(sd)},f.__private__.setFillColor=f.setFillColor=function(S,z,le,he){return sd=Oa({ch1:S,ch2:z,ch3:le,ch4:he,pdfColorType:"fill",precision:2}),J(sd),this};var Kl=e.textColor||"0 g",cv=f.__private__.getTextColor=f.getTextColor=function(){return ci(Kl)};f.__private__.setTextColor=f.setTextColor=function(S,z,le,he){return Kl=Oa({ch1:S,ch2:z,ch3:le,ch4:he,pdfColorType:"text",precision:3}),this};var Gi=e.charSpace,Av=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Gi||0)};f.__private__.setCharSpace=f.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Gi=S,this};var ad=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(S){var z=f.CapJoinStyles[S];if(z===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ad=z,J(z+" J"),this};var id=0;f.__private__.setLineJoin=f.setLineJoin=function(S){var z=f.CapJoinStyles[S];if(z===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return id=z,J(z+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(E(k(S))+" M"),this},f.GState=hx,f.setGState=function(S){(S=typeof S=="string"?Ct[It[S]]:qh(null,S)).equals(Hr)||(J("/"+S.id+" gs"),Hr=S)};var qh=function(S,z){if(!S||!It[S]){var le=!1;for(var he in Ct)if(Ct.hasOwnProperty(he)&&Ct[he].equals(z)){le=!0;break}if(le)z=Ct[he];else{var ve="GS"+(Object.keys(Ct).length+1).toString(10);Ct[ve]=z,z.id=ve}return S&&(It[S]=z.id),sr.publish("addGState",z),z}};f.addGState=function(S,z){return qh(S,z),this},f.saveGraphicsState=function(){return J("q"),yr.push({key:Ve,size:ke,color:Kl}),this},f.restoreGraphicsState=function(){J("Q");var S=yr.pop();return Ve=S.key,ke=S.size,Kl=S.color,Hr=null,this},f.setCurrentTransformationMatrix=function(S){return J(S.toString()+" cm"),this},f.comment=function(S){return J("#"+S),this};var qi=function(S,z){var le=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Oe){isNaN(Oe)||(le=parseFloat(Oe))}});var he=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(Oe){isNaN(Oe)||(he=parseFloat(Oe))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Oe){ve=Oe.toString()}}),this},od=function(S,z,le,he){qi.call(this,S,z),this.type="rect";var ve=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Re){isNaN(Re)||(ve=parseFloat(Re))}});var Oe=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function(Re){isNaN(Re)||(Oe=parseFloat(Re))}}),this},oA=function(){this.page=Kt,this.currentPage=H,this.pages=ue.slice(0),this.pagesContext=yt.slice(0),this.x=Xe,this.y=Gr,this.matrix=zt,this.width=cd(H),this.height=Yh(H),this.outputDestination=we,this.id="",this.objectNumber=-1};oA.prototype.restore=function(){Kt=this.page,H=this.currentPage,yt=this.pagesContext,ue=this.pages,Xe=this.x,Gr=this.y,zt=this.matrix,Wh(H,this.width),Wi(H,this.height),we=this.outputDestination};var ld=function(S,z,le,he,ve){li.push(new oA),Kt=H=0,ue=[],Xe=S,Gr=z,zt=ve,ed([le,he])};for(var Vl in f.beginFormObject=function(S,z,le,he,ve){return ld(S,z,le,he,ve),this},f.endFormObject=function(S){return function(z){if(Mi[z])li.pop().restore();else{var le=new oA,he="Xo"+(Object.keys(ts).length+1).toString(10);le.id=he,Mi[z]=he,ts[he]=le,sr.publish("addFormObject",le),li.pop().restore()}}(S),this},f.doFormObject=function(S,z){var le=ts[Mi[S]];return J("q"),J(z.toString()+" cm"),J("/"+le.id+" Do"),J("Q"),this},f.getFormObject=function(S){var z=ts[Mi[S]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},f.save=function(S,z){return S=S||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(uc(sA(di()),S),typeof uc.unload=="function"&&St.setTimeout&&setTimeout(uc.unload,911),this):new Promise(function(le,he){try{var ve=uc(sA(di()),S);typeof uc.unload=="function"&&St.setTimeout&&setTimeout(uc.unload,911),le(ve)}catch(Oe){he(Oe.message)}})},gt.API)gt.API.hasOwnProperty(Vl)&&(Vl==="events"&&gt.API.events.length?function(S,z){var le,he,ve;for(ve=z.length-1;ve!==-1;ve--)le=z[ve][0],he=z[ve][1],S.subscribe.apply(S,[le].concat(typeof he=="function"?[he]:he))}(sr,gt.API.events):f[Vl]=gt.API[Vl]);function cd(S){return yt[S].mediaBox.topRightX-yt[S].mediaBox.bottomLeftX}function Wh(S,z){yt[S].mediaBox.topRightX=z+yt[S].mediaBox.bottomLeftX}function Yh(S){return yt[S].mediaBox.topRightY-yt[S].mediaBox.bottomLeftY}function Wi(S,z){yt[S].mediaBox.topRightY=z+yt[S].mediaBox.bottomLeftY}var Yi=f.getPageWidth=function(S){return cd(S=S||H)/lt},Xh=f.setPageWidth=function(S,z){Wh(S,z*lt)},zl=f.getPageHeight=function(S){return Yh(S=S||H)/lt},Jh=f.setPageHeight=function(S,z){Wi(S,z*lt)};return f.internal={pdfEscape:ca,getStyle:Vh,getFont:rv,getFontSize:qe,getCharSpace:Av,getTextColor:cv,getLineHeight:sv,getLineHeightFactor:iv,getLineWidth:nv,write:_e,getHorizontalCoordinate:Vi,getVerticalCoordinate:zi,getCoordinateString:ov,getVerticalCoordinateString:lv,collections:{},newObject:Yr,newAdditionalObject:Ql,newObjectDeferred:_n,newObjectDeferredBegin:Hn,getFilters:Ia,putStream:la,events:sr,scaleFactor:lt,pageSize:{getWidth:function(){return Yi(H)},setWidth:function(S){Xh(H,S)},getHeight:function(){return zl(H)},setHeight:function(S){Jh(H,S)}},encryptionOptions:u,encryption:yn,getEncryptor:function(S){return u!==null?yn.encryptor(S,0):function(z){return z}},output:Hh,getNumberOfPages:Rh,get pages(){return ue},out:J,f2:U,f3:T,getPageInfo:Ki,getPageInfoByObjId:Kh,getCurrentPageInfo:X0,getPDFVersion:p,Point:qi,Rectangle:od,Matrix:wt,hasHotfix:Aa},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Yi(H)},set:function(S){Xh(H,S)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return zl(H)},set:function(S){Jh(H,S)},enumerable:!0,configurable:!0}),(function(S){for(var z=0,le=We.length;z<le;z++){var he=Dh.call(this,S[z][0],S[z][1],S[z][2],We[z][3],!0);d===!1&&(h[he]=!0);var ve=S[z][0].split("-");_h({id:he,fontName:ve[0],fontStyle:ve[1]||""})}sr.publish("addFonts",{fonts:Ot,dictionary:Lt})}).call(f,We),Ve="F1",Lh(a,r),sr.publish("initialized"),f}OA.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},OA.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},OA.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},OA.prototype.processOwnerPassword=function(e,t){return x1(g1(t).substr(0,5),e)},OA.prototype.encryptor=function(e,t){var r=g1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return x1(r,n)}},hx.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||gr(e)!==gr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},gt.API={events:[]},gt.version="4.0.0";var Zr=gt.API,Uj=1,Zc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},CA=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pt=function(e){return e.toFixed(2)},rl=function(e){return e.toFixed(5)};Zr.__acroform__={};var Us=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},UE=function(e){return e*Uj},bi=function(e){var t=new uU,r=ot.internal.getHeight(e)||0,n=ot.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Pt(n)),Number(Pt(r))],t},Mye=Zr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},$ye=Zr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Hye=Zr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ln=Zr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Hye(e,t-1)},cn=Zr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Mye(e,t-1)},An=Zr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $ye(e,t-1)},Kye=Zr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(Pt(c.lowerLeft_X)),Number(Pt(c.lowerLeft_Y)),Number(Pt(c.upperRight_X)),Number(Pt(c.upperRight_Y))]},Vye=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=v1(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Pt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=bi(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},v1=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(U){return U.split(`
`)}):a.map(function(U){return[U]});var i=r,o=ot.internal.getHeight(e)||0;o=o<0?-o:o;var l=ot.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(U,T,k){if(U+1<a.length){var I=T+" "+a[U+1][0];return Jm(I,e,k).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var A,u,d=Jm("3",e,i).height,h=e.multiline?o-i:(o-d)/2,f=h+=2,g=0,p=0,b=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Jm(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var m="",x=0,y=0;y<a.length;y++)if(a.hasOwnProperty(y)){var w=!1;if(a[y].length!==1&&b!==a[y].length-1){if((d+2)*(x+2)+2>o)continue e;m+=a[y][b],w=!0,p=y,y--}else{m=(m+=a[y][b]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var N=parseInt(y),B=c(N,m,i),F=y>=a.length-1;if(B&&!F){m+=" ",b=0;continue}if(B||F){if(F)p=N;else if(e.multiline&&(d+2)*(x+2)+2>o)continue e}else{if(!e.multiline||(d+2)*(x+2)+2>o)continue e;p=N}}for(var E="",P=g;P<=p;P++){var Q=a[P];if(e.multiline){if(P===p){E+=Q[b]+" ",b=(b+1)%Q.length;continue}if(P===g){E+=Q[Q.length-1]+" ";continue}}E+=Q[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,u=Jm(E,e,i).width,e.textAlign){case"right":A=l-u-2;break;case"center":A=(l-u)/2;break;default:A=2}t+=Pt(A)+" "+Pt(f)+` Td
`,t+="("+Zc(E)+`) Tj
`,t+=-Pt(A)+` 0 Td
`,f=-(i+2),u=0,g=w?p:p+1,x++,m=""}break}return n.text=t,n.fontSize=i,n},Jm=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},zye={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Gye=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},qye=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ai.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(zye)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Uj=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new dU,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&Gye(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],A=l.Rect;if(l.Rect&&(l.Rect=Kye(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ot.createDefaultAppearanceStream(l),gr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=A,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=Vye(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var d="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var f=l.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var g=f[o];typeof g=="function"&&(g=g.call(a,l)),d+="/"+o+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=f)=="function"&&(g=g.call(a,l)),d+="/"+o+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);d+=">>"}c.push({key:"AP",value:`<<
`+d+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&function(p,b){for(var m in p)if(p.hasOwnProperty(m)){var x=m,y=p[m];b.internal.newObjectDeferredBegin(y.objId,!0),gr(y)==="object"&&typeof y.putStream=="function"&&y.putStream(),delete p[x]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},AU=Zr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),gr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Zc(n(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Qb=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Zc(n(e))+")"},Si=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Si.prototype.toString=function(){return this.objId+" 0 R"},Si.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Si.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:AU(a,this.objId,this.scope)}):a instanceof Si?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var uU=function(){Si.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Us(uU,Si);var dU=function(){Si.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Zc(r(e))+")"}},set:function(r){e=r}})};Us(dU,Si);var ai=function e(){Si.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');t=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ln(t,3)},set:function(m){m?this.F=cn(t,3):this.F=An(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');r=m}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(m){n=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(m){n[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(m){n[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(m){n[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(m){n[3]=m}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof mx)return;i="FieldObject"+e.FieldNum++}var m=function(x){return x};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+Zc(m(i))+")"},set:function(m){i=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(m){i=m}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(m){c=m}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return A===void 0?50/Uj:A},set:function(m){A=m}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(m){u=m}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof mx||this instanceof Nc))return Qb(d,this.objId,this.scope)},set:function(m){m=m.toString(),d=m}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Qn==0?Qb(h,this.objId,this.scope):h},set:function(m){m=m.toString(),h=this instanceof Qn==0?m.substr(0,1)==="("?CA(m.substr(1,m.length-2)):CA(m):m}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qn==1?CA(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof Qn==1?"/"+m:m}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Qn==0?Qb(f,this.objId,this.scope):f},set:function(m){m=m.toString(),f=this instanceof Qn==0?m.substr(0,1)==="("?CA(m.substr(1,m.length-2)):CA(m):m}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qn==1?CA(f.substr(1,f.length-1)):f},set:function(m){m=m.toString(),f=this instanceof Qn==1?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(m){m=!!m,p=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(m){g=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,1)},set:function(m){m?this.Ff=cn(this.Ff,1):this.Ff=An(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,2)},set:function(m){m?this.Ff=cn(this.Ff,2):this.Ff=An(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,3)},set:function(m){m?this.Ff=cn(this.Ff,3):this.Ff=An(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');b=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(b){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};Us(ai,Si);var JA=function(){ai.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return AU(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,A=[];c=o.exec(i);)A.push(c[l]);return A}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,18)},set:function(r){r?this.Ff=cn(this.Ff,18):this.Ff=An(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=cn(this.Ff,19):this.Ff=An(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,20)},set:function(r){r?(this.Ff=cn(this.Ff,20),t.sort()):this.Ff=An(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,22)},set:function(r){r?this.Ff=cn(this.Ff,22):this.Ff=An(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,23)},set:function(r){r?this.Ff=cn(this.Ff,23):this.Ff=An(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,27)},set:function(r){r?this.Ff=cn(this.Ff,27):this.Ff=An(this.Ff,27)}}),this.hasAppearanceStream=!1};Us(JA,ai);var ZA=function(){JA.call(this),this.fontName="helvetica",this.combo=!1};Us(ZA,JA);var eu=function(){ZA.call(this),this.combo=!0};Us(eu,ZA);var Lp=function(){eu.call(this),this.edit=!0};Us(Lp,eu);var Qn=function(){ai.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,15)},set:function(r){r?this.Ff=cn(this.Ff,15):this.Ff=An(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,16)},set:function(r){r?this.Ff=cn(this.Ff,16):this.Ff=An(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,17)},set:function(r){r?this.Ff=cn(this.Ff,17):this.Ff=An(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,26)},set:function(r){r?this.Ff=cn(this.Ff,26):this.Ff=An(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Zc(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){gr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Us(Qn,ai);var Qp=function(){Qn.call(this),this.pushButton=!0};Us(Qp,Qn);var tu=function(){Qn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Us(tu,Qn);var mx=function(){var e,t;ai.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Zc(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){gr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Us(mx,ai),tu.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},tu.prototype.createOption=function(e){var t=new mx;return t.Parent=this,t.optionName=e,this.Kids.push(t),Wye.call(this.scope,t),t};var Rp=function(){Qn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ot.CheckBox.createAppearanceStream()};Us(Rp,Qn);var Nc=function(){ai.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,13)},set:function(t){t?this.Ff=cn(this.Ff,13):this.Ff=An(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,21)},set:function(t){t?this.Ff=cn(this.Ff,21):this.Ff=An(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,23)},set:function(t){t?this.Ff=cn(this.Ff,23):this.Ff=An(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,24)},set:function(t){t?this.Ff=cn(this.Ff,24):this.Ff=An(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,25)},set:function(t){t?this.Ff=cn(this.Ff,25):this.Ff=An(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,26)},set:function(t){t?this.Ff=cn(this.Ff,26):this.Ff=An(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Us(Nc,ai);var Mp=function(){Nc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,14)},set:function(e){e?this.Ff=cn(this.Ff,14):this.Ff=An(this.Ff,14)}}),this.password=!0};Us(Mp,Nc);var ot={CheckBox:{createAppearanceStream:function(){return{N:{On:ot.CheckBox.YesNormal},D:{On:ot.CheckBox.YesPushDown,Off:ot.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=bi(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=v1(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Pt(ot.internal.getWidth(e))+" "+Pt(ot.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Pt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=bi(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=ot.internal.getHeight(e),o=ot.internal.getWidth(e),l=v1(e,e.caption);return a.push("1 g"),a.push("0 0 "+Pt(o)+" "+Pt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Pt(o-1)+" "+Pt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Pt(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=bi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Pt(ot.internal.getWidth(e))+" "+Pt(ot.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ot.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ot.RadioButton.Circle.YesNormal,t.D[e]=ot.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=bi(e);t.scope=e.scope;var r=[],n=ot.internal.getWidth(e)<=ot.internal.getHeight(e)?ot.internal.getWidth(e)/4:ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=ot.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+rl(ot.internal.getWidth(e)/2)+" "+rl(ot.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=bi(e);t.scope=e.scope;var r=[],n=ot.internal.getWidth(e)<=ot.internal.getHeight(e)?ot.internal.getWidth(e)/4:ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*ot.internal.Bezier_C).toFixed(5)),o=Number((n*ot.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+rl(ot.internal.getWidth(e)/2)+" "+rl(ot.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+rl(ot.internal.getWidth(e)/2)+" "+rl(ot.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=bi(e);t.scope=e.scope;var r=[],n=ot.internal.getWidth(e)<=ot.internal.getHeight(e)?ot.internal.getWidth(e)/4:ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*ot.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+rl(ot.internal.getWidth(e)/2)+" "+rl(ot.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ot.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ot.RadioButton.Cross.YesNormal,t.D[e]=ot.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=bi(e);t.scope=e.scope;var r=[],n=ot.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Pt(ot.internal.getWidth(e)-2)+" "+Pt(ot.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Pt(n.x1.x)+" "+Pt(n.x1.y)+" m"),r.push(Pt(n.x2.x)+" "+Pt(n.x2.y)+" l"),r.push(Pt(n.x4.x)+" "+Pt(n.x4.y)+" m"),r.push(Pt(n.x3.x)+" "+Pt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=bi(e);t.scope=e.scope;var r=ot.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Pt(ot.internal.getWidth(e))+" "+Pt(ot.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Pt(ot.internal.getWidth(e)-2)+" "+Pt(ot.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Pt(r.x1.x)+" "+Pt(r.x1.y)+" m"),n.push(Pt(r.x2.x)+" "+Pt(r.x2.y)+" l"),n.push(Pt(r.x4.x)+" "+Pt(r.x4.y)+" m"),n.push(Pt(r.x3.x)+" "+Pt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=bi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Pt(ot.internal.getWidth(e))+" "+Pt(ot.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};ot.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ot.internal.getWidth(e),r=ot.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},ot.internal.getWidth=function(e){var t=0;return gr(e)==="object"&&(t=UE(e.Rect[2])),t},ot.internal.getHeight=function(e){var t=0;return gr(e)==="object"&&(t=UE(e.Rect[3])),t};var Wye=Zr.addField=function(e){if(qye(this,e),!(e instanceof ai))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Zr.AcroFormChoiceField=JA,Zr.AcroFormListBox=ZA,Zr.AcroFormComboBox=eu,Zr.AcroFormEditBox=Lp,Zr.AcroFormButton=Qn,Zr.AcroFormPushButton=Qp,Zr.AcroFormRadioButton=tu,Zr.AcroFormCheckBox=Rp,Zr.AcroFormTextField=Nc,Zr.AcroFormPasswordField=Mp,Zr.AcroFormAppearance=ot,Zr.AcroForm={ChoiceField:JA,ListBox:ZA,ComboBox:eu,EditBox:Lp,Button:Qn,PushButton:Qp,RadioButton:tu,CheckBox:Rp,TextField:Nc,PasswordField:Mp,Appearance:ot},gt.AcroForm={ChoiceField:JA,ListBox:ZA,ComboBox:eu,EditBox:Lp,Button:Qn,PushButton:Qp,RadioButton:tu,CheckBox:Rp,TextField:Nc,PasswordField:Mp,Appearance:ot};gt.AcroForm;function fU(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(U,T){var k,I,M,L,K,R=r;if((T=T||r)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(B(U))for(K in n)for(M=n[K],k=0;k<M.length;k+=1){for(L=!0,I=0;I<M[k].length;I+=1)if(M[k][I]!==void 0&&M[k][I]!==U[I]){L=!1;break}if(L===!0){R=K;break}}else for(K in n)for(M=n[K],k=0;k<M.length;k+=1){for(L=!0,I=0;I<M[k].length;I+=1)if(M[k][I]!==void 0&&M[k][I]!==U.charCodeAt(I)){L=!1;break}if(L===!0){R=K;break}}return R===r&&T!==r&&(R=T),R},i=function U(T){for(var k=this.internal.write,I=this.internal.putStream,M=(0,this.internal.getFilters)();M.indexOf("FlateEncode")!==-1;)M.splice(M.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var L=[];if(L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Image"}),L.push({key:"Width",value:T.width}),L.push({key:"Height",value:T.height}),T.colorSpace===m.INDEXED?L.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(L.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===m.DEVICE_CMYK&&L.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),L.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&L.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)&&T.transparency.length>0){for(var K="",R=0,$=T.transparency.length;R<$;R++)K+=T.transparency[R]+" "+T.transparency[R]+" ";L.push({key:"Mask",value:"["+K+"]"})}T.sMask!==void 0&&L.push({key:"SMask",value:T.objectId+1+" 0 R"});var q=T.filter!==void 0?["/"+T.filter]:void 0;if(I({data:T.data,additionalKeyValues:L,alreadyAppliedFilters:q,objectId:T.objectId}),k("endobj"),"sMask"in T&&T.sMask!==void 0){var Z,D=(Z=T.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:T.bitsPerComponent,H={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:T.sMask};"filter"in T&&(H.decodeParameters="/Predictor ".concat(T.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(T.width),H.filter=T.filter),U.call(this,H)}if(T.colorSpace===m.INDEXED){var V=this.internal.newObject();I({data:E(new Uint8Array(T.palette)),objectId:V}),k("endobj")}},o=function(){var U=this.internal.collections[t+"images"];for(var T in U)i.call(this,U[T])},l=function(){var U,T=this.internal.collections[t+"images"],k=this.internal.write;for(var I in T)k("/I"+(U=T[I]).index,U.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},A=function(){var U=this.internal.collections[t+"images"];return c.call(this),U},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},d=function(U){return typeof e["process"+U.toUpperCase()]=="function"},h=function(U){return gr(U)==="object"&&U.nodeType===1},f=function(U,T){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var k=""+U.getAttribute("src");if(k.indexOf("data:image/")===0)return Dp(unescape(k).split("base64,").pop());var I=e.loadFile(k,!0);if(I!==void 0)return I}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var M;switch(T){case"PNG":M="image/png";break;case"WEBP":M="image/webp";break;default:M="image/jpeg"}return Dp(U.toDataURL(M,1).split("base64,").pop())}},g=function(U){var T=this.internal.collections[t+"images"];if(T){for(var k in T)if(U===T[k].alias)return T[k]}},p=function(U,T,k){return U||T||(U=-96,T=-96),U<0&&(U=-1*k.width*72/U/this.internal.scaleFactor),T<0&&(T=-1*k.height*72/T/this.internal.scaleFactor),U===0&&(U=T*k.width/k.height),T===0&&(T=U*k.height/k.width),[U,T]},b=function(U,T,k,I,M,L){var K=p.call(this,k,I,M),R=this.internal.getCoordinateString,$=this.internal.getVerticalCoordinateString,q=A.call(this);if(k=K[0],I=K[1],q[M.index]=M,L){L*=Math.PI/180;var Z=Math.cos(L),D=Math.sin(L),H=function(re){return re.toFixed(4)},V=[H(Z),H(D),H(-1*D),H(Z),0,0,"cm"]}this.internal.write("q"),L?(this.internal.write([1,"0","0",1,R(U),$(T+I),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([R(k),"0","0",R(I),"0","0","cm"].join(" "))):this.internal.write([R(k),"0","0",R(I),R(U),$(T+I),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+M.index+" Do"),this.internal.write("Q")},m=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(U){var T,k,I=0;if(typeof U=="string")for(k=U.length,T=0;T<k;T++)I=(I<<5)-I+U.charCodeAt(T),I|=0;else if(B(U))for(k=U.byteLength/2,T=0;T<k;T++)I=(I<<5)-I+U[T],I|=0;return I},w=e.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var T=!0;return U.length===0&&(T=!1),U.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(T=!1),T},N=e.__addimage__.extractImageFromDataUrl=function(U){if(U==null||!(U=U.trim()).startsWith("data:"))return null;var T=U.indexOf(",");return T<0?null:U.substring(0,T).trim().endsWith("base64")?U.substring(T+1):null};e.__addimage__.isArrayBuffer=function(U){return U instanceof ArrayBuffer};var B=e.__addimage__.isArrayBufferView=function(U){return U instanceof Int8Array||U instanceof Uint8Array||U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array},F=e.__addimage__.binaryStringToUint8Array=function(U){for(var T=U.length,k=new Uint8Array(T),I=0;I<T;I++)k[I]=U.charCodeAt(I);return k},E=e.__addimage__.arrayBufferToBinaryString=function(U){for(var T="",k=B(U)?U:new Uint8Array(U),I=0;I<k.length;I+=8192)T+=String.fromCharCode.apply(null,k.subarray(I,I+8192));return T};e.addImage=function(){var U,T,k,I,M,L,K,R,$;if(typeof arguments[1]=="number"?(T=r,k=arguments[1],I=arguments[2],M=arguments[3],L=arguments[4],K=arguments[5],R=arguments[6],$=arguments[7]):(T=arguments[1],k=arguments[2],I=arguments[3],M=arguments[4],L=arguments[5],K=arguments[6],R=arguments[7],$=arguments[8]),gr(U=arguments[0])==="object"&&!h(U)&&"imageData"in U){var q=U;U=q.imageData,T=q.format||T||r,k=q.x||k||0,I=q.y||I||0,M=q.w||q.width||M,L=q.h||q.height||L,K=q.alias||K,R=q.compression||R,$=q.rotation||q.angle||$}var Z=this.internal.getFilters();if(R===void 0&&Z.indexOf("FlateEncode")!==-1&&(R="SLOW"),isNaN(k)||isNaN(I))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var D=P.call(this,U,T,K,R);return b.call(this,k,I,M,L,D,$),this};var P=function(U,T,k,I){var M,L,K;if(typeof U=="string"&&a(U)===r){U=unescape(U);var R=Q(U,!1);(R!==""||(R=e.loadFile(U,!0))!==void 0)&&(U=R)}if(h(U)&&(U=f(U,T)),T=a(U,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((K=k)==null||K.length===0)&&(k=function($){return typeof $=="string"||B($)?y($):B($.data)?y($.data):null}(U)),(M=g.call(this,k))||(U instanceof Uint8Array||T==="RGBA"||(L=U,U=F(U)),M=this["process"+T.toUpperCase()](U,u.call(this),k,function($){return $&&typeof $=="string"&&($=$.toUpperCase()),$ in e.image_compression?$:x.NONE}(I),L)),!M)throw new Error("An unknown error occurred whilst processing the image.");return M},Q=e.__addimage__.convertBase64ToBinaryString=function(U,T){T=typeof T!="boolean"||T;var k,I="";if(typeof U=="string"){var M;k=(M=N(U))!==null&&M!==void 0?M:U;try{I=Dp(k)}catch(L){if(T)throw w(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+L.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return I};e.getImageProperties=function(U){var T,k,I="";if(h(U)&&(U=f(U)),typeof U=="string"&&a(U)===r&&((I=Q(U,!1))===""&&(I=e.loadFile(U)||""),U=I),k=a(U),!d(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(U instanceof Uint8Array||(U=F(U)),!(T=this["process"+k.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=k,T}})(gt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};gt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),A=r.pageContext.annotations,u=!1,d=0;d<A.length&&!u;d++)switch((n=A[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<A.length;h++){n=A[h];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(p.objId),x=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+f(m(n.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(m(x))+") >>",p.content=i;var y=p.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(p.objId,"0 R",b.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var B=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+B+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:A(n),w:c(r+a),h:A(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),A=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(A*u)}else l=c,o=A;return this.text(r,n,a,i),a+=.2*A,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-A,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(gt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},l=e.__arabicParser__.isArabicEndLetter=function(p){return o(p)&&i(p)&&t[p.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(p){return o(p)&&a.indexOf(p.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return o(p)&&i(p)&&t[p.charCodeAt(0)].length>=1};var A=e.__arabicParser__.arabicLetterHasFinalForm=function(p){return o(p)&&i(p)&&t[p.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(p){return o(p)&&i(p)&&t[p.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(p){return o(p)&&i(p)&&t[p.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(p){var b=0,m=r,x="",y=0;for(b=0;b<p.length;b+=1)m[p.charCodeAt(b)]!==void 0?(y++,typeof(m=m[p.charCodeAt(b)])=="number"&&(x+=String.fromCharCode(m),m=r,y=0),b===p.length-1&&(m=r,x+=p.charAt(b-(y-1)),b-=y-1,y=0)):(m=r,x+=p.charAt(b-y),b-=y,y=0);return x};e.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(p,b,m){return o(p)?i(p)===!1?-1:!A(p)||!o(b)&&!o(m)||!o(m)&&l(b)||l(p)&&!o(b)||l(p)&&c(b)||l(p)&&l(b)?0:u(p)&&o(b)&&!l(b)&&o(m)&&A(m)?3:l(p)||!o(m)?1:2:-1},f=function(p){var b=0,m=0,x=0,y="",w="",N="",B=(p=p||"").split("\\s+"),F=[];for(b=0;b<B.length;b+=1){for(F.push(""),m=0;m<B[b].length;m+=1)y=B[b][m],w=B[b][m-1],N=B[b][m+1],o(y)?(x=h(y,w,N),F[b]+=x!==-1?String.fromCharCode(t[y.charCodeAt(0)][x]):y):F[b]+=y;F[b]=d(F[b])}return F.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var p,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(b)){var x=0;for(m=[],x=0;x<b.length;x+=1)Array.isArray(b[x])?m.push([f(b[x][0]),b[x][1],b[x][2]]):m.push([f(b[x])]);p=m}else p=f(b);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};e.events.push(["preProcessText",g])}(gt.API),gt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(gt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var A=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return A},set:function(p){A=p}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(p){g=p}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,A){n.call(this);var u=(A=A||{}).fontSize||this.getFontSize(),d=A.font||this.getFont(),h=A.scaleFactor||this.internal.scaleFactor,f=0,g=0,p=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var m=A.maxWidth;m>0?typeof c=="string"?c=this.splitTextToSize(c,m):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(y,w){return y.concat(b.splitTextToSize(w,m))},[])):c=Array.isArray(c)?c:[c];for(var x=0;x<c.length;x++)f<(p=this.getStringUnitWidth(c[x],{font:d})*u)&&(f=p);return f!==0&&(g=c.length),{w:f/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var A=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return A.lineNumber!==void 0&&(A.lineNumber===c.lineNumber?(c.x=(A.x||0)+(A.width||0),c.y=A.y||0):A.y+A.height+c.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=d.top,f&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=A.y+A.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,A,u,d,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,g,p,b,m=[],x=[],y=[],w={},N={},B=[],F=[],E=(h=h||{}).autoSize||!1,P=h.printHeaders!==!1,Q=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,U=h.margins||Object.assign({width:this.getPageWidth()},t),T=typeof h.padding=="number"?h.padding:3,k=h.headerBackgroundColor||"#c8c8c8",I=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=I,this.setFontSize(Q),d==null)x=m=Object.keys(u[0]),y=m.map(function(){return"left"});else if(Array.isArray(d)&&gr(d[0])==="object")for(m=d.map(function(q){return q.name}),x=d.map(function(q){return q.prompt||q.name||""}),y=d.map(function(q){return q.align||"left"}),f=0;f<d.length;f+=1)N[d[f].name]=.7499990551181103*d[f].width;else Array.isArray(d)&&typeof d[0]=="string"&&(x=m=d,y=m.map(function(){return"left"}));if(E||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<m.length;f+=1){for(w[b=m[f]]=u.map(function(q){return q[b]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(x[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=w[b],this.setFont(void 0,"normal"),p=0;p<g.length;p+=1)B.push(this.getTextDimensions(g[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[b]=Math.max.apply(null,B)+T+T,B=[]}if(P){var M={};for(f=0;f<m.length;f+=1)M[m[f]]={},M[m[f]].text=x[f],M[m[f]].align=y[f];var L=l.call(this,M,N);F=m.map(function(q){return new i(c,A,N[q],L,M[q].text,void 0,M[q].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var K=d.reduce(function(q,Z){return q[Z.name]=Z.align,q},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var R=l.call(this,u[f],N);for(p=0;p<m.length;p+=1){var $=u[f][m[p]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:p,data:$},this),o.call(this,new i(c,A,N[m[p]],R,$,f+2,K[m[p]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=A,this};var l=function(c,A){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(f){var g=c[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,A[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+u+u},this).reduce(function(f,g){return Math.max(f,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,A){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),A&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(gt.API);var hU={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mU=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],b1=fU(mU),pU=[100,200,300,400,500,600,700,800,900],Yye=fU(pU);function Rb(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return hU[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),a=function(i){return typeof b1[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function _E(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var Xye={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},DE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function LE(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function QE(e){return e.trimLeft()}function Jye(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Zye(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Zm,RE,ME,BA,ep,$E,HE,KE,Mb=["times"];function VE(e,t,r,n,a){var i=4,o=GE;switch(a){case gt.API.image_compression.FAST:i=1,o=zE;break;case gt.API.image_compression.MEDIUM:i=6,o=qE;break;case gt.API.image_compression.SLOW:i=9,o=WE}e=function(c,A,u,d){for(var h,f=c.length/A,g=new Uint8Array(c.length+f),p=[ewe,zE,GE,qE,WE],b=0;b<f;b+=1){var m=b*A,x=c.subarray(m,m+A);if(d)g.set(d(x,u,h),m+b);else{for(var y=p.length,w=[],N=0;N<y;N+=1)w[N]=p[N](x,u,h);var B=rwe(w.concat());g.set(w[B],m+b)}h=x}return g}(e,t,Math.ceil(r*n/8),o);var l=f1(e,{level:i});return gt.API.__addimage__.arrayBufferToBinaryString(l)}function ewe(e){var t=Array.apply([],e);return t.unshift(0),t}function zE(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function GE(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;a[i+1]=e[i]-o+256&255}return a}function qE(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;a[i+1]=e[i]+256-(o+l>>>1)&255}return a}function WE(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var o=twe(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-o+256&255}return a}function twe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function rwe(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function $b(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),o=(1<<r)-1;return gU(e,a)>>i&o}function YE(e,t,r,n){var a=r*n,i=Math.floor(a/8),o=16-(a-8*i+n),l=(1<<n)-1,c=(t&l)<<o;(function(A,u,d){if(u+1<A.byteLength)A.setUint16(u,d,!1);else{var h=d>>8&255;A.setUint8(u,h)}})(e,i,gU(e,i)&~(l<<o)&65535|c)}function gU(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function nwe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var A=!0,u=[],d=0,h=null,f=0,g=null;for(this.width=r,this.height=n;A&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],1&p||(h=null),f=p>>2&7,t++;break;case 254:for(;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++],N=w>>6&1,B=1<<1+(7&w),F=l,E=c,P=!1;w>>7&&(P=!0,F=t,E=B,t+=3*B);var Q=t;for(t++;;){var U;if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}u.push({x:b,y:m,width:x,height:y,has_local_palette:P,palette_offset:F,palette_size:E,data_offset:Q,data_length:t-Q,transparent_index:h,interlaced:!!N,delay:d,disposal:f});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(T){if(T<0||T>=u.length)throw new Error("Frame index out of range.");return u[T]},this.decodeAndBlitFrameBGRA=function(T,k){var I=this.frameInfo(T),M=I.width*I.height,L=new Uint8Array(M);XE(e,I.data_offset,L,M);var K=I.palette_offset,R=I.transparent_index;R===null&&(R=256);var $=I.width,q=r-$,Z=$,D=4*(I.y*r+I.x),H=4*((I.y+I.height)*r+I.x),V=D,re=4*q;I.interlaced===!0&&(re+=4*r*7);for(var Ae=8,ae=0,de=L.length;ae<de;++ae){var X=L[ae];if(Z===0&&(Z=$,(V+=re)>=H&&(re=4*q+4*r*(Ae-1),V=D+($+q)*(Ae<<1),Ae>>=1)),X===R)V+=4;else{var te=e[K+3*X],ue=e[K+3*X+1],se=e[K+3*X+2];k[V++]=se,k[V++]=ue,k[V++]=te,k[V++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(T,k){var I=this.frameInfo(T),M=I.width*I.height,L=new Uint8Array(M);XE(e,I.data_offset,L,M);var K=I.palette_offset,R=I.transparent_index;R===null&&(R=256);var $=I.width,q=r-$,Z=$,D=4*(I.y*r+I.x),H=4*((I.y+I.height)*r+I.x),V=D,re=4*q;I.interlaced===!0&&(re+=4*r*7);for(var Ae=8,ae=0,de=L.length;ae<de;++ae){var X=L[ae];if(Z===0&&(Z=$,(V+=re)>=H&&(re=4*q+4*r*(Ae-1),V=D+($+q)*(Ae<<1),Ae>>=1)),X===R)V+=4;else{var te=e[K+3*X],ue=e[K+3*X+1],se=e[K+3*X+2];k[V++]=te,k[V++]=ue,k[V++]=se,k[V++]=255}--Z}}}function XE(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,A=(1<<c)-1,u=0,d=0,h=0,f=e[t++],g=new Int32Array(4096),p=null;;){for(;u<16&&f!==0;)d|=e[t++]<<u,u+=8,f===1?f=e[t++]:--f;if(u<c)break;var b=d&A;if(d>>=c,u-=c,b!==i){if(b===o)break;for(var m=b<l?b:p,x=0,y=m;y>i;)y=g[y]>>8,++x;var w=y;if(h+x+(m!==b?1:0)>n)return void Nr.log("Warning, gif stream longer than expected.");r[h++]=w;var N=h+=x;for(m!==b&&(r[h++]=w),y=m;x--;)y=g[y],r[--N]=255&y,y>>=8;p!==null&&l<4096&&(g[l++]=p<<8|w,l>=A+1&&c<12&&(++c,A=A<<1|1)),p=b}else l=o+1,A=(1<<(c=a+1))-1,p=null}return h!==n&&Nr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Hb(e){var t,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),A=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),g=new Array(64),p=[],b=0,m=7,x=new Array(64),y=new Array(64),w=new Array(64),N=new Array(256),B=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],M=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function L(D,H){for(var V=0,re=0,Ae=new Array,ae=1;ae<=16;ae++){for(var de=1;de<=D[ae];de++)Ae[H[re]]=[],Ae[H[re]][0]=V,Ae[H[re]][1]=ae,re++,V++;V*=2}return Ae}function K(D){for(var H=D[0],V=D[1]-1;V>=0;)H&1<<V&&(b|=1<<m),V--,--m<0&&(b==255?(R(255),R(0)):R(b),m=7,b=0)}function R(D){p.push(D)}function $(D){R(D>>8&255),R(255&D)}function q(D,H,V,re,Ae){for(var ae,de=Ae[0],X=Ae[240],te=function(ke,At){var qe,ce,pe,Be,Qe,Ie,Pe,$e,Ve,lt,Xe=0;for(Ve=0;Ve<8;++Ve){qe=ke[Xe],ce=ke[Xe+1],pe=ke[Xe+2],Be=ke[Xe+3],Qe=ke[Xe+4],Ie=ke[Xe+5],Pe=ke[Xe+6];var Gr=qe+($e=ke[Xe+7]),zt=qe-$e,Ot=ce+Pe,Lt=ce-Pe,yr=pe+Ie,xt=pe-Ie,fr=Be+Qe,Ct=Be-Qe,It=Gr+fr,Hr=Gr-fr,Kt=Ot+yr,yt=Ot-yr;ke[Xe]=It+Kt,ke[Xe+4]=It-Kt;var sr=.707106781*(yt+Hr);ke[Xe+2]=Hr+sr,ke[Xe+6]=Hr-sr;var Ll=.382683433*((It=Ct+xt)-(yt=Lt+zt)),ts=.5411961*It+Ll,Mi=1.306562965*yt+Ll,li=.707106781*(Kt=xt+Lt),wt=zt+li,$i=zt-li;ke[Xe+5]=$i+ts,ke[Xe+3]=$i-ts,ke[Xe+1]=wt+Mi,ke[Xe+7]=wt-Mi,Xe+=8}for(Xe=0,Ve=0;Ve<8;++Ve){qe=ke[Xe],ce=ke[Xe+8],pe=ke[Xe+16],Be=ke[Xe+24],Qe=ke[Xe+32],Ie=ke[Xe+40],Pe=ke[Xe+48];var Hi=qe+($e=ke[Xe+56]),ia=qe-$e,oa=ce+Pe,Yr=ce-Pe,_n=pe+Ie,Hn=pe-Ie,Ql=Be+Qe,Do=Be-Qe,ka=Hi+Ql,ci=Hi-Ql,Oa=oa+_n,Ia=oa-_n;ke[Xe]=ka+Oa,ke[Xe+32]=ka-Oa;var la=.707106781*(Ia+ci);ke[Xe+16]=ci+la,ke[Xe+48]=ci-la;var Rl=.382683433*((ka=Do+Hn)-(Ia=Yr+ia)),Ai=.5411961*ka+Rl,Ml=1.306562965*Ia+Rl,eA=.707106781*(Oa=Hn+Yr),tA=ia+eA,rA=ia-eA;ke[Xe+40]=rA+Ai,ke[Xe+24]=rA-Ai,ke[Xe+8]=tA+Ml,ke[Xe+56]=tA-Ml,Xe++}for(Ve=0;Ve<64;++Ve)lt=ke[Ve]*At[Ve],f[Ve]=lt>0?lt+.5|0:lt-.5|0;return f}(D,H),ue=0;ue<64;++ue)g[F[ue]]=te[ue];var se=g[0]-V;V=g[0],se==0?K(re[0]):(K(re[h[ae=32767+se]]),K(d[ae]));for(var we=63;we>0&&g[we]==0;)we--;if(we==0)return K(de),V;for(var Ce,J=1;J<=we;){for(var _e=J;g[J]==0&&J<=we;)++J;var Ge=J-_e;if(Ge>=16){Ce=Ge>>4;for(var We=1;We<=Ce;++We)K(X);Ge&=15}ae=32767+g[J],K(Ae[(Ge<<4)+h[ae]]),K(d[ae]),J++}return we!=63&&K(de),V}function Z(D){D=Math.min(Math.max(D,1),100),i!=D&&(function(H){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var Ae=o((V[re]*H+50)/100);Ae=Math.min(Math.max(Ae,1),255),l[F[re]]=Ae}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var X=o((ae[de]*H+50)/100);X=Math.min(Math.max(X,1),255),c[F[de]]=X}for(var te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ue=0,se=0;se<8;se++)for(var we=0;we<8;we++)A[ue]=1/(l[F[ue]]*te[se]*te[we]*8),u[ue]=1/(c[F[ue]]*te[se]*te[we]*8),ue++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),i=D)}this.encode=function(D,H){H&&Z(H),p=new Array,b=0,m=7,$(65496),$(65504),$(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),$(1),$(1),R(0),R(0),function(){$(65499),$(132),R(0);for(var ce=0;ce<64;ce++)R(l[ce]);R(1);for(var pe=0;pe<64;pe++)R(c[pe])}(),function(ce,pe){$(65472),$(17),R(8),$(pe),$(ce),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1)}(D.width,D.height),function(){$(65476),$(418),R(0);for(var ce=0;ce<16;ce++)R(E[ce+1]);for(var pe=0;pe<=11;pe++)R(P[pe]);R(16);for(var Be=0;Be<16;Be++)R(Q[Be+1]);for(var Qe=0;Qe<=161;Qe++)R(U[Qe]);R(1);for(var Ie=0;Ie<16;Ie++)R(T[Ie+1]);for(var Pe=0;Pe<=11;Pe++)R(k[Pe]);R(17);for(var $e=0;$e<16;$e++)R(I[$e+1]);for(var Ve=0;Ve<=161;Ve++)R(M[Ve])}(),$(65498),$(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var V=0,re=0,Ae=0;b=0,m=7,this.encode.displayName="_encode_";for(var ae,de,X,te,ue,se,we,Ce,J,_e=D.data,Ge=D.width,We=D.height,ke=4*Ge,At=0;At<We;){for(ae=0;ae<ke;){for(ue=ke*At+ae,we=-1,Ce=0,J=0;J<64;J++)se=ue+(Ce=J>>3)*ke+(we=4*(7&J)),At+Ce>=We&&(se-=ke*(At+1+Ce-We)),ae+we>=ke&&(se-=ae+we-ke+4),de=_e[se++],X=_e[se++],te=_e[se++],x[J]=(B[de]+B[X+256|0]+B[te+512|0]>>16)-128,y[J]=(B[de+768|0]+B[X+1024|0]+B[te+1280|0]>>16)-128,w[J]=(B[de+1280|0]+B[X+1536|0]+B[te+1792|0]>>16)-128;V=q(x,A,V,t,n),re=q(y,u,re,r,a),Ae=q(w,u,Ae,r,a),ae+=32}At+=8}if(m>=0){var qe=[];qe[1]=m+1,qe[0]=(1<<m+1)-1,K(qe)}return $(65497),new Uint8Array(p)},e=e||50,function(){for(var D=String.fromCharCode,H=0;H<256;H++)N[H]=D(H)}(),t=L(E,P),r=L(T,k),n=L(Q,U),a=L(I,M),function(){for(var D=1,H=2,V=1;V<=15;V++){for(var re=D;re<H;re++)h[32767+re]=V,d[32767+re]=[],d[32767+re][1]=V,d[32767+re][0]=re;for(var Ae=-(H-1);Ae<=-D;Ae++)h[32767+Ae]=V,d[32767+Ae]=[],d[32767+Ae][1]=V,d[32767+Ae][0]=H-1+Ae;D<<=1,H<<=1}}(),function(){for(var D=0;D<256;D++)B[D]=19595*D,B[D+256|0]=38470*D,B[D+512|0]=7471*D+32768,B[D+768|0]=-11059*D,B[D+1024|0]=-21709*D,B[D+1280|0]=32768*D+8421375,B[D+1536|0]=-27439*D,B[D+1792|0]=-5329*D}(),Z(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ma(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function JE(e){function t(P){if(!P)throw Error("assert :P")}function r(P,Q,U){for(var T=0;4>T;T++)if(P[Q+T]!=U.charCodeAt(T))return!0;return!1}function n(P,Q,U,T,k){for(var I=0;I<k;I++)P[Q+I]=U[T+I]}function a(P,Q,U,T){for(var k=0;k<T;k++)P[Q+k]=U}function i(P){return new Int32Array(P)}function o(P,Q){for(var U=[],T=0;T<P;T++)U.push(new Q);return U}function l(P,Q){var U=[];return function T(k,I,M){for(var L=M[I],K=0;K<L&&(k.push(M.length>I+1?[]:new Q),!(M.length<I+1));K++)T(k[K],I+1,M)}(U,0,P),U}var c=function(){var P=this;function Q(v,j){for(var O=1<<j-1>>>0;v&O;)O>>>=1;return O?(v&O-1)+O:v}function U(v,j,O,_,G){t(!(_%O));do v[j+(_-=O)]=G;while(0<_)}function T(v,j,O,_,G){if(t(2328>=G),512>=G)var W=i(512);else if((W=i(G))==null)return 0;return function(Y,ee,ne,ie,ge,Ne){var oe,xe,be=ee,Ee=1<<ne,je=i(16),Te=i(16);for(t(ge!=0),t(ie!=null),t(Y!=null),t(0<ne),xe=0;xe<ge;++xe){if(15<ie[xe])return 0;++je[ie[xe]]}if(je[0]==ge)return 0;for(Te[1]=0,oe=1;15>oe;++oe){if(je[oe]>1<<oe)return 0;Te[oe+1]=Te[oe]+je[oe]}for(xe=0;xe<ge;++xe)oe=ie[xe],0<ie[xe]&&(Ne[Te[oe]++]=xe);if(Te[15]==1)return(ie=new k).g=0,ie.value=Ne[0],U(Y,be,1,Ee,ie),Ee;var Ue,Ke=-1,Me=Ee-1,pt=0,nt=1,Qt=1,ut=1<<ne;for(xe=0,oe=1,ge=2;oe<=ne;++oe,ge<<=1){if(nt+=Qt<<=1,0>(Qt-=je[oe]))return 0;for(;0<je[oe];--je[oe])(ie=new k).g=oe,ie.value=Ne[xe++],U(Y,be+pt,ge,ut,ie),pt=Q(pt,oe)}for(oe=ne+1,ge=2;15>=oe;++oe,ge<<=1){if(nt+=Qt<<=1,0>(Qt-=je[oe]))return 0;for(;0<je[oe];--je[oe]){if(ie=new k,(pt&Me)!=Ke){for(be+=ut,Ue=1<<(Ke=oe)-ne;15>Ke&&!(0>=(Ue-=je[Ke]));)++Ke,Ue<<=1;Ee+=ut=1<<(Ue=Ke-ne),Y[ee+(Ke=pt&Me)].g=Ue+ne,Y[ee+Ke].value=be-ee-Ke}ie.g=oe-ne,ie.value=Ne[xe++],U(Y,be+(pt>>ne),ge,ut,ie),pt=Q(pt,oe)}}return nt!=2*Te[15]-1?0:Ee}(v,j,O,_,G,W)}function k(){this.value=this.g=0}function I(){this.value=this.g=0}function M(){this.G=o(5,k),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Jl,I)}function L(v,j,O,_){t(v!=null),t(j!=null),t(2147483648>_),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=j,v.pa=O,v.Jd=j,v.Yc=O+_,v.Zc=4<=_?O+_-4+1:O,de(v)}function K(v,j){for(var O=0;0<j--;)O|=te(v,128)<<j;return O}function R(v,j){var O=K(v,j);return X(v)?-O:O}function $(v,j,O,_){var G,W=0;for(t(v!=null),t(j!=null),t(4294967288>_),v.Sb=_,v.Ra=0,v.u=0,v.h=0,4<_&&(_=4),G=0;G<_;++G)W+=j[O+G]<<8*G;v.Ra=W,v.bb=_,v.oa=j,v.pa=O}function q(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<Mo-8>>>0,++v.bb,v.u-=8;re(v)&&(v.h=1,v.u=0)}function Z(v,j){if(t(0<=j),!v.h&&j<=Ds){var O=V(v)&_s[j];return v.u+=j,q(v),O}return v.h=1,v.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(v){return v.Ra>>>(v.u&Mo-1)>>>0}function re(v){return t(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>Mo}function Ae(v,j){v.u=j,v.h=re(v)}function ae(v){v.u>=eo&&(t(v.u>=eo),q(v))}function de(v){t(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(t(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function X(v){return K(v,1)}function te(v,j){var O=v.Ca;0>v.b&&de(v);var _=v.b,G=O*j>>>8,W=(v.I>>>_>G)+0;for(W?(O-=G,v.I-=G+1<<_>>>0):O=G+1,_=O,G=0;256<=_;)G+=8,_>>=8;return _=7^G+$o[_],v.b-=_,v.Ca=(O<<_)-1,W}function ue(v,j,O){v[j+0]=O>>24&255,v[j+1]=O>>16&255,v[j+2]=O>>8&255,v[j+3]=255&O}function se(v,j){return v[j+0]|v[j+1]<<8}function we(v,j){return se(v,j)|v[j+2]<<16}function Ce(v,j){return se(v,j)|se(v,j+2)<<16}function J(v,j){var O=1<<j;return t(v!=null),t(0<j),v.X=i(O),v.X==null?0:(v.Mb=32-j,v.Xa=j,1)}function _e(v,j){t(v!=null),t(j!=null),t(v.Xa==j.Xa),n(j.X,0,v.X,0,1<<j.Xa)}function Ge(){this.X=[],this.Xa=this.Mb=0}function We(v,j,O,_){t(O!=null),t(_!=null);var G=O[0],W=_[0];return G==0&&(G=(v*W+j/2)/j),W==0&&(W=(j*G+v/2)/v),0>=G||0>=W?0:(O[0]=G,_[0]=W,1)}function ke(v,j){return v+(1<<j)-1>>>j}function At(v,j){return((4278255360&v)+(4278255360&j)>>>0&4278255360)+((16711935&v)+(16711935&j)>>>0&16711935)>>>0}function qe(v,j){P[j]=function(O,_,G,W,Y,ee,ne){var ie;for(ie=0;ie<Y;++ie){var ge=P[v](ee[ne+ie-1],G,W+ie);ee[ne+ie]=At(O[_+ie],ge)}}}function ce(){this.ud=this.hd=this.jd=0}function pe(v,j){return((4278124286&(v^j))>>>1)+(v&j)>>>0}function Be(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function Qe(v,j){return Be(v+(v-j+.5>>1))}function Ie(v,j,O){return Math.abs(j-O)-Math.abs(v-O)}function Pe(v,j,O,_,G,W,Y){for(_=W[Y-1],O=0;O<G;++O)W[Y+O]=_=At(v[j+O],_)}function $e(v,j,O,_,G){var W;for(W=0;W<O;++W){var Y=v[j+W],ee=Y>>8&255,ne=16711935&(ne=(ne=16711935&Y)+((ee<<16)+ee));_[G+W]=(4278255360&Y)+ne>>>0}}function Ve(v,j){j.jd=255&v,j.hd=v>>8&255,j.ud=v>>16&255}function lt(v,j,O,_,G,W){var Y;for(Y=0;Y<_;++Y){var ee=j[O+Y],ne=ee>>>8,ie=ee,ge=255&(ge=(ge=ee>>>16)+((v.jd<<24>>24)*(ne<<24>>24)>>>5));ie=255&(ie=(ie+=(v.hd<<24>>24)*(ne<<24>>24)>>>5)+((v.ud<<24>>24)*(ge<<24>>24)>>>5)),G[W+Y]=(4278255360&ee)+(ge<<16)+ie}}function Xe(v,j,O,_,G){P[j]=function(W,Y,ee,ne,ie,ge,Ne,oe,xe){for(ne=Ne;ne<oe;++ne)for(Ne=0;Ne<xe;++Ne)ie[ge++]=G(ee[_(W[Y++])])},P[v]=function(W,Y,ee,ne,ie,ge,Ne){var oe=8>>W.b,xe=W.Ea,be=W.K[0],Ee=W.w;if(8>oe)for(W=(1<<W.b)-1,Ee=(1<<oe)-1;Y<ee;++Y){var je,Te=0;for(je=0;je<xe;++je)je&W||(Te=_(ne[ie++])),ge[Ne++]=G(be[Te&Ee]),Te>>=oe}else P["VP8LMapColor"+O](ne,ie,be,Ee,ge,Ne,Y,ee,xe)}}function Gr(v,j,O,_,G){for(O=j+O;j<O;){var W=v[j++];_[G++]=W>>16&255,_[G++]=W>>8&255,_[G++]=255&W}}function zt(v,j,O,_,G){for(O=j+O;j<O;){var W=v[j++];_[G++]=W>>16&255,_[G++]=W>>8&255,_[G++]=255&W,_[G++]=W>>24&255}}function Ot(v,j,O,_,G){for(O=j+O;j<O;){var W=(Y=v[j++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;_[G++]=W,_[G++]=Y}}function Lt(v,j,O,_,G){for(O=j+O;j<O;){var W=(Y=v[j++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;_[G++]=W,_[G++]=Y}}function yr(v,j,O,_,G){for(O=j+O;j<O;){var W=v[j++];_[G++]=255&W,_[G++]=W>>8&255,_[G++]=W>>16&255}}function xt(v,j,O,_,G,W){if(W==0)for(O=j+O;j<O;)ue(_,((W=v[j++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),G+=32;else n(_,G,v,j,O)}function fr(v,j){P[j][0]=P[v+"0"],P[j][1]=P[v+"1"],P[j][2]=P[v+"2"],P[j][3]=P[v+"3"],P[j][4]=P[v+"4"],P[j][5]=P[v+"5"],P[j][6]=P[v+"6"],P[j][7]=P[v+"7"],P[j][8]=P[v+"8"],P[j][9]=P[v+"9"],P[j][10]=P[v+"10"],P[j][11]=P[v+"11"],P[j][12]=P[v+"12"],P[j][13]=P[v+"13"],P[j][14]=P[v+"0"],P[j][15]=P[v+"0"]}function Ct(v){return v==fv||v==hv||v==om||v==mv}function It(){this.eb=[],this.size=this.A=this.fb=0}function Hr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Kt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new It,this.f.kb=new Hr,this.sd=null}function yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function sr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ll(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function ts(v,j){var O=v.T,_=j.ba.f.RGBA,G=_.eb,W=_.fb+v.ka*_.A,Y=ha[j.ba.S],ee=v.y,ne=v.O,ie=v.f,ge=v.N,Ne=v.ea,oe=v.W,xe=j.cc,be=j.dc,Ee=j.Mc,je=j.Nc,Te=v.ka,Ue=v.ka+v.T,Ke=v.U,Me=Ke+1>>1;for(Te==0?Y(ee,ne,null,null,ie,ge,Ne,oe,ie,ge,Ne,oe,G,W,null,null,Ke):(Y(j.ec,j.fc,ee,ne,xe,be,Ee,je,ie,ge,Ne,oe,G,W-_.A,G,W,Ke),++O);Te+2<Ue;Te+=2)xe=ie,be=ge,Ee=Ne,je=oe,ge+=v.Rc,oe+=v.Rc,W+=2*_.A,Y(ee,(ne+=2*v.fa)-v.fa,ee,ne,xe,be,Ee,je,ie,ge,Ne,oe,G,W-_.A,G,W,Ke);return ne+=v.fa,v.j+Ue<v.o?(n(j.ec,j.fc,ee,ne,Ke),n(j.cc,j.dc,ie,ge,Me),n(j.Mc,j.Nc,Ne,oe,Me),O--):1&Ue||Y(ee,ne,null,null,ie,ge,Ne,oe,ie,ge,Ne,oe,G,W+_.A,null,null,Ke),O}function Mi(v,j,O){var _=v.F,G=[v.J];if(_!=null){var W=v.U,Y=j.ba.S,ee=Y==im||Y==om;j=j.ba.f.RGBA;var ne=[0],ie=v.ka;ne[0]=v.T,v.Kb&&(ie==0?--ne[0]:(--ie,G[0]-=v.width),v.j+v.ka+v.T==v.o&&(ne[0]=v.o-v.j-ie));var ge=j.eb;ie=j.fb+ie*j.A,v=Xj(_,G[0],v.width,W,ne,ge,ie+(ee?0:3),j.A),t(O==ne),v&&Ct(Y)&&yd(ge,ie,ee,W,ne,j.A)}return 0}function li(v){var j=v.ma,O=j.ba.S,_=11>O,G=O==sm||O==am||O==im||O==dv||O==12||Ct(O);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!fd(j.Oa,v,G?11:12))return 0;if(G&&Ct(O)&&Ad(),v.da)alert("todo:use_scaling");else{if(_){if(j.Ib=Ll,v.Kb){if(O=v.U+1>>1,j.memory=i(v.U+2*O),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+v.U,j.Mc=j.cc,j.Nc=j.dc+O,j.Ib=ts,Ad()}}else alert("todo:EmitYUV");G&&(j.Jb=Mi,_&&_a())}if(_&&!fN){for(v=0;256>v;++v)$_[v]=89858*(v-128)+cm>>lm,V_[v]=-22014*(v-128)+cm,K_[v]=-45773*(v-128),H_[v]=113618*(v-128)+cm>>lm;for(v=jd;v<xv;++v)j=76283*(v-16)+cm>>lm,z_[v-jd]=ui(j,255),G_[v-jd]=ui(j+8>>4,15);fN=1}return 1}function wt(v){var j=v.ma,O=v.U,_=v.T;return t(!(1&v.ka)),0>=O||0>=_?0:(O=j.Ib(v,j),j.Jb!=null&&j.Jb(v,j,O),j.Dc+=O,1)}function $i(v){v.ma.memory=null}function Hi(v,j,O,_){return Z(v,8)!=47?0:(j[0]=Z(v,14)+1,O[0]=Z(v,14)+1,_[0]=Z(v,1),Z(v,3)!=0?0:!v.h)}function ia(v,j){if(4>v)return v+1;var O=v-2>>1;return(2+(1&v)<<O)+Z(j,O)+1}function oa(v,j){return 120<j?j-120:1<=(O=((O=E_[j-1])>>4)*v+(8-(15&O)))?O:1;var O}function Yr(v,j,O){var _=V(O),G=v[j+=255&_].g-8;return 0<G&&(Ae(O,O.u+8),_=V(O),j+=v[j].value,j+=_&(1<<G)-1),Ae(O,O.u+v[j].g),v[j].value}function _n(v,j,O){return O.g+=v.g,O.value+=v.value<<j>>>0,t(8>=O.g),v.g}function Hn(v,j,O){var _=v.xc;return t((j=_==0?0:v.vc[v.md*(O>>_)+(j>>_)])<v.Wb),v.Ya[j]}function Ql(v,j,O,_){var G=v.ab,W=v.c*j,Y=v.C;j=Y+j;var ee=O,ne=_;for(_=v.Ta,O=v.Ua;0<G--;){var ie=v.gc[G],ge=Y,Ne=j,oe=ee,xe=ne,be=(ne=_,ee=O,ie.Ea);switch(t(ge<Ne),t(Ne<=ie.nc),ie.hc){case 2:tn(oe,xe,(Ne-ge)*be,ne,ee);break;case 0:var Ee=ge,je=Ne,Te=ne,Ue=ee,Ke=(ut=ie).Ea;Ee==0&&(md(oe,xe,null,null,1,Te,Ue),Pe(oe,xe+1,0,0,Ke-1,Te,Ue+1),xe+=Ke,Ue+=Ke,++Ee);for(var Me=1<<ut.b,pt=Me-1,nt=ke(Ke,ut.b),Qt=ut.K,ut=ut.w+(Ee>>ut.b)*nt;Ee<je;){var Wt=Qt,Nn=ut,Rt=1;for(AA(oe,xe,Te,Ue-Ke,1,Te,Ue);Rt<Ke;){var dt=(Rt&~pt)+Me;dt>Ke&&(dt=Ke),(0,gd[Wt[Nn++]>>8&15])(oe,xe+ +Rt,Te,Ue+Rt-Ke,dt-Rt,Te,Ue+Rt),Rt=dt}xe+=Ke,Ue+=Ke,++Ee&pt||(ut+=nt)}Ne!=ie.nc&&n(ne,ee-be,ne,ee+(Ne-ge-1)*be,be);break;case 1:for(be=oe,je=xe,Ke=(oe=ie.Ea)-(Ue=oe&~(Te=(xe=1<<ie.b)-1)),Ee=ke(oe,ie.b),Me=ie.K,ie=ie.w+(ge>>ie.b)*Ee;ge<Ne;){for(pt=Me,nt=ie,Qt=new ce,ut=je+Ue,Wt=je+oe;je<ut;)Ve(pt[nt++],Qt),xd(Qt,be,je,xe,ne,ee),je+=xe,ee+=xe;je<Wt&&(Ve(pt[nt++],Qt),xd(Qt,be,je,Ke,ne,ee),je+=Ke,ee+=Ke),++ge&Te||(ie+=Ee)}break;case 3:if(oe==ne&&xe==ee&&0<ie.b){for(je=ne,oe=be=ee+(Ne-ge)*be-(Ue=(Ne-ge)*ke(ie.Ea,ie.b)),xe=ne,Te=ee,Ee=[],Ue=(Ke=Ue)-1;0<=Ue;--Ue)Ee[Ue]=xe[Te+Ue];for(Ue=Ke-1;0<=Ue;--Ue)je[oe+Ue]=Ee[Ue];em(ie,ge,Ne,ne,be,ne,ee)}else em(ie,ge,Ne,oe,xe,ne,ee)}ee=_,ne=O}ne!=O&&n(_,O,ee,ne,W)}function Do(v,j){var O=v.V,_=v.Ba+v.c*v.C,G=j-v.C;if(t(j<=v.l.o),t(16>=G),0<G){var W=v.l,Y=v.Ta,ee=v.Ua,ne=W.width;if(Ql(v,G,O,_),G=ee=[ee],t((O=v.C)<(_=j)),t(W.v<W.va),_>W.o&&(_=W.o),O<W.j){var ie=W.j-O;O=W.j,G[0]+=ie*ne}if(O>=_?O=0:(G[0]+=4*W.v,W.ka=O-W.j,W.U=W.va-W.v,W.T=_-O,O=1),O){if(ee=ee[0],11>(O=v.ca).S){var ge=O.f.RGBA,Ne=(_=O.S,G=W.U,W=W.T,ie=ge.eb,ge.A),oe=W;for(ge=ge.fb+v.Ma*ge.A;0<oe--;){var xe=Y,be=ee,Ee=G,je=ie,Te=ge;switch(_){case nm:vd(xe,be,Ee,je,Te);break;case sm:Ho(xe,be,Ee,je,Te);break;case fv:Ho(xe,be,Ee,je,Te),yd(je,Te,0,Ee,1,0);break;case sN:Zl(xe,be,Ee,je,Te);break;case am:xt(xe,be,Ee,je,Te,1);break;case hv:xt(xe,be,Ee,je,Te,1),yd(je,Te,0,Ee,1,0);break;case im:xt(xe,be,Ee,je,Te,0);break;case om:xt(xe,be,Ee,je,Te,0),yd(je,Te,1,Ee,1,0);break;case dv:Ko(xe,be,Ee,je,Te);break;case mv:Ko(xe,be,Ee,je,Te),Yj(je,Te,Ee,1,0);break;case aN:Vo(xe,be,Ee,je,Te);break;default:t(0)}ee+=ne,ge+=Ne}v.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");t(v.Ma<=O.height)}}v.C=j,t(v.C<=v.i)}function ka(v){var j;if(0<v.ua)return 0;for(j=0;j<v.Wb;++j){var O=v.Ya[j].G,_=v.Ya[j].H;if(0<O[1][_[1]+0].g||0<O[2][_[2]+0].g||0<O[3][_[3]+0].g)return 0}return 1}function ci(v,j,O,_,G,W){if(v.Z!=0){var Y=v.qd,ee=v.rd;for(t(qo[v.Z]!=null);j<O;++j)qo[v.Z](Y,ee,_,G,_,G,W),Y=_,ee=G,G+=W;v.qd=Y,v.rd=ee}}function Oa(v,j){var O=v.l.ma,_=O.Z==0||O.Z==1?v.l.j:v.C;if(_=v.C<_?_:v.C,t(j<=v.l.o),j>_){var G=v.l.width,W=O.ca,Y=O.tb+G*_,ee=v.V,ne=v.Ba+v.c*_,ie=v.gc;t(v.ab==1),t(ie[0].hc==3),mi(ie[0],_,j,ee,ne,W,Y),ci(O,_,j,W,Y,G)}v.C=v.Ma=j}function Ia(v,j,O,_,G,W,Y){var ee=v.$/_,ne=v.$%_,ie=v.m,ge=v.s,Ne=O+v.$,oe=Ne;G=O+_*G;var xe=O+_*W,be=280+ge.ua,Ee=v.Pb?ee:16777216,je=0<ge.ua?ge.Wa:null,Te=ge.wc,Ue=Ne<xe?Hn(ge,ne,ee):null;t(v.C<W),t(xe<=G);var Ke=!1;e:for(;;){for(;Ke||Ne<xe;){var Me=0;if(ee>=Ee){var pt=Ne-O;t((Ee=v).Pb),Ee.wd=Ee.m,Ee.xd=pt,0<Ee.s.ua&&_e(Ee.s.Wa,Ee.s.vb),Ee=ee+T_}if(ne&Te||(Ue=Hn(ge,ne,ee)),t(Ue!=null),Ue.Qb&&(j[Ne]=Ue.qb,Ke=!0),!Ke)if(ae(ie),Ue.jc){Me=ie,pt=j;var nt=Ne,Qt=Ue.pd[V(Me)&Jl-1];t(Ue.jc),256>Qt.g?(Ae(Me,Me.u+Qt.g),pt[nt]=Qt.value,Me=0):(Ae(Me,Me.u+Qt.g-256),t(256<=Qt.value),Me=Qt.value),Me==0&&(Ke=!0)}else Me=Yr(Ue.G[0],Ue.H[0],ie);if(ie.h)break;if(Ke||256>Me){if(!Ke)if(Ue.nd)j[Ne]=(Ue.qb|Me<<8)>>>0;else{if(ae(ie),Ke=Yr(Ue.G[1],Ue.H[1],ie),ae(ie),pt=Yr(Ue.G[2],Ue.H[2],ie),nt=Yr(Ue.G[3],Ue.H[3],ie),ie.h)break;j[Ne]=(nt<<24|Ke<<16|Me<<8|pt)>>>0}if(Ke=!1,++Ne,++ne>=_&&(ne=0,++ee,Y!=null&&ee<=W&&!(ee%16)&&Y(v,ee),je!=null))for(;oe<Ne;)Me=j[oe++],je.X[(506832829*Me&4294967295)>>>je.Mb]=Me}else if(280>Me){if(Me=ia(Me-256,ie),pt=Yr(Ue.G[4],Ue.H[4],ie),ae(ie),pt=oa(_,pt=ia(pt,ie)),ie.h)break;if(Ne-O<pt||G-Ne<Me)break e;for(nt=0;nt<Me;++nt)j[Ne+nt]=j[Ne+nt-pt];for(Ne+=Me,ne+=Me;ne>=_;)ne-=_,++ee,Y!=null&&ee<=W&&!(ee%16)&&Y(v,ee);if(t(Ne<=G),ne&Te&&(Ue=Hn(ge,ne,ee)),je!=null)for(;oe<Ne;)Me=j[oe++],je.X[(506832829*Me&4294967295)>>>je.Mb]=Me}else{if(!(Me<be))break e;for(Ke=Me-280,t(je!=null);oe<Ne;)Me=j[oe++],je.X[(506832829*Me&4294967295)>>>je.Mb]=Me;Me=Ne,t(!(Ke>>>(pt=je).Xa)),j[Me]=pt.X[Ke],Ke=!0}Ke||t(ie.h==re(ie))}if(v.Pb&&ie.h&&Ne<G)t(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&_e(v.s.vb,v.s.Wa);else{if(ie.h)break e;Y!=null&&Y(v,ee>W?W:ee),v.a=0,v.$=Ne-O}return 1}return v.a=3,0}function la(v){t(v!=null),v.vc=null,v.yc=null,v.Ya=null;var j=v.Wa;j!=null&&(j.X=null),v.vb=null,t(v!=null)}function Rl(){var v=new Ft;return v==null?null:(v.a=0,v.xb=lN,fr("Predictor","VP8LPredictors"),fr("Predictor","VP8LPredictors_C"),fr("PredictorAdd","VP8LPredictorsAdd"),fr("PredictorAdd","VP8LPredictorsAdd_C"),tn=$e,xd=lt,vd=Gr,Ho=zt,Ko=Ot,Vo=Lt,Zl=yr,P.VP8LMapColor32b=hi,P.VP8LMapColor8b=pd,v)}function Ai(v,j,O,_,G){var W=1,Y=[v],ee=[j],ne=_.m,ie=_.s,ge=null,Ne=0;e:for(;;){if(O)for(;W&&Z(ne,1);){var oe=Y,xe=ee,be=_,Ee=1,je=be.m,Te=be.gc[be.ab],Ue=Z(je,2);if(be.Oc&1<<Ue)W=0;else{switch(be.Oc|=1<<Ue,Te.hc=Ue,Te.Ea=oe[0],Te.nc=xe[0],Te.K=[null],++be.ab,t(4>=be.ab),Ue){case 0:case 1:Te.b=Z(je,3)+2,Ee=Ai(ke(Te.Ea,Te.b),ke(Te.nc,Te.b),0,be,Te.K),Te.K=Te.K[0];break;case 3:var Ke,Me=Z(je,8)+1,pt=16<Me?0:4<Me?1:2<Me?2:3;if(oe[0]=ke(Te.Ea,pt),Te.b=pt,Ke=Ee=Ai(Me,1,0,be,Te.K)){var nt,Qt=Me,ut=Te,Wt=1<<(8>>ut.b),Nn=i(Wt);if(Nn==null)Ke=0;else{var Rt=ut.K[0],dt=ut.w;for(Nn[0]=ut.K[0][0],nt=1;nt<1*Qt;++nt)Nn[nt]=At(Rt[dt+nt],Nn[nt-1]);for(;nt<4*Wt;++nt)Nn[nt]=0;ut.K[0]=null,ut.K[0]=Nn,Ke=1}}Ee=Ke;break;case 2:break;default:t(0)}W=Ee}}if(Y=Y[0],ee=ee[0],W&&Z(ne,1)&&!(W=1<=(Ne=Z(ne,4))&&11>=Ne)){_.a=3;break e}var Ye;if(Ye=W)t:{var nn,Ut,Yt,Ir=_,zn=Y,ps=ee,Xr=Ne,rs=O,gs=Ir.m,Cn=Ir.s,Jt=[null],hr=1,Jr=0,mr=F_[Xr];r:for(;;){if(rs&&Z(gs,1)){var Gn=Z(gs,3)+2,La=ke(zn,Gn),sn=ke(ps,Gn),Ss=La*sn;if(!Ai(La,sn,0,Ir,Jt))break r;for(Jt=Jt[0],Cn.xc=Gn,nn=0;nn<Ss;++nn){var jr=Jt[nn]>>8&65535;Jt[nn]=jr,jr>=hr&&(hr=jr+1)}}if(gs.h)break r;for(Ut=0;5>Ut;++Ut){var Bn=iN[Ut];!Ut&&0<Xr&&(Bn+=1<<Xr),Jr<Bn&&(Jr=Bn)}var Qs=o(hr*mr,k),xs=hr,Rs=o(xs,M);if(Rs==null)var Ms=null;else t(65536>=xs),Ms=Rs;var Es=i(Jr);if(Ms==null||Es==null||Qs==null){Ir.a=1;break r}var $s=Qs;for(nn=Yt=0;nn<hr;++nn){var Er=Ms[nn],Hs=Er.G,Qa=Er.H,tc=0,no=1,qn=0;for(Ut=0;5>Ut;++Ut){Bn=iN[Ut],Hs[Ut]=$s,Qa[Ut]=Yt,!Ut&&0<Xr&&(Bn+=1<<Xr);s:{var um,vv=Bn,dm=Ir,Nd=Es,Y_=$s,X_=Yt,bv=0,Wo=dm.m,J_=Z(Wo,1);if(a(Nd,0,0,vv),J_){var Z_=Z(Wo,1)+1,eD=Z(Wo,1),pN=Z(Wo,eD==0?1:8);Nd[pN]=1,Z_==2&&(Nd[pN=Z(Wo,8)]=1);var fm=1}else{var gN=i(19),xN=Z(Wo,4)+4;if(19<xN){dm.a=3;var hm=0;break s}for(um=0;um<xN;++um)gN[S_[um]]=Z(Wo,3);var yv=void 0,Cd=void 0,vN=dm,tD=gN,mm=vv,bN=Nd,wv=0,Yo=vN.m,yN=8,wN=o(128,k);n:for(;T(wN,0,7,tD,19);){if(Z(Yo,1)){var rD=2+2*Z(Yo,3);if((yv=2+Z(Yo,rD))>mm)break n}else yv=mm;for(Cd=0;Cd<mm&&yv--;){ae(Yo);var jN=wN[0+(127&V(Yo))];Ae(Yo,Yo.u+jN.g);var dA=jN.value;if(16>dA)bN[Cd++]=dA,dA!=0&&(yN=dA);else{var nD=dA==16,NN=dA-16,sD=C_[NN],CN=Z(Yo,N_[NN])+sD;if(Cd+CN>mm)break n;for(var aD=nD?yN:0;0<CN--;)bN[Cd++]=aD}}wv=1;break n}wv||(vN.a=3),fm=wv}(fm=fm&&!Wo.h)&&(bv=T(Y_,X_,8,Nd,vv)),fm&&bv!=0?hm=bv:(dm.a=3,hm=0)}if(hm==0)break r;if(no&&B_[Ut]==1&&(no=$s[Yt].g==0),tc+=$s[Yt].g,Yt+=hm,3>=Ut){var Bd,jv=Es[0];for(Bd=1;Bd<Bn;++Bd)Es[Bd]>jv&&(jv=Es[Bd]);qn+=jv}}if(Er.nd=no,Er.Qb=0,no&&(Er.qb=(Hs[3][Qa[3]+0].value<<24|Hs[1][Qa[1]+0].value<<16|Hs[2][Qa[2]+0].value)>>>0,tc==0&&256>Hs[0][Qa[0]+0].value&&(Er.Qb=1,Er.qb+=Hs[0][Qa[0]+0].value<<8)),Er.jc=!Er.Qb&&6>qn,Er.jc){var pm,so=Er;for(pm=0;pm<Jl;++pm){var Xo=pm,Jo=so.pd[Xo],gm=so.G[0][so.H[0]+Xo];256<=gm.value?(Jo.g=gm.g+256,Jo.value=gm.value):(Jo.g=0,Jo.value=0,Xo>>=_n(gm,8,Jo),Xo>>=_n(so.G[1][so.H[1]+Xo],16,Jo),Xo>>=_n(so.G[2][so.H[2]+Xo],0,Jo),_n(so.G[3][so.H[3]+Xo],24,Jo))}}}Cn.vc=Jt,Cn.Wb=hr,Cn.Ya=Ms,Cn.yc=Qs,Ye=1;break t}Ye=0}if(!(W=Ye)){_.a=3;break e}if(0<Ne){if(ie.ua=1<<Ne,!J(ie.Wa,Ne)){_.a=1,W=0;break e}}else ie.ua=0;var Nv=_,BN=Y,iD=ee,Cv=Nv.s,Bv=Cv.xc;if(Nv.c=BN,Nv.i=iD,Cv.md=ke(BN,Bv),Cv.wc=Bv==0?-1:(1<<Bv)-1,O){_.xb=D_;break e}if((ge=i(Y*ee))==null){_.a=1,W=0;break e}W=(W=Ia(_,ge,0,Y,ee,ee,null))&&!ne.h;break e}return W?(G!=null?G[0]=ge:(t(ge==null),t(O)),_.$=0,O||la(ie)):la(ie),W}function Ml(v,j){var O=v.c*v.i,_=O+j+16*j;return t(v.c<=j),v.V=i(_),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+O+j,1)}function eA(v,j){var O=v.C,_=j-O,G=v.V,W=v.Ba+v.c*O;for(t(j<=v.l.o);0<_;){var Y=16<_?16:_,ee=v.l.ma,ne=v.l.width,ie=ne*Y,ge=ee.ca,Ne=ee.tb+ne*O,oe=v.Ta,xe=v.Ua;Ql(v,Y,G,W),Jj(oe,xe,ge,Ne,ie),ci(ee,O,O+Y,ge,Ne,ne),_-=Y,G+=Y*v.c,O+=Y}t(O==j),v.C=v.Ma=j}function tA(){this.ub=this.yd=this.td=this.Rb=0}function rA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function W0(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Zu(){this.Yb=function(){var v=[];return function j(O,_,G){for(var W=G[_],Y=0;Y<W&&(O.push(G.length>_+1?[]:0),!(G.length<_+1));Y++)j(O[Y],_+1,G)}(v,0,[3,11]),v}()}function _h(){this.jb=i(3),this.Wc=l([4,8],Zu),this.Xc=l([4,17],Zu)}function Dh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ca(){this.ld=this.La=this.dd=this.tc=0}function ed(){this.Na=this.la=0}function Lh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function td(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Qh(){this.uc=this.M=this.Nb=0,this.wa=Array(new ca),this.Y=0,this.ya=Array(new td),this.aa=0,this.l=new nA}function Rh(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Mh(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new tA,this.Kc=new rA,this.ed=new Dh,this.Qa=new W0,this.Ic=this.$c=this.Aa=0,this.D=new Qh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,D),this.ia=0,this.pb=o(4,Lh),this.Pa=new _h,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Rh),this.Hd=0,this.rb=Array(new ed),this.sb=0,this.wa=Array(new ca),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new td),this.L=this.aa=0,this.gd=l([4,2],ca),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ui(v,j){return 0>v?0:v>j?j:v}function nA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Y0(){var v=new Mh;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,wd||(wd=sA)),v}function fn(v,j,O){return v.a==0&&(v.a=j,v.sc=O,v.cb=0),0}function $h(v,j,O){return 3<=O&&v[j+0]==157&&v[j+1]==1&&v[j+2]==42}function di(v,j){if(v==null)return 0;if(v.a=0,v.sc="OK",j==null)return fn(v,2,"null VP8Io passed to VP8GetHeaders()");var O=j.data,_=j.w,G=j.ha;if(4>G)return fn(v,7,"Truncated header.");var W=O[_+0]|O[_+1]<<8|O[_+2]<<16,Y=v.Od;if(Y.Rb=!(1&W),Y.td=W>>1&7,Y.yd=W>>4&1,Y.ub=W>>5,3<Y.td)return fn(v,3,"Incorrect keyframe parameters.");if(!Y.yd)return fn(v,4,"Frame not displayable.");_+=3,G-=3;var ee=v.Kc;if(Y.Rb){if(7>G)return fn(v,7,"cannot parse picture header");if(!$h(O,_,G))return fn(v,3,"Bad code word");ee.c=16383&(O[_+4]<<8|O[_+3]),ee.Td=O[_+4]>>6,ee.i=16383&(O[_+6]<<8|O[_+5]),ee.Ud=O[_+6]>>6,_+=7,G-=7,v.za=ee.c+15>>4,v.Ub=ee.i+15>>4,j.width=ee.c,j.height=ee.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,a((W=v.Pa).jb,0,255,W.jb.length),t((W=v.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,a(W.Zb,0,0,W.Zb.length),a(W.Lb,0,0,W.Lb)}if(Y.ub>G)return fn(v,7,"bad partition length");L(W=v.m,O,_,Y.ub),_+=Y.ub,G-=Y.ub,Y.Rb&&(ee.Ld=X(W),ee.Kd=X(W)),ee=v.Qa;var ne,ie=v.Pa;if(t(W!=null),t(ee!=null),ee.Cb=X(W),ee.Cb){if(ee.Bb=X(W),X(W)){for(ee.Fb=X(W),ne=0;4>ne;++ne)ee.Zb[ne]=X(W)?R(W,7):0;for(ne=0;4>ne;++ne)ee.Lb[ne]=X(W)?R(W,6):0}if(ee.Bb)for(ne=0;3>ne;++ne)ie.jb[ne]=X(W)?K(W,8):255}else ee.Bb=0;if(W.Ka)return fn(v,3,"cannot parse segment header");if((ee=v.ed).zd=X(W),ee.Tb=K(W,6),ee.wb=K(W,3),ee.Pc=X(W),ee.Pc&&X(W)){for(ie=0;4>ie;++ie)X(W)&&(ee.vd[ie]=R(W,6));for(ie=0;4>ie;++ie)X(W)&&(ee.od[ie]=R(W,6))}if(v.L=ee.Tb==0?0:ee.zd?1:2,W.Ka)return fn(v,3,"cannot parse filter header");var ge=G;if(G=ne=_,_=ne+ge,ee=ge,v.Xb=(1<<K(v.m,2))-1,ge<3*(ie=v.Xb))O=7;else{for(ne+=3*ie,ee-=3*ie,ge=0;ge<ie;++ge){var Ne=O[G+0]|O[G+1]<<8|O[G+2]<<16;Ne>ee&&(Ne=ee),L(v.Jc[+ge],O,ne,Ne),ne+=Ne,ee-=Ne,G+=3}L(v.Jc[+ie],O,ne,ee),O=ne<_?0:5}if(O!=0)return fn(v,O,"cannot parse partitions");for(O=K(ne=v.m,7),G=X(ne)?R(ne,4):0,_=X(ne)?R(ne,4):0,ee=X(ne)?R(ne,4):0,ie=X(ne)?R(ne,4):0,ne=X(ne)?R(ne,4):0,ge=v.Qa,Ne=0;4>Ne;++Ne){if(ge.Cb){var oe=ge.Zb[Ne];ge.Fb||(oe+=O)}else{if(0<Ne){v.pb[Ne]=v.pb[0];continue}oe=O}var xe=v.pb[Ne];xe.Sc[0]=pv[ui(oe+G,127)],xe.Sc[1]=gv[ui(oe+0,127)],xe.Eb[0]=2*pv[ui(oe+_,127)],xe.Eb[1]=101581*gv[ui(oe+ee,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=pv[ui(oe+ie,117)],xe.Qc[1]=gv[ui(oe+ne,127)],xe.lc=oe+ne}if(!Y.Rb)return fn(v,4,"Not a key frame.");for(X(W),Y=v.Pa,O=0;4>O;++O){for(G=0;8>G;++G)for(_=0;3>_;++_)for(ee=0;11>ee;++ee)ie=te(W,U_[O][G][_][ee])?K(W,8):O_[O][G][_][ee],Y.Wc[O][G].Yb[_][ee]=ie;for(G=0;17>G;++G)Y.Xc[O][G]=Y.Wc[O][__[G]]}return v.kc=X(W),v.kc&&(v.Bd=K(W,8)),v.cb=1}function sA(v,j,O,_,G,W,Y){var ee=j[G].Yb[O];for(O=0;16>G;++G){if(!te(v,ee[O+0]))return G;for(;!te(v,ee[O+1]);)if(ee=j[++G].Yb[0],O=0,G==16)return 16;var ne=j[G+1].Yb;if(te(v,ee[O+2])){var ie=v,ge=0;if(te(ie,(oe=ee)[(Ne=O)+3]))if(te(ie,oe[Ne+6])){for(ee=0,Ne=2*(ge=te(ie,oe[Ne+8]))+(oe=te(ie,oe[Ne+9+ge])),ge=0,oe=P_[Ne];oe[ee];++ee)ge+=ge+te(ie,oe[ee]);ge+=3+(8<<Ne)}else te(ie,oe[Ne+7])?(ge=7+2*te(ie,165),ge+=te(ie,145)):ge=5+te(ie,159);else ge=te(ie,oe[Ne+4])?3+te(ie,oe[Ne+5]):2;ee=ne[2]}else ge=1,ee=ne[1];ne=Y+k_[G],0>(ie=v).b&&de(ie);var Ne,oe=ie.b,xe=(Ne=ie.Ca>>1)-(ie.I>>oe)>>31;--ie.b,ie.Ca+=xe,ie.Ca|=1,ie.I-=(Ne+1&xe)<<oe,W[ne]=((ge^xe)-xe)*_[(0<G)+0]}return 16}function Hh(v){var j=v.rb[v.sb-1];j.la=0,j.Na=0,a(v.zc,0,0,v.zc.length),v.ja=0}function Aa(v,j,O,_,G){G=v[j+O+32*_]+(G>>3),v[j+O+32*_]=-256&G?0>G?0:255:G}function yn(v,j,O,_,G,W){Aa(v,j,0,O,_+G),Aa(v,j,1,O,_+W),Aa(v,j,2,O,_-W),Aa(v,j,3,O,_-G)}function Ki(v){return(20091*v>>16)+v}function Kh(v,j,O,_){var G,W=0,Y=i(16);for(G=0;4>G;++G){var ee=v[j+0]+v[j+8],ne=v[j+0]-v[j+8],ie=(35468*v[j+4]>>16)-Ki(v[j+12]),ge=Ki(v[j+4])+(35468*v[j+12]>>16);Y[W+0]=ee+ge,Y[W+1]=ne+ie,Y[W+2]=ne-ie,Y[W+3]=ee-ge,W+=4,j++}for(G=W=0;4>G;++G)ee=(v=Y[W+0]+4)+Y[W+8],ne=v-Y[W+8],ie=(35468*Y[W+4]>>16)-Ki(Y[W+12]),Aa(O,_,0,0,ee+(ge=Ki(Y[W+4])+(35468*Y[W+12]>>16))),Aa(O,_,1,0,ne+ie),Aa(O,_,2,0,ne-ie),Aa(O,_,3,0,ee-ge),W++,_+=32}function X0(v,j,O,_){var G=v[j+0]+4,W=35468*v[j+4]>>16,Y=Ki(v[j+4]),ee=35468*v[j+1]>>16;yn(O,_,0,G+Y,v=Ki(v[j+1]),ee),yn(O,_,1,G+W,v,ee),yn(O,_,2,G-W,v,ee),yn(O,_,3,G-Y,v,ee)}function J0(v,j,O,_,G){Kh(v,j,O,_),G&&Kh(v,j+16,O,_+4)}function fi(v,j,O,_){ec(v,j+0,O,_,1),ec(v,j+32,O,_+128,1)}function Vh(v,j,O,_){var G;for(v=v[j+0]+4,G=0;4>G;++G)for(j=0;4>j;++j)Aa(O,_,j,G,v)}function zh(v,j,O,_){v[j+0]&&ar(v,j+0,O,_),v[j+16]&&ar(v,j+16,O,_+4),v[j+32]&&ar(v,j+32,O,_+128),v[j+48]&&ar(v,j+48,O,_+128+4)}function aA(v,j,O,_){var G,W=i(16);for(G=0;4>G;++G){var Y=v[j+0+G]+v[j+12+G],ee=v[j+4+G]+v[j+8+G],ne=v[j+4+G]-v[j+8+G],ie=v[j+0+G]-v[j+12+G];W[0+G]=Y+ee,W[8+G]=Y-ee,W[4+G]=ie+ne,W[12+G]=ie-ne}for(G=0;4>G;++G)Y=(v=W[0+4*G]+3)+W[3+4*G],ee=W[1+4*G]+W[2+4*G],ne=W[1+4*G]-W[2+4*G],ie=v-W[3+4*G],O[_+0]=Y+ee>>3,O[_+16]=ie+ne>>3,O[_+32]=Y-ee>>3,O[_+48]=ie-ne>>3,_+=64}function $l(v,j,O){var _,G=j-32,W=Ls,Y=255-v[G-1];for(_=0;_<O;++_){var ee,ne=W,ie=Y+v[j-1];for(ee=0;ee<O;++ee)v[j+ee]=ne[ie+v[G+ee]];j+=32}}function Z0(v,j){$l(v,j,4)}function ev(v,j){$l(v,j,8)}function tv(v,j){$l(v,j,16)}function rd(v,j){var O;for(O=0;16>O;++O)n(v,j+32*O,v,j-32,16)}function Gh(v,j){var O;for(O=16;0<O;--O)a(v,j,v[j-1],16),j+=32}function Ua(v,j,O){var _;for(_=0;16>_;++_)a(j,O+32*_,v,16)}function rv(v,j){var O,_=16;for(O=0;16>O;++O)_+=v[j-1+32*O]+v[j+O-32];Ua(_>>5,v,j)}function Hl(v,j){var O,_=8;for(O=0;16>O;++O)_+=v[j-1+32*O];Ua(_>>4,v,j)}function nd(v,j){var O,_=8;for(O=0;16>O;++O)_+=v[j+O-32];Ua(_>>4,v,j)}function nv(v,j){Ua(128,v,j)}function Tt(v,j,O){return v+2*j+O+2>>2}function sv(v,j){var O,_=j-32;for(_=new Uint8Array([Tt(v[_-1],v[_+0],v[_+1]),Tt(v[_+0],v[_+1],v[_+2]),Tt(v[_+1],v[_+2],v[_+3]),Tt(v[_+2],v[_+3],v[_+4])]),O=0;4>O;++O)n(v,j+32*O,_,0,_.length)}function av(v,j){var O=v[j-1],_=v[j-1+32],G=v[j-1+64],W=v[j-1+96];ue(v,j+0,16843009*Tt(v[j-1-32],O,_)),ue(v,j+32,16843009*Tt(O,_,G)),ue(v,j+64,16843009*Tt(_,G,W)),ue(v,j+96,16843009*Tt(G,W,W))}function iv(v,j){var O,_=4;for(O=0;4>O;++O)_+=v[j+O-32]+v[j-1+32*O];for(_>>=3,O=0;4>O;++O)a(v,j+32*O,_,4)}function Vi(v,j){var O=v[j-1+0],_=v[j-1+32],G=v[j-1+64],W=v[j-1-32],Y=v[j+0-32],ee=v[j+1-32],ne=v[j+2-32],ie=v[j+3-32];v[j+0+96]=Tt(_,G,v[j-1+96]),v[j+1+96]=v[j+0+64]=Tt(O,_,G),v[j+2+96]=v[j+1+64]=v[j+0+32]=Tt(W,O,_),v[j+3+96]=v[j+2+64]=v[j+1+32]=v[j+0+0]=Tt(Y,W,O),v[j+3+64]=v[j+2+32]=v[j+1+0]=Tt(ee,Y,W),v[j+3+32]=v[j+2+0]=Tt(ne,ee,Y),v[j+3+0]=Tt(ie,ne,ee)}function zi(v,j){var O=v[j+1-32],_=v[j+2-32],G=v[j+3-32],W=v[j+4-32],Y=v[j+5-32],ee=v[j+6-32],ne=v[j+7-32];v[j+0+0]=Tt(v[j+0-32],O,_),v[j+1+0]=v[j+0+32]=Tt(O,_,G),v[j+2+0]=v[j+1+32]=v[j+0+64]=Tt(_,G,W),v[j+3+0]=v[j+2+32]=v[j+1+64]=v[j+0+96]=Tt(G,W,Y),v[j+3+32]=v[j+2+64]=v[j+1+96]=Tt(W,Y,ee),v[j+3+64]=v[j+2+96]=Tt(Y,ee,ne),v[j+3+96]=Tt(ee,ne,ne)}function ov(v,j){var O=v[j-1+0],_=v[j-1+32],G=v[j-1+64],W=v[j-1-32],Y=v[j+0-32],ee=v[j+1-32],ne=v[j+2-32],ie=v[j+3-32];v[j+0+0]=v[j+1+64]=W+Y+1>>1,v[j+1+0]=v[j+2+64]=Y+ee+1>>1,v[j+2+0]=v[j+3+64]=ee+ne+1>>1,v[j+3+0]=ne+ie+1>>1,v[j+0+96]=Tt(G,_,O),v[j+0+64]=Tt(_,O,W),v[j+0+32]=v[j+1+96]=Tt(O,W,Y),v[j+1+32]=v[j+2+96]=Tt(W,Y,ee),v[j+2+32]=v[j+3+96]=Tt(Y,ee,ne),v[j+3+32]=Tt(ee,ne,ie)}function lv(v,j){var O=v[j+0-32],_=v[j+1-32],G=v[j+2-32],W=v[j+3-32],Y=v[j+4-32],ee=v[j+5-32],ne=v[j+6-32],ie=v[j+7-32];v[j+0+0]=O+_+1>>1,v[j+1+0]=v[j+0+64]=_+G+1>>1,v[j+2+0]=v[j+1+64]=G+W+1>>1,v[j+3+0]=v[j+2+64]=W+Y+1>>1,v[j+0+32]=Tt(O,_,G),v[j+1+32]=v[j+0+96]=Tt(_,G,W),v[j+2+32]=v[j+1+96]=Tt(G,W,Y),v[j+3+32]=v[j+2+96]=Tt(W,Y,ee),v[j+3+64]=Tt(Y,ee,ne),v[j+3+96]=Tt(ee,ne,ie)}function iA(v,j){var O=v[j-1+0],_=v[j-1+32],G=v[j-1+64],W=v[j-1+96];v[j+0+0]=O+_+1>>1,v[j+2+0]=v[j+0+32]=_+G+1>>1,v[j+2+32]=v[j+0+64]=G+W+1>>1,v[j+1+0]=Tt(O,_,G),v[j+3+0]=v[j+1+32]=Tt(_,G,W),v[j+3+32]=v[j+1+64]=Tt(G,W,W),v[j+3+64]=v[j+2+64]=v[j+0+96]=v[j+1+96]=v[j+2+96]=v[j+3+96]=W}function sd(v,j){var O=v[j-1+0],_=v[j-1+32],G=v[j-1+64],W=v[j-1+96],Y=v[j-1-32],ee=v[j+0-32],ne=v[j+1-32],ie=v[j+2-32];v[j+0+0]=v[j+2+32]=O+Y+1>>1,v[j+0+32]=v[j+2+64]=_+O+1>>1,v[j+0+64]=v[j+2+96]=G+_+1>>1,v[j+0+96]=W+G+1>>1,v[j+3+0]=Tt(ee,ne,ie),v[j+2+0]=Tt(Y,ee,ne),v[j+1+0]=v[j+3+32]=Tt(O,Y,ee),v[j+1+32]=v[j+3+64]=Tt(_,O,Y),v[j+1+64]=v[j+3+96]=Tt(G,_,O),v[j+1+96]=Tt(W,G,_)}function Kl(v,j){var O;for(O=0;8>O;++O)n(v,j+32*O,v,j-32,8)}function cv(v,j){var O;for(O=0;8>O;++O)a(v,j,v[j-1],8),j+=32}function Gi(v,j,O){var _;for(_=0;8>_;++_)a(j,O+32*_,v,8)}function Av(v,j){var O,_=8;for(O=0;8>O;++O)_+=v[j+O-32]+v[j-1+32*O];Gi(_>>4,v,j)}function ad(v,j){var O,_=4;for(O=0;8>O;++O)_+=v[j+O-32];Gi(_>>3,v,j)}function id(v,j){var O,_=4;for(O=0;8>O;++O)_+=v[j-1+32*O];Gi(_>>3,v,j)}function qh(v,j){Gi(128,v,j)}function qi(v,j,O){var _=v[j-O],G=v[j+0],W=3*(G-_)+uv[1020+v[j-2*O]-v[j+O]],Y=rm[112+(W+4>>3)];v[j-O]=Ls[255+_+rm[112+(W+3>>3)]],v[j+0]=Ls[255+G-Y]}function od(v,j,O,_){var G=v[j+0],W=v[j+O];return fa[255+v[j-2*O]-v[j-O]]>_||fa[255+W-G]>_}function oA(v,j,O,_){return 4*fa[255+v[j-O]-v[j+0]]+fa[255+v[j-2*O]-v[j+O]]<=_}function ld(v,j,O,_,G){var W=v[j-3*O],Y=v[j-2*O],ee=v[j-O],ne=v[j+0],ie=v[j+O],ge=v[j+2*O],Ne=v[j+3*O];return 4*fa[255+ee-ne]+fa[255+Y-ie]>_?0:fa[255+v[j-4*O]-W]<=G&&fa[255+W-Y]<=G&&fa[255+Y-ee]<=G&&fa[255+Ne-ge]<=G&&fa[255+ge-ie]<=G&&fa[255+ie-ne]<=G}function Vl(v,j,O,_){var G=2*_+1;for(_=0;16>_;++_)oA(v,j+_,O,G)&&qi(v,j+_,O)}function cd(v,j,O,_){var G=2*_+1;for(_=0;16>_;++_)oA(v,j+_*O,1,G)&&qi(v,j+_*O,1)}function Wh(v,j,O,_){var G;for(G=3;0<G;--G)Vl(v,j+=4*O,O,_)}function Yh(v,j,O,_){var G;for(G=3;0<G;--G)cd(v,j+=4,O,_)}function Wi(v,j,O,_,G,W,Y,ee){for(W=2*W+1;0<G--;){if(ld(v,j,O,W,Y))if(od(v,j,O,ee))qi(v,j,O);else{var ne=v,ie=j,ge=O,Ne=ne[ie-2*ge],oe=ne[ie-ge],xe=ne[ie+0],be=ne[ie+ge],Ee=ne[ie+2*ge],je=27*(Ue=uv[1020+3*(xe-oe)+uv[1020+Ne-be]])+63>>7,Te=18*Ue+63>>7,Ue=9*Ue+63>>7;ne[ie-3*ge]=Ls[255+ne[ie-3*ge]+Ue],ne[ie-2*ge]=Ls[255+Ne+Te],ne[ie-ge]=Ls[255+oe+je],ne[ie+0]=Ls[255+xe-je],ne[ie+ge]=Ls[255+be-Te],ne[ie+2*ge]=Ls[255+Ee-Ue]}j+=_}}function Yi(v,j,O,_,G,W,Y,ee){for(W=2*W+1;0<G--;){if(ld(v,j,O,W,Y))if(od(v,j,O,ee))qi(v,j,O);else{var ne=v,ie=j,ge=O,Ne=ne[ie-ge],oe=ne[ie+0],xe=ne[ie+ge],be=rm[112+(4+(Ee=3*(oe-Ne))>>3)],Ee=rm[112+(Ee+3>>3)],je=be+1>>1;ne[ie-2*ge]=Ls[255+ne[ie-2*ge]+je],ne[ie-ge]=Ls[255+Ne+Ee],ne[ie+0]=Ls[255+oe-be],ne[ie+ge]=Ls[255+xe-je]}j+=_}}function Xh(v,j,O,_,G,W){Wi(v,j,O,1,16,_,G,W)}function zl(v,j,O,_,G,W){Wi(v,j,1,O,16,_,G,W)}function Jh(v,j,O,_,G,W){var Y;for(Y=3;0<Y;--Y)Yi(v,j+=4*O,O,1,16,_,G,W)}function S(v,j,O,_,G,W){var Y;for(Y=3;0<Y;--Y)Yi(v,j+=4,1,O,16,_,G,W)}function z(v,j,O,_,G,W,Y,ee){Wi(v,j,G,1,8,W,Y,ee),Wi(O,_,G,1,8,W,Y,ee)}function le(v,j,O,_,G,W,Y,ee){Wi(v,j,1,G,8,W,Y,ee),Wi(O,_,1,G,8,W,Y,ee)}function he(v,j,O,_,G,W,Y,ee){Yi(v,j+4*G,G,1,8,W,Y,ee),Yi(O,_+4*G,G,1,8,W,Y,ee)}function ve(v,j,O,_,G,W,Y,ee){Yi(v,j+4,1,G,8,W,Y,ee),Yi(O,_+4,1,G,8,W,Y,ee)}function Oe(){this.ba=new Kt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new sr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Re(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ct(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function mt(){this.ua=0,this.Wa=new Ge,this.vb=new Ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new k}function Ft(){this.xb=this.a=0,this.l=new nA,this.ca=new Kt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new mt,this.ab=0,this.gc=o(4,ct),this.Oc=0}function Dt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new nA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xt(v,j,O,_,G,W,Y){for(v=v==null?0:v[j+0],j=0;j<Y;++j)G[W+j]=v+O[_+j]&255,v=G[W+j]}function qr(v,j,O,_,G,W,Y){var ee;if(v==null)Xt(null,null,O,_,G,W,Y);else for(ee=0;ee<Y;++ee)G[W+ee]=v[j+ee]+O[_+ee]&255}function hn(v,j,O,_,G,W,Y){if(v==null)Xt(null,null,O,_,G,W,Y);else{var ee,ne=v[j+0],ie=ne,ge=ne;for(ee=0;ee<Y;++ee)ie=ge+(ne=v[j+ee])-ie,ge=O[_+ee]+(-256&ie?0>ie?0:255:ie)&255,ie=ne,G[W+ee]=ge}}function Sr(v,j,O,_){var G=j.width,W=j.o;if(t(v!=null&&j!=null),0>O||0>=_||O+_>W)return null;if(!v.Cc){if(v.ga==null){var Y;if(v.ga=new Dt,(Y=v.ga==null)||(Y=j.width*j.o,t(v.Gb.length==0),v.Gb=i(Y),v.Uc=0,v.Gb==null?Y=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,Y=1),Y=!Y),!Y){Y=v.ga;var ee=v.Fa,ne=v.P,ie=v.qc,ge=v.mb,Ne=v.nb,oe=ne+1,xe=ie-1,be=Y.l;if(t(ee!=null&&ge!=null&&j!=null),qo[0]=null,qo[1]=Xt,qo[2]=qr,qo[3]=hn,Y.ca=ge,Y.tb=Ne,Y.c=j.width,Y.i=j.height,t(0<Y.c&&0<Y.i),1>=ie)j=0;else if(Y.$a=3&ee[ne+0],Y.Z=ee[ne+0]>>2&3,Y.Lc=ee[ne+0]>>4&3,ne=ee[ne+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||ne)j=0;else if(be.put=wt,be.ac=li,be.bc=$i,be.ma=Y,be.width=j.width,be.height=j.height,be.Da=j.Da,be.v=j.v,be.va=j.va,be.j=j.j,be.o=j.o,Y.$a)e:{t(Y.$a==1),j=Rl();t:for(;;){if(j==null){j=0;break e}if(t(Y!=null),Y.mc=j,j.c=Y.c,j.i=Y.i,j.l=Y.l,j.l.ma=Y,j.l.width=Y.c,j.l.height=Y.i,j.a=0,$(j.m,ee,oe,xe),!Ai(Y.c,Y.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&ka(j.s)?(Y.ic=1,ee=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(ee),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(Y.ic=0,j=Ml(j,Y.c)),!j))break t;j=1;break e}Y.mc=null,j=0}else j=xe>=Y.c*Y.i;Y=!j}if(Y)return null;v.ga.Lc!=1?v.Ga=0:_=W-O}t(v.ga!=null),t(O+_<=W);e:{if(j=(ee=v.ga).c,W=ee.l.o,ee.$a==0){if(oe=v.rc,xe=v.Vc,be=v.Fa,ne=v.P+1+O*j,ie=v.mb,ge=v.nb+O*j,t(ne<=v.P+v.qc),ee.Z!=0)for(t(qo[ee.Z]!=null),Y=0;Y<_;++Y)qo[ee.Z](oe,xe,be,ne,ie,ge,j),oe=ie,xe=ge,ge+=j,ne+=j;else for(Y=0;Y<_;++Y)n(ie,ge,be,ne,j),oe=ie,xe=ge,ge+=j,ne+=j;v.rc=oe,v.Vc=xe}else{if(t(ee.mc!=null),j=O+_,t((Y=ee.mc)!=null),t(j<=Y.i),Y.C>=j)j=1;else if(ee.ic||_a(),ee.ic){ee=Y.V,oe=Y.Ba,xe=Y.c;var Ee=Y.i,je=(be=1,ne=Y.$/xe,ie=Y.$%xe,ge=Y.m,Ne=Y.s,Y.$),Te=xe*Ee,Ue=xe*j,Ke=Ne.wc,Me=je<Ue?Hn(Ne,ie,ne):null;t(je<=Te),t(j<=Ee),t(ka(Ne));t:for(;;){for(;!ge.h&&je<Ue;){if(ie&Ke||(Me=Hn(Ne,ie,ne)),t(Me!=null),ae(ge),256>(Ee=Yr(Me.G[0],Me.H[0],ge)))ee[oe+je]=Ee,++je,++ie>=xe&&(ie=0,++ne<=j&&!(ne%16)&&Oa(Y,ne));else{if(!(280>Ee)){be=0;break t}Ee=ia(Ee-256,ge);var pt,nt=Yr(Me.G[4],Me.H[4],ge);if(ae(ge),!(je>=(nt=oa(xe,nt=ia(nt,ge)))&&Te-je>=Ee)){be=0;break t}for(pt=0;pt<Ee;++pt)ee[oe+je+pt]=ee[oe+je+pt-nt];for(je+=Ee,ie+=Ee;ie>=xe;)ie-=xe,++ne<=j&&!(ne%16)&&Oa(Y,ne);je<Ue&&ie&Ke&&(Me=Hn(Ne,ie,ne))}t(ge.h==re(ge))}Oa(Y,ne>j?j:ne);break t}!be||ge.h&&je<Te?(be=0,Y.a=ge.h?5:3):Y.$=je,j=be}else j=Ia(Y,Y.V,Y.Ba,Y.c,Y.i,j,eA);if(!j){_=0;break e}}O+_>=W&&(v.Cc=1),_=1}if(!_)return null;if(v.Cc&&((_=v.ga)!=null&&(_.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+O*G}function wn(v,j,O,_,G,W){for(;0<G--;){var Y,ee=v,ne=j+(O?1:0),ie=v,ge=j+(O?0:3);for(Y=0;Y<_;++Y){var Ne=ie[ge+4*Y];Ne!=255&&(Ne*=32897,ee[ne+4*Y+0]=ee[ne+4*Y+0]*Ne>>23,ee[ne+4*Y+1]=ee[ne+4*Y+1]*Ne>>23,ee[ne+4*Y+2]=ee[ne+4*Y+2]*Ne>>23)}j+=W}}function mn(v,j,O,_,G){for(;0<_--;){var W;for(W=0;W<O;++W){var Y=v[j+2*W+0],ee=15&(ie=v[j+2*W+1]),ne=4369*ee,ie=(240&ie|ie>>4)*ne>>16;v[j+2*W+0]=(240&Y|Y>>4)*ne>>16&240|(15&Y|Y<<4)*ne>>16>>4&15,v[j+2*W+1]=240&ie|ee}j+=G}}function Kn(v,j,O,_,G,W,Y,ee){var ne,ie,ge=255;for(ie=0;ie<G;++ie){for(ne=0;ne<_;++ne){var Ne=v[j+ne];W[Y+4*ne]=Ne,ge&=Ne}j+=O,Y+=ee}return ge!=255}function Xi(v,j,O,_,G){var W;for(W=0;W<G;++W)O[_+W]=v[j+W]>>8}function _a(){yd=wn,Yj=mn,Xj=Kn,Jj=Xi}function Ji(v,j,O){P[v]=function(_,G,W,Y,ee,ne,ie,ge,Ne,oe,xe,be,Ee,je,Te,Ue,Ke){var Me,pt=Ke-1>>1,nt=ee[ne+0]|ie[ge+0]<<16,Qt=Ne[oe+0]|xe[be+0]<<16;t(_!=null);var ut=3*nt+Qt+131074>>2;for(j(_[G+0],255&ut,ut>>16,Ee,je),W!=null&&(ut=3*Qt+nt+131074>>2,j(W[Y+0],255&ut,ut>>16,Te,Ue)),Me=1;Me<=pt;++Me){var Wt=ee[ne+Me]|ie[ge+Me]<<16,Nn=Ne[oe+Me]|xe[be+Me]<<16,Rt=nt+Wt+Qt+Nn+524296,dt=Rt+2*(Wt+Qt)>>3;ut=dt+nt>>1,nt=(Rt=Rt+2*(nt+Nn)>>3)+Wt>>1,j(_[G+2*Me-1],255&ut,ut>>16,Ee,je+(2*Me-1)*O),j(_[G+2*Me-0],255&nt,nt>>16,Ee,je+(2*Me-0)*O),W!=null&&(ut=Rt+Qt>>1,nt=dt+Nn>>1,j(W[Y+2*Me-1],255&ut,ut>>16,Te,Ue+(2*Me-1)*O),j(W[Y+2*Me+0],255&nt,nt>>16,Te,Ue+(2*Me+0)*O)),nt=Wt,Qt=Nn}1&Ke||(ut=3*nt+Qt+131074>>2,j(_[G+Ke-1],255&ut,ut>>16,Ee,je+(Ke-1)*O),W!=null&&(ut=3*Qt+nt+131074>>2,j(W[Y+Ke-1],255&ut,ut>>16,Te,Ue+(Ke-1)*O)))}}function Ad(){ha[nm]=L_,ha[sm]=cN,ha[sN]=Q_,ha[am]=AN,ha[im]=uN,ha[dv]=dN,ha[aN]=R_,ha[fv]=cN,ha[hv]=AN,ha[om]=uN,ha[mv]=dN}function lA(v){return v&-16384?0>v?0:255:v>>M_}function Lo(v,j){return lA((19077*v>>8)+(26149*j>>8)-14234)}function Gl(v,j,O){return lA((19077*v>>8)-(6419*j>>8)-(13320*O>>8)+8708)}function ql(v,j){return lA((19077*v>>8)+(33050*j>>8)-17685)}function Qo(v,j,O,_,G){_[G+0]=Lo(v,O),_[G+1]=Gl(v,j,O),_[G+2]=ql(v,j)}function Vn(v,j,O,_,G){_[G+0]=ql(v,j),_[G+1]=Gl(v,j,O),_[G+2]=Lo(v,O)}function Wl(v,j,O,_,G){var W=Gl(v,j,O);j=W<<3&224|ql(v,j)>>3,_[G+0]=248&Lo(v,O)|W>>5,_[G+1]=j}function Yl(v,j,O,_,G){var W=240&ql(v,j)|15;_[G+0]=240&Lo(v,O)|Gl(v,j,O)>>4,_[G+1]=W}function ud(v,j,O,_,G){_[G+0]=255,Qo(v,j,O,_,G+1)}function dd(v,j,O,_,G){Vn(v,j,O,_,G),_[G+3]=255}function ms(v,j,O,_,G){Qo(v,j,O,_,G),_[G+3]=255}function Zi(v,j,O){P[v]=function(_,G,W,Y,ee,ne,ie,ge,Ne){for(var oe=ge+(-2&Ne)*O;ge!=oe;)j(_[G+0],W[Y+0],ee[ne+0],ie,ge),j(_[G+1],W[Y+0],ee[ne+0],ie,ge+O),G+=2,++Y,++ne,ge+=2*O;1&Ne&&j(_[G+0],W[Y+0],ee[ne+0],ie,ge)}}function cA(v,j,O){return O==0?v==0?j==0?6:5:j==0?4:0:O}function Zh(v,j,O,_,G){switch(v>>>30){case 3:ec(j,O,_,G,0);break;case 2:da(j,O,_,G);break;case 1:ar(j,O,_,G)}}function ua(v,j){var O,_,G=j.M,W=j.Nb,Y=v.oc,ee=v.pc+40,ne=v.oc,ie=v.pc+584,ge=v.oc,Ne=v.pc+600;for(O=0;16>O;++O)Y[ee+32*O-1]=129;for(O=0;8>O;++O)ne[ie+32*O-1]=129,ge[Ne+32*O-1]=129;for(0<G?Y[ee-1-32]=ne[ie-1-32]=ge[Ne-1-32]=129:(a(Y,ee-32-1,127,21),a(ne,ie-32-1,127,9),a(ge,Ne-32-1,127,9)),_=0;_<v.za;++_){var oe=j.ya[j.aa+_];if(0<_){for(O=-1;16>O;++O)n(Y,ee+32*O-4,Y,ee+32*O+12,4);for(O=-1;8>O;++O)n(ne,ie+32*O-4,ne,ie+32*O+4,4),n(ge,Ne+32*O-4,ge,Ne+32*O+4,4)}var xe=v.Gd,be=v.Hd+_,Ee=oe.ad,je=oe.Hc;if(0<G&&(n(Y,ee-32,xe[be].y,0,16),n(ne,ie-32,xe[be].f,0,8),n(ge,Ne-32,xe[be].ea,0,8)),oe.Za){var Te=Y,Ue=ee-32+16;for(0<G&&(_>=v.za-1?a(Te,Ue,xe[be].y[15],4):n(Te,Ue,xe[be+1].y,0,4)),O=0;4>O;O++)Te[Ue+128+O]=Te[Ue+256+O]=Te[Ue+384+O]=Te[Ue+0+O];for(O=0;16>O;++O,je<<=2)Te=Y,Ue=ee+hN[O],Da[oe.Ob[O]](Te,Ue),Zh(je,Ee,16*+O,Te,Ue)}else if(Te=cA(_,G,oe.Ob[0]),Go[Te](Y,ee),je!=0)for(O=0;16>O;++O,je<<=2)Zh(je,Ee,16*+O,Y,ee+hN[O]);for(O=oe.Gc,Te=cA(_,G,oe.Dd),ro[Te](ne,ie),ro[Te](ge,Ne),je=Ee,Te=ne,Ue=ie,255&(oe=0|O)&&(170&oe?pi(je,256,Te,Ue):wr(je,256,Te,Ue)),oe=ge,je=Ne,255&(O>>=8)&&(170&O?pi(Ee,320,oe,je):wr(Ee,320,oe,je)),G<v.Ub-1&&(n(xe[be].y,0,Y,ee+480,16),n(xe[be].f,0,ne,ie+224,8),n(xe[be].ea,0,ge,Ne+224,8)),O=8*W*v.B,xe=v.sa,be=v.ta+16*_+16*W*v.R,Ee=v.qa,oe=v.ra+8*_+O,je=v.Ha,Te=v.Ia+8*_+O,O=0;16>O;++O)n(xe,be+O*v.R,Y,ee+32*O,16);for(O=0;8>O;++O)n(Ee,oe+O*v.B,ne,ie+32*O,8),n(je,Te+O*v.B,ge,Ne+32*O,8)}}function Xl(v,j,O,_,G,W,Y,ee,ne){var ie=[0],ge=[0],Ne=0,oe=ne!=null?ne.kd:0,xe=ne??new Re;if(v==null||12>O)return 7;xe.data=v,xe.w=j,xe.ha=O,j=[j],O=[O],xe.gb=[xe.gb];e:{var be=j,Ee=O,je=xe.gb;if(t(v!=null),t(Ee!=null),t(je!=null),je[0]=0,12<=Ee[0]&&!r(v,be[0],"RIFF")){if(r(v,be[0]+8,"WEBP")){je=3;break e}var Te=Ce(v,be[0]+4);if(12>Te||4294967286<Te){je=3;break e}if(oe&&Te>Ee[0]-8){je=7;break e}je[0]=Te,be[0]+=12,Ee[0]-=12}je=0}if(je!=0)return je;for(Te=0<xe.gb[0],O=O[0];;){e:{var Ue=v;Ee=j,je=O;var Ke=ie,Me=ge,pt=be=[0];if((ut=Ne=[Ne])[0]=0,8>je[0])je=7;else{if(!r(Ue,Ee[0],"VP8X")){if(Ce(Ue,Ee[0]+4)!=10){je=3;break e}if(18>je[0]){je=7;break e}var nt=Ce(Ue,Ee[0]+8),Qt=1+we(Ue,Ee[0]+12);if(2147483648<=Qt*(Ue=1+we(Ue,Ee[0]+15))){je=3;break e}pt!=null&&(pt[0]=nt),Ke!=null&&(Ke[0]=Qt),Me!=null&&(Me[0]=Ue),Ee[0]+=18,je[0]-=18,ut[0]=1}je=0}}if(Ne=Ne[0],be=be[0],je!=0)return je;if(Ee=!!(2&be),!Te&&Ne)return 3;if(W!=null&&(W[0]=!!(16&be)),Y!=null&&(Y[0]=Ee),ee!=null&&(ee[0]=0),Y=ie[0],be=ge[0],Ne&&Ee&&ne==null){je=0;break}if(4>O){je=7;break}if(Te&&Ne||!Te&&!Ne&&!r(v,j[0],"ALPH")){O=[O],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{nt=v,je=j,Te=O;var ut=xe.gb;Ke=xe.na,Me=xe.P,pt=xe.Sa,Qt=22,t(nt!=null),t(Te!=null),Ue=je[0];var Wt=Te[0];for(t(Ke!=null),t(pt!=null),Ke[0]=null,Me[0]=null,pt[0]=0;;){if(je[0]=Ue,Te[0]=Wt,8>Wt){je=7;break e}var Nn=Ce(nt,Ue+4);if(4294967286<Nn){je=3;break e}var Rt=8+Nn+1&-2;if(Qt+=Rt,0<ut&&Qt>ut){je=3;break e}if(!r(nt,Ue,"VP8 ")||!r(nt,Ue,"VP8L")){je=0;break e}if(Wt[0]<Rt){je=7;break e}r(nt,Ue,"ALPH")||(Ke[0]=nt,Me[0]=Ue+8,pt[0]=Nn),Ue+=Rt,Wt-=Rt}}if(O=O[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],je!=0)break}O=[O],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(ut=v,je=j,Te=O,Ke=xe.gb[0],Me=xe.Ja,pt=xe.xa,nt=je[0],Ue=!r(ut,nt,"VP8 "),Qt=!r(ut,nt,"VP8L"),t(ut!=null),t(Te!=null),t(Me!=null),t(pt!=null),8>Te[0])je=7;else{if(Ue||Qt){if(ut=Ce(ut,nt+4),12<=Ke&&ut>Ke-12){je=3;break e}if(oe&&ut>Te[0]-8){je=7;break e}Me[0]=ut,je[0]+=8,Te[0]-=8,pt[0]=Qt}else pt[0]=5<=Te[0]&&ut[nt+0]==47&&!(ut[nt+4]>>5),Me[0]=Te[0];je=0}if(O=O[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],j=j[0],je!=0)break;if(4294967286<xe.Ja)return 3;if(ee==null||Ee||(ee[0]=xe.xa?2:1),Y=[Y],be=[be],xe.xa){if(5>O){je=7;break}ee=Y,oe=be,Ee=W,v==null||5>O?v=0:5<=O&&v[j+0]==47&&!(v[j+4]>>5)?(Te=[0],ut=[0],Ke=[0],$(Me=new H,v,j,O),Hi(Me,Te,ut,Ke)?(ee!=null&&(ee[0]=Te[0]),oe!=null&&(oe[0]=ut[0]),Ee!=null&&(Ee[0]=Ke[0]),v=1):v=0):v=0}else{if(10>O){je=7;break}ee=be,v==null||10>O||!$h(v,j+3,O-3)?v=0:(oe=v[j+0]|v[j+1]<<8|v[j+2]<<16,Ee=16383&(v[j+7]<<8|v[j+6]),v=16383&(v[j+9]<<8|v[j+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=xe.Ja||!Ee||!v?v=0:(Y&&(Y[0]=Ee),ee&&(ee[0]=v),v=1))}if(!v||(Y=Y[0],be=be[0],Ne&&(ie[0]!=Y||ge[0]!=be)))return 3;ne!=null&&(ne[0]=xe,ne.offset=j-ne.w,t(4294967286>j-ne.w),t(ne.offset==ne.ha-O));break}return je==0||je==7&&Ne&&ne==null?(W!=null&&(W[0]|=xe.na!=null&&0<xe.na.length),_!=null&&(_[0]=Y),G!=null&&(G[0]=be),0):je}function fd(v,j,O){var _=j.width,G=j.height,W=0,Y=0,ee=_,ne=G;if(j.Da=v!=null&&0<v.Da,j.Da&&(ee=v.cd,ne=v.bd,W=v.v,Y=v.j,11>O||(W&=-2,Y&=-2),0>W||0>Y||0>=ee||0>=ne||W+ee>_||Y+ne>G))return 0;if(j.v=W,j.j=Y,j.va=W+ee,j.o=Y+ne,j.U=ee,j.T=ne,j.da=v!=null&&0<v.da,j.da){if(!We(ee,ne,O=[v.ib],W=[v.hb]))return 0;j.ib=O[0],j.hb=W[0]}return j.ob=v!=null&&v.ob,j.Kb=v==null||!v.Sd,j.da&&(j.ob=j.ib<3*_/4&&j.hb<3*G/4,j.Kb=0),1}function hd(v){if(v==null)return 2;if(11>v.S){var j=v.f.RGBA;j.fb+=(v.height-1)*j.A,j.A=-j.A}else j=v.f.kb,v=v.height,j.O+=(v-1)*j.fa,j.fa=-j.fa,j.N+=(v-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(v-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(v-1)*j.lb,j.lb=-j.lb);return 0}function Ro(v,j,O,_){if(_==null||0>=v||0>=j)return 2;if(O!=null){if(O.Da){var G=O.cd,W=O.bd,Y=-2&O.v,ee=-2&O.j;if(0>Y||0>ee||0>=G||0>=W||Y+G>v||ee+W>j)return 2;v=G,j=W}if(O.da){if(!We(v,j,G=[O.ib],W=[O.hb]))return 2;v=G[0],j=W[0]}}_.width=v,_.height=j;e:{var ne=_.width,ie=_.height;if(v=_.S,0>=ne||0>=ie||!(v>=nm&&13>v))v=2;else{if(0>=_.Rd&&_.sd==null){Y=W=G=j=0;var ge=(ee=ne*mN[v])*ie;if(11>v||(W=(ie+1)/2*(j=(ne+1)/2),v==12&&(Y=(G=ne)*ie)),(ie=i(ge+2*W+Y))==null){v=1;break e}_.sd=ie,11>v?((ne=_.f.RGBA).eb=ie,ne.fb=0,ne.A=ee,ne.size=ge):((ne=_.f.kb).y=ie,ne.O=0,ne.fa=ee,ne.Fd=ge,ne.f=ie,ne.N=0+ge,ne.Ab=j,ne.Cd=W,ne.ea=ie,ne.W=0+ge+W,ne.Db=j,ne.Ed=W,v==12&&(ne.F=ie,ne.J=0+ge+2*W),ne.Tc=Y,ne.lb=G)}if(j=1,G=_.S,W=_.width,Y=_.height,G>=nm&&13>G)if(11>G)v=_.f.RGBA,j&=(ee=Math.abs(v.A))*(Y-1)+W<=v.size,j&=ee>=W*mN[G],j&=v.eb!=null;else{v=_.f.kb,ee=(W+1)/2,ge=(Y+1)/2,ne=Math.abs(v.fa),ie=Math.abs(v.Ab);var Ne=Math.abs(v.Db),oe=Math.abs(v.lb),xe=oe*(Y-1)+W;j&=ne*(Y-1)+W<=v.Fd,j&=ie*(ge-1)+ee<=v.Cd,j=(j&=Ne*(ge-1)+ee<=v.Ed)&ne>=W&ie>=ee&Ne>=ee,j&=v.y!=null,j&=v.f!=null,j&=v.ea!=null,G==12&&(j&=oe>=W,j&=xe<=v.Tc,j&=v.F!=null)}else j=0;v=j?0:2}}return v!=0||O!=null&&O.fd&&(v=hd(_)),v}var Jl=64,_s=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ds=24,Mo=32,eo=8,$o=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(v){return v},P.Predictor2=function(v,j,O){return j[O+0]},P.Predictor3=function(v,j,O){return j[O+1]},P.Predictor4=function(v,j,O){return j[O-1]},P.Predictor5=function(v,j,O){return pe(pe(v,j[O+1]),j[O+0])},P.Predictor6=function(v,j,O){return pe(v,j[O-1])},P.Predictor7=function(v,j,O){return pe(v,j[O+0])},P.Predictor8=function(v,j,O){return pe(j[O-1],j[O+0])},P.Predictor9=function(v,j,O){return pe(j[O+0],j[O+1])},P.Predictor10=function(v,j,O){return pe(pe(v,j[O-1]),pe(j[O+0],j[O+1]))},P.Predictor11=function(v,j,O){var _=j[O+0];return 0>=Ie(_>>24&255,v>>24&255,(j=j[O-1])>>24&255)+Ie(_>>16&255,v>>16&255,j>>16&255)+Ie(_>>8&255,v>>8&255,j>>8&255)+Ie(255&_,255&v,255&j)?_:v},P.Predictor12=function(v,j,O){var _=j[O+0];return(Be((v>>24&255)+(_>>24&255)-((j=j[O-1])>>24&255))<<24|Be((v>>16&255)+(_>>16&255)-(j>>16&255))<<16|Be((v>>8&255)+(_>>8&255)-(j>>8&255))<<8|Be((255&v)+(255&_)-(255&j)))>>>0},P.Predictor13=function(v,j,O){var _=j[O-1];return(Qe((v=pe(v,j[O+0]))>>24&255,_>>24&255)<<24|Qe(v>>16&255,_>>16&255)<<16|Qe(v>>8&255,_>>8&255)<<8|Qe(255&v,255&_))>>>0};var md=P.PredictorAdd0;P.PredictorAdd1=Pe,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var AA=P.PredictorAdd2;Xe("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),Xe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var tn,em=P.ColorIndexInverseTransform,hi=P.MapARGB,mi=P.VP8LColorIndexInverseTransformAlpha,pd=P.MapAlpha,gd=P.VP8LPredictorsAdd=[];gd.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var xd,vd,Ho,Ko,Vo,Zl,zo,ec,da,pi,ar,wr,rn,jn,to,bd,uA,tm,Kj,Vj,zj,Gj,qj,Wj,yd,Yj,Xj,Jj,Zj=i(511),eN=i(2041),tN=i(225),rN=i(767),nN=0,uv=eN,rm=tN,Ls=rN,fa=Zj,nm=0,sm=1,sN=2,am=3,im=4,dv=5,aN=6,fv=7,hv=8,om=9,mv=10,N_=[2,3,7],C_=[3,3,11],iN=[280,256,256,256,40],B_=[0,1,1,1,0],S_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],E_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],F_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],T_=8,pv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],gv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],wd=null,P_=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],k_=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],oN=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],O_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],I_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],U_=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],__=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Go=[],Da=[],ro=[],D_=1,lN=2,qo=[],ha=[];Ji("UpsampleRgbLinePair",Qo,3),Ji("UpsampleBgrLinePair",Vn,3),Ji("UpsampleRgbaLinePair",ms,4),Ji("UpsampleBgraLinePair",dd,4),Ji("UpsampleArgbLinePair",ud,4),Ji("UpsampleRgba4444LinePair",Yl,2),Ji("UpsampleRgb565LinePair",Wl,2);var L_=P.UpsampleRgbLinePair,Q_=P.UpsampleBgrLinePair,cN=P.UpsampleRgbaLinePair,AN=P.UpsampleBgraLinePair,uN=P.UpsampleArgbLinePair,dN=P.UpsampleRgba4444LinePair,R_=P.UpsampleRgb565LinePair,lm=16,cm=1<<lm-1,jd=-227,xv=482,M_=6,fN=0,$_=i(256),H_=i(256),K_=i(256),V_=i(256),z_=i(xv-jd),G_=i(xv-jd);Zi("YuvToRgbRow",Qo,3),Zi("YuvToBgrRow",Vn,3),Zi("YuvToRgbaRow",ms,4),Zi("YuvToBgraRow",dd,4),Zi("YuvToArgbRow",ud,4),Zi("YuvToRgba4444Row",Yl,2),Zi("YuvToRgb565Row",Wl,2);var hN=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Am=[0,2,8],q_=[8,7,6,4,4,2,2,2,1,1,1,1],W_=1;this.WebPDecodeRGBA=function(v,j,O,_,G){var W=sm,Y=new Oe,ee=new Kt;Y.ba=ee,ee.S=W,ee.width=[ee.width],ee.height=[ee.height];var ne=ee.width,ie=ee.height,ge=new yt;if(ge==null||v==null)var Ne=2;else t(ge!=null),Ne=Xl(v,j,O,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Ne!=0?ne=0:(ne!=null&&(ne[0]=ge.width[0]),ie!=null&&(ie[0]=ge.height[0]),ne=1),ne){ee.width=ee.width[0],ee.height=ee.height[0],_!=null&&(_[0]=ee.width),G!=null&&(G[0]=ee.height);e:{if(_=new nA,(G=new Re).data=v,G.w=j,G.ha=O,G.kd=1,j=[0],t(G!=null),((v=Xl(G.data,G.w,G.ha,null,null,null,j,null,G))==0||v==7)&&j[0]&&(v=4),(j=v)==0){if(t(Y!=null),_.data=G.data,_.w=G.w+G.offset,_.ha=G.ha-G.offset,_.put=wt,_.ac=li,_.bc=$i,_.ma=Y,G.xa){if((v=Rl())==null){Y=1;break e}if(function(oe,xe){var be=[0],Ee=[0],je=[0];t:for(;;){if(oe==null)return 0;if(xe==null)return oe.a=2,0;if(oe.l=xe,oe.a=0,$(oe.m,xe.data,xe.w,xe.ha),!Hi(oe.m,be,Ee,je)){oe.a=3;break t}if(oe.xb=lN,xe.width=be[0],xe.height=Ee[0],!Ai(be[0],Ee[0],1,oe,null))break t;return 1}return t(oe.a!=0),0}(v,_)){if(_=(j=Ro(_.width,_.height,Y.Oa,Y.ba))==0){t:{_=v;r:for(;;){if(_==null){_=0;break t}if(t(_.s.yc!=null),t(_.s.Ya!=null),t(0<_.s.Wb),t((O=_.l)!=null),t((G=O.ma)!=null),_.xb!=0){if(_.ca=G.ba,_.tb=G.tb,t(_.ca!=null),!fd(G.Oa,O,am)){_.a=2;break r}if(!Ml(_,O.width)||O.da)break r;if((O.da||Ct(_.ca.S))&&_a(),11>_.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),_.ca.f.kb.F!=null&&_a()),_.Pb&&0<_.s.ua&&_.s.vb.X==null&&!J(_.s.vb,_.s.Wa.Xa)){_.a=1;break r}_.xb=0}if(!Ia(_,_.V,_.Ba,_.c,_.i,O.o,Do))break r;G.Dc=_.Ma,_=1;break t}t(_.a!=0),_=0}_=!_}_&&(j=v.a)}else j=v.a}else{if((v=new Y0)==null){Y=1;break e}if(v.Fa=G.na,v.P=G.P,v.qc=G.Sa,di(v,_)){if((j=Ro(_.width,_.height,Y.Oa,Y.ba))==0){if(v.Aa=0,O=Y.Oa,t((G=v)!=null),O!=null){if(0<(ne=0>(ne=O.Md)?0:100<ne?255:255*ne/100)){for(ie=ge=0;4>ie;++ie)12>(Ne=G.pb[ie]).lc&&(Ne.ia=ne*q_[0>Ne.lc?0:Ne.lc]>>3),ge|=Ne.ia;ge&&(alert("todo:VP8InitRandom"),G.ia=1)}G.Ga=O.Id,100<G.Ga?G.Ga=100:0>G.Ga&&(G.Ga=0)}(function(oe,xe){if(oe==null)return 0;if(xe==null)return fn(oe,2,"NULL VP8Io parameter in VP8Decode().");if(!oe.cb&&!di(oe,xe))return 0;if(t(oe.cb),xe.ac==null||xe.ac(xe)){xe.ob&&(oe.L=0);var be=Am[oe.L];if(oe.L==2?(oe.yb=0,oe.zb=0):(oe.yb=xe.v-be>>4,oe.zb=xe.j-be>>4,0>oe.yb&&(oe.yb=0),0>oe.zb&&(oe.zb=0)),oe.Va=xe.o+15+be>>4,oe.Hb=xe.va+15+be>>4,oe.Hb>oe.za&&(oe.Hb=oe.za),oe.Va>oe.Ub&&(oe.Va=oe.Ub),0<oe.L){var Ee=oe.ed;for(be=0;4>be;++be){var je;if(oe.Qa.Cb){var Te=oe.Qa.Lb[be];oe.Qa.Fb||(Te+=Ee.Tb)}else Te=Ee.Tb;for(je=0;1>=je;++je){var Ue=oe.gd[be][je],Ke=Te;if(Ee.Pc&&(Ke+=Ee.vd[0],je&&(Ke+=Ee.od[0])),0<(Ke=0>Ke?0:63<Ke?63:Ke)){var Me=Ke;0<Ee.wb&&(Me=4<Ee.wb?Me>>2:Me>>1)>9-Ee.wb&&(Me=9-Ee.wb),1>Me&&(Me=1),Ue.dd=Me,Ue.tc=2*Ke+Me,Ue.ld=40<=Ke?2:15<=Ke?1:0}else Ue.tc=0;Ue.La=je}}}be=0}else fn(oe,6,"Frame setup failed"),be=oe.a;if(be=be==0){if(be){oe.$c=0,0<oe.Aa||(oe.Ic=W_);t:{be=oe.Ic,Ee=4*(Me=oe.za);var pt=32*Me,nt=Me+1,Qt=0<oe.L?Me*(0<oe.Aa?2:1):0,ut=(oe.Aa==2?2:1)*Me;if((Ue=Ee+832+(je=3*(16*be+Am[oe.L])/2*pt)+(Te=oe.Fa!=null&&0<oe.Fa.length?oe.Kc.c*oe.Kc.i:0))!=Ue)be=0;else{if(Ue>oe.Vb){if(oe.Vb=0,oe.Ec=i(Ue),oe.Fc=0,oe.Ec==null){be=fn(oe,1,"no memory during frame initialization.");break t}oe.Vb=Ue}Ue=oe.Ec,Ke=oe.Fc,oe.Ac=Ue,oe.Bc=Ke,Ke+=Ee,oe.Gd=o(pt,Rh),oe.Hd=0,oe.rb=o(nt+1,ed),oe.sb=1,oe.wa=Qt?o(Qt,ca):null,oe.Y=0,oe.D.Nb=0,oe.D.wa=oe.wa,oe.D.Y=oe.Y,0<oe.Aa&&(oe.D.Y+=Me),t(!0),oe.oc=Ue,oe.pc=Ke,Ke+=832,oe.ya=o(ut,td),oe.aa=0,oe.D.ya=oe.ya,oe.D.aa=oe.aa,oe.Aa==2&&(oe.D.aa+=Me),oe.R=16*Me,oe.B=8*Me,Me=(pt=Am[oe.L])*oe.R,pt=pt/2*oe.B,oe.sa=Ue,oe.ta=Ke+Me,oe.qa=oe.sa,oe.ra=oe.ta+16*be*oe.R+pt,oe.Ha=oe.qa,oe.Ia=oe.ra+8*be*oe.B+pt,oe.$c=0,Ke+=je,oe.mb=Te?Ue:null,oe.nb=Te?Ke:null,t(Ke+Te<=oe.Fc+oe.Vb),Hh(oe),a(oe.Ac,oe.Bc,0,Ee),be=1}}if(be){if(xe.ka=0,xe.y=oe.sa,xe.O=oe.ta,xe.f=oe.qa,xe.N=oe.ra,xe.ea=oe.Ha,xe.Vd=oe.Ia,xe.fa=oe.R,xe.Rc=oe.B,xe.F=null,xe.J=0,!nN){for(be=-255;255>=be;++be)Zj[255+be]=0>be?-be:be;for(be=-1020;1020>=be;++be)eN[1020+be]=-128>be?-128:127<be?127:be;for(be=-112;112>=be;++be)tN[112+be]=-16>be?-16:15<be?15:be;for(be=-255;510>=be;++be)rN[255+be]=0>be?0:255<be?255:be;nN=1}zo=aA,ec=J0,pi=fi,ar=Vh,wr=zh,da=X0,rn=Xh,jn=zl,to=z,bd=le,uA=Jh,tm=S,Kj=he,Vj=ve,zj=Vl,Gj=cd,qj=Wh,Wj=Yh,Da[0]=iv,Da[1]=Z0,Da[2]=sv,Da[3]=av,Da[4]=Vi,Da[5]=ov,Da[6]=zi,Da[7]=lv,Da[8]=sd,Da[9]=iA,Go[0]=rv,Go[1]=tv,Go[2]=rd,Go[3]=Gh,Go[4]=Hl,Go[5]=nd,Go[6]=nv,ro[0]=Av,ro[1]=ev,ro[2]=Kl,ro[3]=cv,ro[4]=id,ro[5]=ad,ro[6]=qh,be=1}else be=0}be&&(be=function(Wt,Nn){for(Wt.M=0;Wt.M<Wt.Va;++Wt.M){var Rt,dt=Wt.Jc[Wt.M&Wt.Xb],Ye=Wt.m,nn=Wt;for(Rt=0;Rt<nn.za;++Rt){var Ut=Ye,Yt=nn,Ir=Yt.Ac,zn=Yt.Bc+4*Rt,ps=Yt.zc,Xr=Yt.ya[Yt.aa+Rt];if(Yt.Qa.Bb?Xr.$b=te(Ut,Yt.Pa.jb[0])?2+te(Ut,Yt.Pa.jb[2]):te(Ut,Yt.Pa.jb[1]):Xr.$b=0,Yt.kc&&(Xr.Ad=te(Ut,Yt.Bd)),Xr.Za=!te(Ut,145)+0,Xr.Za){var rs=Xr.Ob,gs=0;for(Yt=0;4>Yt;++Yt){var Cn,Jt=ps[0+Yt];for(Cn=0;4>Cn;++Cn){Jt=I_[Ir[zn+Cn]][Jt];for(var hr=oN[te(Ut,Jt[0])];0<hr;)hr=oN[2*hr+te(Ut,Jt[hr])];Jt=-hr,Ir[zn+Cn]=Jt}n(rs,gs,Ir,zn,4),gs+=4,ps[0+Yt]=Jt}}else Jt=te(Ut,156)?te(Ut,128)?1:3:te(Ut,163)?2:0,Xr.Ob[0]=Jt,a(Ir,zn,Jt,4),a(ps,0,Jt,4);Xr.Dd=te(Ut,142)?te(Ut,114)?te(Ut,183)?1:3:2:0}if(nn.m.Ka)return fn(Wt,7,"Premature end-of-partition0 encountered.");for(;Wt.ja<Wt.za;++Wt.ja){if(nn=dt,Ut=(Ye=Wt).rb[Ye.sb-1],Ir=Ye.rb[Ye.sb+Ye.ja],Rt=Ye.ya[Ye.aa+Ye.ja],zn=Ye.kc?Rt.Ad:0)Ut.la=Ir.la=0,Rt.Za||(Ut.Na=Ir.Na=0),Rt.Hc=0,Rt.Gc=0,Rt.ia=0;else{var Jr,mr;if(Ut=Ir,Ir=nn,zn=Ye.Pa.Xc,ps=Ye.ya[Ye.aa+Ye.ja],Xr=Ye.pb[ps.$b],Yt=ps.ad,rs=0,gs=Ye.rb[Ye.sb-1],Jt=Cn=0,a(Yt,rs,0,384),ps.Za)var Gn=0,La=zn[3];else{hr=i(16);var sn=Ut.Na+gs.Na;if(sn=wd(Ir,zn[1],sn,Xr.Eb,0,hr,0),Ut.Na=gs.Na=(0<sn)+0,1<sn)zo(hr,0,Yt,rs);else{var Ss=hr[0]+3>>3;for(hr=0;256>hr;hr+=16)Yt[rs+hr]=Ss}Gn=1,La=zn[0]}var jr=15&Ut.la,Bn=15&gs.la;for(hr=0;4>hr;++hr){var Qs=1&Bn;for(Ss=mr=0;4>Ss;++Ss)jr=jr>>1|(Qs=(sn=wd(Ir,La,sn=Qs+(1&jr),Xr.Sc,Gn,Yt,rs))>Gn)<<7,mr=mr<<2|(3<sn?3:1<sn?2:Yt[rs+0]!=0),rs+=16;jr>>=4,Bn=Bn>>1|Qs<<7,Cn=(Cn<<8|mr)>>>0}for(La=jr,Gn=Bn>>4,Jr=0;4>Jr;Jr+=2){for(mr=0,jr=Ut.la>>4+Jr,Bn=gs.la>>4+Jr,hr=0;2>hr;++hr){for(Qs=1&Bn,Ss=0;2>Ss;++Ss)sn=Qs+(1&jr),jr=jr>>1|(Qs=0<(sn=wd(Ir,zn[2],sn,Xr.Qc,0,Yt,rs)))<<3,mr=mr<<2|(3<sn?3:1<sn?2:Yt[rs+0]!=0),rs+=16;jr>>=2,Bn=Bn>>1|Qs<<5}Jt|=mr<<4*Jr,La|=jr<<4<<Jr,Gn|=(240&Bn)<<Jr}Ut.la=La,gs.la=Gn,ps.Hc=Cn,ps.Gc=Jt,ps.ia=43690&Jt?0:Xr.ia,zn=!(Cn|Jt)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[Rt.$b][Rt.Za],Ye.wa[Ye.Y+Ye.ja].La|=!zn),nn.Ka)return fn(Wt,7,"Premature end-of-file encountered.")}if(Hh(Wt),Ye=Nn,nn=1,Rt=(dt=Wt).D,Ut=0<dt.L&&dt.M>=dt.zb&&dt.M<=dt.Va,dt.Aa==0)t:{if(Rt.M=dt.M,Rt.uc=Ut,ua(dt,Rt),nn=1,Rt=(mr=dt.D).Nb,Ut=(Jt=Am[dt.L])*dt.R,Ir=Jt/2*dt.B,hr=16*Rt*dt.R,Ss=8*Rt*dt.B,zn=dt.sa,ps=dt.ta-Ut+hr,Xr=dt.qa,Yt=dt.ra-Ir+Ss,rs=dt.Ha,gs=dt.Ia-Ir+Ss,Bn=(jr=mr.M)==0,Cn=jr>=dt.Va-1,dt.Aa==2&&ua(dt,mr),mr.uc)for(Qs=(sn=dt).D.M,t(sn.D.uc),mr=sn.yb;mr<sn.Hb;++mr){Gn=mr,La=Qs;var xs=(Rs=(qn=sn).D).Nb;Jr=qn.R;var Rs=Rs.wa[Rs.Y+Gn],Ms=qn.sa,Es=qn.ta+16*xs*Jr+16*Gn,$s=Rs.dd,Er=Rs.tc;if(Er!=0)if(t(3<=Er),qn.L==1)0<Gn&&Gj(Ms,Es,Jr,Er+4),Rs.La&&Wj(Ms,Es,Jr,Er),0<La&&zj(Ms,Es,Jr,Er+4),Rs.La&&qj(Ms,Es,Jr,Er);else{var Hs=qn.B,Qa=qn.qa,tc=qn.ra+8*xs*Hs+8*Gn,no=qn.Ha,qn=qn.Ia+8*xs*Hs+8*Gn;xs=Rs.ld,0<Gn&&(jn(Ms,Es,Jr,Er+4,$s,xs),bd(Qa,tc,no,qn,Hs,Er+4,$s,xs)),Rs.La&&(tm(Ms,Es,Jr,Er,$s,xs),Vj(Qa,tc,no,qn,Hs,Er,$s,xs)),0<La&&(rn(Ms,Es,Jr,Er+4,$s,xs),to(Qa,tc,no,qn,Hs,Er+4,$s,xs)),Rs.La&&(uA(Ms,Es,Jr,Er,$s,xs),Kj(Qa,tc,no,qn,Hs,Er,$s,xs))}}if(dt.ia&&alert("todo:DitherRow"),Ye.put!=null){if(mr=16*jr,jr=16*(jr+1),Bn?(Ye.y=dt.sa,Ye.O=dt.ta+hr,Ye.f=dt.qa,Ye.N=dt.ra+Ss,Ye.ea=dt.Ha,Ye.W=dt.Ia+Ss):(mr-=Jt,Ye.y=zn,Ye.O=ps,Ye.f=Xr,Ye.N=Yt,Ye.ea=rs,Ye.W=gs),Cn||(jr-=Jt),jr>Ye.o&&(jr=Ye.o),Ye.F=null,Ye.J=null,dt.Fa!=null&&0<dt.Fa.length&&mr<jr&&(Ye.J=Sr(dt,Ye,mr,jr-mr),Ye.F=dt.mb,Ye.F==null&&Ye.F.length==0)){nn=fn(dt,3,"Could not decode alpha data.");break t}mr<Ye.j&&(Jt=Ye.j-mr,mr=Ye.j,t(!(1&Jt)),Ye.O+=dt.R*Jt,Ye.N+=dt.B*(Jt>>1),Ye.W+=dt.B*(Jt>>1),Ye.F!=null&&(Ye.J+=Ye.width*Jt)),mr<jr&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,Ye.F!=null&&(Ye.J+=Ye.v),Ye.ka=mr-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=jr-mr,nn=Ye.put(Ye))}Rt+1!=dt.Ic||Cn||(n(dt.sa,dt.ta-Ut,zn,ps+16*dt.R,Ut),n(dt.qa,dt.ra-Ir,Xr,Yt+8*dt.B,Ir),n(dt.Ha,dt.Ia-Ir,rs,gs+8*dt.B,Ir))}if(!nn)return fn(Wt,6,"Output aborted.")}return 1}(oe,xe)),xe.bc!=null&&xe.bc(xe),be&=1}return be?(oe.cb=0,be):0})(v,_)||(j=v.a)}}else j=v.a}j==0&&Y.Oa!=null&&Y.Oa.fd&&(j=hd(Y.ba))}Y=j}W=Y!=0?null:11>W?ee.f.RGBA.eb:ee.f.kb.y}else W=null;return W};var mN=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(P,Q){for(var U="",T=0;T<4;T++)U+=String.fromCharCode(P[Q++]);return U}function u(P,Q){return P[Q+0]|P[Q+1]<<8}function d(P,Q){return(P[Q+0]|P[Q+1]<<8|P[Q+2]<<16)>>>0}function h(P,Q){return(P[Q+0]|P[Q+1]<<8|P[Q+2]<<16|P[Q+3]<<24)>>>0}new c;var f=[0],g=[0],p=[],b=new c,m=e,x=function(P,Q){var U={},T=0,k=!1,I=0,M=0;if(U.frames=[],!function(D,H){for(var V=0;V<4;V++)if(D[H+V]!="RIFF".charCodeAt(V))return!0;return!1}(P,Q)){for(h(P,Q+=4),Q+=8;Q<P.length;){var L=A(P,Q),K=h(P,Q+=4);Q+=4;var R=K+(1&K);switch(L){case"VP8 ":case"VP8L":U.frames[T]===void 0&&(U.frames[T]={}),(Z=U.frames[T]).src_off=k?M:Q-8,Z.src_size=I+K+8,T++,k&&(k=!1,I=0,M=0);break;case"VP8X":(Z=U.header={}).feature_flags=P[Q];var $=Q+4;Z.canvas_width=1+d(P,$),$+=3,Z.canvas_height=1+d(P,$),$+=3;break;case"ALPH":k=!0,I=R+8,M=Q-8;break;case"ANIM":(Z=U.header).bgcolor=h(P,Q),$=Q+4,Z.loop_count=u(P,$),$+=2;break;case"ANMF":var q,Z;(Z=U.frames[T]={}).offset_x=2*d(P,Q),Q+=3,Z.offset_y=2*d(P,Q),Q+=3,Z.width=1+d(P,Q),Q+=3,Z.height=1+d(P,Q),Q+=3,Z.duration=d(P,Q),Q+=3,q=P[Q++],Z.dispose=1&q,Z.blend=q>>1&1}L!="ANMF"&&(Q+=R)}return U}}(m,0);x.response=m,x.rgbaoutput=!0,x.dataurl=!1;var y=x.header?x.header:null,w=x.frames?x.frames:null;if(y){y.loop_counter=y.loop_count,f=[y.canvas_height],g=[y.canvas_width];for(var N=0;N<w.length&&w[N].blend!=0;N++);}var B=w[0],F=b.WebPDecodeRGBA(m,B.src_off,B.src_size,g,f);B.rgba=F,B.imgwidth=g[0],B.imgheight=f[0];for(var E=0;E<g[0]*f[0]*4;E++)p[E]=F[E];return this.width=g,this.height=f,this.data=p,this}(function(e){var t,r,n,a,i,o,l,c,A,u=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,A=new u}]);var d=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=D;Object.defineProperty(this,"pdf",{get:function(){return H}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(J){V=!!J}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(J){re=!!J}});var Ae=0;Object.defineProperty(this,"posX",{get:function(){return Ae},set:function(J){isNaN(J)||(Ae=J)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(J){isNaN(J)||(ae=J)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(J){var _e;typeof J=="number"?_e=[J,J,J,J]:((_e=new Array(4))[0]=J[0],_e[1]=J.length>=2?J[1]:_e[0],_e[2]=J.length>=3?J[2]:_e[0],_e[3]=J.length>=4?J[3]:_e[1]),A.margin=_e}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(J){de=J}});var X=0;Object.defineProperty(this,"lastBreak",{get:function(){return X},set:function(J){X=J}});var te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return te},set:function(J){te=J}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(J){J instanceof u&&(A=J)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(J){A.path=J}});var ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return ue},set:function(J){ue=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var _e;_e=h(J),this.ctx.fillStyle=_e.style,this.ctx.isFillTransparent=_e.a===0,this.ctx.fillOpacity=_e.a,this.pdf.setFillColor(_e.r,_e.g,_e.b,{a:_e.a}),this.pdf.setTextColor(_e.r,_e.g,_e.b,{a:_e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var _e=h(J);this.ctx.strokeStyle=_e.style,this.ctx.isStrokeTransparent=_e.a===0,this.ctx.strokeOpacity=_e.a,_e.a===0?this.pdf.setDrawColor(255,255,255):(_e.a,this.pdf.setDrawColor(_e.r,_e.g,_e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var se=null,we=null,Ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ce},set:function(J){se=null,we=null,Ce=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var _e;if(this.ctx.font=J,(_e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var Ge=_e[1];_e[2];var We=_e[3],ke=_e[4];_e[5];var At=_e[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(qe==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var ce=function(Xe){var Gr,zt,Ot=[],Lt=Xe.trim();if(Lt==="")return Mb;if(Lt in DE)return[DE[Lt]];for(;Lt!=="";){switch(zt=null,Gr=(Lt=QE(Lt)).charAt(0)){case'"':case"'":zt=Jye(Lt.substring(1),Gr);break;default:zt=Zye(Lt)}if(zt===null||(Ot.push(zt[0]),(Lt=QE(zt[1]))!==""&&Lt.charAt(0)!==","))return Mb;Lt=Lt.replace(/^,/,"")}return Ot}(At);if(this.fontFaces){var pe=function(Xe,Gr){var zt=Xe.getFontList(),Ot=JSON.stringify(zt);if(se===null||we!==Ot){var Lt=function(yr){var xt=[];return Object.keys(yr).forEach(function(fr){yr[fr].forEach(function(Ct){var It=null;switch(Ct){case"bold":It={family:fr,weight:"bold"};break;case"italic":It={family:fr,style:"italic"};break;case"bolditalic":It={family:fr,weight:"bold",style:"italic"};break;case"":case"normal":It={family:fr}}It!==null&&(It.ref={name:fr,style:Ct},xt.push(It))})}),xt}(zt);se=function(yr){for(var xt={},fr=0;fr<yr.length;++fr){var Ct=Rb(yr[fr]),It=Ct.family,Hr=Ct.stretch,Kt=Ct.style,yt=Ct.weight;xt[It]=xt[It]||{},xt[It][Hr]=xt[It][Hr]||{},xt[It][Hr][Kt]=xt[It][Hr][Kt]||{},xt[It][Hr][Kt][yt]=Ct}return xt}(Lt.concat(Gr)),we=Ot}return se}(this.pdf,this.fontFaces),Be=ce.map(function(Xe){return{family:Xe,stretch:"normal",weight:We,style:Ge}}),Qe=function(Xe,Gr,zt){for(var Ot=(zt=zt||{}).defaultFontFamily||"times",Lt=Object.assign({},Xye,zt.genericFontFamilies||{}),yr=null,xt=null,fr=0;fr<Gr.length;++fr)if(Lt[(yr=Rb(Gr[fr])).family]&&(yr.family=Lt[yr.family]),Xe.hasOwnProperty(yr.family)){xt=Xe[yr.family];break}if(!(xt=xt||Xe[Ot]))throw new Error("Could not find a font-family for the rule '"+LE(yr)+"' and default family '"+Ot+"'.");if(xt=function(Ct,It){if(It[Ct])return It[Ct];var Hr=b1[Ct],Kt=Hr<=b1.normal?-1:1,yt=_E(It,mU,Hr,Kt);if(!yt)throw new Error("Could not find a matching font-stretch value for "+Ct);return yt}(yr.stretch,xt),xt=function(Ct,It){if(It[Ct])return It[Ct];for(var Hr=hU[Ct],Kt=0;Kt<Hr.length;++Kt)if(It[Hr[Kt]])return It[Hr[Kt]];throw new Error("Could not find a matching font-style for "+Ct)}(yr.style,xt),!(xt=function(Ct,It){if(It[Ct])return It[Ct];if(Ct===400&&It[500])return It[500];if(Ct===500&&It[400])return It[400];var Hr=Yye[Ct],Kt=_E(It,pU,Hr,Ct<400?-1:1);if(!Kt)throw new Error("Could not find a matching font-weight for value "+Ct);return Kt}(yr.weight,xt)))throw new Error("Failed to resolve a font for the rule '"+LE(yr)+"'.");return xt}(pe,Be);this.pdf.setFont(Qe.ref.name,Qe.ref.style)}else{var Ie="";(We==="bold"||parseInt(We,10)>=700||Ge==="bold")&&(Ie="bold"),Ge==="italic"&&(Ie+="italic"),Ie.length===0&&(Ie="normal");for(var Pe="",$e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ve=0;Ve<ce.length;Ve++){if(this.pdf.internal.getFont(ce[Ve],Ie,{noFallback:!0,disableWarning:!0})!==void 0){Pe=ce[Ve];break}if(Ie==="bolditalic"&&this.pdf.internal.getFont(ce[Ve],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Pe=ce[Ve],Ie="bold";else if(this.pdf.internal.getFont(ce[Ve],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Pe=ce[Ve],Ie="normal";break}}if(Pe===""){for(var lt=0;lt<ce.length;lt++)if($e[ce[lt]]){Pe=$e[ce[lt]];break}}Pe=Pe===""?"Times":Pe,this.pdf.setFont(Pe,Ie)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};d.prototype.setLineDash=function(D){this.lineDash=D},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){w.call(this,"fill",!1)},d.prototype.stroke=function(){w.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(D,H){if(isNaN(D)||isNaN(H))throw Nr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new o(D,H));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(D,H)},d.prototype.closePath=function(){var D=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&gr(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){D=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},d.prototype.lineTo=function(D,H){if(isNaN(D)||isNaN(H))throw Nr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new o(D,H));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},d.prototype.quadraticCurveTo=function(D,H,V,re){if(isNaN(V)||isNaN(re)||isNaN(D)||isNaN(H))throw Nr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ae=this.ctx.transform.applyToPoint(new o(V,re)),ae=this.ctx.transform.applyToPoint(new o(D,H));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new o(Ae.x,Ae.y)},d.prototype.bezierCurveTo=function(D,H,V,re,Ae,ae){if(isNaN(Ae)||isNaN(ae)||isNaN(D)||isNaN(H)||isNaN(V)||isNaN(re))throw Nr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(Ae,ae)),X=this.ctx.transform.applyToPoint(new o(D,H)),te=this.ctx.transform.applyToPoint(new o(V,re));this.path.push({type:"bct",x1:X.x,y1:X.y,x2:te.x,y2:te.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},d.prototype.arc=function(D,H,V,re,Ae,ae){if(isNaN(D)||isNaN(H)||isNaN(V)||isNaN(re)||isNaN(Ae))throw Nr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(D,H));D=de.x,H=de.y;var X=this.ctx.transform.applyToPoint(new o(0,V)),te=this.ctx.transform.applyToPoint(new o(0,0));V=Math.sqrt(Math.pow(X.x-te.x,2)+Math.pow(X.y-te.y,2))}Math.abs(Ae-re)>=2*Math.PI&&(re=0,Ae=2*Math.PI),this.path.push({type:"arc",x:D,y:H,radius:V,startAngle:re,endAngle:Ae,counterclockwise:ae})},d.prototype.arcTo=function(D,H,V,re,Ae){throw new Error("arcTo not implemented.")},d.prototype.rect=function(D,H,V,re){if(isNaN(D)||isNaN(H)||isNaN(V)||isNaN(re))throw Nr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,H),this.lineTo(D+V,H),this.lineTo(D+V,H+re),this.lineTo(D,H+re),this.lineTo(D,H),this.lineTo(D+V,H),this.lineTo(D,H)},d.prototype.fillRect=function(D,H,V,re){if(isNaN(D)||isNaN(H)||isNaN(V)||isNaN(re))throw Nr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Ae={};this.lineCap!=="butt"&&(Ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,H,V,re),this.fill(),Ae.hasOwnProperty("lineCap")&&(this.lineCap=Ae.lineCap),Ae.hasOwnProperty("lineJoin")&&(this.lineJoin=Ae.lineJoin)}},d.prototype.strokeRect=function(D,H,V,re){if(isNaN(D)||isNaN(H)||isNaN(V)||isNaN(re))throw Nr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(D,H,V,re),this.stroke())},d.prototype.clearRect=function(D,H,V,re){if(isNaN(D)||isNaN(H)||isNaN(V)||isNaN(re))throw Nr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,H,V,re))},d.prototype.save=function(D){D=typeof D!="boolean"||D;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},d.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(H),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(D){var H,V,re,Ae;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))H=0,V=0,re=0,Ae=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ae!==null)H=parseInt(ae[1]),V=parseInt(ae[2]),re=parseInt(ae[3]),Ae=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)H=parseInt(ae[1]),V=parseInt(ae[2]),re=parseInt(ae[3]),Ae=parseFloat(ae[4]);else{if(Ae=1,typeof D=="string"&&D.charAt(0)!=="#"){var de=new oU(D);D=de.ok?de.toHex():"#000000"}D.length===4?(H=D.substring(1,2),H+=H,V=D.substring(2,3),V+=V,re=D.substring(3,4),re+=re):(H=D.substring(1,3),V=D.substring(3,5),re=D.substring(5,7)),H=parseInt(H,16),V=parseInt(V,16),re=parseInt(re,16)}}return{r:H,g:V,b:re,a:Ae,style:D}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(D,H,V,re){if(isNaN(H)||isNaN(V)||typeof D!="string")throw Nr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!f.call(this)){var Ae=R(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;T.call(this,{text:D,x:H,y:V,scale:ae,angle:Ae,align:this.textAlign,maxWidth:re})}},d.prototype.strokeText=function(D,H,V,re){if(isNaN(H)||isNaN(V)||typeof D!="string")throw Nr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){re=isNaN(re)?void 0:re;var Ae=R(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;T.call(this,{text:D,x:H,y:V,scale:ae,renderingMode:"stroke",angle:Ae,align:this.textAlign,maxWidth:re})}},d.prototype.measureText=function(D){if(typeof D!="string")throw Nr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,V=this.pdf.internal.scaleFactor,re=H.internal.getFontSize(),Ae=H.getStringUnitWidth(D)*re/H.internal.scaleFactor;return new function(ae){var de=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:Ae*=Math.round(96*V/72*1e4)/1e4})},d.prototype.scale=function(D,H){if(isNaN(D)||isNaN(H))throw Nr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new c(D,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},d.prototype.rotate=function(D){if(isNaN(D))throw Nr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},d.prototype.translate=function(D,H){if(isNaN(D)||isNaN(H))throw Nr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new c(1,0,0,1,D,H);this.ctx.transform=this.ctx.transform.multiply(V)},d.prototype.transform=function(D,H,V,re,Ae,ae){if(isNaN(D)||isNaN(H)||isNaN(V)||isNaN(re)||isNaN(Ae)||isNaN(ae))throw Nr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c(D,H,V,re,Ae,ae);this.ctx.transform=this.ctx.transform.multiply(de)},d.prototype.setTransform=function(D,H,V,re,Ae,ae){D=isNaN(D)?1:D,H=isNaN(H)?0:H,V=isNaN(V)?0:V,re=isNaN(re)?1:re,Ae=isNaN(Ae)?0:Ae,ae=isNaN(ae)?0:ae,this.ctx.transform=new c(D,H,V,re,Ae,ae)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(D,H,V,re,Ae,ae,de,X,te){var ue=this.pdf.getImageProperties(D),se=1,we=1,Ce=1,J=1;re!==void 0&&X!==void 0&&(Ce=X/re,J=te/Ae,se=ue.width/re*X/re,we=ue.height/Ae*te/Ae),ae===void 0&&(ae=H,de=V,H=0,V=0),re!==void 0&&X===void 0&&(X=re,te=Ae),re===void 0&&X===void 0&&(X=ue.width,te=ue.height);var _e=this.ctx.transform.decompose(),Ge=R(_e.rotate.shx),We=new c,ke=(We=(We=(We=We.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale)).applyToRectangle(new l(ae-H*Ce,de-V*J,re*se,Ae*we));if(this.autoPaging){for(var At,qe=b.call(this,ke),ce=[],pe=0;pe<qe.length;pe+=1)ce.indexOf(qe[pe])===-1&&ce.push(qe[pe]);y(ce);for(var Be=ce[0],Qe=ce[ce.length-1],Ie=Be;Ie<Qe+1;Ie++){this.pdf.setPage(Ie);var Pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$e=Ie===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=Ie===1?0:Ve+(Ie-2)*lt;if(this.ctx.clip_path.length!==0){var Gr=this.path;At=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(At,this.posX+this.margin[3],-Xe+$e+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Gr}var zt=JSON.parse(JSON.stringify(ke));zt=x([zt],this.posX+this.margin[3],-Xe+$e+this.ctx.prevPageLastElemOffset)[0];var Ot=(Ie>Be||Ie<Qe)&&p.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pe,lt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",zt.x,zt.y,zt.w,zt.h,null,null,Ge),Ot&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(D,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,Ge)};var b=function(D,H,V){var re=[];H=H||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ae=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":re.push(Math.floor((D.y+Ae)/V)+1);break;case"arc":re.push(Math.floor((D.y+Ae-D.radius)/V)+1),re.push(Math.floor((D.y+Ae+D.radius)/V)+1);break;case"qct":var ae=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);re.push(Math.floor((ae.y+Ae)/V)+1),re.push(Math.floor((ae.y+ae.h+Ae)/V)+1);break;case"bct":var de=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);re.push(Math.floor((de.y+Ae)/V)+1),re.push(Math.floor((de.y+de.h+Ae)/V)+1);break;case"rect":re.push(Math.floor((D.y+Ae)/V)+1),re.push(Math.floor((D.y+D.h+Ae)/V)+1)}for(var X=0;X<re.length;X+=1)for(;this.pdf.internal.getNumberOfPages()<re[X];)m.call(this);return re},m=function(){var D=this.fillStyle,H=this.strokeStyle,V=this.font,re=this.lineCap,Ae=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=H,this.font=V,this.lineCap=re,this.lineWidth=Ae,this.lineJoin=ae},x=function(D,H,V){for(var re=0;re<D.length;re++)switch(D[re].type){case"bct":D[re].x2+=H,D[re].y2+=V;case"qct":D[re].x1+=H,D[re].y1+=V;default:D[re].x+=H,D[re].y+=V}return D},y=function(D){return D.sort(function(H,V){return H-V})},w=function(D,H){var V=this.fillStyle,re=this.strokeStyle,Ae=this.lineCap,ae=this.lineWidth,de=Math.abs(ae*this.ctx.transform.scaleX),X=this.lineJoin;if(this.autoPaging){for(var te,ue,se=JSON.parse(JSON.stringify(this.path)),we=JSON.parse(JSON.stringify(this.path)),Ce=[],J=0;J<we.length;J++)if(we[J].x!==void 0)for(var _e=b.call(this,we[J]),Ge=0;Ge<_e.length;Ge+=1)Ce.indexOf(_e[Ge])===-1&&Ce.push(_e[Ge]);for(var We=0;We<Ce.length;We++)for(;this.pdf.internal.getNumberOfPages()<Ce[We];)m.call(this);y(Ce);for(var ke=Ce[0],At=Ce[Ce.length-1],qe=ke;qe<At+1;qe++){this.pdf.setPage(qe),this.fillStyle=V,this.strokeStyle=re,this.lineCap=Ae,this.lineWidth=de,this.lineJoin=X;var ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pe=qe===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=qe===1?0:Be+(qe-2)*Qe;if(this.ctx.clip_path.length!==0){var Pe=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(te,this.posX+this.margin[3],-Ie+pe+this.ctx.prevPageLastElemOffset),N.call(this,D,!0),this.path=Pe}if(ue=JSON.parse(JSON.stringify(se)),this.path=x(ue,this.posX+this.margin[3],-Ie+pe+this.ctx.prevPageLastElemOffset),H===!1||qe===0){var $e=(qe>ke||qe<At)&&p.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ce,Qe,null).clip().discardPath()),N.call(this,D,H),$e&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}this.path=se}else this.lineWidth=de,N.call(this,D,H),this.lineWidth=ae},N=function(D,H){if((D!=="stroke"||H||!g.call(this))&&(D==="stroke"||H||!f.call(this))){for(var V,re,Ae=[],ae=this.path,de=0;de<ae.length;de++){var X=ae[de];switch(X.type){case"begin":Ae.push({begin:!0});break;case"close":Ae.push({close:!0});break;case"mt":Ae.push({start:X,deltas:[],abs:[]});break;case"lt":var te=Ae.length;if(ae[de-1]&&!isNaN(ae[de-1].x)&&(V=[X.x-ae[de-1].x,X.y-ae[de-1].y],te>0)){for(;te>=0;te--)if(Ae[te-1].close!==!0&&Ae[te-1].begin!==!0){Ae[te-1].deltas.push(V),Ae[te-1].abs.push(X);break}}break;case"bct":V=[X.x1-ae[de-1].x,X.y1-ae[de-1].y,X.x2-ae[de-1].x,X.y2-ae[de-1].y,X.x-ae[de-1].x,X.y-ae[de-1].y],Ae[Ae.length-1].deltas.push(V);break;case"qct":var ue=ae[de-1].x+2/3*(X.x1-ae[de-1].x),se=ae[de-1].y+2/3*(X.y1-ae[de-1].y),we=X.x+2/3*(X.x1-X.x),Ce=X.y+2/3*(X.y1-X.y),J=X.x,_e=X.y;V=[ue-ae[de-1].x,se-ae[de-1].y,we-ae[de-1].x,Ce-ae[de-1].y,J-ae[de-1].x,_e-ae[de-1].y],Ae[Ae.length-1].deltas.push(V);break;case"arc":Ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ae[Ae.length-1].abs)&&Ae[Ae.length-1].abs.push(X)}}re=H?null:D==="stroke"?"stroke":"fill";for(var Ge=!1,We=0;We<Ae.length;We++)if(Ae[We].arc)for(var ke=Ae[We].abs,At=0;At<ke.length;At++){var qe=ke[At];qe.type==="arc"?E.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,H,!Ge):k.call(this,qe.x,qe.y),Ge=!0}else if(Ae[We].close===!0)this.pdf.internal.out("h"),Ge=!1;else if(Ae[We].begin!==!0){var ce=Ae[We].start.x,pe=Ae[We].start.y;I.call(this,Ae[We].deltas,ce,pe),Ge=!0}re&&P.call(this,re),H&&Q.call(this)}},B=function(D){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-V;case"top":return D+H-V;case"hanging":return D+H-2*V;case"middle":return D+H/2-V;default:return D}},F=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(H,V){this.colorStops.push([H,V])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(D,H,V,re,Ae,ae,de,X,te){for(var ue=L.call(this,V,re,Ae,ae),se=0;se<ue.length;se++){var we=ue[se];se===0&&(te?U.call(this,we.x1+D,we.y1+H):k.call(this,we.x1+D,we.y1+H)),M.call(this,D,H,we.x2,we.y2,we.x3,we.y3,we.x4,we.y4)}X?Q.call(this):P.call(this,de)},P=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(D,H){this.pdf.internal.out(r(D)+" "+n(H)+" m")},T=function(D){var H;switch(D.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var V,re,Ae,ae=this.pdf.getTextDimensions(D.text),de=B.call(this,D.y),X=F.call(this,de)-ae.h,te=this.ctx.transform.applyToPoint(new o(D.x,de));if(this.autoPaging){var ue=this.ctx.transform.decompose(),se=new c;se=(se=(se=se.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var we=this.ctx.transform.applyToRectangle(new l(D.x,de,ae.w,ae.h)),Ce=se.applyToRectangle(new l(D.x,X,ae.w,ae.h)),J=b.call(this,Ce),_e=[],Ge=0;Ge<J.length;Ge+=1)_e.indexOf(J[Ge])===-1&&_e.push(J[Ge]);y(_e);for(var We=_e[0],ke=_e[_e.length-1],At=We;At<ke+1;At++){this.pdf.setPage(At);var qe=At===1?this.posY+this.margin[0]:this.margin[0],ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pe=this.pdf.internal.pageSize.height-this.margin[2],Be=pe-this.margin[0],Qe=this.pdf.internal.pageSize.width-this.margin[1],Ie=Qe-this.margin[3],Pe=At===1?0:ce+(At-2)*Be;if(this.ctx.clip_path.length!==0){var $e=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(V,this.posX+this.margin[3],-1*Pe+qe),N.call(this,"fill",!0),this.path=$e}var Ve=x([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-Pe+qe+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*D.scale),Ae=this.lineWidth,this.lineWidth=Ae*D.scale);var lt=this.autoPaging!=="text";if(lt||Ve.y+Ve.h<=pe){if(lt||Ve.y>=qe&&Ve.x<=Qe){var Xe=lt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Qe-Ve.x)[0],Gr=x([JSON.parse(JSON.stringify(we))],this.posX+this.margin[3],-Pe+qe+this.ctx.prevPageLastElemOffset)[0],zt=lt&&(At>We||At<ke)&&p.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,Be,null).clip().discardPath()),this.pdf.text(Xe,Gr.x,Gr.y,{angle:D.angle,align:H,renderingMode:D.renderingMode}),zt&&this.pdf.restoreGraphicsState()}}else Ve.y<pe&&(this.ctx.prevPageLastElemOffset+=pe-Ve.y);D.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=Ae)}}else D.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*D.scale),Ae=this.lineWidth,this.lineWidth=Ae*D.scale),this.pdf.text(D.text,te.x+this.posX,te.y+this.posY,{angle:D.angle,align:H,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=Ae)},k=function(D,H,V,re){V=V||0,re=re||0,this.pdf.internal.out(r(D+V)+" "+n(H+re)+" l")},I=function(D,H,V){return this.pdf.lines(D,H,V,null,null)},M=function(D,H,V,re,Ae,ae,de,X){this.pdf.internal.out([t(a(V+D)),t(i(re+H)),t(a(Ae+D)),t(i(ae+H)),t(a(de+D)),t(i(X+H)),"c"].join(" "))},L=function(D,H,V,re){for(var Ae=2*Math.PI,ae=Math.PI/2;H>V;)H-=Ae;var de=Math.abs(V-H);de<Ae&&re&&(de=Ae-de);for(var X=[],te=re?-1:1,ue=H;de>1e-5;){var se=ue+te*Math.min(de,ae);X.push(K.call(this,D,ue,se)),de-=Math.abs(se-ue),ue=se}return X},K=function(D,H,V){var re=(V-H)/2,Ae=D*Math.cos(re),ae=D*Math.sin(re),de=Ae,X=-ae,te=de*de+X*X,ue=te+de*Ae+X*ae,se=4/3*(Math.sqrt(2*te*ue)-ue)/(de*ae-X*Ae),we=de-se*X,Ce=X+se*de,J=we,_e=-Ce,Ge=re+H,We=Math.cos(Ge),ke=Math.sin(Ge);return{x1:D*Math.cos(H),y1:D*Math.sin(H),x2:we*We-Ce*ke,y2:we*ke+Ce*We,x3:J*We-_e*ke,y3:J*ke+_e*We,x4:D*Math.cos(V),y4:D*Math.sin(V)}},R=function(D){return 180*D/Math.PI},$=function(D,H,V,re,Ae,ae){var de=D+.5*(V-D),X=H+.5*(re-H),te=Ae+.5*(V-Ae),ue=ae+.5*(re-ae),se=Math.min(D,Ae,de,te),we=Math.max(D,Ae,de,te),Ce=Math.min(H,ae,X,ue),J=Math.max(H,ae,X,ue);return new l(se,Ce,we-se,J-Ce)},q=function(D,H,V,re,Ae,ae,de,X){var te,ue,se,we,Ce,J,_e,Ge,We,ke,At,qe,ce,pe,Be=V-D,Qe=re-H,Ie=Ae-V,Pe=ae-re,$e=de-Ae,Ve=X-ae;for(ue=0;ue<41;ue++)We=(_e=(se=D+(te=ue/40)*Be)+te*((Ce=V+te*Ie)-se))+te*(Ce+te*(Ae+te*$e-Ce)-_e),ke=(Ge=(we=H+te*Qe)+te*((J=re+te*Pe)-we))+te*(J+te*(ae+te*Ve-J)-Ge),ue==0?(At=We,qe=ke,ce=We,pe=ke):(At=Math.min(At,We),qe=Math.min(qe,ke),ce=Math.max(ce,We),pe=Math.max(pe,ke));return new l(Math.round(At),Math.round(qe),Math.round(ce-At),Math.round(pe-qe))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,H,V=(D=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:H}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(gt.API),function(e){var t=function(o){var l,c,A,u,d,h,f,g,p,b;for(c=[],A=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>A;A+=4)(d=(o.charCodeAt(A)<<24)+(o.charCodeAt(A+1)<<16)+(o.charCodeAt(A+2)<<8)+o.charCodeAt(A+3))!==0?(h=(d=((d=((d=((d=(d-(b=d%85))/85)-(p=d%85))/85)-(g=d%85))/85)-(f=d%85))/85)%85,c.push(h+33,f+33,g+33,p+33,b+33)):c.push(122);return function(m,x){for(var y=x;y>0;y--)m.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,A,u,d,h=String,f="length",g=255,p="charCodeAt",b="slice",m="replace";for(o[b](-2),o=o[b](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),A=[],u=0,d=(o+=l="uuuuu"[b](o[f]%5||5))[f];d>u;u+=5)c=52200625*(o[p](u)-33)+614125*(o[p](u+1)-33)+7225*(o[p](u+2)-33)+85*(o[p](u+3)-33)+(o[p](u+4)-33),A.push(g&c>>24,g&c>>16,g&c>>8,g&c);return function(x,y){for(var w=y;w>0;w--)x.pop()}(A,l[f]),h.fromCharCode.apply(h,A)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",A=0;A<o.length;A+=2)c+=String.fromCharCode("0x"+(o[A]+o[A+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=f1(l)).reduce(function(A,u){return A+String.fromCharCode(u)},"")};e.processDataByFilters=function(o,l){var c=0,A=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":A=r(A),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":A=t(A),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":A=a(A),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":A=n(A),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":A=i(A),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:A,reverseChain:u.reverse().join(" ")}}}(gt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,A,u){var d=new XMLHttpRequest,h=0,f=function(g){var p=g.length,b=[],m=String.fromCharCode;for(h=0;h<p;h+=1)b.push(m(255&g.charCodeAt(h)));return b.join("")};if(d.open("GET",c,!A),d.overrideMimeType("text/plain; charset=x-user-defined"),A===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),A&&d.status===200)return f(d.responseText)}(a,i,o)}catch{}return l}(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(gt.API),function(e){function t(){return(St.html2canvas?Promise.resolve(St.html2canvas):Ip(()=>Promise.resolve().then(()=>HCe),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(St.DOMPurify?Promise.resolve(St.DOMPurify):Ip(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=gr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var A=document.createElement(l);for(var u in c.className&&(A.className=c.className),c.innerHTML&&c.dompurify&&(A.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)A.style[u]=c.style[u];return A},i=function l(c,A){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),d=c.firstChild;d;d=d.nextSibling)A!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(l(d,A));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var A=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),A);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(A){switch(n(A)){case"string":return"string";case"element":return A.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(A){return this.set({src:a("div",{innerHTML:l,dompurify:A})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var A=Object.assign({},this.opt.html2canvas);return delete A.onrendered,c(this.prop.container,A)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var A=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,A.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,A.context2d.posX=this.opt.x,A.context2d.posY=this.opt.y,A.context2d.margin=this.opt.margin,A.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var g=u[f],p=g.src.find(function(b){return b.format==="truetype"});p&&A.addFont(p.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,A.context2d.save(!0),c(this.prop.container,h)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,A){return(A=A||"pdf").toLowerCase()==="img"||A.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(A){if(A in o.template.prop)return function(){this.prop[A]=l[A]};switch(A){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[A]=l[A]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var A=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(A):A})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(A,u){return Math.floor(A*u/72*96)}return this.then(function(){(l=l||gt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,A,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),A!=null&&(this.progress.n=A),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,A,u){return this.setProgress(l?this.progress.val+l:null,c||null,A?this.progress.n+A:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var A=this;return this.thenCore(l,c,function(u,d){return A.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return A.updateProgress(null,u),h}).then(u,d).then(function(h){return A.updateProgress(1),h})})},o.prototype.thenCore=function(l,c,A){A=A||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),h=A.call(d,l,c);return o.convert(h,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(A){c=c.thenCore(A)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,gt.getPageSize=function(l,c,A){if(gr(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,A=u.format||A}c=c||"mm",A=A||"a4",l=(""+(l||"P")).toLowerCase();var d,h=(""+A).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+c}var g,p=0,b=0;if(f.hasOwnProperty(h))p=f[h][1]/d,b=f[h][0]/d;else try{p=A[1],b=A[0]}catch{throw new Error("Invalid format: "+A)}if(l==="p"||l==="portrait")l="p",b>p&&(g=b,b=p,p=g);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",p>b&&(g=b,b=p,p=g)}return{width:b,height:p,unit:c,k:d,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Rb):null;var A=new o(c);return c.worker?A:A.from(l).doCallback()}}(gt.API),gt.API.addJS=function(e){return ME=e,this.internal.events.subscribe("postPutResources",function(){Zm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Zm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),RE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ME+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Zm!==void 0&&RE!==void 0&&this.internal.out("/Names <</JavaScript "+Zm+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,u=[];for(i=0;i<A;i++){var d=r.internal.newObject();u.push(d);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var A=0;A<n.children.length;A++)this.renderItems(n.children[A])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(gt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,l){var c,A=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,p={width:0,height:0,numcomponents:1},b=4;b<g;b+=2){if(b+=f,t.indexOf(d.charCodeAt(b+1))!==-1){h=256*d.charCodeAt(b+5)+d.charCodeAt(b+6),p={width:256*d.charCodeAt(b+7)+d.charCodeAt(b+8),height:h,numcomponents:d.charCodeAt(b+9)};break}f=256*d.charCodeAt(b+2)+d.charCodeAt(b+3)}return p}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:A,index:n,alias:a}}return u}}(gt.API),gt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=_ye(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,A=i.palette,u=i.depth;a=A&&c===1?function(E){for(var P=E.width,Q=E.height,U=E.data,T=E.palette,k=E.depth,I=!1,M=[],L=[],K=void 0,R=!1,$=0,q=0;q<T.length;q++){var Z=V4(T[q],4),D=Z[0],H=Z[1],V=Z[2],re=Z[3];M.push(D,H,V),re!=null&&(re===0?($++,L.length<1&&L.push(q)):re<255&&(R=!0))}if(R||$>1){I=!0,L=void 0;var Ae=P*Q;K=new Uint8Array(Ae);for(var ae=new DataView(U.buffer),de=0;de<Ae;de++){var X=$b(ae,de,k),te=V4(T[X],4)[3];K[de]=te}}else $===0&&(L=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:I?8:void 0,colorBytes:U,alphaBytes:K,needSMask:I,palette:M,mask:L}}(i):c===2||c===4?function(E){for(var P=E.data,Q=E.width,U=E.height,T=E.channels,k=E.depth,I=T===2?"DeviceGray":"DeviceRGB",M=T-1,L=Q*U,K=M,R=L*K,$=1*L,q=Math.ceil(R*k/8),Z=Math.ceil($*k/8),D=new Uint8Array(q),H=new Uint8Array(Z),V=new DataView(P.buffer),re=new DataView(D.buffer),Ae=new DataView(H.buffer),ae=!1,de=0;de<L;de++){for(var X=de*T,te=0;te<K;te++)YE(re,$b(V,X+te,k),de*K+te,k);var ue=$b(V,X+K,k);ue<(1<<k)-1&&(ae=!0),YE(Ae,ue,1*de,k)}return{colorSpace:I,colorsPerPixel:M,sMaskBitsPerComponent:ae?k:void 0,colorBytes:D,alphaBytes:H,needSMask:ae}}(i):function(E){var P=E.data,Q=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Q,colorsPerPixel:Q==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?function(U){for(var T=U.length,k=new Uint8Array(2*T),I=new DataView(k.buffer,k.byteOffset,k.byteLength),M=0;M<T;M++)I.setUint16(2*M,U[M],!1);return k}(P):P,needSMask:!1}}(i);var d,h,f,g=a,p=g.colorSpace,b=g.colorsPerPixel,m=g.sMaskBitsPerComponent,x=g.colorBytes,y=g.alphaBytes,w=g.needSMask,N=g.palette,B=g.mask,F=null;return n!==gt.API.image_compression.NONE&&typeof f1=="function"?(F=function(E){var P;switch(E){case gt.API.image_compression.FAST:P=11;break;case gt.API.image_compression.MEDIUM:P=13;break;case gt.API.image_compression.SLOW:P=14;break;default:P=12}return P}(n),d=this.decode.FLATE_DECODE,h="/Predictor ".concat(F," /Colors ").concat(b," /BitsPerComponent ").concat(u," /Columns ").concat(o),e=VE(x,Math.ceil(o*b*u/8),b,u,n),w&&(f=VE(y,Math.ceil(o*m/8),1,m,n))):(d=void 0,h=void 0,e=x,w&&(f=y)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:e,index:t,filter:d,decodeParameters:h,transparency:B,palette:N,sMask:f,predictor:F,width:o,height:l,bitsPerComponent:u,sMaskBitsPerComponent:m,colorSpace:p}}},function(e){e.processGIF89A=function(t,r,n,a){var i=new nwe(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var A={data:c,width:o,height:l},u=new Hb(100).encode(A,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(gt.API),Ma.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ma.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Nr.log("bit decode error:"+r)}},Ma.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Ma.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,A=this.palette[l];if(this.data[o]=A.blue,this.data[o+1]=A.green,this.data[o+2]=A.red,this.data[o+3]=255,2*a+1>=this.width)break;A=this.palette[c],this.data[o+4]=A.blue,this.data[o+4+1]=A.green,this.data[o+4+2]=A.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ma.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Ma.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,A=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=A}this.pos+=e}},Ma.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,A=(o>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=A,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},Ma.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Ma.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},Ma.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Ma(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},A=new Hb(100).encode(c,100);return e.processJPEG.call(this,A,r,n,a)}}(gt.API),JE.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new JE(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},A=new Hb(100).encode(c,100);return e.processJPEG.call(this,A,r,n,a)}}(gt.API),gt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,A=0;A<a;A+=4){var u=n[A],d=n[A+1],h=n[A+2],f=n[A+3];i[l++]=u,i[l++]=d,i[l++]=h,o[c++]=f}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},gt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},BA=gt.API,ep=BA.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,A=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=A.fof?A.fof:1,d=t.doKerning!==!1,h=0,f=e.length,g=0,p=l[0]||c,b=[];for(r=0;r<f;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?b.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(h=d&&gr(A[n])==="object"&&!isNaN(parseInt(A[n][g],10))?A[n][g]/u:0,b.push((l[n]||p)/c+h)),g=n;return b},$E=BA.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return BA.processArabic&&(e=BA.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:ep.apply(this,arguments).reduce(function(i,o){return i+o},0)},HE=function(e,t,r,n){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},KE=function(e,t,r){r||(r={});var n,a,i,o,l,c,A,u=[],d=[u],h=r.textIndent||0,f=0,g=0,p=e.split(" "),b=ep.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?p[0].length+2:r.lineIndent||0){var m=Array(c).join(" "),x=[];p.map(function(w){(w=w.split(/\s*\n/)).length>1?x=x.concat(w.map(function(N,B){return(B&&N.length?`
`:"")+N})):x.push(w[0])}),p=x,c=$E.apply(this,[m,r])}for(i=0,o=p.length;i<o;i++){var y=0;if(n=p[i],c&&n[0]==`
`&&(n=n.substr(1),y=1),h+f+(g=(a=ep.apply(this,[n,r])).reduce(function(w,N){return w+N},0))>t||y){if(g>t){for(l=HE.apply(this,[n,a,t-(h+f),t]),u.push(l.shift()),u=[l.pop()];l.length;)d.push([l.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(w,N){return w+N},0)}else u=[n];d.push(u),h=g+c,f=b}else u.push(n),h+=f+g,f=b}return A=c?function(w,N){return(N?m:"")+w.join(" ")}:function(w){return w.join(" ")},d.map(A)},BA.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),h="Unicode";return d.metadata[h]?{widths:d.metadata[h].widths||{0:1},kerning:d.metadata[h].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,A=[];for(l=0,c=n.length;l<c;l++)A=A.concat(KE.apply(this,[n[l],o,i]));return A},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var o=function(h){return"0x"+parseInt(h,10).toString(16)},l=e.__fontmetrics__.compress=function(h){var f,g,p,b,m=["{"];for(var x in h){if(f=h[x],isNaN(parseInt(x,10))?g="'"+x+"'":(x=parseInt(x,10),g=(g=o(x).slice(2)).slice(0,-1)+a[g.slice(-1)]),typeof f=="number")f<0?(p=o(f).slice(3),b="-"):(p=o(f).slice(2),b=""),p=b+p.slice(0,-1)+a[p.slice(-1)];else{if(gr(f)!=="object")throw new Error("Don't know what to do with value type "+gr(f)+".");p=l(f)}m.push(g+p)}return m.push("}"),m.join("")},c=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,g,p,b,m={},x=1,y=m,w=[],N="",B="",F=h.length-1,E=1;E<F;E+=1)(b=h[E])=="'"?f?(p=f.join(""),f=void 0):f=[]:f?f.push(b):b=="{"?(w.push([y,p]),y={},p=void 0):b=="}"?((g=w.pop())[0][g[1]]=y,p=void 0,y=g[0]):b=="-"?x=-1:p===void 0?n.hasOwnProperty(b)?(N+=n[b],p=parseInt(N,16)*x,x=1,N=""):N+=b:n.hasOwnProperty(b)?(B+=n[b],y[p]=parseInt(B,16)*x,x=1,p=void 0,B=""):B+=b;return m},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},d={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var f=h.font,g=d.Unicode[f.postScriptName];g&&(f.metadata.Unicode={},f.metadata.Unicode.widths=g.widths,f.metadata.Unicode.kerning=g.kerning);var p=u.Unicode[f.postScriptName];p&&(f.metadata.Unicode.encoding=p,f.encoding=p.codePages[0])}])}(gt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Dp(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(gt),gt.API.addSvgAsImage=function(e,t,r,n,a,i,o,l){if(isNaN(t)||isNaN(r))throw Nr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Nr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var A=c.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(St.canvg?Promise.resolve(St.canvg):Ip(()=>import("./index.es-uttN7Dgu.js"),__vite__mapDeps([0,1,2,3]))).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(A,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(u)}).then(function(){d.addImage(c.toDataURL("image/jpeg",1),t,r,n,a,o,l)})},gt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},gt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],A=0,u=0,d=0;function h(g,p){var b,m=!1;for(b=0;b<g.length;b+=1)g[b]===p&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=l.length;for(d=0;d<f;d+=1)r[l[d]].value=r[l[d]].defaultValue,r[l[d]].explicitSet=!1}if(gr(e)==="object"){for(a in e)if(i=e[a],h(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(A=0;A<i.length;A+=1)if(n=!0,i[A].length===1&&typeof i[A][0]=="number")c.push(String(i[A]-1));else if(i[A].length>1){for(u=0;u<i[A].length;u+=1)typeof i[A][u]!="number"&&(n=!1);n===!0&&c.push([i[A][0]-1,i[A][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,p=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?p.push("/"+g+" /"+r[g].value):p.push("/"+g+" "+r[g].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),A=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+A+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(gt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,A=["","0","00","000","0000"],u=[""],d=0,h=i.length;d<h;++d){if(l=o.metadata.characterToGlyph(i.charCodeAt(d)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(d),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(A[4-l.length],l)}return u.join("")},n=function(i){var o,l,c,A,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],d=0,h=(l=Object.keys(i).sort(function(f,g){return f-g})).length;d<h;d++)o=l[d],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(A=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+A+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,A=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var d=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",g=0;g<h.length;g++)f+=String.fromCharCode(h[g]);var p=A();u({data:f,addLength1:!0,objectId:p}),c("endobj");var b=A();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var m=A();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+IA(l.fontName)),c("/FontFile2 "+p+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var x=A();c("<<"),c("/Type /Font"),c("/BaseFont /"+IA(l.fontName)),c("/FontDescriptor "+m+" 0 R"),c("/W "+e.API.PDFObject.convert(d)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=A(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+IA(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+x+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,A=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var d=l.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var g=A();u({data:h,addLength1:!0,objectId:g}),c("endobj");var p=A();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var b=A();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+IA(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=A();for(var m=0;m<l.metadata.hmtx.widths.length;m++)l.metadata.hmtx.widths[m]=parseInt(l.metadata.hmtx.widths[m]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+IA(l.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,A=i.y,u=i.options||{},d=i.mutex||{},h=d.pdfEscape,f=d.activeFontKey,g=d.fonts,p=f,b="",m=0,x="",y=g[p].encoding;if(g[p].encoding!=="Identity-H")return{text:l,x:c,y:A,options:u,mutex:d};for(x=l,p=f,Array.isArray(l)&&(x=l[0]),m=0;m<x.length;m+=1)g[p].metadata.hasOwnProperty("cmap")&&(o=g[p].metadata.cmap.unicode.codeMap[x[m].charCodeAt(0)]),o||x[m].charCodeAt(0)<256&&g[p].metadata.hasOwnProperty("Unicode")?b+=x[m]:b+="";var w="";return parseInt(p.slice(1))<14||y==="WinAnsiEncoding"?w=h(b,p).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):y==="Identity-H"&&(w=r(b,g[p])),d.isHex=!0,{text:w,x:c,y:A,options:u,mutex:d}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var A=0;for(A=0;A<o.length;A+=1)Array.isArray(o[A])&&o[A].length===3?l.push([a(Object.assign({},c,{text:o[A][0]})).text,o[A][1],o[A][2]]):l.push(a(Object.assign({},c,{text:o[A]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(gt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(gt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,l,c,A,u,d=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","¬´","¬ª","¬´","‚Äπ","‚Ä∫","‚Äπ","‚ÅÖ","‚ÅÜ","‚ÅÖ","‚ÅΩ","‚Åæ","‚ÅΩ","‚Çç","‚Çé","‚Çç","‚â§","‚â•","‚â§","‚å©","‚å™","‚å©","Ôπô","Ôπö","Ôπô","Ôπõ","Ôπú","Ôπõ","Ôπù","Ôπû","Ôπù","Ôπ§","Ôπ•","Ôπ§"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,y=0;this.__bidiEngine__={};var w=function(U){var T=U.charCodeAt(),k=T>>8,I=p[k];return I!==void 0?d[256*I+(255&T)]:k===252||k===253?"AL":m.test(k)?"L":k===8?"R":"N"},N=function(U){for(var T,k=0;k<U.length;k++){if((T=w(U.charAt(k)))==="L")return!1;if(T==="R")return!0}return!1},B=function(U,T,k,I){var M,L,K,R,$=T[I];switch($){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&($="AN");break;case"AL":x=!0,$="R";break;case"WS":case"BN":$="N";break;case"CS":I<1||I+1>=T.length||(M=k[I-1])!=="EN"&&M!=="AN"||(L=T[I+1])!=="EN"&&L!=="AN"?$="N":x&&(L="AN"),$=L===M?L:"N";break;case"ES":$=(M=I>0?k[I-1]:"B")==="EN"&&I+1<T.length&&T[I+1]==="EN"?"EN":"N";break;case"ET":if(I>0&&k[I-1]==="EN"){$="EN";break}if(x){$="N";break}for(K=I+1,R=T.length;K<R&&T[K]==="ET";)K++;$=K<R&&T[K]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(R=T.length,K=I+1;K<R&&T[K]==="NSM";)K++;if(K<R){var q=U[I],Z=q>=1425&&q<=2303||q===64286;if(M=T[K],Z&&(M==="R"||M==="AL")){$="R";break}}}$=I<1||(M=T[I-1])==="B"?"N":k[I-1];break;case"B":x=!1,a=!0,$=y;break;case"S":i=!0,$="N"}return $},F=function(U,T,k){var I=U.split("");return k&&E(I,k,{hiLevel:y}),I.reverse(),T&&T.reverse(),I.join("")},E=function(U,T,k){var I,M,L,K,R,$=-1,q=U.length,Z=0,D=[],H=y?f:h,V=[];for(x=!1,a=!1,i=!1,M=0;M<q;M++)V[M]=w(U[M]);for(L=0;L<q;L++){if(R=Z,D[L]=B(U,V,D,L),I=240&(Z=H[R][g[D[L]]]),Z&=15,T[L]=K=H[Z][5],I>0)if(I===16){for(M=$;M<L;M++)T[M]=1;$=-1}else $=-1;if(H[Z][6])$===-1&&($=L);else if($>-1){for(M=$;M<L;M++)T[M]=K;$=-1}V[L]==="B"&&(T[L]=0),k.hiLevel|=K}i&&function(re,Ae,ae){for(var de=0;de<ae;de++)if(re[de]==="S"){Ae[de]=y;for(var X=de-1;X>=0&&re[X]==="WS";X--)Ae[X]=y}}(V,T,q)},P=function(U,T,k,I,M){if(!(M.hiLevel<U)){if(U===1&&y===1&&!a)return T.reverse(),void(k&&k.reverse());for(var L,K,R,$,q=T.length,Z=0;Z<q;){if(I[Z]>=U){for(R=Z+1;R<q&&I[R]>=U;)R++;for($=Z,K=R-1;$<K;$++,K--)L=T[$],T[$]=T[K],T[K]=L,k&&(L=k[$],k[$]=k[K],k[K]=L);Z=R}Z++}}},Q=function(U,T,k){var I=U.split(""),M={hiLevel:y};return k||(k=[]),E(I,k,M),function(L,K,R){if(R.hiLevel!==0&&u)for(var $,q=0;q<L.length;q++)K[q]===1&&($=b.indexOf(L[q]))>=0&&(L[q]=b[$+1])}(I,k,M),P(2,I,T,k,M),P(1,I,T,k,M),I.join("")};return this.__bidiEngine__.doBidiReorder=function(U,T,k){if(function(M,L){if(L)for(var K=0;K<M.length;K++)L[K]=K;l===void 0&&(l=N(M)),A===void 0&&(A=N(M))}(U,T),o||!c||A)if(o&&c&&l^A)y=l?1:0,U=F(U,T,k);else if(!o&&c&&A)y=l?1:0,U=Q(U,T,k),U=F(U,T);else if(!o||l||c||A){if(o&&!c&&l^A)U=F(U,T),l?(y=0,U=Q(U,T,k)):(y=1,U=Q(U,T,k),U=F(U,T));else if(o&&l&&!c&&A)y=1,U=Q(U,T,k),U=F(U,T);else if(!o&&!c&&l^A){var I=u;l?(y=1,U=Q(U,T,k),y=0,u=!1,U=Q(U,T,k),u=I):(y=0,U=Q(U,T,k),U=F(U,T),y=1,u=!1,U=Q(U,T,k),u=I,U=F(U,T))}}else y=0,U=Q(U,T,k);else y=l?1:0,U=Q(U,T,k);return U},this.__bidiEngine__.setOptions=function(U){U&&(o=U.isInputVisual,c=U.isOutputVisual,l=U.isInputRtl,A=U.isOutputRtl,u=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(gt),gt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Sl(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new xwe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new swe(this.contents),this.head=new iwe(this),this.name=new uwe(this),this.cmap=new xU(this),this.toUnicode={},this.hhea=new owe(this),this.maxp=new dwe(this),this.hmtx=new fwe(this),this.post=new cwe(this),this.os2=new lwe(this),this.loca=new gwe(this),this.glyf=new hwe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,A;for(A=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],A.push(Math.round(t*this.scaleFactor));return A}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ii,Sl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),swe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,l,c,A,u,d,h,f,g,p;for(p in f=Object.keys(r).length,c=Math.log(2),d=16*Math.floor(Math.log(f)/c),o=Math.floor(d/c),u=16*f-d,(a=new Sl).writeInt(this.scalarType),a.writeShort(f),a.writeShort(d),a.writeShort(o),a.writeShort(u),i=16*f,A=a.pos+i,l=null,g=[],r)for(h=r[p],a.writeString(p),a.writeInt(e(h)),a.writeInt(A),a.writeInt(h.length),g=g.concat(h),p==="head"&&(l=A),A+=h.length;A%4;)g.push(0),A++;return a.write(g),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=vU.call(r);r.length%4;)r.push(0);for(i=new Sl(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),awe={}.hasOwnProperty,Li=function(e,t){for(var r in t)awe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ii=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var iwe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Li(e,ii),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Sl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),ZE=function(){function e(t,r){var n,a,i,o,l,c,A,u,d,h,f,g,p,b,m,x,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),h=f/2,t.pos+=6,i=function(){var w,N;for(N=[],c=w=0;0<=h?w<h:w>h;c=0<=h?++w:--w)N.push(t.readUInt16());return N}(),t.pos+=2,p=function(){var w,N;for(N=[],c=w=0;0<=h?w<h:w>h;c=0<=h?++w:--w)N.push(t.readUInt16());return N}(),A=function(){var w,N;for(N=[],c=w=0;0<=h?w<h:w>h;c=0<=h?++w:--w)N.push(t.readUInt16());return N}(),u=function(){var w,N;for(N=[],c=w=0;0<=h?w<h:w>h;c=0<=h?++w:--w)N.push(t.readUInt16());return N}(),a=(this.length-t.pos+this.offset)/2,l=function(){var w,N;for(N=[],c=w=0;0<=a?w<a:w>a;c=0<=a?++w:--w)N.push(t.readUInt16());return N}(),c=m=0,y=i.length;m<y;c=++m)for(b=i[c],n=x=g=p[c];g<=b?x<=b:x>=b;n=g<=b?++x:--x)u[c]===0?o=n+A[c]:(o=l[u[c]/2+(n-g)-(h-c)]||0)!==0&&(o+=A[c]),this.codeMap[n]=65535&o}t.pos=d}return e.encode=function(t,r){var n,a,i,o,l,c,A,u,d,h,f,g,p,b,m,x,y,w,N,B,F,E,P,Q,U,T,k,I,M,L,K,R,$,q,Z,D,H,V,re,Ae,ae,de,X,te,ue,se;switch(I=new Sl,o=Object.keys(t).sort(function(we,Ce){return we-Ce}),r){case"macroman":for(p=0,b=function(){var we=[];for(g=0;g<256;++g)we.push(0);return we}(),x={0:0},i={},M=0,$=o.length;M<$;M++)x[X=t[a=o[M]]]==null&&(x[X]=++p),i[a]={old:t[a],new:x[t[a]]},b[a]=x[t[a]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(b),{charMap:i,subtable:I.data,maxGlyphID:p+1};case"unicode":for(T=[],d=[],y=0,x={},n={},m=A=null,L=0,q=o.length;L<q;L++)x[N=t[a=o[L]]]==null&&(x[N]=++y),n[a]={old:N,new:x[N]},l=x[N]-a,m!=null&&l===A||(m&&d.push(m),T.push(a),A=l),m=a;for(m&&d.push(m),d.push(65535),T.push(65535),Q=2*(P=T.length),E=2*Math.pow(Math.log(P)/Math.LN2,2),h=Math.log(E/2)/Math.LN2,F=2*P-E,c=[],B=[],f=[],g=K=0,Z=T.length;K<Z;g=++K){if(U=T[g],u=d[g],U===65535){c.push(0),B.push(0);break}if(U-(k=n[U].new)>=32768)for(c.push(0),B.push(2*(f.length+P-g)),a=R=U;U<=u?R<=u:R>=u;a=U<=u?++R:--R)f.push(n[a].new);else c.push(k-U),B.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*P+2*f.length),I.writeUInt16(0),I.writeUInt16(Q),I.writeUInt16(E),I.writeUInt16(h),I.writeUInt16(F),ae=0,D=d.length;ae<D;ae++)a=d[ae],I.writeUInt16(a);for(I.writeUInt16(0),de=0,H=T.length;de<H;de++)a=T[de],I.writeUInt16(a);for(te=0,V=c.length;te<V;te++)l=c[te],I.writeUInt16(l);for(ue=0,re=B.length;ue<re;ue++)w=B[ue],I.writeUInt16(w);for(se=0,Ae=f.length;se<Ae;se++)p=f[se],I.writeUInt16(p);return{charMap:n,subtable:I.data,maxGlyphID:y+1}}},e}(),xU=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Li(e,ii),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new ZE(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=ZE.encode(t,r),(a=new Sl).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e}(),owe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Li(e,ii),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),lwe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Li(e,ii),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),cwe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Li(e,ii),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),Awe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},uwe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Li(e,ii),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,o,l,c,A,u,d,h;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=u=0,d=n.length;u<d;i=++u)a=n[i],t.pos=a.offset,A=t.readString(a.length),o=new Awe(A,a),c[h=a.nameID]==null&&(c[h]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),dwe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Li(e,ii),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),fwe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Li(e,ii),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var A,u;for(u=[],r=A=0;0<=a?A<a:A>a;r=0<=a?++A:--A)u.push(t.readInt16());return u}(),this.widths=(function(){var A,u,d,h;for(h=[],A=0,u=(d=this.metrics).length;A<u;A++)i=d[A],h.push(i.advance);return h}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),vU=[].slice,hwe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Li(e,ii),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,o,l,c,A,u,d;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new Sl(r.read(a))).readShort(),A=l.readShort(),d=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[t]=o===-1?new pwe(l,A,d,c,u):new mwe(l,o,A,d,c,u),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)a=t[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),mwe=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),pwe=function(){function e(t,r,n,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Sl(vU.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),gwe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Li(e,ii),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<n.length;++o)if(n[o]=a,i<r.length&&r[i]==o){++i,n[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var A=new Array(4*n.length),u=0;u<n.length;++u)A[4*u+3]=255&n[u],A[4*u+2]=(65280&n[u])>>8,A[4*u+1]=(16711680&n[u])>>16,A[4*u]=(4278190080&n[u])>>24;return A},e}(),xwe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,l,c,A,u,d,h,f,g,p,b,m;for(a in n=xU.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},m=n.charMap)f[(c=m[a]).old]=c.new;for(g in h=n.maxGlyphID,o)g in f||(f[g]=h++);return u=function(x){var y,w;for(y in w={},x)w[x[y]]=y;return w}(f),d=Object.keys(u).sort(function(x,y){return x-y}),p=function(){var x,y,w;for(w=[],x=0,y=d.length;x<y;x++)l=d[x],w.push(u[l]);return w}(),i=this.font.glyf.encode(o,p,f),A=this.font.loca.encode(i.offsets,p),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e}();gt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,A;for(A=[],l=0,c=r.length;l<c;l++)n=r[l],A.push(t.convert(n));return A}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var y1=function(e,t){return y1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},y1(e,t)};function oi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");y1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var w1=function(){return w1=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},w1.apply(this,arguments)};function vs(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{A(n.next(u))}catch(d){o(d)}}function c(u){try{A(n.throw(u))}catch(d){o(d)}}function A(u){u.done?i(u.value):a(u.value).then(l,c)}A((n=n.apply(e,[])).next())})}function ls(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(A){return function(u){return c([A,u])}}function c(A){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=A[0]&2?a.return:A[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,A[1])).done)return i;switch(a=0,i&&(A=[A[0]&2,i.value]),A[0]){case 0:case 1:i=A;break;case 4:return r.label++,{value:A[1],done:!1};case 5:r.label++,a=A[1],A=[0];continue;case 7:A=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(A[0]===6||A[0]===2)){r=0;continue}if(A[0]===3&&(!i||A[1]>i[0]&&A[1]<i[3])){r.label=A[1];break}if(A[0]===6&&r.label<i[1]){r.label=i[1],i=A;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(A);break}i[2]&&r.ops.pop(),r.trys.pop();continue}A=t.call(e,r)}catch(u){A=[6,u],a=0}finally{n=i=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function tp(e,t,r){if(arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||t)}var ko=function(){function e(t,r,n,a){this.left=t,this.top=r,this.width=n,this.height=a}return e.prototype.add=function(t,r,n,a){return new e(this.left+t,this.top+r,this.width+n,this.height+a)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Q0=function(e,t){return ko.fromClientRect(e,t.getBoundingClientRect())},vwe=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),a=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new ko(0,0,n,a)},R0=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},on=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=e[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},eF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bwe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rp=0;rp<eF.length;rp++)bwe[eF.charCodeAt(rp)]=rp;var tF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var np=0;np<tF.length;np++)Xd[tF.charCodeAt(np)]=np;var ywe=function(e){var t=e.length*.75,r=e.length,n,a=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<r;n+=4)i=Xd[e.charCodeAt(n)],o=Xd[e.charCodeAt(n+1)],l=Xd[e.charCodeAt(n+2)],c=Xd[e.charCodeAt(n+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return A},wwe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},jwe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Cc=5,_j=11,Kb=2,Nwe=_j-Cc,bU=65536>>Cc,Cwe=1<<Cc,Vb=Cwe-1,Bwe=1024>>Cc,Swe=bU+Bwe,Ewe=Swe,Fwe=32,Twe=Ewe+Fwe,Pwe=65536>>_j,kwe=1<<Nwe,Owe=kwe-1,rF=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},Iwe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},Uwe=function(e,t){var r=ywe(e),n=Array.isArray(r)?jwe(r):new Uint32Array(r),a=Array.isArray(r)?wwe(r):new Uint16Array(r),i=24,o=rF(a,i/2,n[4]/2),l=n[5]===2?rF(a,(i+n[4])/2):Iwe(n,Math.ceil((i+n[4])/4));return new _we(n[0],n[1],n[2],n[3],o,l)},_we=function(){function e(t,r,n,a,i,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Cc],r=(r<<Kb)+(t&Vb),this.data[r];if(t<=65535)return r=this.index[bU+(t-55296>>Cc)],r=(r<<Kb)+(t&Vb),this.data[r];if(t<this.highStart)return r=Twe-Pwe+(t>>_j),r=this.index[r],r+=t>>Cc&Owe,r=this.index[r],r=(r<<Kb)+(t&Vb),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),nF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dwe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sp=0;sp<nF.length;sp++)Dwe[nF.charCodeAt(sp)]=sp;var Lwe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",sF=50,Qwe=1,yU=2,wU=3,Rwe=4,Mwe=5,aF=7,jU=8,iF=9,ml=10,j1=11,oF=12,N1=13,$we=14,Jd=15,C1=16,ap=17,Kd=18,Hwe=19,lF=20,B1=21,Vd=22,zb=23,SA=24,zs=25,Zd=26,ef=27,EA=28,Kwe=29,hc=30,Vwe=31,ip=32,op=33,S1=34,E1=35,F1=36,fh=37,T1=38,$p=39,Hp=40,Gb=41,NU=42,zwe=43,Gwe=[9001,65288],CU="!",qt="√ó",lp="√∑",P1=Uwe(Lwe),Ao=[hc,F1],k1=[Qwe,yU,wU,Mwe],BU=[ml,jU],cF=[ef,Zd],qwe=k1.concat(BU),AF=[T1,$p,Hp,S1,E1],Wwe=[Jd,N1],Ywe=function(e,t){t===void 0&&(t="strict");var r=[],n=[],a=[];return e.forEach(function(i,o){var l=P1.get(i);if(l>sF?(a.push(!0),l-=sF):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(o),r.push(C1);if(l===Rwe||l===j1){if(o===0)return n.push(o),r.push(hc);var c=r[o-1];return qwe.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(hc))}if(n.push(o),l===Vwe)return r.push(t==="strict"?B1:fh);if(l===NU||l===Kwe)return r.push(hc);if(l===zwe)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(fh):r.push(hc);r.push(l)}),[n,r,a]},qb=function(e,t,r,n){var a=n[r];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var i=r;i<=n.length;){i++;var o=n[i];if(o===t)return!0;if(o!==ml)break}if(a===ml)for(var i=r;i>0;){i--;var l=n[i];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===t)return!0;if(o!==ml)break}if(l!==ml)break}return!1},uF=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===ml)r--;else return n}return 0},Xwe=function(e,t,r,n,a){if(r[n]===0)return qt;var i=n-1;if(Array.isArray(a)&&a[i]===!0)return qt;var o=i-1,l=i+1,c=t[i],A=o>=0?t[o]:0,u=t[l];if(c===yU&&u===wU)return qt;if(k1.indexOf(c)!==-1)return CU;if(k1.indexOf(u)!==-1||BU.indexOf(u)!==-1)return qt;if(uF(i,t)===jU)return lp;if(P1.get(e[i])===j1||(c===ip||c===op)&&P1.get(e[l])===j1||c===aF||u===aF||c===iF||[ml,N1,Jd].indexOf(c)===-1&&u===iF||[ap,Kd,Hwe,SA,EA].indexOf(u)!==-1||uF(i,t)===Vd||qb(zb,Vd,i,t)||qb([ap,Kd],B1,i,t)||qb(oF,oF,i,t))return qt;if(c===ml)return lp;if(c===zb||u===zb)return qt;if(u===C1||c===C1)return lp;if([N1,Jd,B1].indexOf(u)!==-1||c===$we||A===F1&&Wwe.indexOf(c)!==-1||c===EA&&u===F1||u===lF||Ao.indexOf(u)!==-1&&c===zs||Ao.indexOf(c)!==-1&&u===zs||c===ef&&[fh,ip,op].indexOf(u)!==-1||[fh,ip,op].indexOf(c)!==-1&&u===Zd||Ao.indexOf(c)!==-1&&cF.indexOf(u)!==-1||cF.indexOf(c)!==-1&&Ao.indexOf(u)!==-1||[ef,Zd].indexOf(c)!==-1&&(u===zs||[Vd,Jd].indexOf(u)!==-1&&t[l+1]===zs)||[Vd,Jd].indexOf(c)!==-1&&u===zs||c===zs&&[zs,EA,SA].indexOf(u)!==-1)return qt;if([zs,EA,SA,ap,Kd].indexOf(u)!==-1)for(var d=i;d>=0;){var h=t[d];if(h===zs)return qt;if([EA,SA].indexOf(h)!==-1)d--;else break}if([ef,Zd].indexOf(u)!==-1)for(var d=[ap,Kd].indexOf(c)!==-1?o:i;d>=0;){var h=t[d];if(h===zs)return qt;if([EA,SA].indexOf(h)!==-1)d--;else break}if(T1===c&&[T1,$p,S1,E1].indexOf(u)!==-1||[$p,S1].indexOf(c)!==-1&&[$p,Hp].indexOf(u)!==-1||[Hp,E1].indexOf(c)!==-1&&u===Hp||AF.indexOf(c)!==-1&&[lF,Zd].indexOf(u)!==-1||AF.indexOf(u)!==-1&&c===ef||Ao.indexOf(c)!==-1&&Ao.indexOf(u)!==-1||c===SA&&Ao.indexOf(u)!==-1||Ao.concat(zs).indexOf(c)!==-1&&u===Vd&&Gwe.indexOf(e[l])===-1||Ao.concat(zs).indexOf(u)!==-1&&c===Kd)return qt;if(c===Gb&&u===Gb){for(var f=r[i],g=1;f>0&&(f--,t[f]===Gb);)g++;if(g%2!==0)return qt}return c===ip&&u===op?qt:lp},Jwe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=Ywe(e,t.lineBreak),n=r[0],a=r[1],i=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(l){return[zs,hc,NU].indexOf(l)!==-1?fh:l}));var o=t.wordBreak==="keep-all"?i.map(function(l,c){return l&&e[c]>=19968&&e[c]<=40959}):void 0;return[n,a,o]},Zwe=function(){function e(t,r,n,a){this.codePoints=t,this.required=r===CU,this.start=n,this.end=a}return e.prototype.slice=function(){return on.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),e1e=function(e,t){var r=R0(e),n=Jwe(r,t),a=n[0],i=n[1],o=n[2],l=r.length,c=0,A=0;return{next:function(){if(A>=l)return{done:!0,value:null};for(var u=qt;A<l&&(u=Xwe(r,i,a,++A,o))===qt;);if(u!==qt||A===l){var d=new Zwe(r,u,c,A);return c=A,{value:d,done:!1}}return{done:!0,value:null}}}},t1e=1,r1e=2,Ih=4,dF=8,px=10,fF=47,xf=92,n1e=9,s1e=32,cp=34,zd=61,a1e=35,i1e=36,o1e=37,Ap=39,up=40,Gd=41,l1e=95,Ps=45,c1e=33,A1e=60,u1e=62,d1e=64,f1e=91,h1e=93,m1e=61,p1e=123,dp=63,g1e=125,hF=124,x1e=126,v1e=128,mF=65533,Wb=42,bc=43,b1e=44,y1e=58,w1e=59,hh=46,j1e=0,N1e=8,C1e=11,B1e=14,S1e=31,E1e=127,vi=-1,SU=48,EU=97,FU=101,F1e=102,T1e=117,P1e=122,TU=65,PU=69,kU=70,k1e=85,O1e=90,us=function(e){return e>=SU&&e<=57},I1e=function(e){return e>=55296&&e<=57343},FA=function(e){return us(e)||e>=TU&&e<=kU||e>=EU&&e<=F1e},U1e=function(e){return e>=EU&&e<=P1e},_1e=function(e){return e>=TU&&e<=O1e},D1e=function(e){return U1e(e)||_1e(e)},L1e=function(e){return e>=v1e},fp=function(e){return e===px||e===n1e||e===s1e},gx=function(e){return D1e(e)||L1e(e)||e===l1e},pF=function(e){return gx(e)||us(e)||e===Ps},Q1e=function(e){return e>=j1e&&e<=N1e||e===C1e||e>=B1e&&e<=S1e||e===E1e},ll=function(e,t){return e!==xf?!1:t!==px},hp=function(e,t,r){return e===Ps?gx(t)||ll(t,r):gx(e)?!0:!!(e===xf&&ll(e,t))},Yb=function(e,t,r){return e===bc||e===Ps?us(t)?!0:t===hh&&us(r):us(e===hh?t:e)},R1e=function(e){var t=0,r=1;(e[t]===bc||e[t]===Ps)&&(e[t]===Ps&&(r=-1),t++);for(var n=[];us(e[t]);)n.push(e[t++]);var a=n.length?parseInt(on.apply(void 0,n),10):0;e[t]===hh&&t++;for(var i=[];us(e[t]);)i.push(e[t++]);var o=i.length,l=o?parseInt(on.apply(void 0,i),10):0;(e[t]===PU||e[t]===FU)&&t++;var c=1;(e[t]===bc||e[t]===Ps)&&(e[t]===Ps&&(c=-1),t++);for(var A=[];us(e[t]);)A.push(e[t++]);var u=A.length?parseInt(on.apply(void 0,A),10):0;return r*(a+l*Math.pow(10,-o))*Math.pow(10,c*u)},M1e={type:2},$1e={type:3},H1e={type:4},K1e={type:13},V1e={type:8},z1e={type:21},G1e={type:9},q1e={type:10},W1e={type:11},Y1e={type:12},X1e={type:14},mp={type:23},J1e={type:1},Z1e={type:25},e2e={type:24},t2e={type:26},r2e={type:27},n2e={type:28},s2e={type:29},a2e={type:31},O1={type:32},OU=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(R0(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==O1;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case cp:return this.consumeStringToken(cp);case a1e:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(pF(r)||ll(n,a)){var i=hp(r,n,a)?r1e:t1e,o=this.consumeName();return{type:5,value:o,flags:i}}break;case i1e:if(this.peekCodePoint(0)===zd)return this.consumeCodePoint(),K1e;break;case Ap:return this.consumeStringToken(Ap);case up:return M1e;case Gd:return $1e;case Wb:if(this.peekCodePoint(0)===zd)return this.consumeCodePoint(),X1e;break;case bc:if(Yb(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case b1e:return H1e;case Ps:var l=t,c=this.peekCodePoint(0),A=this.peekCodePoint(1);if(Yb(l,c,A))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(hp(l,c,A))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===Ps&&A===u1e)return this.consumeCodePoint(),this.consumeCodePoint(),e2e;break;case hh:if(Yb(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case fF:if(this.peekCodePoint(0)===Wb)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Wb&&(u=this.consumeCodePoint(),u===fF))return this.consumeToken();if(u===vi)return this.consumeToken()}break;case y1e:return t2e;case w1e:return r2e;case A1e:if(this.peekCodePoint(0)===c1e&&this.peekCodePoint(1)===Ps&&this.peekCodePoint(2)===Ps)return this.consumeCodePoint(),this.consumeCodePoint(),Z1e;break;case d1e:var d=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(hp(d,h,f)){var o=this.consumeName();return{type:7,value:o}}break;case f1e:return n2e;case xf:if(ll(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case h1e:return s2e;case m1e:if(this.peekCodePoint(0)===zd)return this.consumeCodePoint(),V1e;break;case p1e:return W1e;case g1e:return Y1e;case T1e:case k1e:var g=this.peekCodePoint(0),p=this.peekCodePoint(1);return g===bc&&(FA(p)||p===dp)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case hF:if(this.peekCodePoint(0)===zd)return this.consumeCodePoint(),G1e;if(this.peekCodePoint(0)===hF)return this.consumeCodePoint(),z1e;break;case x1e:if(this.peekCodePoint(0)===zd)return this.consumeCodePoint(),q1e;break;case vi:return O1}return fp(t)?(this.consumeWhiteSpace(),a2e):us(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):gx(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:on(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();FA(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===dp&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(on.apply(void 0,t.map(function(c){return c===dp?SU:c})),16),i=parseInt(on.apply(void 0,t.map(function(c){return c===dp?kU:c})),16);return{type:30,start:a,end:i}}var o=parseInt(on.apply(void 0,t),16);if(this.peekCodePoint(0)===Ps&&FA(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];FA(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var i=parseInt(on.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===up?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===up?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===vi)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Ap||r===cp){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===vi||this.peekCodePoint(0)===Gd)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),mp)}for(;;){var a=this.consumeCodePoint();if(a===vi||a===Gd)return{type:22,value:on.apply(void 0,t)};if(fp(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===vi||this.peekCodePoint(0)===Gd?(this.consumeCodePoint(),{type:22,value:on.apply(void 0,t)}):(this.consumeBadUrlRemnants(),mp);if(a===cp||a===Ap||a===up||Q1e(a))return this.consumeBadUrlRemnants(),mp;if(a===xf)if(ll(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),mp;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;fp(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Gd||t===vi)return;ll(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var a=Math.min(r,t);n+=on.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var a=this._value[n];if(a===vi||a===void 0||a===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===px)return this._value.splice(0,n),J1e;if(a===xf){var i=this._value[n+1];i!==vi&&i!==void 0&&(i===px?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):ll(a,i)&&(r+=this.consumeStringSlice(n),r+=on(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=Ih,n=this.peekCodePoint(0);for((n===bc||n===Ps)&&t.push(this.consumeCodePoint());us(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===hh&&us(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=dF;us(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===PU||n===FU)&&((a===bc||a===Ps)&&us(i)||us(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=dF;us(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[R1e(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(hp(a,i,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return a===o1e?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(FA(t)){for(var r=on(t);FA(this.peekCodePoint(0))&&r.length<6;)r+=on(this.consumeCodePoint());fp(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||I1e(n)||n>1114111?mF:n}return t===vi?mF:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(pF(r))t+=on(r);else if(ll(r,this.peekCodePoint(0)))t+=on(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),IU=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new OU;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||o2e(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?O1:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Uh=function(e){return e.type===15},Ju=function(e){return e.type===17},br=function(e){return e.type===20},i2e=function(e){return e.type===0},I1=function(e,t){return br(e)&&e.value===t},UU=function(e){return e.type!==31},Tu=function(e){return e.type!==31&&e.type!==4},Qi=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},o2e=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},El=function(e){return e.type===17||e.type===15},xn=function(e){return e.type===16||El(e)},_U=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Jn={type:17,number:0,flags:Ih},Dj={type:16,number:50,flags:Ih},pl={type:16,number:100,flags:Ih},tf=function(e,t,r){var n=e[0],a=e[1];return[Pr(n,t),Pr(typeof a<"u"?a:n,r)]},Pr=function(e,t){if(e.type===16)return e.number/100*t;if(Uh(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},DU="deg",LU="grad",QU="rad",RU="turn",M0={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case DU:return Math.PI*t.number/180;case LU:return Math.PI/200*t.number;case QU:return t.number;case RU:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},MU=function(e){return e.type===15&&(e.unit===DU||e.unit===LU||e.unit===QU||e.unit===RU)},$U=function(e){var t=e.filter(br).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Jn,Jn];case"to top":case"bottom":return Ca(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Jn,pl];case"to right":case"left":return Ca(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[pl,pl];case"to bottom":case"top":return Ca(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[pl,Jn];case"to left":case"right":return Ca(270)}return 0},Ca=function(e){return Math.PI*e/180},yl={name:"color",parse:function(e,t){if(t.type===18){var r=l2e[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3);return gl(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3),o=t.value.substring(3,4);return gl(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6);return gl(parseInt(n,16),parseInt(a,16),parseInt(i,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8);return gl(parseInt(n,16),parseInt(a,16),parseInt(i,16),parseInt(o,16)/255)}}if(t.type===20){var l=jo[t.value.toUpperCase()];if(typeof l<"u")return l}return jo.TRANSPARENT}},wl=function(e){return(255&e)===0},Dn=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+n+","+r+","+t/255+")":"rgb("+a+","+n+","+r+")"},gl=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},gF=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},xF=function(e,t){var r=t.filter(Tu);if(r.length===3){var n=r.map(gF),a=n[0],i=n[1],o=n[2];return gl(a,i,o,1)}if(r.length===4){var l=r.map(gF),a=l[0],i=l[1],o=l[2],c=l[3];return gl(a,i,o,c)}return 0};function Xb(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var vF=function(e,t){var r=t.filter(Tu),n=r[0],a=r[1],i=r[2],o=r[3],l=(n.type===17?Ca(n.number):M0.parse(e,n))/(Math.PI*2),c=xn(a)?a.number/100:0,A=xn(i)?i.number/100:0,u=typeof o<"u"&&xn(o)?Pr(o,1):1;if(c===0)return gl(A*255,A*255,A*255,1);var d=A<=.5?A*(c+1):A+c-A*c,h=A*2-d,f=Xb(h,d,l+1/3),g=Xb(h,d,l),p=Xb(h,d,l-1/3);return gl(f*255,g*255,p*255,u)},l2e={hsl:vF,hsla:vF,rgb:xF,rgba:xF},vf=function(e,t){return yl.parse(e,IU.create(t).parseComponentValue())},jo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},c2e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(br(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},A2e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},$0=function(e,t){var r=yl.parse(e,t[0]),n=t[1];return n&&xn(n)?{color:r,stop:n}:{color:r,stop:null}},bF=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Jn),n.stop===null&&(n.stop=pl);for(var a=[],i=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var c=Pr(l,t);c>i?a.push(c):a.push(i),i=c}else a.push(null)}for(var A=null,o=0;o<a.length;o++){var u=a[o];if(u===null)A===null&&(A=o);else if(A!==null){for(var d=o-A,h=a[A-1],f=(u-h)/(d+1),g=1;g<=d;g++)a[A+g-1]=f*g;A=null}}return e.map(function(p,b){var m=p.color;return{color:m,stop:Math.max(Math.min(1,a[b]/t),0)}})},u2e=function(e,t,r){var n=t/2,a=r/2,i=Pr(e[0],t)-n,o=a-Pr(e[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},d2e=function(e,t,r){var n=typeof e=="number"?e:u2e(e,t,r),a=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),i=t/2,o=r/2,l=a/2,c=Math.sin(n-Math.PI/2)*l,A=Math.cos(n-Math.PI/2)*l;return[a,i-A,i+A,o-c,o+c]},$a=function(e,t){return Math.sqrt(e*e+t*t)},yF=function(e,t,r,n,a){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(o,l){var c=l[0],A=l[1],u=$a(r-c,n-A);return(a?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:l,optimumDistance:u}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},f2e=function(e,t,r,n,a){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(e.shape===0)i=o=Math.min($a(t,r),$a(t,r-a),$a(t-n,r),$a(t-n,r-a));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(t),Math.abs(t-n)),c=yF(n,a,t,r,!0),A=c[0],u=c[1];i=$a(A-t,(u-r)/l),o=l*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(e.shape===0)i=o=Math.max($a(t,r),$a(t,r-a),$a(t-n,r),$a(t-n,r-a));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(t),Math.abs(t-n)),d=yF(n,a,t,r,!1),A=d[0],u=d[1];i=$a(A-t,(u-r)/l),o=l*i}break}return Array.isArray(e.size)&&(i=Pr(e.size[0],n),o=e.size.length===2?Pr(e.size[1],a):i),[i,o]},h2e=function(e,t){var r=Ca(180),n=[];return Qi(t).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&o.value==="to"){r=$U(a);return}else if(MU(o)){r=M0.parse(e,o);return}}var l=$0(e,a);n.push(l)}),{angle:r,stops:n,type:1}},pp=function(e,t){var r=Ca(180),n=[];return Qi(t).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=$U(a);return}else if(MU(o)){r=(M0.parse(e,o)+Ca(270))%Ca(360);return}}var l=$0(e,a);n.push(l)}),{angle:r,stops:n,type:1}},m2e=function(e,t){var r=Ca(180),n=[],a=1,i=0,o=3,l=[];return Qi(t).forEach(function(c,A){var u=c[0];if(A===0){if(br(u)&&u.value==="linear"){a=1;return}else if(br(u)&&u.value==="radial"){a=2;return}}if(u.type===18){if(u.name==="from"){var d=yl.parse(e,u.values[0]);n.push({stop:Jn,color:d})}else if(u.name==="to"){var d=yl.parse(e,u.values[0]);n.push({stop:pl,color:d})}else if(u.name==="color-stop"){var h=u.values.filter(Tu);if(h.length===2){var d=yl.parse(e,h[1]),f=h[0];Ju(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:d})}}}}),a===1?{angle:(r+Ca(180))%Ca(360),stops:n,type:a}:{size:o,shape:i,stops:n,position:l,type:a}},HU="closest-side",KU="farthest-side",VU="closest-corner",zU="farthest-corner",GU="circle",qU="ellipse",WU="cover",YU="contain",p2e=function(e,t){var r=0,n=3,a=[],i=[];return Qi(t).forEach(function(o,l){var c=!0;if(l===0){var A=!1;c=o.reduce(function(d,h){if(A)if(br(h))switch(h.value){case"center":return i.push(Dj),d;case"top":case"left":return i.push(Jn),d;case"right":case"bottom":return i.push(pl),d}else(xn(h)||El(h))&&i.push(h);else if(br(h))switch(h.value){case GU:return r=0,!1;case qU:return r=1,!1;case"at":return A=!0,!1;case HU:return n=0,!1;case WU:case KU:return n=1,!1;case YU:case VU:return n=2,!1;case zU:return n=3,!1}else if(El(h)||xn(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return d},c)}if(c){var u=$0(e,o);a.push(u)}}),{size:n,shape:r,stops:a,position:i,type:2}},gp=function(e,t){var r=0,n=3,a=[],i=[];return Qi(t).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(u,d){if(br(d))switch(d.value){case"center":return i.push(Dj),!1;case"top":case"left":return i.push(Jn),!1;case"right":case"bottom":return i.push(pl),!1}else if(xn(d)||El(d))return i.push(d),!1;return u},c):l===1&&(c=o.reduce(function(u,d){if(br(d))switch(d.value){case GU:return r=0,!1;case qU:return r=1,!1;case YU:case HU:return n=0,!1;case KU:return n=1,!1;case VU:return n=2,!1;case WU:case zU:return n=3,!1}else if(El(d)||xn(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return u},c)),c){var A=$0(e,o);a.push(A)}}),{size:n,shape:r,stops:a,position:i,type:2}},g2e=function(e){return e.type===1},x2e=function(e){return e.type===2},Lj={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=XU[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function v2e(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!XU[e.name])}var XU={"linear-gradient":h2e,"-moz-linear-gradient":pp,"-ms-linear-gradient":pp,"-o-linear-gradient":pp,"-webkit-linear-gradient":pp,"radial-gradient":p2e,"-moz-radial-gradient":gp,"-ms-radial-gradient":gp,"-o-radial-gradient":gp,"-webkit-radial-gradient":gp,"-webkit-gradient":m2e},b2e={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return Tu(n)&&v2e(n)}).map(function(n){return Lj.parse(e,n)})}},y2e={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(br(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},w2e={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Qi(t).map(function(r){return r.filter(xn)}).map(_U)}},j2e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Qi(t).map(function(r){return r.filter(br).map(function(n){return n.value}).join(" ")}).map(N2e)}},N2e=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},ru;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(ru||(ru={}));var C2e={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Qi(t).map(function(r){return r.filter(B2e)})}},B2e=function(e){return br(e)||xn(e)},H0=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},S2e=H0("top"),E2e=H0("right"),F2e=H0("bottom"),T2e=H0("left"),K0=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return _U(r.filter(xn))}}},P2e=K0("top-left"),k2e=K0("top-right"),O2e=K0("bottom-right"),I2e=K0("bottom-left"),V0=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},U2e=V0("top"),_2e=V0("right"),D2e=V0("bottom"),L2e=V0("left"),z0=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return Uh(r)?r.number:0}}},Q2e=z0("top"),R2e=z0("right"),M2e=z0("bottom"),$2e=z0("left"),H2e={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},K2e={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},V2e={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(br).reduce(function(r,n){return r|z2e(n.value)},0)}},z2e=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},G2e={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},q2e={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},xx;(function(e){e.NORMAL="normal",e.STRICT="strict"})(xx||(xx={}));var W2e={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return xx.STRICT;case"normal":default:return xx.NORMAL}}},Y2e={name:"line-height",initialValue:"normal",prefix:!1,type:4},wF=function(e,t){return br(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:xn(e)?Pr(e,t):t},X2e={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:Lj.parse(e,t)}},J2e={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},U1={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},G0=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Z2e=G0("top"),eje=G0("right"),tje=G0("bottom"),rje=G0("left"),nje={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(br).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},sje={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},q0=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},aje=q0("top"),ije=q0("right"),oje=q0("bottom"),lje=q0("left"),cje={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Aje={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},uje={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&I1(t[0],"none")?[]:Qi(t).map(function(r){for(var n={color:jo.TRANSPARENT,offsetX:Jn,offsetY:Jn,blur:Jn},a=0,i=0;i<r.length;i++){var o=r[i];El(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:n.blur=o,a++):n.color=yl.parse(e,o)}return n})}},dje={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},fje={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=pje[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},hje=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},mje=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=t[0],n=t[1];t[2],t[3];var a=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,a,i,o,l]:null},pje={matrix:hje,matrix3d:mje},jF={type:16,number:50,flags:Ih},gje=[jF,jF],xje={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(xn);return r.length!==2?gje:[r[0],r[1]]}},vje={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},bf;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(bf||(bf={}));var bje={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return bf.BREAK_ALL;case"keep-all":return bf.KEEP_ALL;case"normal":default:return bf.NORMAL}}},yje={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Ju(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},JU={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},wje={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Ju(t)?t.number:1}},jje={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Nje={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(br).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Cje={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},Bje={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Sje={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Ju(t))return t.number;if(br(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Eje={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(br).map(function(r){return r.value})}},Fje={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Pn=function(e,t){return(e&t)!==0},Tje={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},Pje={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=t.filter(UU),i=0;i<a.length;i++){var o=a[i],l=a[i+1];if(o.type===20){var c=l&&Ju(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},kje={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(UU),a=0;a<n.length;a++){var i=n[a],o=n[a+1];if(br(i)&&i.value!=="none"){var l=o&&Ju(o)?o.number:0;r.push({counter:i.value,reset:l})}}return r}},Oje={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Uh).map(function(r){return JU.parse(e,r)})}},Ije={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],a=t.filter(i2e);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var o=a[i].value,l=a[i+1].value;n.push({open:o,close:l})}return n}},NF=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},Uje={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&I1(t[0],"none")?[]:Qi(t).map(function(r){for(var n={color:255,offsetX:Jn,offsetY:Jn,blur:Jn,spread:Jn,inset:!1},a=0,i=0;i<r.length;i++){var o=r[i];I1(o,"inset")?n.inset=!0:El(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:a===2?n.blur=o:n.spread=o,a++):n.color=yl.parse(e,o)}return n})}},_je={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(br).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},Dje={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Lje={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Uh(t)?t.number:0}},Qje=function(){function e(t,r){var n,a;this.animationDuration=et(t,Oje,r.animationDuration),this.backgroundClip=et(t,c2e,r.backgroundClip),this.backgroundColor=et(t,A2e,r.backgroundColor),this.backgroundImage=et(t,b2e,r.backgroundImage),this.backgroundOrigin=et(t,y2e,r.backgroundOrigin),this.backgroundPosition=et(t,w2e,r.backgroundPosition),this.backgroundRepeat=et(t,j2e,r.backgroundRepeat),this.backgroundSize=et(t,C2e,r.backgroundSize),this.borderTopColor=et(t,S2e,r.borderTopColor),this.borderRightColor=et(t,E2e,r.borderRightColor),this.borderBottomColor=et(t,F2e,r.borderBottomColor),this.borderLeftColor=et(t,T2e,r.borderLeftColor),this.borderTopLeftRadius=et(t,P2e,r.borderTopLeftRadius),this.borderTopRightRadius=et(t,k2e,r.borderTopRightRadius),this.borderBottomRightRadius=et(t,O2e,r.borderBottomRightRadius),this.borderBottomLeftRadius=et(t,I2e,r.borderBottomLeftRadius),this.borderTopStyle=et(t,U2e,r.borderTopStyle),this.borderRightStyle=et(t,_2e,r.borderRightStyle),this.borderBottomStyle=et(t,D2e,r.borderBottomStyle),this.borderLeftStyle=et(t,L2e,r.borderLeftStyle),this.borderTopWidth=et(t,Q2e,r.borderTopWidth),this.borderRightWidth=et(t,R2e,r.borderRightWidth),this.borderBottomWidth=et(t,M2e,r.borderBottomWidth),this.borderLeftWidth=et(t,$2e,r.borderLeftWidth),this.boxShadow=et(t,Uje,r.boxShadow),this.color=et(t,H2e,r.color),this.direction=et(t,K2e,r.direction),this.display=et(t,V2e,r.display),this.float=et(t,G2e,r.cssFloat),this.fontFamily=et(t,Cje,r.fontFamily),this.fontSize=et(t,Bje,r.fontSize),this.fontStyle=et(t,Fje,r.fontStyle),this.fontVariant=et(t,Eje,r.fontVariant),this.fontWeight=et(t,Sje,r.fontWeight),this.letterSpacing=et(t,q2e,r.letterSpacing),this.lineBreak=et(t,W2e,r.lineBreak),this.lineHeight=et(t,Y2e,r.lineHeight),this.listStyleImage=et(t,X2e,r.listStyleImage),this.listStylePosition=et(t,J2e,r.listStylePosition),this.listStyleType=et(t,U1,r.listStyleType),this.marginTop=et(t,Z2e,r.marginTop),this.marginRight=et(t,eje,r.marginRight),this.marginBottom=et(t,tje,r.marginBottom),this.marginLeft=et(t,rje,r.marginLeft),this.opacity=et(t,wje,r.opacity);var i=et(t,nje,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=et(t,sje,r.overflowWrap),this.paddingTop=et(t,aje,r.paddingTop),this.paddingRight=et(t,ije,r.paddingRight),this.paddingBottom=et(t,oje,r.paddingBottom),this.paddingLeft=et(t,lje,r.paddingLeft),this.paintOrder=et(t,_je,r.paintOrder),this.position=et(t,Aje,r.position),this.textAlign=et(t,cje,r.textAlign),this.textDecorationColor=et(t,jje,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=et(t,Nje,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=et(t,uje,r.textShadow),this.textTransform=et(t,dje,r.textTransform),this.transform=et(t,fje,r.transform),this.transformOrigin=et(t,xje,r.transformOrigin),this.visibility=et(t,vje,r.visibility),this.webkitTextStrokeColor=et(t,Dje,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=et(t,Lje,r.webkitTextStrokeWidth),this.wordBreak=et(t,bje,r.wordBreak),this.zIndex=et(t,yje,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return wl(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Pn(this.display,4)||Pn(this.display,33554432)||Pn(this.display,268435456)||Pn(this.display,536870912)||Pn(this.display,67108864)||Pn(this.display,134217728)},e}(),Rje=function(){function e(t,r){this.content=et(t,Tje,r.content),this.quotes=et(t,Ije,r.quotes)}return e}(),CF=function(){function e(t,r){this.counterIncrement=et(t,Pje,r.counterIncrement),this.counterReset=et(t,kje,r.counterReset)}return e}(),et=function(e,t,r){var n=new OU,a=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(a);var i=new IU(n.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(e,br(o)?o.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return M0.parse(e,i.parseComponentValue());case"color":return yl.parse(e,i.parseComponentValue());case"image":return Lj.parse(e,i.parseComponentValue());case"length":var l=i.parseComponentValue();return El(l)?l:Jn;case"length-percentage":var c=i.parseComponentValue();return xn(c)?c:Jn;case"time":return JU.parse(e,i.parseComponentValue())}break}},Mje="data-html2canvas-debug",$je=function(e){var t=e.getAttribute(Mje);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},_1=function(e,t){var r=$je(e);return r===1||t===r},Ri=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,_1(r,3))debugger;this.styles=new Qje(t,window.getComputedStyle(r,null)),Q1(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Q0(this.context,r),_1(r,4)&&(this.flags|=16)}return e}(),Hje="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",BF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xp=0;xp<BF.length;xp++)rf[BF.charCodeAt(xp)]=xp;var Kje=function(e){var t=e.length*.75,r=e.length,n,a=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<r;n+=4)i=rf[e.charCodeAt(n)],o=rf[e.charCodeAt(n+1)],l=rf[e.charCodeAt(n+2)],c=rf[e.charCodeAt(n+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return A},Vje=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},zje=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Bc=5,Qj=11,Jb=2,Gje=Qj-Bc,ZU=65536>>Bc,qje=1<<Bc,Zb=qje-1,Wje=1024>>Bc,Yje=ZU+Wje,Xje=Yje,Jje=32,Zje=Xje+Jje,eNe=65536>>Qj,tNe=1<<Gje,rNe=tNe-1,SF=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},nNe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},sNe=function(e,t){var r=Kje(e),n=Array.isArray(r)?zje(r):new Uint32Array(r),a=Array.isArray(r)?Vje(r):new Uint16Array(r),i=24,o=SF(a,i/2,n[4]/2),l=n[5]===2?SF(a,(i+n[4])/2):nNe(n,Math.ceil((i+n[4])/4));return new aNe(n[0],n[1],n[2],n[3],o,l)},aNe=function(){function e(t,r,n,a,i,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Bc],r=(r<<Jb)+(t&Zb),this.data[r];if(t<=65535)return r=this.index[ZU+(t-55296>>Bc)],r=(r<<Jb)+(t&Zb),this.data[r];if(t<this.highStart)return r=Zje-eNe+(t>>Qj),r=this.index[r],r+=t>>Bc&rNe,r=this.index[r],r=(r<<Jb)+(t&Zb),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),EF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iNe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var vp=0;vp<EF.length;vp++)iNe[EF.charCodeAt(vp)]=vp;var oNe=1,ey=2,ty=3,FF=4,TF=5,lNe=7,PF=8,ry=9,ny=10,kF=11,OF=12,IF=13,UF=14,sy=15,cNe=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},ANe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=e[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},uNe=sNe(Hje),ba="√ó",ay="√∑",dNe=function(e){return uNe.get(e)},fNe=function(e,t,r){var n=r-2,a=t[n],i=t[r-1],o=t[r];if(i===ey&&o===ty)return ba;if(i===ey||i===ty||i===FF||o===ey||o===ty||o===FF)return ay;if(i===PF&&[PF,ry,kF,OF].indexOf(o)!==-1||(i===kF||i===ry)&&(o===ry||o===ny)||(i===OF||i===ny)&&o===ny||o===IF||o===TF||o===lNe||i===oNe)return ba;if(i===IF&&o===UF){for(;a===TF;)a=t[--n];if(a===UF)return ba}if(i===sy&&o===sy){for(var l=0;a===sy;)l++,a=t[--n];if(l%2===0)return ba}return ay},hNe=function(e){var t=cNe(e),r=t.length,n=0,a=0,i=t.map(dNe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=ba;n<r&&(o=fNe(t,i,++n))===ba;);if(o!==ba||n===r){var l=ANe.apply(null,t.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},mNe=function(e){for(var t=hNe(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},pNe=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),i=Math.round(a.height);if(e.body.removeChild(n),i===t)return!0}}return!1},gNe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,a=R0(n.data).map(function(c){return on(c)}),i=0,o={},l=a.every(function(c,A){r.setStart(n,i),r.setEnd(n,i+c.length);var u=r.getBoundingClientRect();i+=c.length;var d=u.x>o.x||u.y>o.y;return o=u,A===0?!0:d});return e.body.removeChild(t),l},xNe=function(){return typeof new Image().crossOrigin<"u"},vNe=function(){return typeof new XMLHttpRequest().responseType=="string"},bNe=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},_F=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},yNe=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,i=t.toDataURL();a.src=i;var o=D1(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),DF(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var A=e.createElement("div");return A.style.backgroundImage="url("+i+")",A.style.height=r+"px",_F(c)?DF(D1(r,r,0,0,A)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),_F(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},D1=function(e,t,r,n,a){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},DF=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Yn={get SUPPORT_RANGE_BOUNDS(){var e=pNe(document);return Object.defineProperty(Yn,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Yn.SUPPORT_RANGE_BOUNDS&&gNe(document);return Object.defineProperty(Yn,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=bNe(document);return Object.defineProperty(Yn,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?yNe(document):Promise.resolve(!1);return Object.defineProperty(Yn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=xNe();return Object.defineProperty(Yn,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=vNe();return Object.defineProperty(Yn,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Yn,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Yn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},yf=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),wNe=function(e,t,r,n){var a=CNe(t,r),i=[],o=0;return a.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Yn.SUPPORT_RANGE_BOUNDS){var c=LF(n,o,l.length).getClientRects();if(c.length>1){var A=Rj(l),u=0;A.forEach(function(h){i.push(new yf(h,ko.fromDOMRectList(e,LF(n,u+o,h.length).getClientRects()))),u+=h.length})}else i.push(new yf(l,ko.fromDOMRectList(e,c)))}else{var d=n.splitText(l.length);i.push(new yf(l,jNe(e,n))),n=d}else Yn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),i},jNe=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(n,t);var i=Q0(e,n);return n.firstChild&&a.replaceChild(n.firstChild,n),i}}return ko.EMPTY},LF=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(e,t),a.setEnd(e,t+r),a},Rj=function(e){if(Yn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return mNe(e)},NNe=function(e,t){if(Yn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return SNe(e,t)},CNe=function(e,t){return t.letterSpacing!==0?Rj(e):NNe(e,t)},BNe=[32,160,4961,65792,65793,4153,4241],SNe=function(e,t){for(var r=e1e(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],a,i=function(){if(a.value){var o=a.value.slice(),l=R0(o),c="";l.forEach(function(A){BNe.indexOf(A)===-1?c+=on(A):(c.length&&n.push(c),n.push(on(A)),c="")}),c.length&&n.push(c)}};!(a=r.next()).done;)i();return n},ENe=function(){function e(t,r,n){this.text=FNe(r.data,n.textTransform),this.textBounds=wNe(t,this.text,n,r)}return e}(),FNe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(TNe,PNe);case 2:return e.toUpperCase();default:return e}},TNe=/(^|\s|:|-|\(|\))([a-z])/g,PNe=function(e,t,r){return e.length>0?t+r.toUpperCase():e},e_=function(e){oi(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t}(Ri),t_=function(e){oi(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t}(Ri),r_=function(e){oi(t,e);function t(r,n){var a=e.call(this,r,n)||this,i=new XMLSerializer,o=Q0(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t}(Ri),n_=function(e){oi(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(Ri),L1=function(e){oi(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return t}(Ri),kNe=[{type:15,flags:0,unit:"px",number:3}],ONe=[{type:16,flags:0,number:50}],INe=function(e){return e.width>e.height?new ko(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new ko(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},UNe=function(e){var t=e.type===_Ne?new Array(e.value.length+1).join("‚Ä¢"):e.value;return t.length===0?e.placeholder||"":t},vx="checkbox",bx="radio",_Ne="password",QF=707406591,Mj=function(e){oi(t,e);function t(r,n){var a=e.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=UNe(n),(a.type===vx||a.type===bx)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=INe(a.bounds)),a.type){case vx:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=kNe;break;case bx:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=ONe;break}return a}return t}(Ri),s_=function(e){oi(t,e);function t(r,n){var a=e.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return t}(Ri),a_=function(e){oi(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(Ri),i_=function(e){oi(t,e);function t(r,n){var a=e.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=l_(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?vf(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):jo.TRANSPARENT,o=n.contentWindow.document.body?vf(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):jo.TRANSPARENT;a.backgroundColor=wl(i)?wl(o)?a.styles.backgroundColor:o:i}}catch{}return a}return t}(Ri),DNe=["OL","UL","MENU"],Kp=function(e,t,r,n){for(var a=t.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,c_(a)&&a.data.trim().length>0)r.textNodes.push(new ENe(e,a,r.styles));else if(HA(a))if(f_(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return Kp(e,l,r,n)});else{var o=o_(e,a);o.styles.isVisible()&&(LNe(a,o,n)?o.flags|=4:QNe(o.styles)&&(o.flags|=2),DNe.indexOf(a.tagName)!==-1&&(o.flags|=8),r.elements.push(o),a.slot,a.shadowRoot?Kp(e,a.shadowRoot,o,n):!yx(a)&&!A_(a)&&!wx(a)&&Kp(e,a,o,n))}},o_=function(e,t){return R1(t)?new e_(e,t):u_(t)?new t_(e,t):A_(t)?new r_(e,t):RNe(t)?new n_(e,t):MNe(t)?new L1(e,t):$Ne(t)?new Mj(e,t):wx(t)?new s_(e,t):yx(t)?new a_(e,t):d_(t)?new i_(e,t):new Ri(e,t)},l_=function(e,t){var r=o_(e,t);return r.flags|=4,Kp(e,t,r,r),r},LNe=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||$j(e)&&r.styles.isTransparent()},QNe=function(e){return e.isPositioned()||e.isFloating()},c_=function(e){return e.nodeType===Node.TEXT_NODE},HA=function(e){return e.nodeType===Node.ELEMENT_NODE},Q1=function(e){return HA(e)&&typeof e.style<"u"&&!Vp(e)},Vp=function(e){return typeof e.className=="object"},RNe=function(e){return e.tagName==="LI"},MNe=function(e){return e.tagName==="OL"},$Ne=function(e){return e.tagName==="INPUT"},HNe=function(e){return e.tagName==="HTML"},A_=function(e){return e.tagName==="svg"},$j=function(e){return e.tagName==="BODY"},u_=function(e){return e.tagName==="CANVAS"},RF=function(e){return e.tagName==="VIDEO"},R1=function(e){return e.tagName==="IMG"},d_=function(e){return e.tagName==="IFRAME"},MF=function(e){return e.tagName==="STYLE"},KNe=function(e){return e.tagName==="SCRIPT"},yx=function(e){return e.tagName==="TEXTAREA"},wx=function(e){return e.tagName==="SELECT"},f_=function(e){return e.tagName==="SLOT"},$F=function(e){return e.tagName.indexOf("-")>0},VNe=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,a=t.counterReset,i=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return i&&a.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},e}(),HF={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},KF={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["’î","’ì","’í","’ë","’ê","’è","’é","’ç","’å","’ã","’ä","’â","’à","’á","’Ü","’Ö","’Ñ","’É","’Ç","’Å","’Ä","‘ø","‘æ","‘Ω","‘º","‘ª","‘∫","‘π","‘∏","‘∑","‘∂","‘µ","‘¥","‘≥","‘≤","‘±"]},zNe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["◊ô◊≥","◊ò◊≥","◊ó◊≥","◊ñ◊≥","◊ï◊≥","◊î◊≥","◊ì◊≥","◊í◊≥","◊ë◊≥","◊ê◊≥","◊™","◊©","◊®","◊ß","◊¶","◊§","◊¢","◊°","◊†","◊û","◊ú","◊õ","◊ô◊ò","◊ô◊ó","◊ô◊ñ","◊ò◊ñ","◊ò◊ï","◊ô","◊ò","◊ó","◊ñ","◊ï","◊î","◊ì","◊í","◊ë","◊ê"]},GNe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["·Éµ","·É∞","·ÉØ","·É¥","·ÉÆ","·É≠","·É¨","·É´","·É™","·É©","·É®","·Éß","·É¶","·É•","·É§","·É≥","·É¢","·É°","·É†","·Éü","·Éû","·Éù","·É≤","·Éú","·Éõ","·Éö","·Éô","·Éò","·Éó","·É±","·Éñ","·Éï","·Éî","·Éì","·Éí","·Éë","·Éê"]},TA=function(e,t,r,n,a,i){return e<t||e>r?mh(e,a,i.length>0):n.integers.reduce(function(o,l,c){for(;e>=l;)e-=l,o+=n.values[c];return o},"")+i},h_=function(e,t,r,n){var a="";do r||e--,a=n(e)+a,e/=t;while(e*t>=t);return a},an=function(e,t,r,n,a){var i=r-t+1;return(e<0?"-":"")+(h_(Math.abs(e),i,n,function(o){return on(Math.floor(o%i)+t)})+a)},oc=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return h_(Math.abs(e),n,!1,function(a){return t[Math.floor(a%n)]})+r},UA=1,al=2,il=4,nf=8,uo=function(e,t,r,n,a,i){if(e<-9999||e>9999)return mh(e,4,a.length>0);var o=Math.abs(e),l=a;if(o===0)return t[0]+l;for(var c=0;o>0&&c<=4;c++){var A=o%10;A===0&&Pn(i,UA)&&l!==""?l=t[A]+l:A>1||A===1&&c===0||A===1&&c===1&&Pn(i,al)||A===1&&c===1&&Pn(i,il)&&e>100||A===1&&c>1&&Pn(i,nf)?l=t[A]+(c>0?r[c-1]:"")+l:A===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(e<0?n:"")+l},VF="ÂçÅÁôæÂçÉËê¨",zF="Êãæ‰Ω∞‰ªüËê¨",GF="„Éû„Ç§„Éä„Çπ",iy="ÎßàÏù¥ÎÑàÏä§",mh=function(e,t,r){var n=r?". ":"",a=r?"„ÄÅ":"",i=r?", ":"",o=r?" ":"";switch(t){case 0:return"‚Ä¢"+o;case 1:return"‚ó¶"+o;case 2:return"‚óæ"+o;case 5:var l=an(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return oc(e,"„Äá‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πù",a);case 6:return TA(e,1,3999,HF,3,n).toLowerCase();case 7:return TA(e,1,3999,HF,3,n);case 8:return an(e,945,969,!1,n);case 9:return an(e,97,122,!1,n);case 10:return an(e,65,90,!1,n);case 11:return an(e,1632,1641,!0,n);case 12:case 49:return TA(e,1,9999,KF,3,n);case 35:return TA(e,1,9999,KF,3,n).toLowerCase();case 13:return an(e,2534,2543,!0,n);case 14:case 30:return an(e,6112,6121,!0,n);case 15:return oc(e,"Â≠ê‰∏ëÂØÖÂçØËæ∞Â∑≥ÂçàÊú™Áî≥ÈÖâÊàå‰∫•",a);case 16:return oc(e,"Áî≤‰πô‰∏ô‰∏ÅÊàäÂ∑±Â∫öËæõÂ£¨Áô∏",a);case 17:case 48:return uo(e,"Èõ∂‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πù",VF,"Ë≤†",a,al|il|nf);case 47:return uo(e,"Èõ∂Â£πË≤≥ÂèÉËÇÜ‰ºçÈô∏ÊüíÊçåÁéñ",zF,"Ë≤†",a,UA|al|il|nf);case 42:return uo(e,"Èõ∂‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πù",VF,"Ë¥ü",a,al|il|nf);case 41:return uo(e,"Èõ∂Â£πË¥∞ÂèÅËÇÜ‰ºçÈôÜÊüíÊçåÁéñ",zF,"Ë¥ü",a,UA|al|il|nf);case 26:return uo(e,"„Äá‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πù","ÂçÅÁôæÂçÉ‰∏á",GF,a,0);case 25:return uo(e,"Èõ∂Â£±ÂºêÂèÇÂõõ‰ºçÂÖ≠‰∏ÉÂÖ´‰πù","ÊãæÁôæÂçÉ‰∏á",GF,a,UA|al|il);case 31:return uo(e,"ÏòÅÏùºÏù¥ÏÇºÏÇ¨Ïò§Ïú°Ïπ†ÌåîÍµ¨","Ïã≠Î∞±Ï≤úÎßå",iy,i,UA|al|il);case 33:return uo(e,"Èõ∂‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πù","ÂçÅÁôæÂçÉËê¨",iy,i,0);case 32:return uo(e,"Èõ∂Â£πË≤≥ÂèÉÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πù","ÊãæÁôæÂçÉ",iy,i,UA|al|il);case 18:return an(e,2406,2415,!0,n);case 20:return TA(e,1,19999,GNe,3,n);case 21:return an(e,2790,2799,!0,n);case 22:return an(e,2662,2671,!0,n);case 22:return TA(e,1,10999,zNe,3,n);case 23:return oc(e,"„ÅÇ„ÅÑ„ÅÜ„Åà„Åä„Åã„Åç„Åè„Åë„Åì„Åï„Åó„Åô„Åõ„Åù„Åü„Å°„Å§„Å¶„Å®„Å™„Å´„Å¨„Å≠„ÅÆ„ÅØ„Å≤„Åµ„Å∏„Åª„Åæ„Åø„ÇÄ„ÇÅ„ÇÇ„ÇÑ„ÇÜ„Çà„Çâ„Çä„Çã„Çå„Çç„Çè„Çê„Çë„Çí„Çì");case 24:return oc(e,"„ÅÑ„Çç„ÅØ„Å´„Åª„Å∏„Å®„Å°„Çä„Å¨„Çã„Çí„Çè„Åã„Çà„Åü„Çå„Åù„Å§„Å≠„Å™„Çâ„ÇÄ„ÅÜ„Çê„ÅÆ„Åä„Åè„ÇÑ„Åæ„Åë„Åµ„Åì„Åà„Å¶„ÅÇ„Åï„Åç„ÇÜ„ÇÅ„Åø„Åó„Çë„Å≤„ÇÇ„Åõ„Åô");case 27:return an(e,3302,3311,!0,n);case 28:return oc(e,"„Ç¢„Ç§„Ç¶„Ç®„Ç™„Ç´„Ç≠„ÇØ„Ç±„Ç≥„Çµ„Ç∑„Çπ„Çª„ÇΩ„Çø„ÉÅ„ÉÑ„ÉÜ„Éà„Éä„Éã„Éå„Éç„Éé„Éè„Éí„Éï„Éò„Éõ„Éû„Éü„É†„É°„É¢„É§„É¶„É®„É©„É™„É´„É¨„É≠„ÉØ„É∞„É±„É≤„É≥",a);case 29:return oc(e,"„Ç§„É≠„Éè„Éã„Éõ„Éò„Éà„ÉÅ„É™„Éå„É´„É≤„ÉØ„Ç´„É®„Çø„É¨„ÇΩ„ÉÑ„Éç„Éä„É©„É†„Ç¶„É∞„Éé„Ç™„ÇØ„É§„Éû„Ç±„Éï„Ç≥„Ç®„ÉÜ„Ç¢„Çµ„Ç≠„É¶„É°„Éü„Ç∑„É±„Éí„É¢„Çª„Çπ",a);case 34:return an(e,3792,3801,!0,n);case 37:return an(e,6160,6169,!0,n);case 38:return an(e,4160,4169,!0,n);case 39:return an(e,2918,2927,!0,n);case 40:return an(e,1776,1785,!0,n);case 43:return an(e,3046,3055,!0,n);case 44:return an(e,3174,3183,!0,n);case 45:return an(e,3664,3673,!0,n);case 46:return an(e,3872,3881,!0,n);case 3:default:return an(e,48,57,!0,n)}},m_="data-html2canvas-ignore",qF=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new VNe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,a=qNe(t,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=a.contentWindow,c=l.document,A=XNe(a).then(function(){return vs(n,void 0,void 0,function(){var u,d;return ls(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(tCe),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,YNe(c)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,d)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(ZNe(document.doctype)+"<html></html>"),eCe(this.referenceElement.ownerDocument,i,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),A},e.prototype.createElementClone=function(t){if(_1(t,2))debugger;if(u_(t))return this.createCanvasClone(t);if(RF(t))return this.createVideoClone(t);if(MF(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return R1(r)&&(R1(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),$F(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return oy(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),a=t.cloneNode(!1);return a.textContent=n,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var i=t.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,r,n){(!HA(r)||!KNe(r)&&!r.hasAttribute(m_)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!HA(r)||!MF(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var a=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(HA(i)&&f_(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(r,l,n)})}else this.appendChildNode(r,i,n)},e.prototype.cloneNode=function(t,r){if(c_(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&HA(t)&&(Q1(t)||Vp(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var i=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&Q1(a)&&(this.clonedReferenceElement=a),$j(a)&&sCe(a);var c=this.counters.parse(new CF(this.context,i)),A=this.resolvePseudoContent(t,a,o,wf.BEFORE);$F(t)&&(r=!0),RF(t)||this.cloneChildNodes(t,a,r),A&&a.insertBefore(A,a.firstChild);var u=this.resolvePseudoContent(t,a,l,wf.AFTER);return u&&a.appendChild(u),this.counters.pop(c),(i&&(this.options.copyStyles||Vp(t))&&!d_(t)||r)&&oy(i,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(yx(t)||wx(t))&&(yx(a)||wx(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,a){var i=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new CF(this.context,n));var c=new Rje(this.context,n),A=l.createElement("html2canvaspseudoelement");oy(n,A),c.content.forEach(function(d){if(d.type===0)A.appendChild(l.createTextNode(d.value));else if(d.type===22){var h=l.createElement("img");h.src=d.value,h.style.opacity="1",A.appendChild(h)}else if(d.type===18){if(d.name==="attr"){var f=d.values.filter(br);f.length&&A.appendChild(l.createTextNode(t.getAttribute(f[0].value)||""))}else if(d.name==="counter"){var g=d.values.filter(Tu),p=g[0],b=g[1];if(p&&br(p)){var m=i.counters.getCounterValue(p.value),x=b&&br(b)?U1.parse(i.context,b.value):3;A.appendChild(l.createTextNode(mh(m,x,!1)))}}else if(d.name==="counters"){var y=d.values.filter(Tu),p=y[0],w=y[1],b=y[2];if(p&&br(p)){var N=i.counters.getCounterValues(p.value),B=b&&br(b)?U1.parse(i.context,b.value):3,F=w&&w.type===0?w.value:"",E=N.map(function(U){return mh(U,B,!1)}).join(F);A.appendChild(l.createTextNode(E))}}}else if(d.type===20)switch(d.value){case"open-quote":A.appendChild(l.createTextNode(NF(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":A.appendChild(l.createTextNode(NF(c.quotes,--i.quoteDepth,!1)));break;default:A.appendChild(l.createTextNode(d.value))}}),A.className=M1+" "+$1;var u=a===wf.BEFORE?" "+M1:" "+$1;return Vp(r)?r.className.baseValue+=u:r.className+=u,A}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),wf;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(wf||(wf={}));var qNe=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(m_,"true"),e.body.appendChild(r),r},WNe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},YNe=function(e){return Promise.all([].slice.call(e.images,0).map(WNe))},XNe=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},JNe=["all","d","content"],oy=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);JNe.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},ZNe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},eCe=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},tCe=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},rCe=":before",nCe=":after",M1="___html2canvas___pseudoelement_before",$1="___html2canvas___pseudoelement_after",WF=`{
    content: "" !important;
    display: none !important;
}`,sCe=function(e){aCe(e,"."+M1+rCe+WF+`
         .`+$1+nCe+WF)},aCe=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},p_=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),iCe=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(cy(t)||ACe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return vs(this,void 0,void 0,function(){var r,n,a,i,o=this;return ls(this,function(l){switch(l.label){case 0:return r=p_.isSameOrigin(t),n=!ly(t)&&this._options.useCORS===!0&&Yn.SUPPORT_CORS_IMAGES&&!r,a=!ly(t)&&!r&&!cy(t)&&typeof this._options.proxy=="string"&&Yn.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!ly(t)&&!cy(t)&&!a&&!n?[2]:(i=t,a?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,A){var u=new Image;u.onload=function(){return c(u)},u.onerror=A,(uCe(i)||n)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return c(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(i,o){var l=Yn.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")i(c.response);else{var d=new FileReader;d.addEventListener("load",function(){return i(d.result)},!1),d.addEventListener("error",function(h){return o(h)},!1),d.readAsDataURL(c.response)}else o("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=o;var A=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+A+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var u=r._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+a)}}c.send()})},e}(),oCe=/^data:image\/svg\+xml/i,lCe=/^data:image\/.*;base64,/i,cCe=/^data:image\/.*/i,ACe=function(e){return Yn.SUPPORT_SVG_DRAWING||!dCe(e)},ly=function(e){return cCe.test(e)},uCe=function(e){return lCe.test(e)},cy=function(e){return e.substr(0,4)==="blob"},dCe=function(e){return e.substr(-3).toLowerCase()==="svg"||oCe.test(e)},Ze=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),PA=function(e,t,r){return new Ze(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},bp=function(){function e(t,r,n,a){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=a}return e.prototype.subdivide=function(t,r){var n=PA(this.start,this.startControl,t),a=PA(this.startControl,this.endControl,t),i=PA(this.endControl,this.end,t),o=PA(n,a,t),l=PA(a,i,t),c=PA(o,l,t);return r?new e(this.start,n,o,c):new e(c,l,i,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),ya=function(e){return e.type===1},fCe=function(){function e(t){var r=t.styles,n=t.bounds,a=tf(r.borderTopLeftRadius,n.width,n.height),i=a[0],o=a[1],l=tf(r.borderTopRightRadius,n.width,n.height),c=l[0],A=l[1],u=tf(r.borderBottomRightRadius,n.width,n.height),d=u[0],h=u[1],f=tf(r.borderBottomLeftRadius,n.width,n.height),g=f[0],p=f[1],b=[];b.push((i+c)/n.width),b.push((g+d)/n.width),b.push((o+p)/n.height),b.push((A+h)/n.height);var m=Math.max.apply(Math,b);m>1&&(i/=m,o/=m,c/=m,A/=m,d/=m,h/=m,g/=m,p/=m);var x=n.width-c,y=n.height-h,w=n.width-d,N=n.height-p,B=r.borderTopWidth,F=r.borderRightWidth,E=r.borderBottomWidth,P=r.borderLeftWidth,Q=Pr(r.paddingTop,t.bounds.width),U=Pr(r.paddingRight,t.bounds.width),T=Pr(r.paddingBottom,t.bounds.width),k=Pr(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Vr(n.left+P/3,n.top+B/3,i-P/3,o-B/3,ur.TOP_LEFT):new Ze(n.left+P/3,n.top+B/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Vr(n.left+x,n.top+B/3,c-F/3,A-B/3,ur.TOP_RIGHT):new Ze(n.left+n.width-F/3,n.top+B/3),this.bottomRightBorderDoubleOuterBox=d>0||h>0?Vr(n.left+w,n.top+y,d-F/3,h-E/3,ur.BOTTOM_RIGHT):new Ze(n.left+n.width-F/3,n.top+n.height-E/3),this.bottomLeftBorderDoubleOuterBox=g>0||p>0?Vr(n.left+P/3,n.top+N,g-P/3,p-E/3,ur.BOTTOM_LEFT):new Ze(n.left+P/3,n.top+n.height-E/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Vr(n.left+P*2/3,n.top+B*2/3,i-P*2/3,o-B*2/3,ur.TOP_LEFT):new Ze(n.left+P*2/3,n.top+B*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Vr(n.left+x,n.top+B*2/3,c-F*2/3,A-B*2/3,ur.TOP_RIGHT):new Ze(n.left+n.width-F*2/3,n.top+B*2/3),this.bottomRightBorderDoubleInnerBox=d>0||h>0?Vr(n.left+w,n.top+y,d-F*2/3,h-E*2/3,ur.BOTTOM_RIGHT):new Ze(n.left+n.width-F*2/3,n.top+n.height-E*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||p>0?Vr(n.left+P*2/3,n.top+N,g-P*2/3,p-E*2/3,ur.BOTTOM_LEFT):new Ze(n.left+P*2/3,n.top+n.height-E*2/3),this.topLeftBorderStroke=i>0||o>0?Vr(n.left+P/2,n.top+B/2,i-P/2,o-B/2,ur.TOP_LEFT):new Ze(n.left+P/2,n.top+B/2),this.topRightBorderStroke=i>0||o>0?Vr(n.left+x,n.top+B/2,c-F/2,A-B/2,ur.TOP_RIGHT):new Ze(n.left+n.width-F/2,n.top+B/2),this.bottomRightBorderStroke=d>0||h>0?Vr(n.left+w,n.top+y,d-F/2,h-E/2,ur.BOTTOM_RIGHT):new Ze(n.left+n.width-F/2,n.top+n.height-E/2),this.bottomLeftBorderStroke=g>0||p>0?Vr(n.left+P/2,n.top+N,g-P/2,p-E/2,ur.BOTTOM_LEFT):new Ze(n.left+P/2,n.top+n.height-E/2),this.topLeftBorderBox=i>0||o>0?Vr(n.left,n.top,i,o,ur.TOP_LEFT):new Ze(n.left,n.top),this.topRightBorderBox=c>0||A>0?Vr(n.left+x,n.top,c,A,ur.TOP_RIGHT):new Ze(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||h>0?Vr(n.left+w,n.top+y,d,h,ur.BOTTOM_RIGHT):new Ze(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=g>0||p>0?Vr(n.left,n.top+N,g,p,ur.BOTTOM_LEFT):new Ze(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?Vr(n.left+P,n.top+B,Math.max(0,i-P),Math.max(0,o-B),ur.TOP_LEFT):new Ze(n.left+P,n.top+B),this.topRightPaddingBox=c>0||A>0?Vr(n.left+Math.min(x,n.width-F),n.top+B,x>n.width+F?0:Math.max(0,c-F),Math.max(0,A-B),ur.TOP_RIGHT):new Ze(n.left+n.width-F,n.top+B),this.bottomRightPaddingBox=d>0||h>0?Vr(n.left+Math.min(w,n.width-P),n.top+Math.min(y,n.height-E),Math.max(0,d-F),Math.max(0,h-E),ur.BOTTOM_RIGHT):new Ze(n.left+n.width-F,n.top+n.height-E),this.bottomLeftPaddingBox=g>0||p>0?Vr(n.left+P,n.top+Math.min(N,n.height-E),Math.max(0,g-P),Math.max(0,p-E),ur.BOTTOM_LEFT):new Ze(n.left+P,n.top+n.height-E),this.topLeftContentBox=i>0||o>0?Vr(n.left+P+k,n.top+B+Q,Math.max(0,i-(P+k)),Math.max(0,o-(B+Q)),ur.TOP_LEFT):new Ze(n.left+P+k,n.top+B+Q),this.topRightContentBox=c>0||A>0?Vr(n.left+Math.min(x,n.width+P+k),n.top+B+Q,x>n.width+P+k?0:c-P+k,A-(B+Q),ur.TOP_RIGHT):new Ze(n.left+n.width-(F+U),n.top+B+Q),this.bottomRightContentBox=d>0||h>0?Vr(n.left+Math.min(w,n.width-(P+k)),n.top+Math.min(y,n.height+B+Q),Math.max(0,d-(F+U)),h-(E+T),ur.BOTTOM_RIGHT):new Ze(n.left+n.width-(F+U),n.top+n.height-(E+T)),this.bottomLeftContentBox=g>0||p>0?Vr(n.left+P+k,n.top+N,Math.max(0,g-(P+k)),p-(E+T),ur.BOTTOM_LEFT):new Ze(n.left+P+k,n.top+n.height-(E+T))}return e}(),ur;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ur||(ur={}));var Vr=function(e,t,r,n,a){var i=4*((Math.sqrt(2)-1)/3),o=r*i,l=n*i,c=e+r,A=t+n;switch(a){case ur.TOP_LEFT:return new bp(new Ze(e,A),new Ze(e,A-l),new Ze(c-o,t),new Ze(c,t));case ur.TOP_RIGHT:return new bp(new Ze(e,t),new Ze(e+o,t),new Ze(c,A-l),new Ze(c,A));case ur.BOTTOM_RIGHT:return new bp(new Ze(c,t),new Ze(c,t+l),new Ze(e+o,A),new Ze(e,A));case ur.BOTTOM_LEFT:default:return new bp(new Ze(c,A),new Ze(c-o,A),new Ze(e,t+l),new Ze(e,t))}},jx=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},hCe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Nx=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},mCe=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),yp=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),pCe=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),gCe=function(e){return e.type===0},g_=function(e){return e.type===1},xCe=function(e){return e.type===2},YF=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},vCe=function(e,t,r,n,a){return e.map(function(i,o){switch(o){case 0:return i.add(t,r);case 1:return i.add(t+n,r);case 2:return i.add(t+n,r+a);case 3:return i.add(t,r+a)}return i})},x_=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),v_=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new fCe(this.container),this.container.styles.opacity<1&&this.effects.push(new pCe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new mCe(n,a,i))}if(this.container.styles.overflowX!==0){var o=jx(this.curves),l=Nx(this.curves);YF(o,l)?this.effects.push(new yp(o,6)):(this.effects.push(new yp(o,2)),this.effects.push(new yp(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(c){return!g_(c)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=jx(n.curves),l=Nx(n.curves);YF(o,l)||a.unshift(new yp(l,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(c){return Pn(c.target,t)})},e}(),H1=function(e,t,r,n){e.container.elements.forEach(function(a){var i=Pn(a.flags,4),o=Pn(a.flags,2),l=new v_(a,e);Pn(a.styles.display,2048)&&n.push(l);var c=Pn(a.flags,8)?[]:n;if(i||o){var A=i||a.styles.isPositioned()?r:t,u=new x_(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var d=a.styles.zIndex.order;if(d<0){var h=0;A.negativeZIndex.some(function(g,p){return d>g.element.container.styles.zIndex.order?(h=p,!1):h>0}),A.negativeZIndex.splice(h,0,u)}else if(d>0){var f=0;A.positiveZIndex.some(function(g,p){return d>=g.element.container.styles.zIndex.order?(f=p+1,!1):f>0}),A.positiveZIndex.splice(f,0,u)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else a.styles.isFloating()?A.nonPositionedFloats.push(u):A.nonPositionedInlineLevel.push(u);H1(l,u,i?u:r,c)}else a.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),H1(l,t,r,c);Pn(a.flags,8)&&b_(a,c)})},b_=function(e,t){for(var r=e instanceof L1?e.start:1,n=e instanceof L1?e.reversed:!1,a=0;a<t.length;a++){var i=t[a];i.container instanceof n_&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=mh(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},bCe=function(e){var t=new v_(e,null),r=new x_(t),n=[];return H1(t,r,r,n),b_(t.container,n),r},XF=function(e,t){switch(t){case 0:return Ba(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Ba(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Ba(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Ba(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},yCe=function(e,t){switch(t){case 0:return Ba(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Ba(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Ba(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Ba(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},wCe=function(e,t){switch(t){case 0:return Ba(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Ba(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Ba(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Ba(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},jCe=function(e,t){switch(t){case 0:return wp(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return wp(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return wp(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return wp(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},wp=function(e,t){var r=[];return ya(e)?r.push(e.subdivide(.5,!1)):r.push(e),ya(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},Ba=function(e,t,r,n){var a=[];return ya(e)?a.push(e.subdivide(.5,!1)):a.push(e),ya(r)?a.push(r.subdivide(.5,!0)):a.push(r),ya(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),ya(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},y_=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Cx=function(e){var t=e.styles,r=e.bounds,n=Pr(t.paddingLeft,r.width),a=Pr(t.paddingRight,r.width),i=Pr(t.paddingTop,r.width),o=Pr(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+a),-(t.borderTopWidth+t.borderBottomWidth+i+o))},NCe=function(e,t){return e===0?t.bounds:e===2?Cx(t):y_(t)},CCe=function(e,t){return e===0?t.bounds:e===2?Cx(t):y_(t)},Ay=function(e,t,r){var n=NCe(_A(e.styles.backgroundOrigin,t),e),a=CCe(_A(e.styles.backgroundClip,t),e),i=BCe(_A(e.styles.backgroundSize,t),r,n),o=i[0],l=i[1],c=tf(_A(e.styles.backgroundPosition,t),n.width-o,n.height-l),A=SCe(_A(e.styles.backgroundRepeat,t),c,i,n,a),u=Math.round(n.left+c[0]),d=Math.round(n.top+c[1]);return[A,u,d,o,l]},kA=function(e){return br(e)&&e.value===ru.AUTO},jp=function(e){return typeof e=="number"},BCe=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(xn(o)&&l&&xn(l))return[Pr(o,r.width),Pr(l,r.height)];var c=jp(i);if(br(o)&&(o.value===ru.CONTAIN||o.value===ru.COVER)){if(jp(i)){var A=r.width/r.height;return A<i!=(o.value===ru.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=jp(n),d=jp(a),h=u||d;if(kA(o)&&(!l||kA(l))){if(u&&d)return[n,a];if(!c&&!h)return[r.width,r.height];if(h&&c){var f=u?n:a*i,g=d?a:n/i;return[f,g]}var p=u?n:r.width,b=d?a:r.height;return[p,b]}if(c){var m=0,x=0;return xn(o)?m=Pr(o,r.width):xn(l)&&(x=Pr(l,r.height)),kA(o)?m=x*i:(!l||kA(l))&&(x=m/i),[m,x]}var y=null,w=null;if(xn(o)?y=Pr(o,r.width):l&&xn(l)&&(w=Pr(l,r.height)),y!==null&&(!l||kA(l))&&(w=u&&d?y/n*a:r.height),w!==null&&kA(o)&&(y=u&&d?w/a*n:r.width),y!==null&&w!==null)return[y,w];throw new Error("Unable to calculate background-size for element")},_A=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},SCe=function(e,t,r,n,a){var i=t[0],o=t[1],l=r[0],c=r[1];switch(e){case 2:return[new Ze(Math.round(n.left),Math.round(n.top+o)),new Ze(Math.round(n.left+n.width),Math.round(n.top+o)),new Ze(Math.round(n.left+n.width),Math.round(c+n.top+o)),new Ze(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new Ze(Math.round(n.left+i),Math.round(n.top)),new Ze(Math.round(n.left+i+l),Math.round(n.top)),new Ze(Math.round(n.left+i+l),Math.round(n.height+n.top)),new Ze(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Ze(Math.round(n.left+i),Math.round(n.top+o)),new Ze(Math.round(n.left+i+l),Math.round(n.top+o)),new Ze(Math.round(n.left+i+l),Math.round(n.top+o+c)),new Ze(Math.round(n.left+i),Math.round(n.top+o+c))];default:return[new Ze(Math.round(a.left),Math.round(a.top)),new Ze(Math.round(a.left+a.width),Math.round(a.top)),new Ze(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Ze(Math.round(a.left),Math.round(a.height+a.top))]}},ECe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",JF="Hidden Text",FCe=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),a.src=ECe,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(JF)),n.appendChild(i),n.appendChild(a);var l=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(JF)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),w_=function(){function e(t,r){this.context=t,this.options=r}return e}(),TCe=1e4,PCe=function(e){oi(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new FCe(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},t.prototype.applyEffect=function(r){this.ctx.save(),xCe(r)&&(this.ctx.globalAlpha=r.opacity),gCe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),g_(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return vs(this,void 0,void 0,function(){var n;return ls(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return vs(this,void 0,void 0,function(){return ls(this,function(n){switch(n.label){case 0:if(Pn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,a){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var o=Rj(r.text);o.reduce(function(l,c){return i.ctx.fillText(c,l,r.bounds.top+a),l+i.ctx.measureText(c).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=_Ce(r.fontFamily).join(", "),i=Uh(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,a].join(" "),a,i]},t.prototype.renderTextNode=function(r,n){return vs(this,void 0,void 0,function(){var a,i,o,l,c,A,u,d,h=this;return ls(this,function(f){return a=this.createFontStyle(n),i=a[0],o=a[1],l=a[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),A=c.baseline,u=c.middle,d=n.paintOrder,r.textBounds.forEach(function(g){d.forEach(function(p){switch(p){case 0:h.ctx.fillStyle=Dn(n.color),h.renderTextWithLetterSpacing(g,n.letterSpacing,A);var b=n.textShadow;b.length&&g.text.trim().length&&(b.slice(0).reverse().forEach(function(m){h.ctx.shadowColor=Dn(m.color),h.ctx.shadowOffsetX=m.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=m.offsetY.number*h.options.scale,h.ctx.shadowBlur=m.blur.number,h.renderTextWithLetterSpacing(g,n.letterSpacing,A)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=Dn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(m){switch(m){case 1:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+A),g.bounds.width,1);break;case 2:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:h.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+u),g.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&g.text.trim().length&&(h.ctx.strokeStyle=Dn(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+A)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=Cx(r),o=Nx(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return vs(this,void 0,void 0,function(){var n,a,i,o,l,c,x,x,A,u,d,h,w,f,g,N,p,b,m,x,y,w,N;return ls(this,function(B){switch(B.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,i=n.styles,o=0,l=n.textNodes,B.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,i)]):[3,4];case 2:B.sent(),B.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof e_))return[3,8];B.label=5;case 5:return B.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return x=B.sent(),this.renderReplacedElement(n,a,x),[3,8];case 7:return B.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof t_&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof r_))return[3,12];B.label=9;case 9:return B.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return x=B.sent(),this.renderReplacedElement(n,a,x),[3,12];case 11:return B.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof i_&&n.tree?(A=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,A.render(n.tree)]):[3,14];case 13:u=B.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),B.label=14;case 14:if(n instanceof Mj&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===vx?n.checked&&(this.ctx.save(),this.path([new Ze(n.bounds.left+d*.39363,n.bounds.top+d*.79),new Ze(n.bounds.left+d*.16,n.bounds.top+d*.5549),new Ze(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new Ze(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new Ze(n.bounds.left+d*.72983,n.bounds.top+d*.23),new Ze(n.bounds.left+d*.84,n.bounds.top+d*.34085),new Ze(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=Dn(QF),this.ctx.fill(),this.ctx.restore()):n.type===bx&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=Dn(QF),this.ctx.fill(),this.ctx.restore())),kCe(n)&&n.value.length){switch(h=this.createFontStyle(i),w=h[0],f=h[1],g=this.fontMetrics.getMetrics(w,f).baseline,this.ctx.font=w,this.ctx.fillStyle=Dn(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=ICe(n.styles.textAlign),N=Cx(n),p=0,n.styles.textAlign){case 1:p+=N.width/2;break;case 2:p+=N.width;break}b=N.add(p,0,0,-N.height/2+1),this.ctx.save(),this.path([new Ze(N.left,N.top),new Ze(N.left+N.width,N.top),new Ze(N.left+N.width,N.top+N.height),new Ze(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new yf(n.value,b),i.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Pn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(m=n.styles.listStyleImage,m.type!==0)return[3,18];x=void 0,y=m.url,B.label=15;case 15:return B.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return x=B.sent(),this.ctx.drawImage(x,n.bounds.left-(x.width+10),n.bounds.top),[3,18];case 17:return B.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(w=this.createFontStyle(i)[0],this.ctx.font=w,this.ctx.fillStyle=Dn(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new ko(n.bounds.left,n.bounds.top+Pr(n.styles.paddingTop,n.bounds.width),n.bounds.width,wF(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new yf(r.listValue,N),i.letterSpacing,wF(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),B.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return vs(this,void 0,void 0,function(){var n,a,m,i,o,m,l,c,m,A,u,m,d,h,m,f,g,m,p,b,m;return ls(this,function(x){switch(x.label){case 0:if(Pn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:x.sent(),n=0,a=r.negativeZIndex,x.label=2;case 2:return n<a.length?(m=a[n],[4,this.renderStack(m)]):[3,5];case 3:x.sent(),x.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:x.sent(),i=0,o=r.nonInlineLevel,x.label=7;case 7:return i<o.length?(m=o[i],[4,this.renderNode(m)]):[3,10];case 8:x.sent(),x.label=9;case 9:return i++,[3,7];case 10:l=0,c=r.nonPositionedFloats,x.label=11;case 11:return l<c.length?(m=c[l],[4,this.renderStack(m)]):[3,14];case 12:x.sent(),x.label=13;case 13:return l++,[3,11];case 14:A=0,u=r.nonPositionedInlineLevel,x.label=15;case 15:return A<u.length?(m=u[A],[4,this.renderStack(m)]):[3,18];case 16:x.sent(),x.label=17;case 17:return A++,[3,15];case 18:d=0,h=r.inlineLevel,x.label=19;case 19:return d<h.length?(m=h[d],[4,this.renderNode(m)]):[3,22];case 20:x.sent(),x.label=21;case 21:return d++,[3,19];case 22:f=0,g=r.zeroOrAutoZIndexOrTransformedOrOpacity,x.label=23;case 23:return f<g.length?(m=g[f],[4,this.renderStack(m)]):[3,26];case 24:x.sent(),x.label=25;case 25:return f++,[3,23];case 26:p=0,b=r.positiveZIndex,x.label=27;case 27:return p<b.length?(m=b[p],[4,this.renderStack(m)]):[3,30];case 28:x.sent(),x.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(a,i){var o=ya(a)?a.start:a;i===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),ya(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(r,n,a,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},t.prototype.resizeImage=function(r,n,a){var i;if(r.width===n&&r.height===a)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,a),l},t.prototype.renderBackgroundImage=function(r){return vs(this,void 0,void 0,function(){var n,a,i,o,l,c;return ls(this,function(A){switch(A.label){case 0:n=r.styles.backgroundImage.length-1,a=function(u){var d,h,f,Q,L,K,k,I,E,g,Q,L,K,k,I,p,b,m,x,y,w,N,B,F,E,P,Q,U,T,k,I,M,L,K,R,$,q,Z,D,H,V,re;return ls(this,function(Ae){switch(Ae.label){case 0:if(u.type!==0)return[3,5];d=void 0,h=u.url,Ae.label=1;case 1:return Ae.trys.push([1,3,,4]),[4,i.context.cache.match(h)];case 2:return d=Ae.sent(),[3,4];case 3:return Ae.sent(),i.context.logger.error("Error loading background-image "+h),[3,4];case 4:return d&&(f=Ay(r,n,[d.width,d.height,d.width/d.height]),Q=f[0],L=f[1],K=f[2],k=f[3],I=f[4],E=i.ctx.createPattern(i.resizeImage(d,k,I),"repeat"),i.renderRepeat(Q,E,L,K)),[3,6];case 5:g2e(u)?(g=Ay(r,n,[null,null,null]),Q=g[0],L=g[1],K=g[2],k=g[3],I=g[4],p=d2e(u.angle,k,I),b=p[0],m=p[1],x=p[2],y=p[3],w=p[4],N=document.createElement("canvas"),N.width=k,N.height=I,B=N.getContext("2d"),F=B.createLinearGradient(m,y,x,w),bF(u.stops,b).forEach(function(ae){return F.addColorStop(ae.stop,Dn(ae.color))}),B.fillStyle=F,B.fillRect(0,0,k,I),k>0&&I>0&&(E=i.ctx.createPattern(N,"repeat"),i.renderRepeat(Q,E,L,K))):x2e(u)&&(P=Ay(r,n,[null,null,null]),Q=P[0],U=P[1],T=P[2],k=P[3],I=P[4],M=u.position.length===0?[Dj]:u.position,L=Pr(M[0],k),K=Pr(M[M.length-1],I),R=f2e(u,L,K,k,I),$=R[0],q=R[1],$>0&&q>0&&(Z=i.ctx.createRadialGradient(U+L,T+K,0,U+L,T+K,$),bF(u.stops,$*2).forEach(function(ae){return Z.addColorStop(ae.stop,Dn(ae.color))}),i.path(Q),i.ctx.fillStyle=Z,$!==q?(D=r.bounds.left+.5*r.bounds.width,H=r.bounds.top+.5*r.bounds.height,V=q/$,re=1/V,i.ctx.save(),i.ctx.translate(D,H),i.ctx.transform(1,0,0,V,0,0),i.ctx.translate(-D,-H),i.ctx.fillRect(U,re*(T-H)+H,k,I*re),i.ctx.restore()):i.ctx.fill())),Ae.label=6;case 6:return n--,[2]}})},i=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return o<l.length?(c=l[o],[5,a(c)]):[3,4];case 2:A.sent(),A.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,a){return vs(this,void 0,void 0,function(){return ls(this,function(i){return this.path(XF(a,n)),this.ctx.fillStyle=Dn(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,a,i){return vs(this,void 0,void 0,function(){var o,l;return ls(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,i)]:[3,2];case 1:return c.sent(),[2];case 2:return o=yCe(i,a),this.path(o),this.ctx.fillStyle=Dn(r),this.ctx.fill(),l=wCe(i,a),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return vs(this,void 0,void 0,function(){var n,a,i,o,l,c,A,u,d=this;return ls(this,function(h){switch(h.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!wl(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=OCe(_A(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),wl(n.backgroundColor)||(this.ctx.fillStyle=Dn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){d.ctx.save();var g=jx(r.curves),p=f.inset?0:TCe,b=vCe(g,-p+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(d.path(g),d.ctx.clip(),d.mask(b)):(d.mask(g),d.ctx.clip(),d.path(b)),d.ctx.shadowOffsetX=f.offsetX.number+p,d.ctx.shadowOffsetY=f.offsetY.number,d.ctx.shadowColor=Dn(f.color),d.ctx.shadowBlur=f.blur.number,d.ctx.fillStyle=f.inset?Dn(f.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),h.label=2;case 2:l=0,c=0,A=i,h.label=3;case 3:return c<A.length?(u=A[c],u.style!==0&&!wl(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,3)];case 6:return h.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,l,r.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,l,r.curves)];case 10:h.sent(),h.label=11;case 11:l++,h.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,a,i,o){return vs(this,void 0,void 0,function(){var l,c,A,u,d,h,f,g,p,b,m,x,y,w,N,B,N,B;return ls(this,function(F){return this.ctx.save(),l=jCe(i,a),c=XF(i,a),o===2&&(this.path(c),this.ctx.clip()),ya(c[0])?(A=c[0].start.x,u=c[0].start.y):(A=c[0].x,u=c[0].y),ya(c[1])?(d=c[1].end.x,h=c[1].end.y):(d=c[1].x,h=c[1].y),a===0||a===2?f=Math.abs(A-d):f=Math.abs(u-h),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),g=n<3?n*3:n*2,p=n<3?n*2:n,o===3&&(g=n,p=n),b=!0,f<=g*2?b=!1:f<=g*2+p?(m=f/(2*g+p),g*=m,p*=m):(x=Math.floor((f+p)/(g+p)),y=(f-x*g)/(x-1),w=(f-(x+1)*g)/x,p=w<=0||Math.abs(p-y)<Math.abs(p-w)?y:w),b&&(o===3?this.ctx.setLineDash([0,g+p]):this.ctx.setLineDash([g,p])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Dn(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(ya(c[0])&&(N=c[3],B=c[0],this.ctx.beginPath(),this.formatPath([new Ze(N.end.x,N.end.y),new Ze(B.start.x,B.start.y)]),this.ctx.stroke()),ya(c[1])&&(N=c[1],B=c[2],this.ctx.beginPath(),this.formatPath([new Ze(N.end.x,N.end.y),new Ze(B.start.x,B.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return vs(this,void 0,void 0,function(){var n;return ls(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Dn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=bCe(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(w_),kCe=function(e){return e instanceof a_||e instanceof s_?!0:e instanceof Mj&&e.type!==bx&&e.type!==vx},OCe=function(e,t){switch(e){case 0:return jx(t);case 2:return hCe(t);case 1:default:return Nx(t)}},ICe=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},UCe=["-apple-system","system-ui"],_Ce=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return UCe.indexOf(t)===-1}):e},DCe=function(e){oi(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t.prototype.render=function(r){return vs(this,void 0,void 0,function(){var n,a;return ls(this,function(i){switch(i.label){case 0:return n=D1(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,LCe(n)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Dn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(w_),LCe=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},QCe=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,tp([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,tp([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,tp([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,tp([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),RCe=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new QCe({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new iCe(this,t)}return e.instanceCount=1,e}(),Hj=function(e,t){return t===void 0&&(t={}),MCe(e,t)};typeof window<"u"&&p_.setContext(window);var MCe=function(e,t){return vs(void 0,void 0,void 0,function(){var r,n,a,i,o,l,c,A,u,d,h,f,g,p,b,m,x,y,w,N,F,B,F,E,P,Q,U,T,k,I,M,L,K,R,$,q,Z,D,H,V;return ls(this,function(re){switch(re.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(E=t.allowTaint)!==null&&E!==void 0?E:!1,imageTimeout:(P=t.imageTimeout)!==null&&P!==void 0?P:15e3,proxy:t.proxy,useCORS:(Q=t.useCORS)!==null&&Q!==void 0?Q:!1},i=w1({logging:(U=t.logging)!==null&&U!==void 0?U:!0,cache:t.cache},a),o={windowWidth:(T=t.windowWidth)!==null&&T!==void 0?T:n.innerWidth,windowHeight:(k=t.windowHeight)!==null&&k!==void 0?k:n.innerHeight,scrollX:(I=t.scrollX)!==null&&I!==void 0?I:n.pageXOffset,scrollY:(M=t.scrollY)!==null&&M!==void 0?M:n.pageYOffset},l=new ko(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new RCe(i,l),A=(L=t.foreignObjectRendering)!==null&&L!==void 0?L:!1,u={allowTaint:(K=t.allowTaint)!==null&&K!==void 0?K:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:A,copyStyles:A},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),d=new qF(c,e,u),h=d.clonedReferenceElement,h?[4,d.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=re.sent(),g=$j(h)||HNe(h)?vwe(h.ownerDocument):Q0(c,h),p=g.width,b=g.height,m=g.left,x=g.top,y=$Ce(c,h,t.backgroundColor),w={canvas:t.canvas,backgroundColor:y,scale:($=(R=t.scale)!==null&&R!==void 0?R:n.devicePixelRatio)!==null&&$!==void 0?$:1,x:((q=t.x)!==null&&q!==void 0?q:0)+m,y:((Z=t.y)!==null&&Z!==void 0?Z:0)+x,width:(D=t.width)!==null&&D!==void 0?D:Math.ceil(p),height:(H=t.height)!==null&&H!==void 0?H:Math.ceil(b)},A?(c.logger.debug("Document cloned, using foreign object rendering"),F=new DCe(c,w),[4,F.render(h)]):[3,3];case 2:return N=re.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+m+","+x+" with size "+p+"x"+b+" using computed rendering"),c.logger.debug("Starting DOM parsing"),B=l_(c,h),y===B.styles.backgroundColor&&(B.styles.backgroundColor=jo.TRANSPARENT),c.logger.debug("Starting renderer for element at "+w.x+","+w.y+" with size "+w.width+"x"+w.height),F=new PCe(c,w),[4,F.render(B)];case 4:N=re.sent(),re.label=5;case 5:return(!((V=t.removeContainer)!==null&&V!==void 0)||V)&&(qF.destroy(f)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,N]}})})},$Ce=function(e,t,r){var n=t.ownerDocument,a=n.documentElement?vf(e,getComputedStyle(n.documentElement).backgroundColor):jo.TRANSPARENT,i=n.body?vf(e,getComputedStyle(n.body).backgroundColor):jo.TRANSPARENT,o=typeof r=="string"?vf(e,r):r===null?jo.TRANSPARENT:4294967295;return t===n.documentElement?wl(a)?wl(i)?o:i:a:o};const HCe=Object.freeze(Object.defineProperty({__proto__:null,default:Hj},Symbol.toStringTag,{value:"Module"}));async function ZF(e){const{filename:t,title:r,subtitle:n,elementId:a,orientation:i="portrait",format:o="a4"}=e;try{const l=document.getElementById(a);if(!l)throw new Error(`Element with ID "${a}" not found`);const c=await Hj(l,{scale:2,logging:!1,useCORS:!0,backgroundColor:"#ffffff"}),A=c.toDataURL("image/png"),u=i==="portrait"?210:297,d=c.height*u/c.width,h=new gt({orientation:i,unit:"mm",format:o});h.setFontSize(18),h.text(r,15,20),n&&(h.setFontSize(12),h.setTextColor(100,100,100),h.text(n,15,28));const f=new Date().toLocaleDateString("en-CA",{year:"numeric",month:"long",day:"numeric"});h.setFontSize(10),h.text(`Generated: ${f}`,15,n?35:28);const g=n?45:38,p=i==="portrait"?297:210;let b=d,m=g;for(h.addImage(A,"PNG",15,m,u-30,d),b-=p;b>=0;)m=b-d+g,h.addPage(),h.addImage(A,"PNG",15,m,u-30,d),b-=p;h.save(`${t}.pdf`)}catch(l){throw console.error("Error generating PDF:",l),l}}const eT=["#3b82f6","#8b5cf6","#ec4899","#6366f1","#eab308","#06b6d4","#f97316","#ef4444","#14b8a6","#10b981","#64748b"];function KCe(){const e=Br(),{user:t}=Wr(),[r,n]=C.useState(!0),[a,i]=C.useState(null),[o,l]=C.useState([]),[c,A]=C.useState(!1),[u,d]=C.useState(!1),[h,f]=C.useState(null),[g,p]=C.useState(new Date().getFullYear().toString()),[b,m]=C.useState("overview");C.useEffect(()=>{if(!t||!Ya(t.email)){e("/login");return}x()},[t,g]);const x=async()=>{n(!0);try{const{data:Q,error:U}=await Le.auth.getSession();if(U||!Q.session)throw new Error("Not authenticated");const T=Q.session.access_token,k=await fetch(`${Nt.bookkeepingSummary}?year=${g}`,{headers:{Authorization:`Bearer ${T}`}});if(!k.ok){const K=await k.json();throw new Error(K.error||"Failed to load summary")}const I=await k.json();i(I);const M=await fetch(`${Nt.bookkeepingExpenses}?year=${g}`,{headers:{Authorization:`Bearer ${T}`}});if(!M.ok){const K=await M.json();throw new Error(K.error||"Failed to load expenses")}const L=await M.json();l(L.expenses||[])}catch(Q){console.error("Error loading bookkeeping data:",Q),me.error(`Failed to load data: ${Q instanceof Error?Q.message:"Unknown error"}`)}finally{n(!1)}},y=Q=>{const U={description:Q.merchant||"",date:Q.date||new Date().toISOString().split("T")[0],amount:Q.total||0,category:Q.category||"other",gstPaid:Q.gst||0,qstPaid:Q.qst||0,taxYear:g};f(U),d(!1),A(!0),me.success("Receipt data loaded! Please review and save.")},w=async()=>{try{await ZF({elementId:"balance-sheet-export",filename:`balance-sheet-${g}`,title:`Balance Sheet ${g}`,subtitle:"Canadian Tax Accounting",orientation:"portrait"}),me.success("Balance Sheet exported successfully!")}catch(Q){console.error("Error exporting PDF:",Q),me.error("Failed to export Balance Sheet")}},N=async()=>{try{await ZF({elementId:"profit-loss-export",filename:`profit-loss-${g}`,title:`Profit & Loss Statement ${g}`,subtitle:"Canadian Tax Accounting",orientation:"portrait"}),me.success("P&L Statement exported successfully!")}catch(Q){console.error("Error exporting PDF:",Q),me.error("Failed to export P&L Statement")}},B=async Q=>{if(confirm("Are you sure you want to delete this expense?"))try{const{data:U}=await Le.auth.getSession();if(!U.session)throw new Error("Not authenticated");if(!(await fetch(Nt.bookkeepingExpense(Q),{method:"DELETE",headers:{Authorization:`Bearer ${U.session.access_token}`}})).ok)throw new Error("Failed to delete expense");me.success("Expense deleted successfully"),x()}catch(U){console.error("Error deleting expense:",U),me.error("Failed to delete expense")}};if(r)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ht,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Loading bookkeeping data..."})]})});if(!a)return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>e("/admin"),children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to Admin Hub"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:s.jsx(vo,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-semibold text-xl",children:"Bookkeeping"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Manage expenses & income"})]})]})]})})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 py-16",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(vo,{className:"w-10 h-10 text-indigo-600"})}),s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"No Bookkeeping Data Yet"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Start tracking your business expenses, invoices, and tax deductions here."}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx(ye,{onClick:()=>e("/admin"),variant:"outline",children:"Back to Admin Hub"}),s.jsxs(ye,{onClick:()=>{A(!0),n(!1)},children:[s.jsx(Tc,{className:"w-4 h-4 mr-2"}),"Add First Expense"]})]})]})})]});const F=new Date().getFullYear(),E=[F,F-1,F-2,F-3],P=({active:Q,payload:U})=>Q&&U&&U.length?s.jsxs("div",{className:"bg-white border rounded-lg shadow-lg p-3",children:[s.jsx("p",{className:"font-medium text-gray-900",children:U[0].payload.monthName}),U.map((T,k)=>s.jsxs("p",{className:"text-sm mt-1",style:{color:T.color},children:[T.name,": ",Je(T.value)]},k))]}):null;return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>e("/admin"),children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:s.jsx(vo,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-semibold text-xl",children:"Bookkeeping"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Manage expenses & income"})]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("select",{value:g,onChange:Q=>p(Q.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:E.map(Q=>s.jsx("option",{value:Q,children:Q},Q))})})]})})}),s.jsx("div",{className:"bg-white border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsxs("div",{className:"flex gap-8",children:[s.jsx("button",{onClick:()=>m("overview"),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${b==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Overview"}),s.jsxs("button",{onClick:()=>m("expenses"),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${b==="expenses"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Expenses (",o.length,")"]}),s.jsx("button",{onClick:()=>m("bilan"),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${b==="bilan"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Bilan"}),s.jsx("button",{onClick:()=>m("pl"),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${b==="pl"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"P&L"})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[b==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Revenue"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:Je(a.summary.totalRevenue)}),s.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"From invoices"})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-50 border border-green-200 flex items-center justify-center flex-shrink-0",children:s.jsx(Mn,{className:"w-5 h-5 text-green-600"})})]})}),s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Expenses"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:Je(a.summary.totalExpenses)}),s.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:[a.summary.expenseCount," expenses"]})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-50 border border-red-200 flex items-center justify-center flex-shrink-0",children:s.jsx(jl,{className:"w-5 h-5 text-red-600"})})]})}),s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Net Profit"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:Je(a.summary.netProfit)}),s.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:[a.summary.profitMargin.toFixed(1),"% margin"]})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 border border-blue-200 flex items-center justify-center flex-shrink-0",children:s.jsx(Zt,{className:"w-5 h-5 text-blue-600"})})]})}),s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Tax Paid"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:Je(a.summary.totalTaxPaid)}),s.jsxs("div",{className:"flex gap-3 mt-2",children:[s.jsxs("p",{className:"text-xs text-green-700",children:["GST: ",Je(a.summary.totalGSTPaid||0)]}),s.jsxs("p",{className:"text-xs text-blue-700",children:["QST: ",Je(a.summary.totalQSTPaid||0)]})]})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-50 border border-purple-200 flex items-center justify-center flex-shrink-0",children:s.jsx(Mt,{className:"w-5 h-5 text-purple-600"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Se,{className:"p-6 lg:col-span-2",children:[s.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Revenue vs Expenses"}),s.jsx(Nh,{width:"100%",height:300,children:s.jsxs(j6,{data:a.monthlyData,children:[s.jsx(kh,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(_l,{dataKey:"monthName",stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(Dl,{stroke:"#6b7280",style:{fontSize:"12px"},tickFormatter:Q=>`$${(Q/1e3).toFixed(0)}k`}),s.jsx(Ts,{content:s.jsx(P,{})}),s.jsx(xl,{}),s.jsx(bl,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,name:"Revenue"}),s.jsx(bl,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",strokeWidth:2,name:"Expenses"}),s.jsx(bl,{type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Profit"})]})})]}),s.jsxs(Se,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Expenses by Category"}),s.jsx("div",{className:"space-y-3",children:a.categoryData.slice(0,6).map((Q,U)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm text-gray-700",children:Q.category}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Je(Q.amount)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full transition-all",style:{width:`${Q.percentage}%`,backgroundColor:eT[U%eT.length]}})})]},Q.category))})]})]})]}),b==="expenses"&&s.jsxs("div",{className:"space-y-6",children:[!c&&!h&&!u&&s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs(ye,{onClick:()=>d(!0),variant:"outline",children:[s.jsx(mT,{className:"w-4 h-4 mr-2"}),"Scan Receipt"]}),s.jsxs(ye,{onClick:()=>A(!0),children:[s.jsx(Tc,{className:"w-4 h-4 mr-2"}),"Add Expense"]})]}),u&&s.jsxs(s.Fragment,{children:[s.jsx(Tve,{onDataExtracted:y,language:"en"}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ye,{onClick:()=>d(!1),variant:"outline",children:"Cancel"})})]}),(c||h)&&s.jsx(k0e,{existingExpense:h,onSuccess:()=>{A(!1),f(null),x()},onCancel:()=>{A(!1),f(null)}}),!c&&!h&&!u&&s.jsx(O0e,{expenses:o,onDelete:B,onEdit:Q=>f(Q)})]}),b==="bilan"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(ye,{onClick:w,children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Export PDF"]})}),s.jsx("div",{id:"balance-sheet-export",children:s.jsx(I0e,{year:parseInt(g),revenue:a.summary.totalRevenue,expenses:a.summary.totalExpenses,netProfit:a.summary.netProfit})})]}),b==="pl"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(ye,{onClick:N,children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Export PDF"]})}),s.jsx("div",{id:"profit-loss-export",children:s.jsx(U0e,{year:parseInt(g),revenue:a.summary.totalRevenue,expenses:a.summary.totalExpenses,netProfit:a.summary.netProfit,profitMargin:a.summary.profitMargin,categoryData:a.categoryData,gstPaid:a.summary.totalGSTPaid||0,qstPaid:a.summary.totalQSTPaid||0})})]})]})]})}function VCe(){const[e,t]=C.useState([]),[r,n]=C.useState(!0),[a,i]=C.useState(""),[o,l]=C.useState("all"),[c,A]=C.useState("all"),u=!1,d="admin-invoices-demo";C.useEffect(()=>{h()},[]);const h=async()=>{var E;n(!0);try{const{data:P}=await Le.auth.getSession();if(!((E=P.session)!=null&&E.access_token))throw new Error("Please log in again");const Q=await fetch(Nt.bookkeepingInvoices,{headers:{Authorization:`Bearer ${P.session.access_token}`}}),U=await Q.json();if(!Q.ok)throw new Error(U.error||"Failed to fetch invoices");t(U.invoices||[])}catch(P){console.error("Error fetching invoices:",P),me.error(P.message||"Failed to load invoices")}finally{n(!1)}},f=E=>{switch(E){case"paid":return s.jsxs(vt,{className:"bg-green-100 text-green-700 border-green-300",children:[s.jsx(He,{className:"w-3 h-3 mr-1"}),"Paid"]});case"pending":return s.jsxs(vt,{className:"bg-yellow-100 text-yellow-700 border-yellow-300",children:[s.jsx(Mr,{className:"w-3 h-3 mr-1"}),"Pending"]});case"cancelled":return s.jsxs(vt,{className:"bg-gray-100 text-gray-700 border-gray-300",children:[s.jsx(Zn,{className:"w-3 h-3 mr-1"}),"Cancelled"]});default:return null}},g=E=>{switch(E){case"initial":return s.jsx(vt,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-300",children:"Initial"});case"final":return s.jsx(vt,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-300",children:"Final"});default:return null}},p=async E=>{try{const{data:{session:P}}=await Le.auth.getSession(),Q=P==null?void 0:P.access_token;if(!Q){me.error("Not authenticated");return}const U=await fetch(`${Nt.INVOICES}/download/${E}`,{headers:{Authorization:`Bearer ${Q}`}});if(!U.ok)throw new Error("Failed to download invoice");const T=await U.blob(),k=window.URL.createObjectURL(T),I=document.createElement("a");I.href=k,I.download=`${E}.pdf`,document.body.appendChild(I),I.click(),window.URL.revokeObjectURL(k),document.body.removeChild(I),me.success("Invoice downloaded successfully")}catch(P){console.error("Download error:",P),me.error(`Failed to download invoice: ${P.message}`)}},b=async(E,P)=>{if(confirm(`Are you sure you want to delete invoice ${E} for ${P}?

This action cannot be undone.`))try{const{data:{session:Q}}=await Le.auth.getSession(),U=Q==null?void 0:Q.access_token;if(!U){me.error("Not authenticated");return}const T=await fetch(Nt.bookkeepingInvoiceDelete(E),{method:"DELETE",headers:{Authorization:`Bearer ${U}`}});if(!T.ok){const k=await T.json();throw new Error(k.error||"Failed to delete invoice")}t(k=>k.filter(I=>I.invoiceNumber!==E)),me.success("‚úÖ Invoice deleted successfully")}catch(Q){console.error("Delete error:",Q),me.error(`Failed to delete invoice: ${Q.message}`)}},m=E=>new Date(E).toLocaleDateString("en-CA",{year:"numeric",month:"short",day:"numeric"}),x=(E,P)=>new Intl.NumberFormat("en-CA",{style:"currency",currency:P}).format(E),y=e.filter(E=>{const P=E.invoiceNumber.toLowerCase().includes(a.toLowerCase())||E.userName.toLowerCase().includes(a.toLowerCase())||E.userEmail.toLowerCase().includes(a.toLowerCase()),Q=o==="all"||E.status===o,U=c==="all"||E.type===c;return P&&Q&&U}),w=e.filter(E=>E.status==="paid").reduce((E,P)=>E+P.amount,0),N=e.filter(E=>E.status==="pending").reduce((E,P)=>E+P.amount,0),B=e.filter(E=>E.status==="paid").length,F=e.filter(E=>E.status==="pending").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsx(vo,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Invoice Management"}),s.jsx("p",{className:"text-gray-600",children:"View and manage all client invoices"})]})]}),s.jsxs(ye,{onClick:h,variant:"outline",children:[s.jsx(Kc,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(Se,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Invoices"}),s.jsx(Mt,{className:"w-4 h-4 text-gray-400"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]}),s.jsxs(Se,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),s.jsx(Mn,{className:"w-4 h-4 text-green-500"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:x(w,"CAD")}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[B," paid invoices"]})]}),s.jsxs(Se,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),s.jsx(Mr,{className:"w-4 h-4 text-yellow-500"})]}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:x(N,"CAD")}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[F," pending invoices"]})]}),s.jsxs(Se,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Avg Invoice"}),s.jsx(Zt,{className:"w-4 h-4 text-blue-500"})]}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x(e.length>0?w/B:0,"CAD")})]})]}),s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 mb-2 block",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ex,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),s.jsx(tt,{placeholder:"Search by invoice, name, or email...",value:a,onChange:E=>i(E.target.value),className:"pl-10"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 mb-2 block",children:"Status"}),s.jsxs("select",{value:o,onChange:E=>l(E.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 mb-2 block",children:"Type"}),s.jsxs("select",{value:c,onChange:E=>A(E.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"initial",children:"Initial Payment"}),s.jsx("option",{value:"final",children:"Final Payment"})]})]})]})}),r?s.jsx(Se,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(ht,{className:"w-8 h-8 text-blue-600 animate-spin mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading invoices..."})]})}):y.length===0?s.jsx(Se,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Invoices Found"}),s.jsx("p",{className:"text-gray-600",children:a||o!=="all"||c!=="all"?"Try adjusting your filters":"No invoices have been generated yet"})]})}):s.jsx(Se,{className:"overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Year"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(E=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Mt,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm font-mono text-gray-900",children:E.invoiceNumber})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ea,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.userName}),s.jsx("p",{className:"text-xs text-gray-500",children:E.userEmail})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g(E.type)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.year}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:x(E.amount,E.currency)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f(E.status)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:m(E.createdAt)}),E.paidAt&&s.jsxs("div",{className:"text-xs text-green-600",children:["Paid: ",m(E.paidAt)]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>p(E.invoiceNumber),children:[s.jsx(aa,{className:"w-3 h-3 mr-1"}),"PDF"]}),s.jsxs(ye,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-300",onClick:()=>b(E.invoiceNumber,E.userName),children:[s.jsx(Zn,{className:"w-3 h-3 mr-1"}),"Delete"]})]})})]},E.invoiceNumber))})]})})}),!r&&y.length>0&&s.jsxs("div",{className:"text-sm text-gray-600 text-center",children:["Showing ",y.length," of ",e.length," invoices"]})]})}function zCe(){const e=Br();return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6 flex items-center gap-2",children:[s.jsxs(ye,{variant:"ghost",onClick:()=>e("/admin"),className:"mr-2",children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to Admin Hub"]}),s.jsxs(ye,{variant:"ghost",onClick:()=>e("/admin/financial-dashboard"),children:[s.jsx(No,{className:"w-4 h-4 mr-2"}),"Financial Dashboard"]})]}),s.jsx(VCe,{})]})})}function GCe(){const[e,t]=C.useState(!1),[r,n]=C.useState([]),[a,i]=C.useState(""),[o,l]=C.useState(""),c=f=>{n(g=>[...g,f])},A=async()=>{var f,g,p,b;t(!0),n([]);try{c({step:"1. Checking Stripe Configuration",status:"pending",message:"Verifying STRIPE_SECRET_KEY is set..."});const{data:m}=await Le.auth.getSession();if(!((f=m.session)!=null&&f.access_token))throw new Error("Not authenticated");const x=await fetch(Nt.createInitialPaymentInvoice,{method:"POST",headers:{Authorization:`Bearer ${m.session.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({year:2025,documentCount:1,amount:50})}),y=await x.json();if(x.ok&&(y.checkoutUrl||y.paymentUrl)){const B=(g=y.sessionId)==null?void 0:g.startsWith("demo_session_");n(F=>F.map((E,P)=>P===F.length-1?{...E,status:"success",message:B?"üé≠ Demo Mode Active - Simulated Stripe response":"‚úÖ Stripe is configured correctly!"}:E)),y.sessionId&&l(y.sessionId)}else n(B=>B.map((F,E)=>E===B.length-1?{...F,status:"error",message:"‚ùå Stripe configuration error",details:y.error}:F));c({step:"2. Webhook Configuration",status:"pending",message:"Checking webhook endpoint..."});const w=`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/stripe/webhook`;i(w),n(B=>B.map((F,E)=>E===B.length-1?{...F,status:"success",message:"üìç Webhook URL ready to configure in Stripe",details:w}:F)),c({step:"3. Invoice Generation",status:(p=y.invoice)!=null&&p.invoiceNumber?"success":"error",message:(b=y.invoice)!=null&&b.invoiceNumber?`‚úÖ Test invoice created: ${y.invoice.invoiceNumber}`:"‚ùå Failed to create invoice",details:y});const N=y.paymentUrl||y.checkoutUrl;c({step:"4. Stripe Checkout",status:N?"success":"error",message:N?"‚úÖ Stripe Checkout URL generated":"‚ùå Failed to generate checkout URL",details:N})}catch(m){console.error("Test error:",m),c({step:"Error",status:"error",message:`‚ùå Test failed: ${m.message}`,details:m})}finally{t(!1)}},u=async f=>{await $x(f)?me.success("Copied to clipboard!"):me.error("Failed to copy to clipboard")},d=async()=>{var f;try{const{data:g}=await Le.auth.getSession();if(!((f=g.session)!=null&&f.access_token))throw new Error("Not authenticated");const b=await(await fetch(Nt.createInitialPaymentInvoice,{method:"POST",headers:{Authorization:`Bearer ${g.session.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({year:2025,documentCount:1,amount:50})})).json(),m=b.paymentUrl||b.checkoutUrl;m?(me.success("Opening Stripe Checkout..."),window.open(m,"_blank")):me.error(b.error||"Failed to create checkout session")}catch(g){me.error(g.message||"Failed to create test payment")}},h=async()=>{var f;if(!o){me.error("No session ID available. Create a test payment first.");return}try{const{data:g}=await Le.auth.getSession();if(!((f=g.session)!=null&&f.access_token))throw new Error("Not authenticated");const b=await(await fetch(Nt.paymentVerify,{method:"POST",headers:{Authorization:`Bearer ${g.session.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({sessionId:o})})).json();b.success?me.success("‚úÖ Payment verified and invoice marked as paid!"):me.warning(b.message||"Payment not completed yet")}catch(g){me.error(g.message||"Failed to verify payment")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Se,{className:"bg-gradient-to-br from-amber-50 to-yellow-50 rounded-2xl shadow-sm border-2 border-amber-400 p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-amber-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Ht,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-bold text-amber-900",children:"üé≠ Demo Mode Active"}),s.jsx(vt,{className:"bg-amber-600 text-white px-3 py-1 text-xs font-bold",children:"TESTING ONLY"})]}),s.jsxs("p",{className:"text-amber-900 mb-4 leading-relaxed",children:["The system is currently running in ",s.jsx("strong",{children:"demo mode"})," with simulated Stripe responses. This allows you to test the payment flow without a real Stripe account."]}),s.jsxs("div",{className:"bg-white border-2 border-amber-200 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-3",children:"‚ú® What works in Demo Mode:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 mb-4",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold mt-0.5",children:"‚úì"}),s.jsx("span",{children:"Invoice creation and tracking"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold mt-0.5",children:"‚úì"}),s.jsx("span",{children:"Payment session generation (simulated)"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold mt-0.5",children:"‚úì"}),s.jsx("span",{children:"Complete UI flow testing"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold mt-0.5",children:"‚úì"}),s.jsx("span",{children:"Timeline and document management"})]})]}),s.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:"üîê To enable real payments:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{children:["Create a free account at ",s.jsx("a",{href:"https://dashboard.stripe.com/register",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Stripe Dashboard"})]}),s.jsxs("li",{children:["Copy your ",s.jsx("strong",{children:"Secret key"})," (starts with ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"sk_test_..."}),")"]}),s.jsxs("li",{children:["Add it to Supabase ‚Üí Edge Functions ‚Üí Secrets ‚Üí ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"STRIPE_SECRET_KEY"})]}),s.jsx("li",{children:'Wait 1-2 minutes, then click "Run Full Test" below'})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(ye,{size:"sm",onClick:()=>window.open("https://dashboard.stripe.com/register","_blank"),className:"bg-amber-600 hover:bg-amber-700 text-white",children:[s.jsx(wi,{className:"w-4 h-4 mr-2"}),"Create Stripe Account"]}),s.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>window.open("https://dashboard.stripe.com/test/apikeys","_blank"),className:"border-2 border-amber-300 hover:bg-amber-50",children:[s.jsx(wi,{className:"w-4 h-4 mr-2"}),"Get API Keys"]})]})]})]})}),s.jsxs(Se,{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:s.jsx(ND,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Configuration Tester"}),s.jsx("p",{className:"text-gray-600",children:"Use this tool to verify your Stripe integration is working correctly."})]})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx(ye,{onClick:A,disabled:e,className:"bg-black hover:bg-gray-900 text-white px-6 py-2.5 rounded-lg font-medium transition-all shadow-sm",children:e?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"w-4 h-4 mr-2"}),"Run Full Test"]})}),s.jsxs(ye,{variant:"outline",onClick:d,className:"px-6 py-2.5 rounded-lg font-medium border-2 border-gray-300 hover:bg-gray-50 transition-all",children:[s.jsx(Co,{className:"w-4 h-4 mr-2"}),"Create Test Payment"]}),o&&s.jsxs(ye,{variant:"outline",onClick:h,className:"px-6 py-2.5 rounded-lg font-medium border-2 border-gray-300 hover:bg-gray-50 transition-all",children:[s.jsx(fs,{className:"w-4 h-4 mr-2"}),"Verify Payment"]})]})]}),s.jsxs(Se,{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(AT,{className:"w-5 h-5 text-blue-600"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Quick Setup Guide"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0 shadow-sm",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"1"})}),s.jsxs("div",{className:"flex-1 pt-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-lg",children:"Get Stripe API Key"}),s.jsx("p",{className:"text-gray-600 mb-3",children:'Go to Stripe Dashboard ‚Üí Developers ‚Üí API keys ‚Üí Copy "Secret key"'}),s.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>window.open("https://dashboard.stripe.com/test/apikeys","_blank"),className:"border-2 border-gray-300 hover:bg-gray-50",children:[s.jsx(wi,{className:"w-4 h-4 mr-2"}),"Open Stripe Dashboard"]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0 shadow-sm",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"2"})}),s.jsxs("div",{className:"flex-1 pt-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-lg",children:"Add to Supabase"}),s.jsx("p",{className:"text-gray-600 mb-3",children:"Supabase Dashboard ‚Üí Edge Functions ‚Üí Secrets ‚Üí Add:"}),s.jsx("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-sm",children:"STRIPE_SECRET_KEY = sk_test_..."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center flex-shrink-0 shadow-sm",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"3"})}),s.jsxs("div",{className:"flex-1 pt-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-lg",children:"Configure Webhook"}),s.jsx("p",{className:"text-gray-600 mb-3",children:"Add this webhook URL to your Stripe Dashboard:"}),a?s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("code",{className:"bg-gray-100 px-4 py-3 rounded-lg text-sm flex-1 overflow-x-auto border border-gray-200",children:a}),s.jsx(ye,{size:"sm",variant:"outline",onClick:()=>u(a),className:"border-2 border-gray-300 hover:bg-gray-50 px-4",children:s.jsx(ja,{className:"w-4 h-4"})})]}):s.jsx("p",{className:"text-sm text-gray-500 italic mb-3 bg-gray-50 p-3 rounded-lg border border-gray-200",children:"Run the test above to generate your webhook URL"}),s.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>window.open("https://dashboard.stripe.com/test/webhooks","_blank"),className:"border-2 border-gray-300 hover:bg-gray-50",children:[s.jsx(wi,{className:"w-4 h-4 mr-2"}),"Configure in Stripe"]})]})]})]})]}),r.length>0&&s.jsxs(Se,{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Test Results"}),s.jsx("div",{className:"space-y-3",children:r.map((f,g)=>s.jsx("div",{className:`p-5 rounded-xl border-2 transition-all ${f.status==="success"?"bg-green-50 border-green-200":f.status==="error"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[f.status==="success"?s.jsx(He,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}):f.status==="error"?s.jsx(Zn,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}):s.jsx(ht,{className:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-0.5 animate-spin"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-base mb-1",children:f.step}),s.jsx("p",{className:"text-sm text-gray-700",children:f.message}),f.details&&s.jsxs("details",{className:"mt-3",children:[s.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-700 font-medium",children:"View details"}),s.jsx("pre",{className:"mt-2 bg-gray-900 text-gray-100 p-3 rounded-lg text-xs overflow-x-auto",children:typeof f.details=="string"?f.details:JSON.stringify(f.details,null,2)})]})]})]})},g))})]}),s.jsxs(Se,{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl shadow-sm border border-purple-200 p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:s.jsx(Co,{className:"w-5 h-5 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Stripe Test Cards"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl border-2 border-gray-200 shadow-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-mono font-bold text-base",children:"4242 4242 4242 4242"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Success - Use any CVV and future date"})]}),s.jsx(vt,{className:"bg-green-100 text-green-700 border-2 border-green-300 px-3 py-1 text-sm font-semibold",children:"‚úÖ Success"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl border-2 border-gray-200 shadow-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-mono font-bold text-base",children:"4000 0000 0000 0002"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Declined - Card will be declined"})]}),s.jsx(vt,{className:"bg-red-100 text-red-700 border-2 border-red-300 px-3 py-1 text-sm font-semibold",children:"‚ùå Declined"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl border-2 border-gray-200 shadow-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-mono font-bold text-base",children:"4000 0025 0000 3155"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"3D Secure - Requires authentication"})]}),s.jsx(vt,{className:"bg-blue-100 text-blue-700 border-2 border-blue-300 px-3 py-1 text-sm font-semibold",children:"üîê Auth Required"})]})]})]}),s.jsx(Se,{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-base text-gray-900",children:"Need help?"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Read the complete setup guide for detailed instructions"})]}),s.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>{me.success("Check /PAYMENT_SETUP_GUIDE.md for detailed instructions")},className:"border-2 border-gray-300 hover:bg-white",children:[s.jsx(wi,{className:"w-4 h-4 mr-2"}),"View Guide"]})]})})]})}function qCe(){const e=Br();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[s.jsxs(ye,{variant:"ghost",onClick:()=>e("/admin"),className:"mb-8 hover:bg-white transition-all",children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to Admin Hub"]}),s.jsx("div",{className:"mb-8 bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-600 to-purple-700 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(V1,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Payment Configuration"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Set up and test your Stripe payment integration"})]})]})}),s.jsx(GCe,{})]})})}function WCe(){const e=Br(),{user:t}=Wr(),{t:r}=$r(),[n,a]=C.useState([]),[i,o]=C.useState(!0),l=!1,c="client-invoices-demo";C.useEffect(()=>{A()},[]);const A=async()=>{var m;o(!0);try{const{data:x}=await Le.auth.getSession();if(!((m=x.session)!=null&&m.access_token))throw new Error("Please log in again");const y=await fetch(Nt.invoices,{headers:{Authorization:`Bearer ${x.session.access_token}`}}),w=await y.json();if(!y.ok)throw new Error(w.error||"Failed to fetch invoices");a(w.invoices||[])}catch(x){console.error("Error fetching invoices:",x),me.error(x.message||"Failed to load invoices")}finally{o(!1)}},u=m=>{switch(m){case"paid":return s.jsxs(vt,{className:"bg-green-100 text-green-700 border-green-300",children:[s.jsx(He,{className:"w-3 h-3 mr-1"}),"Paid"]});case"pending":return s.jsxs(vt,{className:"bg-yellow-100 text-yellow-700 border-yellow-300",children:[s.jsx(Mr,{className:"w-3 h-3 mr-1"}),"Pending"]});case"cancelled":return s.jsxs(vt,{className:"bg-gray-100 text-gray-700 border-gray-300",children:[s.jsx(Zn,{className:"w-3 h-3 mr-1"}),"Cancelled"]});default:return null}},d=m=>{switch(m){case"initial":return s.jsx(vt,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-300",children:"Initial Payment"});case"final":return s.jsx(vt,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-300",children:"Final Payment"});default:return null}},h=async m=>{var x;try{const{data:y}=await Le.auth.getSession();if(!((x=y.session)!=null&&x.access_token))throw new Error("Please log in again");const w=await fetch(Nt.invoicePdf(m),{headers:{Authorization:`Bearer ${y.session.access_token}`}});if(!w.ok)throw new Error("Failed to generate invoice PDF");const N=await w.blob(),B=window.URL.createObjectURL(N),F=document.createElement("a");F.href=B,F.download=`${m}.pdf`,document.body.appendChild(F),F.click(),window.URL.revokeObjectURL(B),document.body.removeChild(F),me.success("Invoice downloaded successfully!")}catch(y){console.error("Error downloading invoice:",y),me.error(y.message||"Failed to download invoice")}},f=async m=>{const x=g(m),y=new Blob([x],{type:"text/html"}),w=window.URL.createObjectURL(y);window.open(w,"_blank")},g=m=>{const x=N=>new Date(N).toLocaleDateString("en-CA",{year:"numeric",month:"long",day:"numeric"}),y=(N,B)=>new Intl.NumberFormat("en-CA",{style:"currency",currency:B}).format(N),w=m.status==="paid"?'<span style="background: #10b981; color: white; padding: 4px 12px; border-radius: 4px; font-size: 12px; font-weight: 600;">PAID</span>':'<span style="background: #f59e0b; color: white; padding: 4px 12px; border-radius: 4px; font-size: 12px; font-weight: 600;">PENDING</span>';return`
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Invoice ${m.invoiceNumber}</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: #333;
      padding: 40px;
      background: #f9fafb;
    }
    .invoice-container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      padding: 60px;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    .header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      margin-bottom: 40px;
      padding-bottom: 30px;
      border-bottom: 2px solid #e5e7eb;
    }
    .company-info h1 {
      color: #2563eb;
      font-size: 28px;
      margin-bottom: 8px;
    }
    .company-info p {
      color: #6b7280;
      font-size: 14px;
      line-height: 1.4;
    }
    .invoice-meta {
      text-align: right;
    }
    .invoice-meta h2 {
      font-size: 32px;
      color: #111827;
      margin-bottom: 8px;
    }
    .invoice-number {
      font-size: 16px;
      color: #6b7280;
      margin-bottom: 12px;
    }
    .details-section {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      margin-bottom: 40px;
    }
    .detail-box h3 {
      font-size: 12px;
      text-transform: uppercase;
      color: #6b7280;
      letter-spacing: 0.5px;
      margin-bottom: 12px;
    }
    .detail-box p {
      font-size: 14px;
      color: #111827;
      margin-bottom: 4px;
    }
    .items-table {
      width: 100%;
      margin: 40px 0;
      border-collapse: collapse;
    }
    .items-table thead {
      background: #f3f4f6;
    }
    .items-table th {
      padding: 12px;
      text-align: left;
      font-size: 12px;
      text-transform: uppercase;
      color: #6b7280;
      font-weight: 600;
      letter-spacing: 0.5px;
    }
    .items-table td {
      padding: 16px 12px;
      border-bottom: 1px solid #e5e7eb;
      font-size: 14px;
    }
    .items-table tbody tr:last-child td {
      border-bottom: 2px solid #e5e7eb;
    }
    .total-section {
      margin-top: 30px;
      text-align: right;
    }
    .total-row {
      display: flex;
      justify-content: flex-end;
      padding: 8px 0;
      font-size: 14px;
    }
    .total-row.grand-total {
      font-size: 20px;
      font-weight: 700;
      color: #111827;
      padding-top: 16px;
      margin-top: 16px;
      border-top: 2px solid #e5e7eb;
    }
    .total-label {
      margin-right: 40px;
      color: #6b7280;
    }
    .total-row.grand-total .total-label {
      color: #111827;
    }
    .total-amount {
      min-width: 120px;
      text-align: right;
      color: #111827;
    }
    .footer {
      margin-top: 60px;
      padding-top: 30px;
      border-top: 1px solid #e5e7eb;
      text-align: center;
      color: #6b7280;
      font-size: 12px;
    }
    .footer p {
      margin: 4px 0;
    }
    .status-badge {
      display: inline-block;
      margin-top: 8px;
    }
    .notes-section {
      background: #f9fafb;
      padding: 20px;
      border-radius: 6px;
      margin: 30px 0;
      border-left: 4px solid #2563eb;
    }
    .notes-section h4 {
      color: #111827;
      font-size: 14px;
      margin-bottom: 8px;
    }
    .notes-section p {
      color: #6b7280;
      font-size: 13px;
      line-height: 1.6;
    }
    .tax-note {
      margin-top: 20px;
      padding: 12px;
      background: #f0f9ff;
      border-left: 3px solid #3b82f6;
      font-size: 12px;
      color: #1e40af;
    }
    .print-button {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #2563eb;
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    }
    .print-button:hover {
      background: #1d4ed8;
    }
    @media print {
      .print-button { display: none; }
      body { padding: 0; background: white; }
    }
  </style>
</head>
<body>
  <button class="print-button" onclick="window.print()">üñ®Ô∏è Print / Save as PDF</button>
  <div class="invoice-container">
    <!-- Header -->
    <div class="header">
      <div class="company-info">
        <h1>DuoProServices</h1>
        <p>Professional Tax Services</p>
        <p>Email: [Your Email]</p>
        <p>Phone: [Your Phone]</p>
      </div>
      <div class="invoice-meta">
        <h2>INVOICE</h2>
        <p class="invoice-number">${m.invoiceNumber}</p>
        <div class="status-badge">${w}</div>
      </div>
    </div>

    <!-- Details Section -->
    <div class="details-section">
      <div class="detail-box">
        <h3>Bill To</h3>
        <p><strong>${m.userName}</strong></p>
        <p>${m.userEmail}</p>
      </div>
      <div class="detail-box">
        <h3>Invoice Details</h3>
        <p><strong>Date Issued:</strong> ${x(m.createdAt)}</p>
        <p><strong>Tax Year:</strong> ${m.year}</p>
        ${m.paidAt?`<p><strong>Date Paid:</strong> ${x(m.paidAt)}</p>`:""}
      </div>
    </div>

    <!-- Items Table -->
    <table class="items-table">
      <thead>
        <tr>
          <th>Description</th>
          <th style="text-align: center;">Quantity</th>
          <th style="text-align: right;">Amount</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <strong>${m.type==="initial"?`${m.year} tax return processing (filed in ${m.year-1})`:m.description}</strong>
            ${m.documentCount>0?`<br><small style="color: #6b7280;">${m.documentCount} document${m.documentCount!==1?"s":""} submitted</small>`:""}
          </td>
          <td style="text-align: center;">1</td>
          <td style="text-align: right;">${y(m.amount,m.currency)}</td>
        </tr>
      </tbody>
    </table>

    <!-- Total Section -->
    <div class="total-section">
      <div class="total-row">
        <span class="total-label">Subtotal:</span>
        <span class="total-amount">${y(m.amount,m.currency)}</span>
      </div>
      <div class="total-row">
        <span class="total-label">Tax (Included)*:</span>
        <span class="total-amount">$0.00</span>
      </div>
      <div class="total-row grand-total">
        <span class="total-label">Total Due:</span>
        <span class="total-amount">${y(m.amount,m.currency)}</span>
      </div>
    </div>

    <!-- Tax Note -->
    <div class="tax-note">
      <strong>* Tax Information:</strong> Personal tax preparation services are exempt from GST/HST in Canada under Schedule V, Part II, Section 12 of the Excise Tax Act.
    </div>

    <!-- Notes Section -->
    <div class="notes-section">
      <h4>Payment Information</h4>
      <p>
        ${m.status==="paid"?"This invoice has been paid in full. Thank you for your business!":"This invoice is currently pending payment. Please complete payment to proceed with your tax filing."}
      </p>
      ${m.type==="initial"?`<p style="margin-top: 8px;">This initial payment allows us to begin processing your ${m.year} tax return. The final balance will be invoiced once your return is complete.</p>`:""}
    </div>

    <!-- Footer -->
    <div class="footer">
      <p><strong>DuoProServices - Professional Tax Services</strong></p>
      <p>Thank you for choosing our services!</p>
      <p style="margin-top: 12px; font-size: 11px;">
        Questions? Contact us at [Your Email] or call [Your Phone]
      </p>
    </div>
  </div>
</body>
</html>
    `},p=m=>new Date(m).toLocaleDateString("en-CA",{year:"numeric",month:"long",day:"numeric"}),b=(m,x)=>new Intl.NumberFormat("en-CA",{style:"currency",currency:x}).format(m);return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(ye,{variant:"ghost",onClick:()=>e("/dashboard"),className:"mb-4",children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsx(vo,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Invoices"}),s.jsx("p",{className:"text-gray-600",children:"View and download your tax filing invoices"})]})]})]}),i?s.jsx(Se,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(ht,{className:"w-8 h-8 text-blue-600 animate-spin mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading invoices..."})]})}):n.length===0?s.jsx(Se,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(vo,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Invoices Yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Your invoices will appear here once you start filing your taxes."}),s.jsx(ye,{onClick:()=>e("/dashboard"),children:"Go to Dashboard"})]})}):s.jsx("div",{className:"space-y-4",children:n.map(m=>s.jsx(Se,{className:"p-6 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(Mt,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:m.invoiceNumber}),u(m.status),d(m.type)]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Amount"}),s.jsx("p",{className:"font-semibold text-gray-900",children:b(m.amount,m.currency)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Tax Year"}),s.jsx("p",{className:"font-medium text-gray-900",children:m.year})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Issued Date"}),s.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-1",children:[s.jsx(tr,{className:"w-3 h-3"}),p(m.createdAt)]})]}),m.paidAt&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Paid Date"}),s.jsxs("p",{className:"font-medium text-green-700 flex items-center gap-1",children:[s.jsx(He,{className:"w-3 h-3"}),p(m.paidAt)]})]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:m.description}),m.documentCount>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[m.documentCount," document",m.documentCount!==1?"s":""," submitted"]})]}),s.jsxs("div",{className:"ml-4 flex flex-col gap-2",children:[s.jsxs(ye,{variant:"default",size:"sm",onClick:()=>f(m),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Sf,{className:"w-4 h-4 mr-2"}),"View Invoice"]}),s.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>h(m.invoiceNumber),children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]})]})},m.invoiceNumber))}),!i&&n.length>0&&s.jsx(Se,{className:"p-6 mt-6 bg-gradient-to-br from-blue-50 to-indigo-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Invoices"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Paid"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:b(n.filter(m=>m.status==="paid").reduce((m,x)=>m+x.amount,0),"CAD")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:b(n.filter(m=>m.status==="pending").reduce((m,x)=>m+x.amount,0),"CAD")})]})]})})]})})}const j_=[{id:"1",date:"01-01-2025",format:"Carrossel",theme:"New Year, New Tax Goals",owner:"Nome",status:"Em an√°lise",publishDate:"",file:"",observations:"Checklist de organiza√ß√£o",templateId:"jan-01-new-year-goals",slides:["New Year. New Tax Strategy.","January isn't about filing ‚Äî it's about planning.","Set the foundation for smarter financial decisions in 2026.","Book your tax strategy session today."],caption:{en:`The start of the year is the perfect time to set your tax strategy.
Planning early ensures you maximize deductions, credits, and RRSP/TFSA contributions.
üìÖ Book a tax consultation today.`,fr:`Le d√©but de l'ann√©e est le moment id√©al pour d√©finir votre strat√©gie fiscale.
Planifier t√¥t vous permet de maximiser vos d√©ductions, cr√©dits et cotisations REER/CELI.
üìÖ R√©servez une consultation fiscale d√®s maintenant.`},hashtags:["#CanadaTaxes","#CRA","#TaxSeason2025","#TaxPlanning","#FinancialGoals"],cta:"Book your tax strategy session today"},{id:"2",date:"03-01-2025",format:"Reels",theme:"Tax Refund vs. Tax Owing",owner:"Nome",status:"Em execu√ß√£o",publishDate:"",file:"",observations:"Observa√ß√µes",templateId:"jan-03-refund-vs-owing",slides:["Refund or Owing? Know the Difference.","Tax refund = money back in your pocket.","Tax owing = missed opportunities to plan ahead.","Let's make your numbers work for you."],caption:{en:`Do you expect a refund or owe taxes this year?
Understanding the difference helps you plan better and avoid surprises.
üíº Book a consultation.`,fr:`Vous attendez un remboursement ou devez-vous payer des imp√¥ts cette ann√©e ?
Comprendre la diff√©rence vous aide √† mieux planifier et optimiser vos finances.
üíº R√©servez une consultation.`},hashtags:["#CanadaTaxes","#TaxRefund","#CRA","#FinancialPlanning","#SmartTaxes"],cta:"Book a consultation"},{id:"3",date:"05-01-2025",format:"Carrossel",theme:"Newcomers: First Tax Return",owner:"Nome",status:"Em an√°lise",publishDate:"",file:"",observations:"Observa√ß√µes",templateId:"jan-05-newcomers-first",slides:["First Tax Return in Canada?","Start right: organize slips, receipts, and personal info.","Understand Quebec vs. Federal requirements.","Consult an expert to avoid mistakes and maximize benefits."],caption:{en:`Filing your first tax return in Canada can be confusing.
From T4s to Relev√© 1, understanding the rules is key to access all credits.
üìÖ Let's review your first return together.`,fr:`D√©clarer votre premier revenu au Canada peut √™tre d√©routant.
Des T4 aux Relev√© 1, comprendre les r√®gles est essentiel pour obtenir tous les cr√©dits.
üìÖ R√©visons votre premi√®re d√©claration ensemble.`},hashtags:["#NewcomersCanada","#CanadaTaxes","#CRA","#TaxReturnTips","#QuebecTaxes"],cta:"Consult an expert"},{id:"4",date:"08-01-2025",format:"Story",theme:"Document Organization Tips",owner:"Nome",status:"Publicada",publishDate:"",file:"",observations:"Observa√ß√µes",templateId:"jan-08-document-tips",slides:["Organize Today, Save Tomorrow","Collect slips (T4, T5, RL-1) and receipts","Separate personal vs business expenses","Book a review session to make sure nothing is missed"],caption:{en:`Organized documents make tax season smoother and reduce mistakes.
Proper organization pays off for employment, investments, or self-employment.
üíº Need help? Book a session today.`,fr:`Organiser vos documents facilite la saison fiscale et r√©duit les erreurs.
Que ce soit pour votre emploi, vos investissements ou votre activit√© ind√©pendante, une bonne organisation paie.
üíº Besoin d'aide ? R√©servez une s√©ance d√®s maintenant.`},hashtags:["#CanadaTaxes","#DocumentOrganization","#CRA","#FinancialClarity","#TaxPlanning"],cta:"Book a review session"},{id:"5",date:"10-01-2025",format:"Reels",theme:"Meet the Expert",owner:"Nome",status:"Suspenso",publishDate:"",file:"",observations:"Observa√ß√µes",templateId:"jan-10-meet-expert",slides:["Meet Veronica, Your Canadian Tax Advisor","Helping professionals and newcomers maximize their tax strategy","Expertise in RRSP, TFSA, self-employment, and Quebec taxes","Book your consultation now"],caption:{en:`Hi, I'm Veronica Prass.
I help professionals, freelancers, and newcomers in Canada navigate taxes strategically, maximize credits, and plan for the future.
üìÖ Let's talk about your tax strategy.`,fr:`Bonjour, je suis Veronica Prass.
J'aide les professionnels, freelances et nouveaux arrivants √† naviguer dans le syst√®me fiscal canadien, optimiser les cr√©dits et planifier l'avenir.
üìÖ Parlons de votre strat√©gie fiscale.`},hashtags:["#CanadaTaxes","#CRA","#TaxAdvisor","#FinancialPlanning","#TaxStrategy"],cta:"Book your consultation now"},{id:"6",date:"12-01-2025",format:"Carrossel",theme:"T4 vs T4A",owner:"Nome",status:"Pausado",publishDate:"",file:"",observations:"Observa√ß√µes",templateId:"jan-12-t4-vs-t4a",slides:["T4 vs T4A ‚Äì Know the Difference","T4 = Employment income","T4A = Self-employment, pensions, or scholarships","Check your slips before filing"],caption:{en:`Confused about T4 and T4A?
Understanding which slip applies to your income is essential to avoid errors and optimize deductions.
üíº Book a consultation for a full review.`,fr:`Confus(e) entre T4 et T4A ?
Comprendre quel relev√© s'applique √† vos revenus est essentiel pour √©viter les erreurs et maximiser les d√©ductions.
üíº R√©servez une consultation pour une r√©vision compl√®te.`},hashtags:["#CanadaTaxes","#T4","#T4A","#CRA","#FinancialClarity"],cta:"Check your slips before filing"},{id:"7",date:"15-01-2025",format:"Reels",theme:"GST/HST Credit",owner:"Nome",status:"Em an√°lise",publishDate:"",file:"",observations:"Observa√ß√µes",templateId:"jan-15-gst-hst-credit",slides:["Are You Eligible for GST/HST Credit?","Claim extra money if you qualify!","Check your eligibility every year.","Book a consultation to maximize your benefits."],caption:{en:`Many Canadians miss out on the GST/HST credit each year.
Ensure you claim what you're entitled to.
üíº Let's review your eligibility.`,fr:`Beaucoup de Canadiens passent √† c√¥t√© du cr√©dit TPS/TVH chaque ann√©e.
Assurez-vous de r√©clamer ce √† quoi vous avez droit.
üíº V√©rifions votre admissibilit√© d√®s aujourd'hui.`},hashtags:["#CanadaTaxes","#GSTCredit","#CRA","#TaxBenefits","#FinancialClarity"],cta:"Book a consultation"},{id:"8",date:"17-01-2025",format:"Reels",theme:"RRSP Deadline",owner:"Nome",status:"Em an√°lise",publishDate:"",file:"",observations:"Observa√ß√µes",templateId:"jan-17-rrsp-deadline",slides:["RRSP Deadline Approaching!","Contribute before the deadline to reduce taxes","Plan contributions strategically for 2026","Schedule your RRSP strategy session today"],caption:{en:`The RRSP deadline is approaching!
Contribute wisely to reduce your taxes and plan for 2026.
üìÖ Book your RRSP strategy session.`,fr:`La date limite pour cotiser √† votre REER approche rapidement.
Profitez-en pour r√©duire vos imp√¥ts et planifier vos contributions de mani√®re strat√©gique.
üìÖ R√©servez votre session strat√©gique REER.`},hashtags:["#CanadaTaxes","#RRSP","#CRA","#TaxPlanning","#FinancialGoals"],cta:"Schedule your RRSP strategy session"},{id:"9",date:"19-01-2025",format:"Carrossel",theme:"The Power of RRSP",owner:"Nome",status:"Em an√°lise",publishDate:"",file:"",observations:"Observa√ß√µes",templateId:"jan-19-rrsp-power",slides:["Unlock the Power of Your RRSP","Maximize contributions for tax savings","Grow your retirement savings efficiently","Consult an expert to optimize your RRSP"],caption:{en:`An RRSP isn't just for filing ‚Äî it's a strategic tool to grow your wealth and reduce taxes.
üíº Optimize your RRSP today.`,fr:`Un REER n'est pas seulement pour la d√©claration d'imp√¥ts ‚Äî c'est un outil strat√©gique pour accro√Ætre votre patrimoine et r√©duire vos imp√¥ts.
üíº Optimisez votre REER d√®s maintenant.`},hashtags:["#CanadaTaxes","#RRSP","#FinancialPlanning","#TaxSavings","#CRA"],cta:"Consult an expert"},{id:"10",date:"22-01-2025",format:"Reels",theme:"TFSA for Investors",owner:"Nome",status:"Em an√°lise",publishDate:"",file:"",observations:"Observa√ß√µes",templateId:"jan-22-tfsa-investors",slides:["TFSA: A Powerful Investment Tool","Tax-free growth and flexibility","Plan contributions strategically each year","Book a consultation to maximize TFSA benefits"],caption:{en:`A Tax-Free Savings Account (TFSA) is ideal for investors looking to grow wealth without tax penalties.
üíº Maximize your TFSA.`,fr:`Un CELI est parfait pour les investisseurs souhaitant faire cro√Ætre leur patrimoine sans p√©nalit√©s fiscales.
üíº Maximisez votre CELI d√®s maintenant.`},hashtags:["#CanadaTaxes","#TFSA","#InvestingCanada","#CRA","#FinancialPlanning"],cta:"Book a consultation"},{id:"11",date:"24-01-2025",format:"Story",theme:"Tax Myths Busted",owner:"Nome",status:"Em an√°lise",publishDate:"",file:"",observations:"Observa√ß√µes",templateId:"jan-24-myths-busted",slides:["Tax Myths Busted!",`"I don't need to file if I earned under $15k" ‚Äì False!`,'"RRSP contributions always reduce my taxes" ‚Äì It depends!',"Consult to separate fact from myth"],caption:{en:`Many taxpayers believe common myths that cost them money.
Let's separate fact from fiction this tax season.
üíº Book a session.`,fr:`Beaucoup de contribuables croient √† des mythes fiscaux qui leur co√ªtent cher.
S√©parons les faits de la fiction cette saison fiscale.
üíº R√©servez une s√©ance d√®s maintenant.`},hashtags:["#CanadaTaxes","#TaxMyths","#CRA","#FinancialClarity","#TaxTips"],cta:"Consult to separate fact from myth"},{id:"12",date:"26-01-2025",format:"Carrossel",theme:"Quebec: The Dual Filing",owner:"Nome",status:"Em an√°lise",publishDate:"",file:"",observations:"Observa√ß√µes",templateId:"jan-26-quebec-dual",slides:["Quebec Residents: Know Your Dual Filing","File federal and provincial returns accurately","Avoid common mistakes and penalties","Consult an expert for a smooth filing"],caption:{en:`Residents of Quebec must file both federal and provincial returns.
Doing it right saves time, stress, and money.
üíº Book a consultation.`,fr:`Les r√©sidents du Qu√©bec doivent produire √† la fois la d√©claration f√©d√©rale et provinciale.
Bien le faire permet d'√©conomiser du temps, de l'argent et du stress.
üíº R√©servez une consultation d√®s maintenant.`},hashtags:["#CanadaTaxes","#QuebecTaxes","#CRA","#DualFiling","#FinancialPlanning"],cta:"Consult an expert"},{id:"13",date:"29-01-2025",format:"Reels",theme:"Moving Expenses",owner:"Nome",status:"Em an√°lise",publishDate:"",file:"",observations:"Observa√ß√µes",templateId:"jan-29-moving-expenses",slides:["Moving? Save on Taxes!","Certain moving expenses are deductible","Plan carefully and claim everything eligible","Consult to maximize deductions"],caption:{en:`Did you know some moving expenses can reduce your taxes?
Plan strategically to claim all eligible costs.
üíº Book a tax review.`,fr:`Saviez-vous que certains frais de d√©m√©nagement peuvent r√©duire vos imp√¥ts ?
Planifiez soigneusement pour r√©clamer tous les frais admissibles.
üíº R√©servez une r√©vision fiscale d√®s maintenant.`},hashtags:["#CanadaTaxes","#MovingExpenses","#CRA","#TaxPlanning","#FinancialClarity"],cta:"Consult to maximize deductions"},{id:"14",date:"31-01-2025",format:"Carrossel",theme:"Medical Expenses",owner:"Nome",status:"Em an√°lise",publishDate:"",file:"",observations:"Observa√ß√µes",templateId:"jan-31-medical-expenses",slides:["Medical Expenses Can Reduce Taxes","Keep receipts for eligible expenses","Claim them on your federal and provincial returns","Book a session to optimize deductions"],caption:{en:`Eligible medical expenses can provide tax relief.
Keep all receipts and claim accurately.
üíº Book a consultation.`,fr:`Les d√©penses m√©dicales admissibles peuvent offrir un all√©gement fiscal.
Conservez tous vos re√ßus et r√©clamez-les correctement.
üíº R√©servez une consultation d√®s maintenant.`},hashtags:["#CanadaTaxes","#MedicalExpenses","#CRA","#FinancialClarity","#TaxPlanning"],cta:"Book a session"}];function YCe(){const e=Br(),[t,r]=C.useState(j_),[n,a]=C.useState("all"),[i,o]=C.useState("all"),[l,c]=C.useState(null),[A,u]=C.useState(null),[d,h]=C.useState(null),[f,g]=C.useState(!1),[p,b]=C.useState(!1),[m,x]=C.useState({owner:"",status:"Em an√°lise",publishDate:"",file:"",observations:""}),[y,w]=C.useState({title:"",format:"Est√°tico",platform:"Instagram",owner:"",status:"Em an√°lise",publishDate:"",observations:""}),N=L=>({"Em an√°lise":"bg-yellow-100 text-yellow-800 border-yellow-300","Em execu√ß√£o":"bg-orange-100 text-orange-800 border-orange-300",Publicada:"bg-pink-100 text-pink-800 border-pink-300",Suspenso:"bg-red-100 text-red-800 border-red-300",Pausado:"bg-green-100 text-green-800 border-green-300"})[L]||"bg-gray-100 text-gray-800",B=L=>({Est√°tico:"bg-blue-100 text-blue-800 border-blue-300",Reels:"bg-pink-100 text-pink-800 border-pink-300",Carrossel:"bg-purple-100 text-purple-800 border-purple-300",Story:"bg-fuchsia-100 text-fuchsia-800 border-fuchsia-300",Foto:"bg-indigo-100 text-indigo-800 border-indigo-300"})[L]||"bg-gray-100 text-gray-800",F=L=>{e(`/admin/marketing-dashboard?templateId=${L.templateId}&postId=${L.id}`)},E=()=>{e("/admin")},P=L=>{c(L)},Q=async(L,K)=>{await x2(L)&&(u(K),setTimeout(()=>u(null),2e3))},U=L=>{h(L),x({owner:L.owner,status:L.status,publishDate:L.publishDate||"",file:L.file||"",observations:L.observations})},T=()=>{d&&(r(L=>L.map(K=>K.id===d.id?{...K,owner:m.owner,status:m.status,publishDate:m.publishDate,file:m.file,observations:m.observations}:K)),h(null),x({owner:"",status:"Em an√°lise",publishDate:"",file:"",observations:""}))},k=()=>{h(null),x({owner:"",status:"Em an√°lise",publishDate:"",file:"",observations:""})},I=L=>{var R;const K=(R=L.target.files)==null?void 0:R[0];K&&(g(!0),setTimeout(()=>{x({...m,file:K.name}),g(!1)},1e3))},M=t.filter(L=>!(n!=="all"&&L.format!==n||i!=="all"&&L.status!==i));return s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsxs("div",{className:"max-w-[1600px] mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:E,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[s.jsx(es,{className:"w-5 h-5"}),"Voltar para Admin Hub"]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl mb-2 flex items-center gap-3",children:[s.jsx(tr,{className:"w-8 h-8 text-orange-600"}),"Calend√°rio de Conte√∫do - Janeiro 2025"]}),s.jsx("p",{className:"text-gray-600",children:"Gerencie e crie imagens para suas campanhas de marketing"})]}),s.jsxs("button",{onClick:()=>b(!0),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors flex items-center gap-2",children:[s.jsx(Tc,{className:"w-5 h-5"}),"Novo Post"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6 flex gap-4 items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vc,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filtros:"})]}),s.jsxs("select",{value:n,onChange:L=>a(L.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os formatos"}),s.jsx("option",{value:"Est√°tico",children:"Est√°tico"}),s.jsx("option",{value:"Reels",children:"Reels"}),s.jsx("option",{value:"Carrossel",children:"Carrossel"}),s.jsx("option",{value:"Story",children:"Story"}),s.jsx("option",{value:"Foto",children:"Foto"})]}),s.jsxs("select",{value:i,onChange:L=>o(L.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os status"}),s.jsx("option",{value:"Em an√°lise",children:"Em an√°lise"}),s.jsx("option",{value:"Em execu√ß√£o",children:"Em execu√ß√£o"}),s.jsx("option",{value:"Publicada",children:"Publicada"}),s.jsx("option",{value:"Suspenso",children:"Suspenso"}),s.jsx("option",{value:"Pausado",children:"Pausado"})]}),s.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:[M.length," posts encontrados"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data da Postagem"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formato"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tema do Post"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Propriet√°rio"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data da Publica√ß√£o"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Arquivo"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Observa√ß√µes"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A√ß√µes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(L=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.date}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${B(L.format)}`,children:L.format})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs",children:L.theme}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-300 flex items-center justify-center text-xs",children:"üë§"}),L.owner]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${N(L.status)}`,children:L.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.publishDate||"dd/mm/yyyy"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.file||s.jsxs("span",{className:"flex items-center gap-1 text-gray-400",children:[s.jsx(Mt,{className:"w-4 h-4"}),"Arquivo"]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:L.observations}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:K=>{K.stopPropagation(),F(L)},className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors cursor-pointer relative z-10",title:"Criar imagem",type:"button",children:s.jsx(nu,{className:"w-5 h-5 pointer-events-none"})}),s.jsx("button",{onClick:K=>{K.stopPropagation(),P(L)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors cursor-pointer relative z-10",title:"Ver detalhes",type:"button",children:s.jsx(Sf,{className:"w-5 h-5 pointer-events-none"})}),s.jsx("button",{onClick:K=>{K.stopPropagation(),U(L)},className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors cursor-pointer relative z-10",title:"Editar",type:"button",children:s.jsx(Cf,{className:"w-5 h-5 pointer-events-none"})})]})})]},L.id))})]})})}),M.length===0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(tr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Nenhum post encontrado"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Ajuste os filtros ou crie um novo post"}),s.jsxs("button",{onClick:()=>b(!0),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors inline-flex items-center gap-2",children:[s.jsx(Tc,{className:"w-5 h-5"}),"Criar Novo Post"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-yellow-400",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Em an√°lise"}),s.jsx("div",{className:"text-2xl font-semibold",children:t.filter(L=>L.status==="Em an√°lise").length})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-orange-400",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Em execu√ß√£o"}),s.jsx("div",{className:"text-2xl font-semibold",children:t.filter(L=>L.status==="Em execu√ß√£o").length})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-pink-400",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Publicada"}),s.jsx("div",{className:"text-2xl font-semibold",children:t.filter(L=>L.status==="Publicada").length})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-red-400",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Suspenso"}),s.jsx("div",{className:"text-2xl font-semibold",children:t.filter(L=>L.status==="Suspenso").length})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-green-400",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Pausado"}),s.jsx("div",{className:"text-2xl font-semibold",children:t.filter(L=>L.status==="Pausado").length})]})]})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:l.theme}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.date," ‚Ä¢ ",l.format]})]}),s.jsx("button",{onClick:()=>c(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(In,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg mb-3 flex items-center justify-between",children:["Slides / Texto da Imagem",s.jsx("button",{onClick:()=>Q(l.slides.join(`

`),"slides"),className:"text-sm px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-2",children:A==="slides"?s.jsxs(s.Fragment,{children:[s.jsx(fs,{className:"w-4 h-4"}),"Copiado!"]}):s.jsxs(s.Fragment,{children:[s.jsx(ja,{className:"w-4 h-4"}),"Copiar"]})})]}),s.jsx("div",{className:"space-y-3",children:l.slides.map((L,K)=>s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Slide ",K+1]}),s.jsx("div",{className:"font-medium",children:L})]},K))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg mb-3 flex items-center justify-between",children:["Legenda (English)",s.jsx("button",{onClick:()=>Q(l.caption.en,"caption-en"),className:"text-sm px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-2",children:A==="caption-en"?s.jsxs(s.Fragment,{children:[s.jsx(fs,{className:"w-4 h-4"}),"Copiado!"]}):s.jsxs(s.Fragment,{children:[s.jsx(ja,{className:"w-4 h-4"}),"Copiar"]})})]}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 whitespace-pre-wrap",children:l.caption.en})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg mb-3 flex items-center justify-between",children:["Legenda (Fran√ßais)",s.jsx("button",{onClick:()=>Q(l.caption.fr,"caption-fr"),className:"text-sm px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-2",children:A==="caption-fr"?s.jsxs(s.Fragment,{children:[s.jsx(fs,{className:"w-4 h-4"}),"Copiado!"]}):s.jsxs(s.Fragment,{children:[s.jsx(ja,{className:"w-4 h-4"}),"Copiar"]})})]}),s.jsx("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200 whitespace-pre-wrap",children:l.caption.fr})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg mb-3 flex items-center justify-between",children:["Hashtags",s.jsx("button",{onClick:()=>Q(l.hashtags.join(" "),"hashtags"),className:"text-sm px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-2",children:A==="hashtags"?s.jsxs(s.Fragment,{children:[s.jsx(fs,{className:"w-4 h-4"}),"Copiado!"]}):s.jsxs(s.Fragment,{children:[s.jsx(ja,{className:"w-4 h-4"}),"Copiar"]})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:l.hashtags.map((L,K)=>s.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:L},K))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Call to Action"}),s.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:s.jsx("div",{className:"font-medium text-orange-900",children:l.cta})})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsxs("button",{onClick:()=>F(l),className:"flex-1 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(nu,{className:"w-5 h-5"}),"Criar Imagem"]}),s.jsx("button",{onClick:()=>c(null),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Fechar"})]})]})]})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:"Editar Post"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[d.theme," ‚Ä¢ ",d.date]})]}),s.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(In,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Propriet√°rio *"}),s.jsx("input",{type:"text",value:m.owner,onChange:L=>x({...m,owner:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Nome do respons√°vel"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),s.jsxs("select",{value:m.status,onChange:L=>x({...m,status:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"Em an√°lise",children:"Em an√°lise"}),s.jsx("option",{value:"Em execu√ß√£o",children:"Em execu√ß√£o"}),s.jsx("option",{value:"Publicada",children:"Publicada"}),s.jsx("option",{value:"Suspenso",children:"Suspenso"}),s.jsx("option",{value:"Pausado",children:"Pausado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data da Publica√ß√£o"}),s.jsx("input",{type:"date",value:m.publishDate,onChange:L=>x({...m,publishDate:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Arquivo / URL"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",value:m.file,onChange:L=>x({...m,file:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"URL do arquivo ou nome do arquivo"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 h-px bg-gray-200"}),s.jsx("span",{className:"text-xs text-gray-500",children:"ou"}),s.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"file-upload",className:`flex items-center justify-center gap-2 w-full px-4 py-3 border-2 border-dashed rounded-lg cursor-pointer transition-all ${f?"border-orange-300 bg-orange-50":"border-gray-300 hover:border-orange-400 hover:bg-orange-50"}`,children:f?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"text-sm text-orange-700",children:"Carregando arquivo..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Qr,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Anexar Imagem"})]})}),s.jsx("input",{id:"file-upload",type:"file",accept:"image/*",onChange:I,className:"hidden"})]}),m.file&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(fs,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-green-800 truncate",children:m.file})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observa√ß√µes"}),s.jsx("textarea",{value:m.observations,onChange:L=>x({...m,observations:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",rows:4,placeholder:"Notas e observa√ß√µes sobre este post..."})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Mt,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("p",{className:"font-medium mb-1",children:"Campos edit√°veis:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800",children:[s.jsx("li",{children:"Propriet√°rio (quem √© respons√°vel)"}),s.jsx("li",{children:"Status do post"}),s.jsx("li",{children:"Data de publica√ß√£o"}),s.jsx("li",{children:"Link/nome do arquivo"}),s.jsx("li",{children:"Observa√ß√µes"})]}),s.jsx("p",{className:"mt-2 text-xs",children:"Os textos, legendas e hashtags n√£o s√£o edit√°veis aqui."})]})]})}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx("button",{onClick:T,className:"flex-1 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors font-medium",children:"Salvar Altera√ß√µes"}),s.jsx("button",{onClick:k,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancelar"})]})]})]})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:"Novo Post"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Crie um novo post para o calend√°rio de conte√∫do"})]}),s.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(In,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T√≠tulo *"}),s.jsx("input",{type:"text",value:y.title,onChange:L=>w({...y,title:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"T√≠tulo do post"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formato *"}),s.jsxs("select",{value:y.format,onChange:L=>w({...y,format:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"Est√°tico",children:"Est√°tico"}),s.jsx("option",{value:"Reels",children:"Reels"}),s.jsx("option",{value:"Carrossel",children:"Carrossel"}),s.jsx("option",{value:"Story",children:"Story"}),s.jsx("option",{value:"Foto",children:"Foto"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plataforma *"}),s.jsxs("select",{value:y.platform,onChange:L=>w({...y,platform:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"Instagram",children:"Instagram"}),s.jsx("option",{value:"Facebook",children:"Facebook"}),s.jsx("option",{value:"Twitter",children:"Twitter"}),s.jsx("option",{value:"LinkedIn",children:"LinkedIn"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Propriet√°rio *"}),s.jsx("input",{type:"text",value:y.owner,onChange:L=>w({...y,owner:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Nome do respons√°vel"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),s.jsxs("select",{value:y.status,onChange:L=>w({...y,status:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"Em an√°lise",children:"Em an√°lise"}),s.jsx("option",{value:"Em execu√ß√£o",children:"Em execu√ß√£o"}),s.jsx("option",{value:"Publicada",children:"Publicada"}),s.jsx("option",{value:"Suspenso",children:"Suspenso"}),s.jsx("option",{value:"Pausado",children:"Pausado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data da Publica√ß√£o"}),s.jsx("input",{type:"date",value:y.publishDate,onChange:L=>w({...y,publishDate:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observa√ß√µes"}),s.jsx("textarea",{value:y.observations,onChange:L=>w({...y,observations:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",rows:4,placeholder:"Notas e observa√ß√µes sobre este post..."})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx("button",{onClick:()=>{const L={id:t.length+1,date:y.publishDate||"dd/mm/yyyy",format:y.format,theme:y.title,owner:y.owner,status:y.status,publishDate:y.publishDate,file:"",observations:y.observations,slides:[],caption:{en:"",fr:""},hashtags:[],cta:""};r([...t,L]),b(!1)},className:"flex-1 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors font-medium",children:"Criar Post"}),s.jsx("button",{onClick:()=>b(!1),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancelar"})]})]})]})})]})}function XCe(){const[e,t]=C.useState("");C.useEffect(()=>{const n=sessionStorage.getItem("app-error");n&&t(n)},[]);const r=()=>{sessionStorage.removeItem("app-error"),window.location.href="/"};return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsx(Se,{className:"max-w-2xl w-full p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ht,{className:"w-8 h-8 text-red-600"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Oops! Something went wrong"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"The page encountered an error. Don't worry, you can try again!"}),e&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-left",children:s.jsx("p",{className:"text-sm text-red-800 font-mono break-all",children:e})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs(ye,{onClick:r,size:"lg",className:"gap-2",children:[s.jsx(Kc,{className:"w-5 h-5"}),"Refresh Page"]}),s.jsx(Sc,{to:"/",children:s.jsxs(ye,{variant:"outline",size:"lg",className:"gap-2 w-full",children:[s.jsx(No,{className:"w-5 h-5"}),"Go to Home"]})})]}),s.jsx("div",{className:"mt-8 text-sm text-gray-500",children:s.jsx("p",{children:"If the problem persists, please contact support."})})]})})})}function tT(){const e=Br(),[t,r]=C.useState([]),[n,a]=C.useState(!0),[i,o]=C.useState(""),[l,c]=C.useState("all"),A=!1;C.useEffect(()=>{u()},[]);const u=async()=>{var f;a(!0);try{console.log("üîÑ [ClientsModule] Starting loadClients...");const{data:g,error:p}=await Le.auth.getSession();if(p||!g.session)throw console.error("‚ùå [ClientsModule] Auth error:",p),new Error("Not authenticated");console.log("‚úÖ [ClientsModule] Auth OK, fetching from:",Nt.adminClients);const b=await fetch(Nt.adminClients,{headers:{Authorization:`Bearer ${g.session.access_token}`}});if(console.log("üì° [ClientsModule] Response status:",b.status),!b.ok){const x=await b.json();throw console.error("‚ùå [ClientsModule] API Error:",x),new Error(x.error||"Failed to load clients")}const m=await b.json();console.log("‚úÖ [ClientsModule] Loaded clients:",((f=m.clients)==null?void 0:f.length)||0),r(m.clients||[])}catch(g){console.error("‚ùå [ClientsModule] Error loading clients:",g),me.error(`Failed to load clients: ${g instanceof Error?g.message:"Network error"}`)}finally{a(!1)}},d=t.filter(f=>{var b,m;const g=((b=f.name)==null?void 0:b.toLowerCase().includes(i.toLowerCase()))||((m=f.email)==null?void 0:m.toLowerCase().includes(i.toLowerCase())),p=l==="all"||l==="active"&&f.onboardingComplete||l==="onboarding"&&!f.onboardingComplete;return g&&p}),h=f=>{e(`/admin/clients/${f}`)};return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ht,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading clients..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Clients"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:t.length})]}),s.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:s.jsx(ea,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Active Clients"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:t.filter(f=>f.onboardingComplete).length})]}),s.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:s.jsx(Mt,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"In Onboarding"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:t.filter(f=>!f.onboardingComplete).length})]}),s.jsx("div",{className:"p-3 bg-orange-50 rounded-lg",children:s.jsx(tr,{className:"w-6 h-6 text-orange-600"})})]})})]}),s.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ex,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by name or email...",value:i,onChange:f=>o(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vc,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:l,onChange:f=>c(f.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Clients"}),s.jsx("option",{value:"active",children:"Active Only"}),s.jsx("option",{value:"onboarding",children:"In Onboarding"})]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tax Filings"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.length===0?s.jsx("tr",{children:s.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[s.jsx(Ht,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No clients found"}),i&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Try adjusting your search or filters"})]})}):d.map(f=>{var g,p,b,m;return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>h(f.id),children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:((p=(g=f.name)==null?void 0:g.charAt(0))==null?void 0:p.toUpperCase())||"U"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.name||"Unknown"}),s.jsx("div",{className:"text-sm text-gray-500",children:f.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Ja,{className:"w-4 h-4"}),s.jsx("span",{className:"truncate max-w-xs",children:f.email})]}),((b=f.personalInfo)==null?void 0:b.homePhoneNumber)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(gh,{className:"w-4 h-4"}),s.jsxs("span",{children:["(",f.personalInfo.homePhoneArea,") ",f.personalInfo.homePhoneNumber]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.onboardingComplete?s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"}):s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Onboarding"})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[((m=f.taxFilings)==null?void 0:m.length)||0," filing(s)"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(f.createdAt).toLocaleDateString("en-CA",{year:"numeric",month:"short",day:"numeric"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("button",{onClick:x=>{x.stopPropagation(),h(f.id)},className:"text-blue-600 hover:text-blue-900 flex items-center gap-1 ml-auto",children:["View Details",s.jsx(Fc,{className:"w-4 h-4"})]})})]},f.id)})})]})})})]})}const nl="duopro_kv_";class dl{static async set(t,r){try{const n=nl+t,a=JSON.stringify(r);localStorage.setItem(n,a),console.log(`‚úÖ [LocalKV] Saved key: ${t}`)}catch(n){throw console.error(`‚ùå [LocalKV] Error saving key ${t}:`,n),n}}static async get(t){try{const r=nl+t,n=localStorage.getItem(r);if(!n)return console.log(`‚ö†Ô∏è [LocalKV] Key not found: ${t}`),null;const a=JSON.parse(n);return console.log(`‚úÖ [LocalKV] Retrieved key: ${t}`),a}catch(r){return console.error(`‚ùå [LocalKV] Error getting key ${t}:`,r),null}}static async del(t){try{const r=nl+t;localStorage.removeItem(r),console.log(`‚úÖ [LocalKV] Deleted key: ${t}`)}catch(r){throw console.error(`‚ùå [LocalKV] Error deleting key ${t}:`,r),r}}static async getByPrefix(t){try{const r=nl+t,n=[];for(let a=0;a<localStorage.length;a++){const i=localStorage.key(a);if(i&&i.startsWith(r)){const o=localStorage.getItem(i);if(o){const l=JSON.parse(o);n.push({key:i.replace(nl,""),value:l})}}}return console.log(`‚úÖ [LocalKV] Found ${n.length} items with prefix: ${t}`),n}catch(r){return console.error(`‚ùå [LocalKV] Error getting by prefix ${t}:`,r),[]}}static async clear(){try{const t=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);n&&n.startsWith(nl)&&t.push(n)}t.forEach(r=>localStorage.removeItem(r)),console.log(`‚úÖ [LocalKV] Cleared ${t.length} items`)}catch(t){throw console.error("‚ùå [LocalKV] Error clearing storage:",t),t}}static async listKeys(){try{const t=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);n&&n.startsWith(nl)&&t.push(n.replace(nl,""))}return console.log(`‚úÖ [LocalKV] Found ${t.length} keys`),t}catch(t){return console.error("‚ùå [LocalKV] Error listing keys:",t),[]}}}const uy={async getTasks(){console.log("üìã [LocalAPI] Getting tasks...");const t=(await dl.getByPrefix("task:")).map(r=>r.value);return console.log(`‚úÖ [LocalAPI] Found ${t.length} tasks`),{success:!0,tasks:t}},async saveTask(e){if(console.log("üíæ [LocalAPI] Saving task:",e.id),!e.id||!e.title)throw new Error("Missing required fields: id or title");return await dl.set(`task:${e.id}`,e),console.log("‚úÖ [LocalAPI] Task saved successfully"),{success:!0,message:"Task saved successfully",task:e}},async deleteTask(e){return console.log("üóëÔ∏è [LocalAPI] Deleting task:",e),await dl.del(`task:${e}`),console.log("‚úÖ [LocalAPI] Task deleted successfully"),{success:!0,message:"Task deleted successfully"}}},JCe={async getInvoices(){console.log("üí∞ [LocalAPI] Getting invoices...");const t=(await dl.getByPrefix("invoice:")).map(r=>r.value);return console.log(`‚úÖ [LocalAPI] Found ${t.length} invoices`),{success:!0,invoices:t}},async createInvoice(e){if(console.log("üíæ [LocalAPI] Creating invoice:",e.invoiceNumber),!e.invoiceNumber)throw new Error("Missing required field: invoiceNumber");const t={...e,createdAt:e.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()};return await dl.set(`invoice:${e.invoiceNumber}`,t),console.log("‚úÖ [LocalAPI] Invoice created successfully"),{success:!0,invoice:t}},async getInvoice(e){console.log("üí∞ [LocalAPI] Getting invoice:",e);const t=await dl.get(`invoice:${e}`);if(!t)throw new Error("Invoice not found");return console.log("‚úÖ [LocalAPI] Invoice found"),{success:!0,invoice:t}},async markAsPaid(e,t){console.log("üí≥ [LocalAPI] Marking invoice as paid:",e);const r=await dl.get(`invoice:${e}`);if(!r)throw new Error("Invoice not found");const n={...r,status:"paid",paidAt:new Date().toISOString(),...t,updatedAt:new Date().toISOString()};return await dl.set(`invoice:${e}`,n),console.log("‚úÖ [LocalAPI] Invoice marked as paid"),{success:!0,invoice:n}}},qd=e=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}).format(e);function ZCe(){const[e,t]=C.useState([]),[r,n]=C.useState(!0),[a,i]=C.useState({totalRevenue:0,pendingAmount:0,paidAmount:0,totalInvoices:0,pendingInvoices:0,paidInvoices:0}),[o,l]=C.useState("all"),[c,A]=C.useState("all");C.useEffect(()=>{u()},[]),C.useEffect(()=>{d()},[e]);const u=async()=>{n(!0);try{const{data:m,error:x}=await Le.auth.getSession();if(x||!m.session)throw new Error("Not authenticated");try{const y=await fetch(Nt.bookkeepingInvoices,{headers:{Authorization:`Bearer ${m.session.access_token}`}});if(!y.ok)throw new Error("Failed to load invoices from server");const w=await y.json();t(w.invoices||[])}catch(y){console.warn("‚ö†Ô∏è [FinancialModule] Server unavailable, using local storage",y);const w=await JCe.getInvoices();t(w.invoices||[]),me.info("üì¶ Usando dados salvos localmente")}}catch(m){console.error("Error loading invoices:",m),me.error("Failed to load invoices")}finally{n(!1)}},d=()=>{const m=h(e),x={totalRevenue:0,pendingAmount:0,paidAmount:0,totalInvoices:m.length,pendingInvoices:0,paidInvoices:0};m.forEach(y=>{y.status==="paid"?(x.paidAmount+=y.amount,x.paidInvoices+=1):y.status==="pending"&&(x.pendingAmount+=y.amount,x.pendingInvoices+=1)}),x.totalRevenue=x.paidAmount+x.pendingAmount,i(x)},h=m=>{if(c==="all")return m;const x=new Date,y=new Date;switch(c){case"month":y.setMonth(x.getMonth()-1);break;case"quarter":y.setMonth(x.getMonth()-3);break;case"year":y.setFullYear(x.getFullYear()-1);break}return m.filter(w=>new Date(w.createdAt)>=y)},f=e.filter(m=>o==="all"||m.status===o).filter(m=>h([m]).length>0).sort((m,x)=>new Date(x.createdAt).getTime()-new Date(m.createdAt).getTime()),g=async m=>{try{const{data:x}=await Le.auth.getSession();if(!x.session)return;const y=await fetch(Nt.invoicePdf(m),{headers:{Authorization:`Bearer ${x.session.access_token}`}});if(!y.ok)throw new Error("Failed to download invoice");const w=await y.blob(),N=window.URL.createObjectURL(w),B=document.createElement("a");B.href=N,B.download=`invoice-${m}.pdf`,document.body.appendChild(B),B.click(),window.URL.revokeObjectURL(N),document.body.removeChild(B),me.success("Invoice downloaded successfully")}catch(x){console.error("Download error:",x),me.error("Failed to download invoice")}},p=m=>{switch(m){case"paid":return s.jsx(He,{className:"w-4 h-4 text-green-600"});case"pending":return s.jsx(Mr,{className:"w-4 h-4 text-orange-600"});case"cancelled":return s.jsx(Zn,{className:"w-4 h-4 text-red-600"});default:return null}},b=m=>{switch(m){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-orange-100 text-orange-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ht,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading financial data..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),s.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:s.jsx(Zt,{className:"w-5 h-5 text-blue-600"})})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:qd(a.totalRevenue)}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[a.totalInvoices," total invoices"]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Paid"}),s.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:s.jsx(Mn,{className:"w-5 h-5 text-green-600"})})]}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:qd(a.paidAmount)}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[a.paidInvoices," paid invoices"]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),s.jsx("div",{className:"p-2 bg-orange-50 rounded-lg",children:s.jsx(Mr,{className:"w-5 h-5 text-orange-600"})})]}),s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:qd(a.pendingAmount)}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[a.pendingInvoices," pending invoices"]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Average Invoice"}),s.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:s.jsx(Mt,{className:"w-5 h-5 text-purple-600"})})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:qd(a.totalInvoices>0?a.totalRevenue/a.totalInvoices:0)}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Across all invoices"})]})]}),s.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vc,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:o,onChange:m=>l(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"paid",children:"Paid Only"}),s.jsx("option",{value:"pending",children:"Pending Only"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:c,onChange:m=>A(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Time"}),s.jsx("option",{value:"month",children:"Last Month"}),s.jsx("option",{value:"quarter",children:"Last Quarter"}),s.jsx("option",{value:"year",children:"Last Year"})]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice #"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.length===0?s.jsx("tr",{children:s.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[s.jsx(Mt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No invoices found"})]})}):f.map(m=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:"text-sm font-mono font-medium text-gray-900",children:["#",m.invoiceNumber]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.userName}),s.jsx("div",{className:"text-sm text-gray-500",children:m.userEmail})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:qd(m.amount)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${b(m.status)}`,children:[p(m.status),m.status.charAt(0).toUpperCase()+m.status.slice(1)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(m.createdAt).toLocaleDateString("en-CA",{year:"numeric",month:"short",day:"numeric"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("button",{onClick:()=>g(m.invoiceNumber),className:"text-blue-600 hover:text-blue-900 inline-flex items-center gap-1",children:[s.jsx(aa,{className:"w-4 h-4"}),"Download"]})})]},m.invoiceNumber))})]})})})]})}const dy=[{id:"1",name:"Veronica Prass",color:"bg-blue-100 text-blue-700"},{id:"2",name:"Jamila Azevedo",color:"bg-purple-100 text-purple-700"},{id:"3",name:"Germana Azevedo",color:"bg-green-100 text-green-700"}];function e5e(){const[e,t]=C.useState([]),[r,n]=C.useState(!0),[a,i]=C.useState(null),[o,l]=C.useState(!1),[c,A]=C.useState(!1),[u,d]=C.useState("all"),[h,f]=C.useState("all"),[g,p]=C.useState("all"),[b,m]=C.useState("list"),[x,y]=C.useState(new Date),[w,N]=C.useState({title:"",description:"",status:"not-started",priority:"medium",assignedTo:"",dueDate:""});C.useEffect(()=>{B()},[]);const B=async()=>{var V;n(!0);try{const re=await uy.getTasks();t(re.tasks||[]),A(!0),console.log(`‚úÖ [ProjectsModule] Loaded ${((V=re.tasks)==null?void 0:V.length)||0} tasks`)}catch(re){console.error("‚ùå [ProjectsModule] Error loading tasks:",re)}finally{n(!1)}},F=async()=>{try{const V={id:(a==null?void 0:a.id)||`task-${Date.now()}`,...w,createdAt:(a==null?void 0:a.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};await uy.saveTask(V),me.success("‚úÖ Task saved successfully"),await B(),l(!1),i(null),N({title:"",description:"",status:"not-started",priority:"medium",assignedTo:"",dueDate:""})}catch(V){console.error("‚ùå [ProjectsModule] Error saving task:",V),me.error("Failed to save task")}},E=async V=>{if(confirm("Are you sure you want to delete this task?"))try{await uy.deleteTask(V),me.success("‚úÖ Task deleted"),await B()}catch(re){console.error("‚ùå [ProjectsModule] Error deleting task:",re),me.error("Failed to delete task")}},P=V=>{i(V),N({title:V.title,description:V.description,status:V.status,priority:V.priority,assignedTo:V.assignedTo,dueDate:V.dueDate}),l(!0)},Q=V=>{switch(V){case"completed":return"bg-green-100 text-green-800";case"in-progress":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},U=V=>{switch(V){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},T=V=>{switch(V){case"completed":return s.jsx(He,{className:"w-4 h-4"});case"in-progress":return s.jsx(Mr,{className:"w-4 h-4"});default:return s.jsx(Ht,{className:"w-4 h-4"})}},k=()=>e.filter(V=>!(u!=="all"&&V.status!==u||h!=="all"&&V.priority!==h||g!=="all"&&V.assignedTo!==g)),I=()=>{const V={};return e.forEach(re=>{const Ae=re.assignedTo||"Unassigned";V[Ae]||(V[Ae]={total:0,completed:0,inProgress:0,notStarted:0}),V[Ae].total++,re.status==="completed"?V[Ae].completed++:re.status==="in-progress"?V[Ae].inProgress++:V[Ae].notStarted++}),V},M=()=>{const V=x.getFullYear(),re=x.getMonth(),Ae=new Date(V,re,1),ae=new Date(V,re+1,0),de=Ae.getDay();return{daysInMonth:ae.getDate(),startingDayOfWeek:de,year:V,month:re}},L=V=>{const re=x.getFullYear(),Ae=x.getMonth(),de=new Date(re,Ae,V).toISOString().split("T")[0];return e.filter(X=>{var te;return(te=X.dueDate)==null?void 0:te.startsWith(de)})},K=k(),R=I(),{daysInMonth:$,startingDayOfWeek:q,year:Z,month:D}=M();if(r)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ht,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading tasks..."})]})});const H=["January","February","March","April","May","June","July","August","September","October","November","December"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Project Management"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage tasks with calendar view and team stats"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(Tc,{className:"w-5 h-5"}),"New Task"]})]}),Object.keys(R).length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(R).map(([V,re])=>{const Ae=re.total>0?Math.round(re.completed/re.total*100):0,ae=dy.find(de=>de.name===V);return s.jsxs("div",{className:`${(ae==null?void 0:ae.color)||"bg-gray-100 text-gray-700"} border border-gray-200 rounded-lg p-4`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ea,{className:"w-5 h-5"}),s.jsx("h3",{className:"font-semibold",children:V})]}),s.jsx("span",{className:"text-2xl font-bold",children:re.total})]}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Completed:"}),s.jsx("span",{className:"font-medium",children:re.completed})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"In Progress:"}),s.jsx("span",{className:"font-medium",children:re.inProgress})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Not Started:"}),s.jsx("span",{className:"font-medium",children:re.notStarted})]}),s.jsx("div",{className:"mt-2 pt-2 border-t border-current/20",children:s.jsxs("div",{className:"flex justify-between font-semibold",children:[s.jsx("span",{children:"Completion Rate:"}),s.jsxs("span",{children:[Ae,"%"]})]})})]})]},V)})}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsx(Vc,{className:"w-5 h-5 text-gray-500"}),s.jsxs("select",{value:u,onChange:V=>d(V.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"not-started",children:"Not Started"}),s.jsx("option",{value:"in-progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"})]}),s.jsxs("select",{value:h,onChange:V=>f(V.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[s.jsx("option",{value:"all",children:"All Priorities"}),s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"})]}),s.jsxs("select",{value:g,onChange:V=>p(V.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[s.jsx("option",{value:"all",children:"All Team Members"}),dy.map(V=>s.jsx("option",{value:V.name,children:V.name},V.id))]}),s.jsxs("div",{className:"ml-auto flex gap-2",children:[s.jsx("button",{onClick:()=>m("list"),className:`px-3 py-2 rounded-lg text-sm font-medium ${b==="list"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:s.jsx(CD,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>m("calendar"),className:`px-3 py-2 rounded-lg text-sm font-medium ${b==="calendar"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:s.jsx(tr,{className:"w-4 h-4"})})]})]})}),o&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:a?"Edit Task":"New Task"}),s.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(In,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"text",value:w.title,onChange:V=>N({...w,title:V.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Task title *"}),s.jsx("textarea",{value:w.description,onChange:V=>N({...w,description:V.target.value}),rows:3,className:"w-full px-3 py-2 border rounded-lg",placeholder:"Description"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("select",{value:w.status,onChange:V=>N({...w,status:V.target.value}),className:"px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"not-started",children:"Not Started"}),s.jsx("option",{value:"in-progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"})]}),s.jsxs("select",{value:w.priority,onChange:V=>N({...w,priority:V.target.value}),className:"px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"})]}),s.jsxs("select",{value:w.assignedTo,onChange:V=>N({...w,assignedTo:V.target.value}),className:"px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"",children:"Select member..."}),dy.map(V=>s.jsx("option",{value:V.name,children:V.name},V.id))]}),s.jsx("input",{type:"date",value:w.dueDate,onChange:V=>N({...w,dueDate:V.target.value}),className:"px-3 py-2 border rounded-lg"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-gray-100 rounded-lg",children:"Cancel"}),s.jsxs("button",{onClick:F,disabled:!w.title,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50",children:[s.jsx(Fx,{className:"w-4 h-4"}),"Save"]})]})]})]}),b==="calendar"&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[H[D]," ",Z]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>y(new Date(Z,D-1)),className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(pT,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>y(new Date),className:"px-3 py-2 text-sm bg-gray-100 rounded-lg hover:bg-gray-200",children:"Today"}),s.jsx("button",{onClick:()=>y(new Date(Z,D+1)),className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(Fc,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(V=>s.jsx("div",{className:"text-center font-semibold text-sm text-gray-600 py-2",children:V},V)),Array.from({length:q}).map((V,re)=>s.jsx("div",{className:"h-24"},`empty-${re}`)),Array.from({length:$}).map((V,re)=>{const Ae=re+1,ae=L(Ae),de=new Date().getDate()===Ae&&new Date().getMonth()===D&&new Date().getFullYear()===Z;return s.jsxs("div",{className:`h-24 border rounded-lg p-2 ${de?"bg-blue-50 border-blue-300":"bg-white"}`,children:[s.jsx("div",{className:`text-sm font-medium mb-1 ${de?"text-blue-600":"text-gray-700"}`,children:Ae}),s.jsxs("div",{className:"space-y-1",children:[ae.slice(0,2).map(X=>s.jsx("div",{className:`text-xs px-1.5 py-0.5 rounded ${U(X.priority)} truncate cursor-pointer`,onClick:()=>P(X),title:X.title,children:X.title},X.id)),ae.length>2&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",ae.length-2," more"]})]})]},Ae)})]})]}),b==="list"&&s.jsx("div",{className:"bg-white rounded-lg border border-gray-200",children:K.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Ht,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No tasks found"})]}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Task"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned To"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y",children:K.map(V=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-sm font-medium",children:V.title}),V.description&&s.jsx("div",{className:"text-sm text-gray-500",children:V.description})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${Q(V.status)}`,children:[T(V.status),V.status.replace("-"," ")]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${U(V.priority)}`,children:[s.jsx(BD,{className:"w-3 h-3"}),V.priority]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ea,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm",children:V.assignedTo||"-"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm",children:V.dueDate?new Date(V.dueDate).toLocaleDateString():"-"})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>P(V),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Tx,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>E(V.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Pi,{className:"w-4 h-4"})})]})})]},V.id))})]})})]})}const Np=[{value:"instagram",label:"Instagram",icon:gT,color:"text-pink-600",bgColor:"bg-pink-50"},{value:"facebook",label:"Facebook",icon:SD,color:"text-blue-600",bgColor:"bg-blue-50"},{value:"linkedin",label:"LinkedIn",icon:xT,color:"text-blue-700",bgColor:"bg-blue-50"},{value:"twitter",label:"Twitter",icon:ED,color:"text-sky-500",bgColor:"bg-sky-50"}],t5e={scheduled:"bg-blue-100 text-blue-800",published:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800"};function r5e(){const[e,t]=C.useState([]),[r,n]=C.useState(!1),[a,i]=C.useState(null),[o,l]=C.useState(new Date),[c,A]=C.useState("month"),[u,d]=C.useState(!0),[h,f]=C.useState({date:"",time:"",platform:"instagram",content:"",imageUrl:"",status:"scheduled"});C.useEffect(()=>{g()},[]);const g=async()=>{var k;d(!0);try{console.log("üì¶ [SocialCalendar] Loading posts from localStorage...");const I=localStorage.getItem("admin-hub-social-posts");if(I){const M=JSON.parse(I);t(M.posts||[]),console.log(`‚úÖ [SocialCalendar] Loaded ${((k=M.posts)==null?void 0:k.length)||0} posts from localStorage`)}else console.log("üì≠ [SocialCalendar] No posts found in localStorage"),t([])}catch(I){console.error("Error loading posts:",I),t([])}finally{d(!1)}},p=(k,I)=>{k?(i(k),f({date:k.date,time:k.time,platform:k.platform,content:k.content,imageUrl:k.imageUrl||"",status:k.status})):(i(null),f({date:I||"",time:"09:00",platform:"instagram",content:"",imageUrl:"",status:"scheduled"})),n(!0)},b=()=>{n(!1),i(null),f({date:"",time:"",platform:"instagram",content:"",imageUrl:"",status:"scheduled"})},m=async()=>{if(console.log("üíæ Starting save post...",h),!h.date||!h.time||!h.content){console.error("‚ùå Missing required fields:",{date:h.date,time:h.time,content:h.content}),me.error("‚ö†Ô∏è Please fill in all required fields (date, time, content)");return}const k={id:(a==null?void 0:a.id)||`post-${Date.now()}`,...h,createdAt:(a==null?void 0:a.createdAt)||new Date().toISOString()};console.log("üì± Post object created:",k);try{let I;a?(I=e.map(M=>M.id===a.id?k:M),me.success("‚úÖ Post updated successfully!")):(I=[...e,k],me.success("‚úÖ Post created successfully!")),localStorage.setItem("admin-hub-social-posts",JSON.stringify({posts:I})),console.log("‚úÖ Saved to localStorage"),t(I),b()}catch(I){console.error("‚ùå Error saving post:",I),me.error(`Error: ${I instanceof Error?I.message:"Unknown error"}`)}},x=async k=>{if(confirm("Are you sure you want to delete this post?"))try{const I=e.filter(M=>M.id!==k);t(I),localStorage.setItem("admin-hub-social-posts",JSON.stringify({posts:I})),console.log("‚úÖ Deleted from localStorage"),me.success("‚úÖ Post deleted successfully")}catch(I){console.error("Error deleting post:",I),me.error("Failed to delete post")}},y=k=>{const I=k.getFullYear(),M=k.getMonth(),L=new Date(I,M,1),R=new Date(I,M+1,0).getDate(),$=L.getDay(),q=[];for(let Z=0;Z<$;Z++)q.push(null);for(let Z=1;Z<=R;Z++)q.push(new Date(I,M,Z));return q},w=k=>{if(!k)return[];const I=k.toISOString().split("T")[0];return e.filter(M=>M.date===I)},N=()=>{l(new Date(o.getFullYear(),o.getMonth()-1,1))},B=()=>{l(new Date(o.getFullYear(),o.getMonth()+1,1))},F=k=>Np.find(I=>I.value===k)||Np[0],E={total:e.length,scheduled:e.filter(k=>k.status==="scheduled").length,published:e.filter(k=>k.status==="published").length,draft:e.filter(k=>k.status==="draft").length},P=Np.map(k=>({...k,count:e.filter(I=>I.platform===k.value).length})),Q=y(o),U=o.toLocaleDateString("en-CA",{month:"long",year:"numeric"}),T=e.filter(k=>k.status==="scheduled").sort((k,I)=>{const M=new Date(`${k.date}T${k.time}`),L=new Date(`${I.date}T${I.time}`);return M.getTime()-L.getTime()}).slice(0,5);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Posts"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:E.total})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Scheduled"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:E.scheduled})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Published"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:E.published})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Drafts"}),s.jsx("p",{className:"text-2xl font-bold text-gray-600 mt-1",children:E.draft})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Posts by Platform"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:P.map(k=>{const I=k.icon;return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-3 ${k.bgColor} rounded-lg`,children:s.jsx(I,{className:`w-5 h-5 ${k.color}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:k.label}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:k.count})]})]},k.value)})})]}),s.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>A("month"),className:`px-4 py-2 rounded-lg transition-colors ${c==="month"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(tr,{className:"w-4 h-4 inline mr-2"}),"Calendar View"]}),s.jsxs("button",{onClick:()=>A("list"),className:`px-4 py-2 rounded-lg transition-colors ${c==="list"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(Mt,{className:"w-4 h-4 inline mr-2"}),"List View"]})]}),s.jsxs("button",{onClick:()=>p(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Tc,{className:"w-5 h-5"}),"New Post"]})]})}),c==="month"&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("button",{onClick:N,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(pT,{className:"w-5 h-5"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:U}),s.jsx("button",{onClick:B,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(Fc,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(k=>s.jsx("div",{className:"text-center text-sm font-semibold text-gray-600 py-2",children:k},k))}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:Q.map((k,I)=>{const M=w(k),L=k&&k.toDateString()===new Date().toDateString();return s.jsx("div",{className:`min-h-24 border border-gray-200 rounded-lg p-2 ${k?"bg-white hover:bg-gray-50 cursor-pointer":"bg-gray-50"} ${L?"border-blue-600 border-2":""}`,onClick:()=>k&&p(void 0,k.toISOString().split("T")[0]),children:k&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:k.getDate()}),s.jsxs("div",{className:"space-y-1",children:[M.slice(0,2).map(K=>{const R=F(K.platform),$=R.icon;return s.jsxs("div",{className:`text-xs px-2 py-1 ${R.bgColor} ${R.color} rounded flex items-center gap-1 truncate`,onClick:q=>{q.stopPropagation(),p(K)},children:[s.jsx($,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:K.time})]},K.id)}),M.length>2&&s.jsxs("div",{className:"text-xs text-gray-500 px-2",children:["+",M.length-2," more"]})]})]})},I)})})]})]}),c==="list"&&s.jsx("div",{className:"space-y-4",children:T.length===0?s.jsxs("div",{className:"bg-white p-12 rounded-lg border border-gray-200 text-center",children:[s.jsx(tr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No scheduled posts"})]}):T.map(k=>{const I=F(k.platform),M=I.icon;return s.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:`p-2 ${I.bgColor} rounded-lg`,children:s.jsx(M,{className:`w-5 h-5 ${I.color}`})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:I.label}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(tr,{className:"w-4 h-4"}),new Date(k.date).toLocaleDateString("en-CA",{month:"short",day:"numeric",year:"numeric"}),s.jsx(Mr,{className:"w-4 h-4 ml-2"}),k.time]})]}),s.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${t5e[k.status]}`,children:k.status.charAt(0).toUpperCase()+k.status.slice(1)})]}),s.jsx("p",{className:"text-gray-700 mb-3",children:k.content}),k.imageUrl&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(nu,{className:"w-4 h-4"}),s.jsx("span",{children:"Image attached"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx("button",{onClick:()=>p(k),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit post",children:s.jsx(Tx,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>x(k.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete post",children:s.jsx(Pi,{className:"w-4 h-4"})})]})]})},k.id)})}),r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a?"Edit Post":"New Post"}),s.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(In,{className:"w-5 h-5 text-gray-600"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform *"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:Np.map(k=>{const I=k.icon;return s.jsxs("button",{type:"button",onClick:()=>f({...h,platform:k.value}),className:`flex items-center gap-3 px-4 py-3 border-2 rounded-lg transition-all ${h.platform===k.value?`${k.bgColor} border-current ${k.color}`:"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(I,{className:`w-5 h-5 ${h.platform===k.value?k.color:"text-gray-600"}`}),s.jsx("span",{className:"font-medium",children:k.label})]},k.value)})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),s.jsx("input",{type:"date",value:h.date,onChange:k=>f({...h,date:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time *"}),s.jsx("input",{type:"time",value:h.time,onChange:k=>f({...h,time:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),s.jsx("textarea",{value:h.content,onChange:k=>f({...h,content:k.target.value}),rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"Write your post content here..."}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[h.content.length," characters"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL (optional)"}),s.jsx("input",{type:"url",value:h.imageUrl,onChange:k=>f({...h,imageUrl:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"https://example.com/image.jpg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{value:h.status,onChange:k=>f({...h,status:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",children:[s.jsx("option",{value:"scheduled",children:"Scheduled"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"published",children:"Published"})]})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3",children:[s.jsx("button",{onClick:b,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Fx,{className:"w-4 h-4"}),a?"Update Post":"Create Post"]})]})]})})]})}const rT=[{id:"clients",name:"Client Management",icon:dr,color:"text-blue-600",bgColor:"bg-blue-50"},{id:"financial",name:"Financial Control",icon:Zt,color:"text-green-600",bgColor:"bg-green-50"},{id:"projects",name:"Project Management",icon:qp,color:"text-purple-600",bgColor:"bg-purple-50"},{id:"social",name:"Social Media Calendar",icon:tr,color:"text-pink-600",bgColor:"bg-pink-50"},{id:"crm",name:"CRM - Lead Management",icon:dT,color:"text-orange-600",bgColor:"bg-orange-50"}];function n5e(){const{user:e}=Wr(),t=Br(),[r,n]=C.useState("clients"),[a,i]=C.useState(!0),[o,l]=C.useState(!0);C.useEffect(()=>{if(!e||!Ya(e.email)){me.error("Access denied. Admin only."),t("/login");return}l(!1)},[e,t]);const c=async()=>{try{await Le.auth.signOut(),t("/login"),me.success("Signed out successfully")}catch(d){console.error("Sign out error:",d),me.error("Failed to sign out")}},A=()=>{switch(r){case"clients":return s.jsx(tT,{});case"financial":return s.jsx(ZCe,{});case"projects":return s.jsx(e5e,{});case"social":return s.jsx(r5e,{});default:return s.jsx(tT,{})}};if(o)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading admin panel..."})]})});const u=rT.find(d=>d.id===r);return s.jsxs(s.Fragment,{children:[s.jsxs(Nl,{children:[s.jsx("title",{children:"Admin Control Panel - DuoPro Services"}),s.jsx("meta",{name:"robots",content:"noindex"})]}),s.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[s.jsxs("aside",{className:`${a?"w-64":"w-20"} bg-white border-r border-gray-200 flex flex-col transition-all duration-300`,children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a&&s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold text-lg text-gray-900",children:"Admin Panel"}),s.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.email})]}),s.jsx("button",{onClick:()=>i(!a),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a?s.jsx(In,{className:"w-5 h-5 text-gray-600"}):s.jsx(FD,{className:"w-5 h-5 text-gray-600"})})]}),s.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[rT.map(d=>{const h=d.icon,f=r===d.id;return d.id==="crm"?s.jsxs("button",{onClick:()=>t("/admin/crm"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all text-gray-700 hover:bg-gray-50",title:a?void 0:d.name,children:[s.jsx(h,{className:"w-5 h-5 text-gray-600"}),a&&s.jsx("span",{className:"text-sm",children:d.name})]},d.id):s.jsxs("button",{onClick:()=>n(d.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${f?`${d.bgColor} ${d.color} font-semibold`:"text-gray-700 hover:bg-gray-50"}`,title:a?void 0:d.name,children:[s.jsx(h,{className:`w-5 h-5 ${f?d.color:"text-gray-600"}`}),a&&s.jsx("span",{className:"text-sm",children:d.name})]},d.id)}),s.jsx("div",{className:"py-2",children:s.jsx("div",{className:"border-t border-gray-200"})}),s.jsxs("button",{onClick:()=>t("/admin/team-activity"),className:"w-full flex items-center gap-3 px-4 py-3 bg-indigo-50 text-indigo-600 hover:bg-indigo-100 rounded-lg transition-all font-medium",title:a?void 0:"Team Activities",children:[s.jsx(TD,{className:"w-5 h-5 text-indigo-600"}),a&&s.jsx("span",{className:"text-sm",children:"Team Activities"})]})]}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("button",{onClick:c,className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:a?void 0:"Sign Out",children:[s.jsx(Sx,{className:"w-5 h-5"}),a&&s.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})})]}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[s.jsx("header",{className:"bg-white border-b border-gray-200 px-8 py-6",children:s.jsx("div",{className:"flex items-center gap-4",children:u&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`p-3 ${u.bgColor} rounded-lg`,children:s.jsx(u.icon,{className:`w-6 h-6 ${u.color}`})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:u.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Manage and monitor your ",u.name.toLowerCase()]})]})]})})}),s.jsx("div",{className:"p-8",children:A()})]}),s.jsx(m3,{})]})]})}const s5e="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function nT(e){const[t,r]=C.useState(!1),n=()=>{r(!0)},{src:a,alt:i,style:o,className:l,...c}=e;return t?s.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${l??""}`,style:o,children:s.jsx("div",{className:"flex items-center justify-center w-full h-full",children:s.jsx("img",{src:s5e,alt:"Error loading image",...c,"data-original-url":a})})}):s.jsx("img",{src:a,alt:i,className:l,style:o,...c,onError:n})}const fy=[{id:"tax-season-1",name:"Tax Season - Urgency",category:"Tax Season",headline:"Tax Deadline Approaching?",subheadline:"Get Your Taxes Done Right - Fast & Accurate",ctaText:"File Now",description:"Create urgency for tax season deadlines"},{id:"tax-season-2",name:"Tax Season - Refund Focus",category:"Tax Season",headline:"Maximize Your Tax Refund",subheadline:"Expert Canadian Tax Services - Average $2,500 Refund",ctaText:"Get My Refund",description:"Focus on getting maximum refunds"},{id:"tax-season-3",name:"Tax Season - Stress Relief",category:"Tax Season",headline:"Stress-Free Tax Filing",subheadline:"Leave the Paperwork to the Experts",ctaText:"Book Consultation",description:"Emphasize ease and peace of mind"},{id:"newcomer-1",name:"Newcomers - Welcome",category:"Newcomers",headline:"New to Canada?",subheadline:"We Specialize in First-Time Tax Filers",ctaText:"Learn More",description:"Welcome message for newcomers"},{id:"newcomer-2",name:"Newcomers - Benefits",category:"Newcomers",headline:"Claim Your Canadian Benefits",subheadline:"GST/HST Credits, CCB & More - We Help You Get It All",ctaText:"Get Started",description:"Focus on benefits for newcomers"},{id:"newcomer-3",name:"Newcomers - Bilingual",category:"Newcomers",headline:"Service Bilingue / Bilingual Service",subheadline:"Tax Help in English & French",ctaText:"Commencer / Get Started",description:"Emphasize bilingual services"},{id:"business-1",name:"Small Business - Bookkeeping",category:"Small Business",headline:"Focus on Growing Your Business",subheadline:"Let Us Handle Your Bookkeeping & Taxes",ctaText:"Schedule Call",description:"Free up time for business owners"},{id:"business-2",name:"Small Business - Compliance",category:"Small Business",headline:"Stay CRA Compliant",subheadline:"Professional Bookkeeping & Tax Services",ctaText:"Get Quote",description:"Emphasize compliance and peace of mind"},{id:"business-3",name:"Small Business - Savings",category:"Small Business",headline:"Save on Business Taxes",subheadline:"Expert Deduction Strategies & Tax Planning",ctaText:"Free Consultation",description:"Focus on tax savings"},{id:"pricing-1",name:"Transparent Pricing",category:"Pricing",headline:"$50 to Get Started",subheadline:"Know the Final Price Before You Pay",ctaText:"See How It Works",description:"Emphasize transparent pricing model"},{id:"pricing-2",name:"No Hidden Fees",category:"Pricing",headline:"No Surprises. No Hidden Fees.",subheadline:"Clear Pricing from Start to Finish",ctaText:"View Pricing",description:"Build trust with transparent pricing"},{id:"trust-1",name:"Certified Professional",category:"Trust",headline:"CRA-Certified Tax Expert",subheadline:"15+ Years of Canadian Tax Experience",ctaText:"Meet Your Expert",description:"Build credibility and trust"},{id:"trust-2",name:"Client Reviews",category:"Trust",headline:"Trusted by 500+ Canadians",subheadline:"5-Star Rated Tax Services",ctaText:"Read Reviews",description:"Social proof and testimonials"},{id:"digital-1",name:"100% Online",category:"Digital",headline:"File Your Taxes from Home",subheadline:"100% Online - Secure & Convenient",ctaText:"Start Online",description:"Emphasize convenience of online service"},{id:"digital-2",name:"Fast Turnaround",category:"Digital",headline:"Taxes Done in 48 Hours",subheadline:"Fast, Secure, Digital Process",ctaText:"Get Started",description:"Highlight speed and efficiency"},{id:"service-1",name:"Self-Employed",category:"Services",headline:"Self-Employed?",subheadline:"Maximize Deductions & Minimize Taxes",ctaText:"Book Now",description:"Target self-employed individuals"},{id:"service-2",name:"Investment Income",category:"Services",headline:"Investment Income?",subheadline:"Expert Handling of Stocks, Crypto & More",ctaText:"Get Help",description:"Target investors"},{id:"service-3",name:"Rental Property",category:"Services",headline:"Rental Property Owners",subheadline:"Optimize Your Rental Income Tax Strategy",ctaText:"Learn More",description:"Target property owners"},{id:"seasonal-1",name:"Early Bird Discount",category:"Seasonal",headline:"File Early, Save More",subheadline:"20% Off for Early Tax Filers",ctaText:"Claim Discount",description:"Encourage early filing"},{id:"seasonal-2",name:"Last Minute",category:"Seasonal",headline:"Last Minute? We Got You.",subheadline:"Rush Service Available - File by Deadline",ctaText:"Rush Filing",description:"Capture last-minute filers"},{id:"education-1",name:"Free Tax Guide",category:"Educational",headline:"Free Canadian Tax Guide 2024",subheadline:"Download Your Complete Tax Filing Guide",ctaText:"Download Free",description:"Lead magnet - educational content"},{id:"education-2",name:"Tax Tips",category:"Educational",headline:"10 Ways to Reduce Your Taxes",subheadline:"Expert Tips from a CRA-Certified Professional",ctaText:"Read Tips",description:"Value-added content marketing"},{id:"jan-01-new-year-goals",name:"Jan 01 - New Year Goals",category:"Calend√°rio Janeiro",headline:"New Year, New Tax Goals",subheadline:"Start 2024 Right - Get Organized for Tax Season",ctaText:"Start Planning",description:"Inspirar planejamento anual e organiza√ß√£o de documentos"},{id:"jan-03-refund-vs-owing",name:"Jan 03 - Refund vs Owing",category:"Calend√°rio Janeiro",headline:"Tax Refund vs. Tax Owing",subheadline:"Understand the Difference & Maximize Your Refund",ctaText:"Learn More",description:"Explicar diferen√ßa e estrat√©gias para maximizar reembolso"},{id:"jan-05-newcomers-first",name:"Jan 05 - Newcomers Guide",category:"Calend√°rio Janeiro",headline:"Newcomers: Your First Tax Return",subheadline:"Complete Guide to Filing Taxes in Canada",ctaText:"Get Help",description:"Educar rec√©m-chegados sobre processo de declara√ß√£o"},{id:"jan-08-document-tips",name:"Jan 08 - Document Tips",category:"Calend√°rio Janeiro",headline:"Document Organization Made Easy",subheadline:"Pro Tips for Organizing Receipts & Tax Slips",ctaText:"See Tips",description:"Dicas pr√°ticas de organiza√ß√£o de recibos e slips"},{id:"jan-10-meet-expert",name:"Jan 10 - Meet the Expert",category:"Calend√°rio Janeiro",headline:"Meet Your Tax Expert",subheadline:"CRA-Certified Professional with 15+ Years Experience",ctaText:"Book Consultation",description:"Mostrar autoridade e gerar confian√ßa"},{id:"jan-12-t4-vs-t4a",name:"Jan 12 - T4 vs T4A",category:"Calend√°rio Janeiro",headline:"T4 vs T4A - What's the Difference?",subheadline:"Understanding Your Canadian Tax Slips",ctaText:"Learn More",description:"Explicar diferen√ßas e import√¢ncia de revisar slips"},{id:"jan-15-gst-hst-credit",name:"Jan 15 - GST/HST Credit",category:"Calend√°rio Janeiro",headline:"Are You Missing GST/HST Credits?",subheadline:"Claim Your Tax Credits & Benefits",ctaText:"Check Eligibility",description:"Explicar cr√©ditos fiscais para indiv√≠duos"},{id:"jan-17-rrsp-deadline",name:"Jan 17 - RRSP Deadline",category:"Calend√°rio Janeiro",headline:"RRSP Deadline: March 1st",subheadline:"Don't Miss Your Chance to Reduce 2023 Taxes",ctaText:"Plan Now",description:"Lembrar prazo e alertar sobre planejamento estrat√©gico"},{id:"jan-19-rrsp-power",name:"Jan 19 - Power of RRSP",category:"Calend√°rio Janeiro",headline:"The Power of RRSP Contributions",subheadline:"Save $1,000s with Strategic RRSP Planning",ctaText:"See Impact",description:"Mostrar impacto de contribui√ß√µes estrat√©gicas"},{id:"jan-22-tfsa-investors",name:"Jan 22 - TFSA Benefits",category:"Calend√°rio Janeiro",headline:"TFSA: Tax-Free Growth",subheadline:"Smart Investment Strategy for Canadians",ctaText:"Learn More",description:"Explicar vantagens do TFSA como ferramenta de investimento"},{id:"jan-24-myths-busted",name:"Jan 24 - Tax Myths",category:"Calend√°rio Janeiro",headline:"Tax Myths BUSTED!",subheadline:"Don't Fall for These Common Tax Mistakes",ctaText:"Take Quiz",description:"Intera√ß√£o: mostrar erros comuns e corrigi-los"},{id:"jan-26-quebec-dual",name:"Jan 26 - Quebec Filing",category:"Calend√°rio Janeiro",headline:"Quebec: Double the Filing?",subheadline:"Understanding Federal & Provincial Tax Returns",ctaText:"Get Help",description:"Explicar diferen√ßa entre filing federal e provincial"},{id:"jan-29-moving-expenses",name:"Jan 29 - Moving Deductions",category:"Calend√°rio Janeiro",headline:"Moved for Work? Claim It!",subheadline:"Maximize Moving Expense Deductions",ctaText:"See Deductions",description:"Dicas sobre dedu√ß√µes de mudan√ßas e reloca√ß√£o"},{id:"jan-31-medical-expenses",name:"Jan 31 - Medical Credits",category:"Calend√°rio Janeiro",headline:"Don't Forget Medical Expenses",subheadline:"Claim Credits for Health Costs & Prescriptions",ctaText:"Learn More",description:"Alertar sobre dedu√ß√µes e cr√©ditos de despesas m√©dicas"}],a5e=["All","Calend√°rio Janeiro","Tax Season","Newcomers","Small Business","Pricing","Trust","Digital","Services","Seasonal","Educational"],sT=[{id:"instagram-post",name:"Instagram Post",platform:"Instagram",width:1080,height:1080,iconType:"instagram"},{id:"instagram-story",name:"Instagram Story",platform:"Instagram",width:1080,height:1920,iconType:"instagram"},{id:"facebook-post",name:"Facebook Post",platform:"Facebook",width:1200,height:630,iconType:"facebook"},{id:"linkedin-post",name:"LinkedIn Post",platform:"LinkedIn",width:1200,height:627,iconType:"linkedin"}],i5e=e=>{switch(e){case"instagram":return gT;case"facebook":return _D;case"linkedin":return xT;default:return nu}},aT=[{id:"tax-pro",url:"https://images.unsplash.com/photo-1753955900083-b62ee8d97805?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx0YXglMjBhY2NvdW50aW5nJTIwcHJvZmVzc2lvbmFsfGVufDF8fHx8MTc2NjgwMzM5N3ww&ixlib=rb-4.1.0&q=80&w=1080",name:"Tax Professional"},{id:"business-owner",url:"https://images.unsplash.com/photo-1687422809069-0fa3546b8471?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzbWFsbCUyMGJ1c2luZXNzJTIwb3duZXIlMjBoYXBweXxlbnwxfHx8fDE3NjY3NzI2ODZ8MA&ixlib=rb-4.1.0&q=80&w=1080",name:"Business Owner"},{id:"canadian-office",url:"https://images.unsplash.com/photo-1745791157854-7b56988ce72d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjYW5hZGlhbiUyMGZsYWclMjBvZmZpY2V8ZW58MXx8fHwxNzY2ODAzMzk4fDA&ixlib=rb-4.1.0&q=80&w=1080",name:"Canadian Office"},{id:"financial-docs",url:"https://images.unsplash.com/photo-1764231467854-db276777da58?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmaW5hbmNpYWwlMjBwbGFubmluZyUyMGRvY3VtZW50c3xlbnwxfHx8fDE3NjY3NjQ1MTd8MA&ixlib=rb-4.1.0&q=80&w=1080",name:"Financial Documents"}],iT=[{id:"blue",name:"Professional Blue",bg:"#1e40af",text:"#ffffff",accent:"#3b82f6"},{id:"green",name:"Trust Green",bg:"#15803d",text:"#ffffff",accent:"#22c55e"},{id:"red",name:"Bold Red",bg:"#dc2626",text:"#ffffff",accent:"#ef4444"},{id:"purple",name:"Modern Purple",bg:"#7c3aed",text:"#ffffff",accent:"#a78bfa"},{id:"dark",name:"Elegant Dark",bg:"#1f2937",text:"#ffffff",accent:"#60a5fa"}];function o5e(){const e=Br(),{t}=$r(),[r]=oT(),[n,a]=C.useState(sT[0]),[i,o]=C.useState(aT[0]),[l,c]=C.useState(iT[0]),[A,u]=C.useState(null),[d,h]=C.useState("All"),[f,g]=C.useState("Maximize Your Tax Refund"),[p,b]=C.useState("Expert Canadian Tax Services"),[m,x]=C.useState("Book Free Consultation"),[y,w]=C.useState(60),[N,B]=C.useState(null),[F,E]=C.useState(null),[P,Q]=C.useState(!1),U=C.useRef(null);C.useEffect(()=>{const R=r.get("templateId"),$=r.get("postId");if($){const q=j_.find(Z=>Z.id===$);q&&(B(q),q.slides&&q.slides.length>0&&(g(q.slides[0]),q.slides.length>1&&b(q.slides[1])),q.cta&&x(q.cta))}if(R){const q=fy.find(Z=>Z.id===R);q&&(k(q),h(q.category))}},[r]);const T=async(R,$)=>{await x2(R)&&(E($),setTimeout(()=>E(null),2e3))},k=R=>{u(R),g(R.headline),b(R.subheadline),x(R.ctaText)},I=d==="All"?fy:fy.filter(R=>R.category===d),M=async()=>{if(!(!U.current||P))try{Q(!0);const R=await Hj(U.current,{scale:2,useCORS:!0,allowTaint:!1,backgroundColor:null,logging:!1}),$=document.createElement("a"),q=new Date().toISOString().slice(0,10),Z=N?`-${N.id}`:"";$.download=`${n.id}${Z}-${q}.png`,$.href=R.toDataURL("image/png"),$.click(),Q(!1)}catch(R){console.error("Error generating image:",R),alert("Error generating image. Please try again."),Q(!1)}},L=n.id==="instagram-story",K=n.width/n.height;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[s.jsx("header",{className:"bg-white border-b shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(PD,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-500 to-orange-600 bg-clip-text text-transparent",children:t("admin.marketingTitle")}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Create professional marketing images for your campaigns"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ye,{onClick:()=>e("/admin/content-calendar"),variant:"outline",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Content Calendar"]}),s.jsxs(ye,{onClick:()=>e("/admin"),variant:"outline",children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to Admin"]})]})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("button",{onClick:()=>e("/marketing-guide"),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-4 px-6 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all flex items-center justify-center gap-3 shadow-lg",children:[s.jsx(kD,{className:"w-6 h-6"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold",children:"üìö Need Help with Marketing Strategy?"}),s.jsx("div",{className:"text-sm text-blue-100",children:"Access the Complete Guide with campaign calendar, budget suggestions, and content ideas"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(OD,{className:"w-5 h-5 text-orange-600"}),s.jsx("h3",{className:"font-semibold",children:"Marketing Templates"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Vc,{className:"w-4 h-4 text-gray-600"}),s.jsx("label",{className:"text-sm",children:"Category:"})]}),s.jsx("select",{value:d,onChange:R=>h(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",children:a5e.map(R=>s.jsx("option",{value:R,children:R},R))})]}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:I.map(R=>s.jsxs("button",{onClick:()=>k(R),className:`w-full text-left px-3 py-3 rounded-lg border transition-all ${(A==null?void 0:A.id)===R.id?"border-orange-600 bg-orange-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsx("div",{className:"font-medium text-sm mb-1",children:R.name}),s.jsx("div",{className:"text-xs text-gray-600 line-clamp-2",children:R.headline}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:R.category})]},R.id))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(nu,{className:"w-5 h-5 text-orange-600"}),s.jsx("h3",{className:"font-semibold",children:"Platform"})]}),s.jsx("div",{className:"space-y-2",children:sT.map(R=>{const $=i5e(R.iconType);return s.jsx("button",{onClick:()=>a(R),className:`w-full text-left px-4 py-3 rounded-lg border-2 transition-all ${n.id===R.id?"border-orange-600 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($,{className:"w-5 h-5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:R.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:[R.width,"x",R.height,"px"]})]})]})},R.id)})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(nu,{className:"w-5 h-5 text-orange-600"}),s.jsx("h3",{className:"font-semibold",children:"Background Image"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:aT.map(R=>s.jsxs("button",{onClick:()=>o(R),className:`relative aspect-square rounded-lg overflow-hidden border-2 transition-all ${i.id===R.id?"border-orange-600 ring-2 ring-orange-200":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(nT,{src:R.url,alt:R.name,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-1 text-center",children:R.name})]},R.id))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ID,{className:"w-5 h-5 text-orange-600"}),s.jsx("h3",{className:"font-semibold",children:"Color Theme"})]}),s.jsx("div",{className:"space-y-2",children:iT.map(R=>s.jsx("button",{onClick:()=>c(R),className:`w-full text-left px-4 py-3 rounded-lg border-2 transition-all ${l.id===R.id?"border-orange-600 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded",style:{backgroundColor:R.bg}}),s.jsx("span",{className:"font-medium",children:R.name})]})},R.id))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(UD,{className:"w-5 h-5 text-orange-600"}),s.jsx("h3",{className:"font-semibold",children:"Text Content"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-2",children:"Headline"}),s.jsx("input",{type:"text",value:f,onChange:R=>g(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Main headline"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-2",children:"Subheadline"}),s.jsx("input",{type:"text",value:p,onChange:R=>b(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Supporting text"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-2",children:"Call-to-Action"}),s.jsx("input",{type:"text",value:m,onChange:R=>x(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"CTA button text"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm mb-2",children:["Overlay Opacity: ",y,"%"]}),s.jsx("input",{type:"range",min:"0",max:"90",value:y,onChange:R=>w(parseInt(R.target.value)),className:"w-full"})]})]})]}),s.jsxs("button",{onClick:M,disabled:P,className:`w-full py-4 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-lg ${P?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700"}`,children:[s.jsx(aa,{className:"w-5 h-5"}),P?"Generating...":"Download Image"]})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[s.jsx("h3",{className:"font-semibold mb-6 text-center",children:"Preview"}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs("div",{ref:U,className:"relative overflow-hidden rounded-lg shadow-xl",style:{width:L?"360px":"600px",aspectRatio:K.toString()},children:[s.jsx(nT,{src:i.url,alt:"background",className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0",style:{backgroundColor:l.bg,opacity:y/100}}),s.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-center px-8",children:[s.jsx("h2",{className:"text-3xl md:text-4xl mb-4 leading-tight",style:{color:l.text},children:f}),s.jsx("p",{className:"text-xl mb-8",style:{color:l.text},children:p}),s.jsx("button",{className:"px-8 py-4 rounded-full font-semibold text-lg shadow-lg transition-transform hover:scale-105",style:{backgroundColor:l.accent,color:l.text},children:m})]}),s.jsx("div",{className:"absolute bottom-6 right-6 text-sm",style:{color:l.text},children:"CanadianTaxPro.ca"})]})})]}),s.jsxs("div",{className:"mt-6 bg-orange-50 border border-orange-200 rounded-lg p-6",children:[s.jsx("h4",{className:"font-semibold text-orange-900 mb-3",children:"üí° Tips for High-Performance Images:"}),s.jsxs("ul",{className:"space-y-2 text-orange-800 text-sm",children:[s.jsxs("li",{children:["‚Ä¢ ",s.jsx("strong",{children:"Short & Direct Headlines:"})," Maximum 5-7 words for easy reading"]}),s.jsxs("li",{children:["‚Ä¢ ",s.jsx("strong",{children:"Contrast:"})," Adjust overlay opacity for readable text"]}),s.jsxs("li",{children:["‚Ä¢ ",s.jsx("strong",{children:"Clear Call-to-Action:"})," Use action verbs (Book, Get, Start, Save)"]}),s.jsxs("li",{children:["‚Ä¢ ",s.jsx("strong",{children:"Brand Consistency:"})," Use the same color themes across all campaigns"]}),s.jsxs("li",{children:["‚Ä¢ ",s.jsx("strong",{children:"A/B Testing:"})," Create multiple versions with different images and headlines"]})]})]}),N&&s.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-blue-900",children:"üìÖ Content Calendar Post"}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:N.theme})]})}),N.slides&&N.slides.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("h5",{className:"font-medium text-blue-900 mb-2 flex items-center justify-between",children:["Image Text / Slides",s.jsx("button",{onClick:()=>T(N.slides.join(`

`),"slides"),className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors flex items-center gap-1",children:F==="slides"?s.jsxs(s.Fragment,{children:[s.jsx(fs,{className:"w-3 h-3"})," Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(ja,{className:"w-3 h-3"})," Copy"]})})]}),s.jsx("div",{className:"space-y-2",children:N.slides.map((R,$)=>s.jsxs("div",{className:"bg-white p-2 rounded text-sm text-gray-800",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:["Slide ",$+1,":"]})," ",R]},$))})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h5",{className:"font-medium text-blue-900 mb-2 flex items-center justify-between",children:["Caption (English)",s.jsx("button",{onClick:()=>T(N.caption.en,"caption-en"),className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors flex items-center gap-1",children:F==="caption-en"?s.jsxs(s.Fragment,{children:[s.jsx(fs,{className:"w-3 h-3"})," Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(ja,{className:"w-3 h-3"})," Copy"]})})]}),s.jsx("div",{className:"bg-white p-3 rounded text-sm text-gray-800 whitespace-pre-wrap",children:N.caption.en})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h5",{className:"font-medium text-blue-900 mb-2 flex items-center justify-between",children:["Caption (Fran√ßais)",s.jsx("button",{onClick:()=>T(N.caption.fr,"caption-fr"),className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors flex items-center gap-1",children:F==="caption-fr"?s.jsxs(s.Fragment,{children:[s.jsx(fs,{className:"w-3 h-3"})," Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(ja,{className:"w-3 h-3"})," Copy"]})})]}),s.jsx("div",{className:"bg-white p-3 rounded text-sm text-gray-800 whitespace-pre-wrap",children:N.caption.fr})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h5",{className:"font-medium text-blue-900 mb-2 flex items-center justify-between",children:["Hashtags",s.jsx("button",{onClick:()=>T(N.hashtags.join(" "),"hashtags"),className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors flex items-center gap-1",children:F==="hashtags"?s.jsxs(s.Fragment,{children:[s.jsx(fs,{className:"w-3 h-3"})," Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(ja,{className:"w-3 h-3"})," Copy"]})})]}),s.jsx("div",{className:"bg-white p-3 rounded flex flex-wrap gap-2",children:N.hashtags.map((R,$)=>s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs",children:R},$))})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"Call to Action"}),s.jsx("div",{className:"bg-white p-3 rounded text-sm text-gray-800",children:N.cta})]})]})]})]})]})]})}function l5e(){const e=Br(),{user:t}=Wr(),{hasPermission:r,loading:n}=g2(),[a,i]=C.useState([]),[o,l]=C.useState(!0),[c,A]=C.useState("month");C.useEffect(()=>{!n&&!r("customers")&&(me.error("Access denied. Customer management permission required."),e("/admin"))},[n,r,e]),C.useEffect(()=>{r("customers")&&u()},[r,c]);const u=async()=>{try{const f=await fetch(`https://${Vt}.supabase.co/functions/v1/make-server-c2a25be0/productivity?period=${c}`,{headers:{Authorization:`Bearer ${ta}`,"Content-Type":"application/json"}});if(!f.ok)throw new Error("Failed to load productivity data");const g=await f.json();i(g)}catch(f){console.error("Error loading productivity:",f),me.error("Failed to load productivity data")}finally{l(!1)}},d=a.reduce((f,g)=>({totalCases:f.totalCases+g.totalCases,completedCases:f.completedCases+g.completedCases,inProgressCases:f.inProgressCases+g.inProgressCases,revenue:f.revenue+g.revenue}),{totalCases:0,completedCases:0,inProgressCases:0,revenue:0}),h=f=>{switch(f){case"completed":return"bg-green-100 text-green-700 border-green-200";case"in_progress":return"bg-blue-100 text-blue-700 border-blue-200";case"pending":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"review":return"bg-purple-100 text-purple-700 border-purple-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return n||o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(ht,{className:"w-8 h-8 animate-spin text-blue-600"})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ye,{variant:"ghost",onClick:()=>e("/admin"),className:"flex items-center gap-2",children:[s.jsx(es,{className:"w-4 h-4"}),"Back to Admin Hub"]}),s.jsx("div",{className:"h-8 w-px bg-gray-300"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center",children:s.jsx(Mn,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Productivity Dashboard"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Track team performance and case assignments"})]})]})]}),s.jsx("div",{className:"flex gap-2 bg-gray-100 p-1 rounded-lg",children:["week","month","year"].map(f=>s.jsx("button",{onClick:()=>A(f),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${c===f?"bg-white text-gray-900 shadow":"text-gray-600 hover:text-gray-900"}`,children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Cases"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:d.totalCases})]}),s.jsx(Mt,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:d.completedCases})]}),s.jsx(Os,{className:"w-8 h-8 text-green-500"})]})}),s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:d.inProgressCases})]}),s.jsx(Mr,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:Je(d.revenue)})]}),s.jsx(Zt,{className:"w-8 h-8 text-green-500"})]})})]}),s.jsxs("div",{className:"space-y-6",children:[a.map((f,g)=>s.jsxs(Se,{className:"overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg",children:f.name.split(" ").map(p=>p[0]).join("").toUpperCase()}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:f.name}),s.jsx("p",{className:"text-sm text-gray-600",children:f.email})]}),g===0&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-yellow-100 border border-yellow-200 rounded-full",children:[s.jsx(DD,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"text-xs font-medium text-yellow-700",children:"Top Performer"})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Completion Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[f.totalCases>0?Math.round(f.completedCases/f.totalCases*100):0,"%"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:Je(f.revenue)})]})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-100",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f.totalCases}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Total Cases"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-100",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.completedCases}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Completed"})]}),s.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg border border-yellow-100",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:f.inProgressCases}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"In Progress"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg border border-purple-100",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:f.avgCompletionTime}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Avg Days"})]})]}),f.recentCases.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Recent Cases"}),s.jsx("div",{className:"space-y-2",children:f.recentCases.slice(0,3).map(p=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:p.clientName}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tax Year ",p.year]})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${h(p.status)}`,children:p.status.replace("_"," ")}),s.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>e(`/admin/client/${p.id}`),children:s.jsx(xh,{className:"w-4 h-4"})})]})]},p.id))})]})]})]},f.userId)),a.length===0&&s.jsxs(Se,{className:"p-12 text-center",children:[s.jsx(dr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No productivity data available for this period"})]})]})]})]})}const Cp=[{id:"1",name:"Veronica Prass",email:"veprass@gmail.com",color:"bg-blue-100 text-blue-700 border-blue-300"},{id:"2",name:"Jamila Azevedo",email:"jamila.coura15@gmail.com",color:"bg-purple-100 text-purple-700 border-purple-300"},{id:"3",name:"Germana Azevedo",email:"germana.canada@gmail.com",color:"bg-green-100 text-green-700 border-green-300"}];function c5e(){const e=Br(),{user:t}=Wr(),[r,n]=C.useState([]),[a,i]=C.useState(!0),[o,l]=C.useState(!1),[c,A]=C.useState(null),[u,d]=C.useState("all"),[h,f]=C.useState("all"),[g,p]=C.useState("checking"),b="admin-hub-tasks",[m,x]=C.useState({title:"",description:"",assignedTo:"all",status:"todo",priority:"medium",dueDate:""});C.useEffect(()=>{Ya(t==null?void 0:t.email)||e("/dashboard")},[t,e]);const y=async()=>{console.log("üì¶ [Team Activities] DEMO MODE: Loading from localStorage..."),i(!0);try{const I=localStorage.getItem(b);if(I){const M=JSON.parse(I),L=Array.isArray(M)?M:M.tasks||[];n(L),console.log(`‚úÖ [Team Activities] Loaded ${L.length} activities from localStorage`)}else n([]),console.log("üì≠ [Team Activities] No activities found - starting fresh")}catch(I){console.error("‚ùå [Team Activities] Error loading from localStorage:",I),n([])}p("online"),i(!1)};C.useEffect(()=>{y()},[]);const w=async()=>{if(console.log("üíæ [Team Activities] Starting save...",m),!m.title.trim()){console.error("‚ùå [Team Activities] Title is required"),alert("Please enter a title");return}const I=c?{...c,...m}:{id:Date.now().toString(),...m,createdAt:new Date().toISOString(),createdBy:(t==null?void 0:t.email)||"Unknown"};console.log("üì¶ [Team Activities] Activity object created:",I);try{console.log("üì° [Team Activities] Getting session...");const{data:M,error:L}=await Le.auth.getSession();if(L||!M.session){console.error("‚ùå [Team Activities] No session found:",L),alert("Not authenticated. Please log in again.");return}console.log("‚úÖ [Team Activities] Session found, sending POST request..."),console.log("üîó [Team Activities] URL:",Nt.teamActivities);const K=new AbortController,R=setTimeout(()=>{console.error("‚è±Ô∏è [Team Activities] Request timeout after 30 seconds!"),K.abort()},3e4);try{console.log("üöÄ [Team Activities] Initiating fetch...");const $=await fetch(Nt.teamActivities,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M.session.access_token}`},body:JSON.stringify({activity:I}),signal:K.signal});if(clearTimeout(R),console.log("üì° [Team Activities] ‚ú® RESPONSE RECEIVED!"),console.log("üì° [Team Activities] Response status:",$.status),console.log("üì° [Team Activities] Response ok?:",$.ok),!$.ok){const Z=await $.json().catch(()=>({error:"Unknown error"}));console.error("‚ùå [Team Activities] API Error:",Z),alert(`Failed to save: ${Z.error||"Unknown error"}`);return}const q=await $.json();console.log("‚úÖ [Team Activities] Save successful:",q),await y(),B(),l(!1),A(null),alert(c?"Activity updated successfully! üéâ":"Activity created successfully! üéâ")}catch($){throw clearTimeout(R),$.name==="AbortError"?(console.error("‚ùå [Team Activities] Request was aborted due to timeout"),alert("Request timeout. The server is taking too long to respond. Please check your connection and try again.")):(console.error("‚ùå [Team Activities] FETCH ERROR:",$),console.error("‚ùå [Team Activities] Error name:",$.name),console.error("‚ùå [Team Activities] Error message:",$.message),alert(`Network error: ${$.message||"Failed to connect to server"}. Please try again.`)),$}}catch(M){console.error("‚ùå [Team Activities] Error saving activity:",M)}},N=async I=>{if(confirm("Are you sure you want to delete this activity?"))try{const{data:M}=await Le.auth.getSession();if(!M.session){alert("Not authenticated");return}const L=await fetch(Nt.teamActivityDelete(I),{method:"DELETE",headers:{Authorization:`Bearer ${M.session.access_token}`,"Content-Type":"application/json"}});if(L.ok)await y(),alert("Activity deleted successfully");else{const K=await L.json();alert(`Failed to delete: ${K.error||"Unknown error"}`)}}catch(M){console.error("Error deleting activity:",M),alert("Failed to delete activity")}},B=()=>{x({title:"",description:"",assignedTo:"all",status:"todo",priority:"medium",dueDate:""})},F=I=>{A(I),x({title:I.title,description:I.description,assignedTo:I.assignedTo,status:I.status,priority:I.priority,dueDate:I.dueDate}),l(!0)},E=I=>Cp.find(M=>M.id===I),P=I=>{switch(I){case"todo":return s.jsx(Mr,{className:"w-4 h-4"});case"in-progress":return s.jsx(Ht,{className:"w-4 h-4"});case"completed":return s.jsx(He,{className:"w-4 h-4"})}},Q=I=>{switch(I){case"todo":return"bg-gray-100 text-gray-700 border-gray-300";case"in-progress":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"completed":return"bg-green-100 text-green-700 border-green-300"}},U=I=>{switch(I){case"low":return"bg-blue-100 text-blue-700 border-blue-300";case"medium":return"bg-orange-100 text-orange-700 border-orange-300";case"high":return"bg-red-100 text-red-700 border-red-300"}},T=r.filter(I=>{const M=u==="all"||I.assignedTo===u||I.assignedTo==="all",L=h==="all"||I.status===h;return M&&L}),k=I=>r.filter(M=>M.assignedTo===I&&M.status!=="completed").length;return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g==="offline"&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Ht,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-red-900 mb-2",children:"‚ö†Ô∏è Edge Function Not Deployed"}),s.jsxs("p",{className:"text-red-800 mb-4",children:["The Supabase Edge Function ",s.jsx("code",{className:"bg-red-100 px-2 py-1 rounded",children:"make-server-c2a25be0"})," is not responding. This means it hasn't been deployed yet."]}),s.jsxs("div",{className:"space-y-2 text-sm text-red-900",children:[s.jsx("p",{className:"font-semibold",children:"Quick Fix:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4",children:[s.jsxs("li",{children:["Go to:"," ",s.jsx("a",{href:"https://supabase.com/dashboard/project/pwlacumydrxvshklvttp/functions",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-red-700 font-medium",children:"Supabase Functions Dashboard"})]}),s.jsxs("li",{children:['Click "Create a new function" ‚Üí Name it: ',s.jsx("code",{className:"bg-red-100 px-1 rounded",children:"make-server-c2a25be0"})]}),s.jsxs("li",{children:["Copy the code from ",s.jsx("code",{className:"bg-red-100 px-1 rounded",children:"/supabase/functions/make-server-c2a25be0/index.ts"})]}),s.jsx("li",{children:"Deploy and wait 10-30 seconds"}),s.jsx("li",{children:"Reload this page"})]}),s.jsxs("p",{className:"mt-3",children:["üìÑ"," ",s.jsx("a",{href:"/test-server.html",target:"_blank",className:"underline hover:text-red-700 font-medium",children:"Open Server Test Page"})," ","to verify the deployment"]})]})]})]})})}),g==="online"&&s.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(He,{className:"w-5 h-5 text-green-600"}),s.jsx("p",{className:"text-green-900 font-medium",children:"‚úÖ Edge Function is online and responding"})]})})}),s.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:()=>e("/admin/control-panel"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[s.jsx(es,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Back to Control Panel"})]}),s.jsx("div",{className:"h-6 w-px bg-gray-300"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Team Activity Manager"})]}),s.jsxs("button",{onClick:()=>{B(),A(null),l(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Tc,{className:"w-5 h-5"}),"New Activity"]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:Cp.map(I=>s.jsxs("div",{className:`${I.color} border rounded-lg p-4`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ea,{className:"w-5 h-5"}),s.jsx("h3",{className:"font-semibold",children:I.name})]}),s.jsx("span",{className:"text-2xl font-bold",children:k(I.id)})]}),s.jsx("p",{className:"text-sm opacity-75",children:I.email}),s.jsx("p",{className:"text-xs mt-1 opacity-60",children:"Active tasks"})]},I.id))}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Vc,{className:"w-5 h-5 text-gray-500"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Team Member:"}),s.jsxs("select",{value:u,onChange:I=>d(I.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Team Members"}),Cp.map(I=>s.jsx("option",{value:I.id,children:I.name},I.id))]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status:"}),s.jsxs("select",{value:h,onChange:I=>f(I.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"todo",children:"To Do"}),s.jsx("option",{value:"in-progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"})]})]})]})}),a?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading activities..."})]}):T.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(tr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No activities found"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first activity to get started"}),s.jsx("button",{onClick:()=>l(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Activity"})]}):s.jsx("div",{className:"space-y-4",children:T.map(I=>{const M=E(I.assignedTo);return s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:I.title}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Q(I.status)} flex items-center gap-1`,children:[P(I.status),I.status.replace("-"," ").toUpperCase()]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${U(I.priority)}`,children:I.priority.toUpperCase()})]}),I.description&&s.jsx("p",{className:"text-gray-600 mb-3",children:I.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ea,{className:"w-4 h-4"}),s.jsx("span",{children:I.assignedTo==="all"?"All Team Members":(M==null?void 0:M.name)||"Unknown"})]}),I.dueDate&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(tr,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(I.dueDate).toLocaleDateString()})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx("button",{onClick:()=>F(I),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:s.jsx(Tx,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>N(I.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Pi,{className:"w-4 h-4"})})]})]})},I.id)})})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c?"Edit Activity":"New Activity"}),s.jsx("button",{onClick:()=>{l(!1),A(null),B()},className:"text-gray-400 hover:text-gray-600",children:s.jsx(In,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),s.jsx("input",{type:"text",value:m.title,onChange:I=>x({...m,title:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Activity title..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:m.description,onChange:I=>x({...m,description:I.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Activity description..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign To"}),s.jsxs("select",{value:m.assignedTo,onChange:I=>x({...m,assignedTo:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Team Members"}),Cp.map(I=>s.jsx("option",{value:I.id,children:I.name},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{value:m.status,onChange:I=>x({...m,status:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"todo",children:"To Do"}),s.jsx("option",{value:"in-progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),s.jsxs("select",{value:m.priority,onChange:I=>x({...m,priority:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),s.jsx("input",{type:"date",value:m.dueDate,onChange:I=>x({...m,dueDate:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 flex items-center justify-end gap-3 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>{l(!1),A(null),B()},className:"px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Fx,{className:"w-4 h-4"}),c?"Update Activity":"Create Activity"]})]})]})})]})}function A5e(){return s.jsx(ST,{children:s.jsx(bL,{children:s.jsx(jL,{children:s.jsxs(AD,{basename:"/",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[s.jsxs(Nl,{children:[s.jsx("title",{children:"DuoPro Services - Canadian Tax Services | Personal & Small Business Tax Returns"}),s.jsx("meta",{name:"description",content:"Professional Canadian tax services for individuals, newcomers, and small businesses. Expert personal and small business tax returns in English and French."}),s.jsx("meta",{name:"keywords",content:"Canadian tax, tax return, personal tax, small business tax, newcomer tax, tax services Canada, fiscaliste Canada"}),s.jsx("link",{rel:"canonical",href:"https://duoproservices.ca"}),s.jsx("meta",{property:"og:title",content:"DuoPro Services - Canadian Tax Services"}),s.jsx("meta",{property:"og:description",content:"Professional Canadian tax services for individuals, newcomers, and small businesses."}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:"https://duoproservices.ca"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:"DuoPro Services - Canadian Tax Services"}),s.jsx("meta",{name:"twitter:description",content:"Professional Canadian tax services for individuals, newcomers, and small businesses."}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"AccountingService",name:"DuoPro Services",description:"Professional Canadian tax services for individuals, newcomers, and small businesses",url:"https://duoproservices.ca",areaServed:"CA",serviceType:["Tax Preparation","Tax Filing","Small Business Tax","Personal Tax Returns"]})})]}),s.jsxs(uD,{children:[s.jsx(pr,{path:"/",element:s.jsx(FQ,{})}),s.jsx(pr,{path:"/login",element:s.jsx(TQ,{})}),s.jsx(pr,{path:"/signup",element:s.jsx(UQ,{})}),s.jsx(pr,{path:"/forgot-password",element:s.jsx(M$,{})}),s.jsx(pr,{path:"/reset-password",element:s.jsx($$,{})}),s.jsx(pr,{path:"/dashboard",element:s.jsx(RQ,{})}),s.jsx(pr,{path:"/simple-dashboard",element:s.jsx(s9,{})}),s.jsx(pr,{path:"/onboarding",element:s.jsx(L$,{})}),s.jsx(pr,{path:"/onboarding-success",element:s.jsx(R$,{})}),s.jsx(pr,{path:"/tax-filing/:yearId",element:s.jsx(O9,{})}),s.jsx(pr,{path:"/client-invoices",element:s.jsx(WCe,{})}),s.jsx(pr,{path:"/admin",element:s.jsx(MQ,{})}),s.jsx(pr,{path:"/admin-hub",element:s.jsx(L9,{})}),s.jsx(pr,{path:"/admin-dashboard",element:s.jsx(G9,{})}),s.jsx(pr,{path:"/admin-control-panel",element:s.jsx(n5e,{})}),s.jsx(pr,{path:"/admin/clients",element:s.jsx(jK,{})}),s.jsx(pr,{path:"/admin/clients/:clientId",element:s.jsx(UK,{})}),s.jsx(pr,{path:"/admin/users",element:s.jsx(LK,{})}),s.jsx(pr,{path:"/admin/users-list",element:s.jsx(HK,{})}),s.jsx(pr,{path:"/admin/financial",element:s.jsx(T0e,{})}),s.jsx(pr,{path:"/admin/bookkeeping",element:s.jsx(KCe,{})}),s.jsx(pr,{path:"/admin/invoices",element:s.jsx(zCe,{})}),s.jsx(pr,{path:"/admin/payment-setup",element:s.jsx(qCe,{})}),s.jsx(pr,{path:"/admin/marketing",element:s.jsx(o5e,{})}),s.jsx(pr,{path:"/admin/productivity",element:s.jsx(l5e,{})}),s.jsx(pr,{path:"/admin/team-activity",element:s.jsx(c5e,{})}),s.jsx(pr,{path:"/content-calendar",element:s.jsx(YCe,{})}),s.jsx(pr,{path:"/auth-debug",element:s.jsx(Q$,{})}),s.jsx(pr,{path:"/error",element:s.jsx(XCe,{})})]}),s.jsx(LD,{position:"top-right",richColors:!0,closeButton:!0})]})})})})}my.createRoot(document.getElementById("root")).render(s.jsx(fe.StrictMode,{children:s.jsx(A5e,{})}));export{gr as _};
