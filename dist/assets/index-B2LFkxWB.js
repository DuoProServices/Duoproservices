const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ClientsModule-BuMRhySW.js","assets/vendor-Cq0Q7ve9.js","assets/ui-VDfBvwns.js","assets/supabase-C9VFef86.js","assets/FinancialModule-DYeMWjHy.js","assets/localApiMock-BtuzSadj.js","assets/ProjectsModuleNew-Cp9hkUci.js","assets/SocialCalendarModule-C024J3eG.js"])))=>i.map(i=>d[i]);
var Xo=Object.defineProperty;var Zo=(s,t,r)=>t in s?Xo(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r;var es=(s,t,r)=>Zo(s,typeof t!="symbol"?t+"":t,r);import{r as c,g as zr,R as ke,L as hn,a as Vr,u as ye,b as el,B as sl,c as tl,d as he,N as wr}from"./vendor-Cq0Q7ve9.js";import{r as ct,G as Hr,M as us,P as at,a as qt,b as dt,C as mt,S as _s,c as Ae,t as U,d as Fs,I as rl,U as Oe,F as xe,e as H,T as ys,f as ze,g as Re,h as Te,i as fe,A as Wt,K as Dt,L as Oa,j as be,k as nl,l as Bs,m as it,H as Cr,n as Ge,X as Ve,o as Ia,p as Qe,q as qr,s as js,B as Ma,D as me,u as gn,v as al,R as Wr,w as ae,x as Us,y as il,z as Vs,E as ol,J as Hs,N as fn,O as Ns,Q as ll,V as Yr,W as $a,Y as cl,Z as Ft,_ as dl,$ as Gr,a0 as La,a1 as ml,a2 as ul,a3 as xl,a4 as Ot,a5 as _a,a6 as pl,a7 as It,a8 as bn,a9 as Ba,aa as Mt,ab as hl,ac as Qr,ad as Ua,ae as za,af as gl,ag as fl,ah as bl}from"./ui-VDfBvwns.js";import{c as vl,_ as ms,a as Va,b as yl}from"./supabase-C9VFef86.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Ha={exports:{}},Yt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=c,Nl=Symbol.for("react.element"),wl=Symbol.for("react.fragment"),Cl=Object.prototype.hasOwnProperty,Sl=jl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kl={key:!0,ref:!0,__self:!0,__source:!0};function qa(s,t,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Cl.call(t,n)&&!kl.hasOwnProperty(n)&&(a[n]=t[n]);if(s&&s.defaultProps)for(n in t=s.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Nl,type:s,key:i,ref:l,props:a,_owner:Sl.current}}Yt.Fragment=wl;Yt.jsx=qa;Yt.jsxs=qa;Ha.exports=Yt;var e=Ha.exports,Sr={},vn=ct;Sr.createRoot=vn.createRoot,Sr.hydrateRoot=vn.hydrateRoot;var Tl=typeof Element<"u",Al=typeof Map=="function",Pl=typeof Set=="function",El=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Tt(s,t){if(s===t)return!0;if(s&&t&&typeof s=="object"&&typeof t=="object"){if(s.constructor!==t.constructor)return!1;var r,n,a;if(Array.isArray(s)){if(r=s.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Tt(s[n],t[n]))return!1;return!0}var i;if(Al&&s instanceof Map&&t instanceof Map){if(s.size!==t.size)return!1;for(i=s.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=s.entries();!(n=i.next()).done;)if(!Tt(n.value[1],t.get(n.value[0])))return!1;return!0}if(Pl&&s instanceof Set&&t instanceof Set){if(s.size!==t.size)return!1;for(i=s.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(El&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(t)){if(r=s.length,r!=t.length)return!1;for(n=r;n--!==0;)if(s[n]!==t[n])return!1;return!0}if(s.constructor===RegExp)return s.source===t.source&&s.flags===t.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof t.valueOf=="function")return s.valueOf()===t.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof t.toString=="function")return s.toString()===t.toString();if(a=Object.keys(s),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(Tl&&s instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&s.$$typeof)&&!Tt(s[a[n]],t[a[n]]))return!1;return!0}return s!==s&&t!==t}var Rl=function(t,r){try{return Tt(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const Dl=zr(Rl);var Fl=function(s,t,r,n,a,i,l,o){if(!s){var m;if(t===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,n,a,i,l,o],p=0;m=new Error(t.replace(/%s/g,function(){return d[p++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}},Ol=Fl;const yn=zr(Ol);var Il=function(t,r,n,a){var i=n?n.call(a,t,r):void 0;if(i!==void 0)return!!i;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var l=Object.keys(t),o=Object.keys(r);if(l.length!==o.length)return!1;for(var m=Object.prototype.hasOwnProperty.bind(r),d=0;d<l.length;d++){var p=l[d];if(!m(p))return!1;var u=t[p],g=r[p];if(i=n?n.call(a,u,g,p):void 0,i===!1||i===void 0&&u!==g)return!1}return!0};const Ml=zr(Il);var Wa=(s=>(s.BASE="base",s.BODY="body",s.HEAD="head",s.HTML="html",s.LINK="link",s.META="meta",s.NOSCRIPT="noscript",s.SCRIPT="script",s.STYLE="style",s.TITLE="title",s.FRAGMENT="Symbol(react.fragment)",s))(Wa||{}),ir={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},jn=Object.values(Wa),Kr={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},$l=Object.entries(Kr).reduce((s,[t,r])=>(s[r]=t,s),{}),Ue="data-rh",Os={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Is=(s,t)=>{for(let r=s.length-1;r>=0;r-=1){const n=s[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},Ll=s=>{let t=Is(s,"title");const r=Is(s,Os.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=Is(s,Os.DEFAULT_TITLE);return t||n||void 0},_l=s=>Is(s,Os.ON_CHANGE_CLIENT_STATE)||(()=>{}),or=(s,t)=>t.filter(r=>typeof r[s]<"u").map(r=>r[s]).reduce((r,n)=>({...r,...n}),{}),Bl=(s,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let i=0;i<a.length;i+=1){const o=a[i].toLowerCase();if(s.indexOf(o)!==-1&&n[o])return r.concat(n)}}return r},[]),Ul=s=>console&&typeof console.warn=="function"&&console.warn(s),st=(s,t,r)=>{const n={};return r.filter(a=>Array.isArray(a[s])?!0:(typeof a[s]<"u"&&Ul(`Helmet: ${s} should be of type "Array". Instead found type "${typeof a[s]}"`),!1)).map(a=>a[s]).reverse().reduce((a,i)=>{const l={};i.filter(m=>{let d;const p=Object.keys(m);for(let g=0;g<p.length;g+=1){const x=p[g],v=x.toLowerCase();t.indexOf(v)!==-1&&!(d==="rel"&&m[d].toLowerCase()==="canonical")&&!(v==="rel"&&m[v].toLowerCase()==="stylesheet")&&(d=v),t.indexOf(x)!==-1&&(x==="innerHTML"||x==="cssText"||x==="itemprop")&&(d=x)}if(!d||!m[d])return!1;const u=m[d].toLowerCase();return n[d]||(n[d]={}),l[d]||(l[d]={}),n[d][u]?!1:(l[d][u]=!0,!0)}).reverse().forEach(m=>a.push(m));const o=Object.keys(l);for(let m=0;m<o.length;m+=1){const d=o[m],p={...n[d],...l[d]};n[d]=p}return a},[]).reverse()},zl=(s,t)=>{if(Array.isArray(s)&&s.length){for(let r=0;r<s.length;r+=1)if(s[r][t])return!0}return!1},Vl=s=>({baseTag:Bl(["href"],s),bodyAttributes:or("bodyAttributes",s),defer:Is(s,Os.DEFER),encode:Is(s,Os.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:or("htmlAttributes",s),linkTags:st("link",["rel","href"],s),metaTags:st("meta",["name","charset","http-equiv","property","itemprop"],s),noscriptTags:st("noscript",["innerHTML"],s),onChangeClientState:_l(s),scriptTags:st("script",["src","innerHTML"],s),styleTags:st("style",["cssText"],s),title:Ll(s),titleAttributes:or("titleAttributes",s),prioritizeSeoTags:zl(s,Os.PRIORITIZE_SEO_TAGS)}),Ya=s=>Array.isArray(s)?s.join(""):s,Hl=(s,t)=>{const r=Object.keys(s);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(s[r[n]]))return!0;return!1},lr=(s,t)=>Array.isArray(s)?s.reduce((r,n)=>(Hl(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:s,priority:[]},Nn=(s,t)=>({...s,[t]:void 0}),ql=["noscript","script","style"],kr=(s,t=!0)=>t===!1?String(s):String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Ga=s=>Object.keys(s).reduce((t,r)=>{const n=typeof s[r]<"u"?`${r}="${s[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),Wl=(s,t,r,n)=>{const a=Ga(r),i=Ya(t);return a?`<${s} ${Ue}="true" ${a}>${kr(i,n)}</${s}>`:`<${s} ${Ue}="true">${kr(i,n)}</${s}>`},Yl=(s,t,r=!0)=>t.reduce((n,a)=>{const i=a,l=Object.keys(i).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,p)=>{const u=typeof i[p]>"u"?p:`${p}="${kr(i[p],r)}"`;return d?`${d} ${u}`:u},""),o=i.innerHTML||i.cssText||"",m=ql.indexOf(s)===-1;return`${n}<${s} ${Ue}="true" ${l}${m?"/>":`>${o}</${s}>`}`},""),Qa=(s,t={})=>Object.keys(s).reduce((r,n)=>{const a=Kr[n];return r[a||n]=s[n],r},t),Gl=(s,t,r)=>{const n={key:t,[Ue]:!0},a=Qa(r,n);return[ke.createElement("title",a,t)]},At=(s,t)=>t.map((r,n)=>{const a={key:n,[Ue]:!0};return Object.keys(r).forEach(i=>{const o=Kr[i]||i;if(o==="innerHTML"||o==="cssText"){const m=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:m}}else a[o]=r[i]}),ke.createElement(s,a)}),Le=(s,t,r=!0)=>{switch(s){case"title":return{toComponent:()=>Gl(s,t.title,t.titleAttributes),toString:()=>Wl(s,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Qa(t),toString:()=>Ga(t)};default:return{toComponent:()=>At(s,t),toString:()=>Yl(s,t,r)}}},Ql=({metaTags:s,linkTags:t,scriptTags:r,encode:n})=>{const a=lr(s,ir.meta),i=lr(t,ir.link),l=lr(r,ir.script);return{priorityMethods:{toComponent:()=>[...At("meta",a.priority),...At("link",i.priority),...At("script",l.priority)],toString:()=>`${Le("meta",a.priority,n)} ${Le("link",i.priority,n)} ${Le("script",l.priority,n)}`},metaTags:a.default,linkTags:i.default,scriptTags:l.default}},Kl=s=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:i,styleTags:l,title:o="",titleAttributes:m,prioritizeSeoTags:d}=s;let{linkTags:p,metaTags:u,scriptTags:g}=s,x={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:x,linkTags:p,metaTags:u,scriptTags:g}=Ql(s)),{priority:x,base:Le("base",t,n),bodyAttributes:Le("bodyAttributes",r,n),htmlAttributes:Le("htmlAttributes",a,n),link:Le("link",p,n),meta:Le("meta",u,n),noscript:Le("noscript",i,n),script:Le("script",g,n),style:Le("style",l,n),title:Le("title",{title:o,titleAttributes:m},n)}},Tr=Kl,pt=[],Ka=!!(typeof window<"u"&&window.document&&window.document.createElement),Ar=class{constructor(s,t){es(this,"instances",[]);es(this,"canUseDOM",Ka);es(this,"context");es(this,"value",{setHelmet:s=>{this.context.helmet=s},helmetInstances:{get:()=>this.canUseDOM?pt:this.instances,add:s=>{(this.canUseDOM?pt:this.instances).push(s)},remove:s=>{const t=(this.canUseDOM?pt:this.instances).indexOf(s);(this.canUseDOM?pt:this.instances).splice(t,1)}}});this.context=s,this.canUseDOM=t||!1,t||(s.helmet=Tr({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Jl={},Ja=ke.createContext(Jl),bs,Xa=(bs=class extends c.Component{constructor(r){super(r);es(this,"helmetData");this.helmetData=new Ar(this.props.context||{},bs.canUseDOM)}render(){return ke.createElement(Ja.Provider,{value:this.helmetData.value},this.props.children)}},es(bs,"canUseDOM",Ka),bs),As=(s,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${s}[${Ue}]`),a=[].slice.call(n),i=[];let l;return t&&t.length&&t.forEach(o=>{const m=document.createElement(s);for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d))if(d==="innerHTML")m.innerHTML=o.innerHTML;else if(d==="cssText")m.styleSheet?m.styleSheet.cssText=o.cssText:m.appendChild(document.createTextNode(o.cssText));else{const p=d,u=typeof o[p]>"u"?"":o[p];m.setAttribute(d,u)}m.setAttribute(Ue,"true"),a.some((d,p)=>(l=p,m.isEqualNode(d)))?a.splice(l,1):i.push(m)}),a.forEach(o=>{var m;return(m=o.parentNode)==null?void 0:m.removeChild(o)}),i.forEach(o=>r.appendChild(o)),{oldTags:a,newTags:i}},Pr=(s,t)=>{const r=document.getElementsByTagName(s)[0];if(!r)return;const n=r.getAttribute(Ue),a=n?n.split(","):[],i=[...a],l=Object.keys(t);for(const o of l){const m=t[o]||"";r.getAttribute(o)!==m&&r.setAttribute(o,m),a.indexOf(o)===-1&&a.push(o);const d=i.indexOf(o);d!==-1&&i.splice(d,1)}for(let o=i.length-1;o>=0;o-=1)r.removeAttribute(i[o]);a.length===i.length?r.removeAttribute(Ue):r.getAttribute(Ue)!==l.join(",")&&r.setAttribute(Ue,l.join(","))},Xl=(s,t)=>{typeof s<"u"&&document.title!==s&&(document.title=Ya(s)),Pr("title",t)},wn=(s,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:i,metaTags:l,noscriptTags:o,onChangeClientState:m,scriptTags:d,styleTags:p,title:u,titleAttributes:g}=s;Pr("body",n),Pr("html",a),Xl(u,g);const x={baseTag:As("base",r),linkTags:As("link",i),metaTags:As("meta",l),noscriptTags:As("noscript",o),scriptTags:As("script",d),styleTags:As("style",p)},v={},f={};Object.keys(x).forEach(b=>{const{newTags:h,oldTags:j}=x[b];h.length&&(v[b]=h),j.length&&(f[b]=x[b].oldTags)}),t&&t(),m(s,v,f)},tt=null,Zl=s=>{tt&&cancelAnimationFrame(tt),s.defer?tt=requestAnimationFrame(()=>{wn(s,()=>{tt=null})}):(wn(s),tt=null)},ec=Zl,Cn=class extends c.Component{constructor(){super(...arguments);es(this,"rendered",!1)}shouldComponentUpdate(t){return!Ml(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let n=null;const a=Vl(t.get().map(i=>{const l={...i.props};return delete l.context,l}));Xa.canUseDOM?ec(a):Tr&&(n=Tr(a)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Nr,qs=(Nr=class extends c.Component{shouldComponentUpdate(s){return!Dl(Nn(this.props,"helmetData"),Nn(s,"helmetData"))}mapNestedChildrenToProps(s,t){if(!t)return null;switch(s.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${s.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(s,t,r,n){return{...t,[s.type]:[...t[s.type]||[],{...r,...this.mapNestedChildrenToProps(s,n)}]}}mapObjectTypeChildren(s,t,r,n){switch(s.type){case"title":return{...t,[s.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[s.type]:{...r}}}}mapArrayTypeChildrenToProps(s,t){let r={...t};return Object.keys(s).forEach(n=>{r={...r,[n]:s[n]}}),r}warnOnInvalidChildren(s,t){return yn(jn.some(r=>s.type===r),typeof s.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${jn.join(", ")} are allowed. Helmet does not support rendering <${s.type}> elements. Refer to our API for more information.`),yn(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${s.type}>. Did you forget to wrap your children in braces? ( <${s.type}>{\`\`}</${s.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(s,t){let r={};return ke.Children.forEach(s,n=>{if(!n||!n.props)return;const{children:a,...i}=n.props,l=Object.keys(i).reduce((m,d)=>(m[$l[d]||d]=i[d],m),{});let{type:o}=n;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(n,a),o){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,l,a);break;default:t=this.mapObjectTypeChildren(n,t,l,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:s,...t}=this.props;let r={...t},{helmetData:n}=t;if(s&&(r=this.mapChildrenToProps(s,r)),n&&!(n instanceof Ar)){const a=n;n=new Ar(a.context,!0),delete r.helmetData}return n?ke.createElement(Cn,{...r,context:n.value}):ke.createElement(Ja.Consumer,null,a=>ke.createElement(Cn,{...r,context:a}))}},es(Nr,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Nr);const Za=c.createContext(void 0),sc={en:{"nav.home":"Home","nav.services":"Services","nav.about":"About","nav.contact":"Contact","nav.login":"Client Portal","header.about":"About","header.services":"Services","header.pricing":"Pricing","header.process":"Process","header.faq":"FAQ","header.schedule":"Schedule","header.contact":"Contact","header.getStarted":"Get Started","header.brandName":"Canadian Tax Pro","header.brandTagline":"Professional Tax Services","hero.badge":"Trusted Canadian Tax Professional","hero.title":"Complete Financial & Tax Solutions for Canadians","hero.subtitle":"Expert services in tax preparation, bookkeeping, and financial reporting for individuals, newcomers, and small businesses across Canada. Your partner in financial compliance and growth.","hero.description":"Expert services in tax preparation, bookkeeping, and financial reporting for individuals, newcomers, and small businesses across Canada. Your partner in financial compliance and growth.","hero.cta":"Get Started Today","hero.ctaPrimary":"Get Started Today","hero.ctaSecondary":"View Services","hero.learn":"Learn More","hero.expertiseLabel":"Expertise in","hero.expertiseValue":"T1 Personal Returns","hero.supportingLabel":"Supporting","hero.supportingValue":"Small Businesses","hero.service1Title":"Personal Tax","hero.service1Desc":"T1 returns for individuals & newcomers","hero.service2Title":"Small Business","hero.service2Desc":"Complete tax solutions for entrepreneurs","hero.service3Title":"Bookkeeping","hero.service3Desc":"Professional accounting services","hero.service4Title":"Financial Reports","hero.service4Desc":"Detailed analysis & insights","about.section":"About Us","about.title":"Your Trusted Partner in Canadian Tax Compliance","about.p1":"As a dedicated Canadian tax professional, I specialize in helping individuals, newcomers, and small business owners navigate the complexities of the Canadian tax system with confidence.","about.p2":"Whether you're filing your first T1 personal tax return in Canada, managing a small business, or seeking guidance on tax compliance, I provide personalized service that puts your needs first. My commitment is to ensure accuracy, maximize your eligible deductions, and keep you fully compliant with CRA requirements.","about.value1Title":"Compliance & Accuracy","about.value1Desc":"Ensuring full compliance with CRA regulations and accurate tax filings every time.","about.value2Title":"Professional Excellence","about.value2Desc":"Years of experience in Canadian tax law and dedication to staying current with regulations.","about.value3Title":"Client-Focused Service","about.value3Desc":"Personalized attention and support tailored to your unique tax situation.","about.craCompliant":"CRA Compliant Services","about.craCompliantDesc":"All services are designed to meet and exceed Canada Revenue Agency standards and requirements.","about.teamSection":"Who We Are","about.teamTitle":"Meet Your Tax Professionals","about.team1Name":"Veronica Prass","about.team1Title":"Founder & Tax Professional","about.team1Bio":"Specialized in personal and small business tax returns with a focus on helping newcomers navigate the Canadian tax system.","about.team2Name":"Germana Azevedo","about.team2Title":"Senior Tax Consultant","about.team2Bio":"Expert in tax compliance and planning with extensive experience serving diverse Canadian clients.","about.viewLinkedIn":"View LinkedIn Profile","services.section":"Services","services.title":"Comprehensive Financial Services for Every Need","services.description":"From personal tax returns to full bookkeeping and financial reporting, we offer complete solutions designed to meet your Canadian financial obligations with accuracy and efficiency.","services.personal":"Personal Tax Returns","services.personal.desc":"Complete tax preparation and filing for individuals and newcomers to Canada","services.business":"Small Business Tax","services.business.desc":"Comprehensive tax solutions for entrepreneurs and small business owners","services.newcomer":"Newcomer Services","services.newcomer.desc":"Specialized support for new immigrants navigating Canadian taxes for the first time","services.main1Title":"Personal Tax","services.main1Desc":"Complete tax preparation and filing services for individuals and newcomers to Canada.","services.main2Title":"Small Business","services.main2Desc":"Comprehensive tax and compliance services for sole proprietors and small business owners.","services.main3Title":"Bookkeeping","services.main3Desc":"Professional bookkeeping and financial record management for your business.","services.main4Title":"Financial Reports & Management","services.main4Desc":"Management reports, financial analysis, and controller services for business insights.","services.personal1Title":"T1 Personal Tax Returns","services.personal1Desc":"Complete preparation and filing of individual income tax returns.","services.personal1Feature1":"Employment income (T4 slips)","services.personal1Feature2":"Investment income and capital gains","services.personal1Feature3":"RRSP contributions and deductions","services.personal1Feature4":"Medical expenses and credits","services.personal2Title":"Newcomer Tax Services","services.personal2Desc":"Specialized support for new immigrants navigating Canadian taxes.","services.personal2Feature1":"First-time tax filer assistance","services.personal2Feature2":"Residency status determination","services.personal2Feature3":"Foreign income reporting","services.personal2Feature4":"Tax treaty benefits","services.personal3Title":"Tax Compliance & Review","services.personal3Desc":"Ensuring your tax filings meet all CRA requirements.","services.personal3Feature1":"Prior year tax review","services.personal3Feature2":"Notice of Assessment review","services.personal3Feature3":"Missing slips and documentation","services.personal3Feature4":"Amendment requests (T1-ADJ)","services.business1Title":"Business Tax Filings","services.business1Desc":"Essential tax services for sole proprietors and small businesses.","services.business1Feature1":"T2125 Statement of Business Activities","services.business1Feature2":"Business expense optimization","services.business1Feature3":"Home office deductions","services.business1Feature4":"Quarterly tax planning","services.business2Title":"GST/HST Returns","services.business2Desc":"Complete GST/HST registration, filing, and compliance services.","services.business2Feature1":"GST/HST registration","services.business2Feature2":"Monthly/quarterly return preparation","services.business2Feature3":"Input tax credit optimization","services.business2Feature4":"GST/HST compliance review","services.business3Title":"Business Planning","services.business3Desc":"Strategic business and tax planning for growth.","services.business3Feature1":"Business structure consultation","services.business3Feature2":"Tax-efficient compensation planning","services.business3Feature3":"Incorporation advice","services.business3Feature4":"Growth strategy tax planning","services.bookkeeping1Title":"Monthly Bookkeeping","services.bookkeeping1Desc":"Professional monthly bookkeeping and reconciliation services.","services.bookkeeping1Feature1":"Bank reconciliation","services.bookkeeping1Feature2":"Accounts payable/receivable","services.bookkeeping1Feature3":"Financial statements preparation","services.bookkeeping1Feature4":"Monthly financial reports","services.bookkeeping2Title":"Expense Tracking","services.bookkeeping2Desc":"Comprehensive expense categorization and tracking.","services.bookkeeping2Feature1":"Receipt management","services.bookkeeping2Feature2":"Expense categorization","services.bookkeeping2Feature3":"Vendor payment tracking","services.bookkeeping2Feature4":"Tax-deductible expense identification","services.bookkeeping3Title":"Financial Records","services.bookkeeping3Desc":"Complete financial record organization and management.","services.bookkeeping3Feature1":"Document organization","services.bookkeeping3Feature2":"Digital record keeping","services.bookkeeping3Feature3":"Audit-ready documentation","services.bookkeeping3Feature4":"Year-end preparation","services.reports1Title":"Management Reports","services.reports1Desc":"Comprehensive management reports for informed decision-making.","services.reports1Feature1":"Profit & Loss statements","services.reports1Feature2":"Cash flow reports","services.reports1Feature3":"Budget vs Actual analysis","services.reports1Feature4":"Custom management dashboards","services.reports2Title":"Financial Analysis","services.reports2Desc":"In-depth financial analysis to drive business performance.","services.reports2Feature1":"Financial ratio analysis","services.reports2Feature2":"Profitability analysis","services.reports2Feature3":"Cost structure analysis","services.reports2Feature4":"Trend and variance analysis","services.reports3Title":"Controller Services","services.reports3Desc":"Strategic controller services for financial oversight and planning.","services.reports3Feature1":"KPI tracking and reporting","services.reports3Feature2":"Performance metrics","services.reports3Feature3":"Financial planning & forecasting","services.reports3Feature4":"Strategic business insights","services.notSureTitle":"Not Sure Which Service You Need?","services.notSureDesc":"Contact us for a free consultation to discuss your specific financial and tax situation.","process.section":"How It Works","process.title":"A Simple, Transparent Process","process.description":"From initial consultation to final filing, every step is designed to be clear, efficient, and stress-free.","process.tabPersonal":"Personal Tax","process.tabBusiness":"Business Services","process.step1Title":"Initial Payment ($50)","process.step1Desc":"Pay a small deposit of $50 CAD to start your tax filing. The remaining balance is due after we complete your return.","process.step1Time":"2 minutes","process.step2Title":"Document Upload","process.step2Desc":"Upload your tax documents (T4s, receipts, slips, etc.) through our secure portal with automatic OCR extraction.","process.step2Time":"15-30 minutes","process.step3Title":"Tax Calculation & Review","process.step3Desc":"We analyze your documents, calculate your refund/owing, and prepare your complete tax return.","process.step3Time":"3-5 business days","process.step4Title":"Final Payment & Approval","process.step4Desc":"Review your completed return, pay the remaining balance, and approve for CRA submission.","process.step4Time":"30 minutes","process.step5Title":"Filed with CRA","process.step5Desc":"Your tax return is electronically filed with the CRA. You'll receive your refund in 2-3 weeks!","process.step5Time":"Same day","process.business1Title":"Free Initial Consultation","process.business1Desc":"Schedule a complimentary consultation to discuss your business needs and scope of work.","process.business1Time":"30-45 minutes","process.business2Title":"Proposal & Scope Review","process.business2Desc":"Receive a detailed proposal with pricing, timeline, and customized service plan.","process.business2Time":"1-2 days","process.business3Title":"Onboarding & Setup","process.business3Desc":"Complete onboarding, documentation, and initial setup of your business accounts.","process.business3Time":"3-5 days","process.business4Title":"Ongoing Service Delivery","process.business4Desc":"Regular service delivery with monthly reports, continuous support, and strategic guidance.","process.business4Time":"Ongoing","process.businessBannerTitle":"üéâ First Consultation is FREE!","process.businessBannerDesc":"For Small Business, Bookkeeping, and Financial Reports services, we start with a complimentary consultation to understand your needs and provide a customized proposal.","process.businessBannerButton":"Schedule Free Consultation","process.turnaroundTitle":"Average Turnaround Time: 5-7 Business Days","process.turnaroundDesc":"From document submission to final filing. Rush service available for urgent situations.","process.benefit1":"Free initial consultation","process.benefit2":"Secure document handling","process.benefit3":"Electronic CRA filing","faq.section":"Frequently Asked Questions","faq.title":"Common Questions About Canadian Tax Services","faq.description":"Find answers to the most common questions about tax filing, compliance, and working with a tax professional in Canada.","faq.stillHaveTitle":"Still Have Questions?","faq.stillHaveDesc":"Don't hesitate to reach out. I'm here to help clarify any aspect of your Canadian tax obligations.","faq.contactLink":"Contact me today","contact.section":"Get In Touch","contact.title":"Ready to Get Started?","contact.description":"Contact me today for a free consultation. I'm here to answer your questions and help you navigate your Canadian tax obligations with confidence.","contact.infoTitle":"Contact Information","contact.locationLabel":"Location","contact.hoursLabel":"Hours","contact.locationValue":"Serving clients across Canada","contact.hoursValue":"Mon-Fri: 9am-6pm EST","contact.taxSeasonTitle":"Tax Season Hours","contact.taxSeasonDesc":"During tax season (February - April), extended hours are available including evenings and weekends by appointment.","contact.virtualDesc":"Virtual consultations available for clients across all Canadian provinces and territories.","contact.formTitle":"Send Me a Message","contact.nameLabel":"Full Name","contact.emailLabel":"Email Address","contact.phoneLabel":"Phone Number","contact.whatsappLabel":"WhatsApp","contact.subjectLabel":"Subject","contact.messageLabel":"Message","contact.namePlaceholder":"John Smith","contact.emailPlaceholder":"john@example.com","contact.phonePlaceholder":"(555) 123-4567","contact.subjectPlaceholder":"T1 Personal Tax Return","contact.messagePlaceholder":"Please describe your tax situation and how I can help you...","contact.privacyTitle":"Privacy Notice:","contact.privacyText":"Your information is kept strictly confidential and will only be used to respond to your inquiry.","contact.consentText":"By submitting this form, you agree to be contacted regarding your tax service inquiry.","contact.submitButton":"Send Message","contact.scheduleTitle":"Schedule a Free Consultation","contact.scheduleDesc":"Book a convenient time to discuss your tax and financial needs.","scheduling.section":"Book Appointment","scheduling.title":"Schedule Your Free Consultation","scheduling.description":"Select a date and time that works best for you. I'll confirm your appointment within 24 hours.","scheduling.selectDate":"Select a Date","scheduling.selectTime":"Select a Time","scheduling.noTimesAvailable":"No times available for this date","scheduling.bookingDetails":"Booking Details","scheduling.selectedDate":"Selected Date","scheduling.selectedTime":"Selected Time","scheduling.fullName":"Full Name","scheduling.email":"Email Address","scheduling.phone":"Phone Number","scheduling.serviceType":"Service Type","scheduling.selectService":"Select a service","scheduling.servicePersonal":"T1 Personal Tax Return","scheduling.serviceNewcomer":"Newcomer Tax Services","scheduling.serviceSmallBusiness":"Small Business Filing","scheduling.serviceCompliance":"Tax Compliance & Review","scheduling.servicePlanning":"Tax Planning & Advice","scheduling.serviceRepresentation":"CRA Representation","scheduling.additionalNotes":"Additional Notes (Optional)","scheduling.notesPlaceholder":"Please share any specific questions or concerns...","scheduling.confirmBooking":"Confirm Booking","scheduling.morning":"Morning","scheduling.afternoon":"Afternoon","scheduling.evening":"Evening","scheduling.virtualMeeting":"This will be a virtual consultation via video call.","scheduling.bookingSuccess":"Booking request submitted! You'll receive a confirmation email shortly.","clientPortal.title":"Client Portal","clientPortal.subtitle":"Manage your tax documents securely","clientPortal.login":"Client Login","clientPortal.signup":"Create Account","clientPortal.email":"Email","clientPortal.password":"Password","clientPortal.name":"Full Name","clientPortal.signInButton":"Sign In","clientPortal.signUpButton":"Create Account","clientPortal.alreadyHaveAccount":"Already have an account?","clientPortal.noAccount":"Don't have an account?","clientPortal.signInHere":"Sign in here","clientPortal.signUpHere":"Sign up here","clientPortal.welcomeBack":"Welcome back","clientPortal.logout":"Logout","clientPortal.uploadDocuments":"Upload Documents","clientPortal.myDocuments":"My Documents","clientPortal.noDocuments":"No documents uploaded yet","clientPortal.uploadNew":"Upload New Document","clientPortal.selectCategory":"Select Document Category","clientPortal.description":"Description (optional)","clientPortal.chooseFile":"Choose File","clientPortal.uploadButton":"Upload Document","clientPortal.uploading":"Uploading...","clientPortal.cancel":"Cancel","clientPortal.delete":"Delete","clientPortal.uploadedOn":"Uploaded on","clientPortal.fileSize":"Size","clientPortal.category":"Category","clientPortal.forgotPassword":"Forgot password?","forgotPassword.title":"Reset Password","forgotPassword.subtitle":"Enter your email and we'll send you a link to reset your password","forgotPassword.emailHint":"We'll send a password reset link to this email address","forgotPassword.sendButton":"Send Reset Link","forgotPassword.successTitle":"Check Your Email","forgotPassword.successMessage":"We've sent a password reset link to your email address. Click the link in the email to reset your password.","forgotPassword.checkSpam":"If you don't see the email, check your spam folder.","forgotPassword.backToLogin":"Back to login","resetPassword.title":"Create New Password","resetPassword.subtitle":"Enter your new password below","resetPassword.newPassword":"New Password","resetPassword.confirmPassword":"Confirm Password","resetPassword.passwordHint":"Must be at least 6 characters","resetPassword.updateButton":"Update Password","docCategory.t4":"T4 - Employment Income","docCategory.t4e":"T4E - Employment Insurance","docCategory.t4a":"T4A - Pension, Retirement, Scholarships","docCategory.t5":"T5 - Investment Income","docCategory.t5008":"T5008 - Securities Transactions","docCategory.rl1":"RL-1 - Quebec Employment Income","docCategory.rl2":"RL-2 - Quebec Retirement Income","docCategory.rental":"Rental Income","docCategory.selfEmployed":"Self-Employment / Freelance","docCategory.foreign":"Foreign Income","docCategory.medical":"Medical Expenses","docCategory.education":"Education (T2202/RL-8)","docCategory.homeOffice":"Home Office Expenses (T2200)","docCategory.rrsp":"RRSP Contributions","docCategory.charity":"Charitable Donations","docCategory.childcare":"Childcare Expenses","docCategory.property":"Property Tax","docCategory.other":"Other Documents","messages.title":"Messages","messages.noMessages":"No messages yet","messages.writeMessage":"Write a message...","messages.send":"Send","messages.you":"You","messages.admin":"Tax Advisor","messages.today":"Today","messages.yesterday":"Yesterday","messages.sending":"Sending...","messages.loadMore":"Load more messages","portal.documents":"Documents","portal.payments":"Payments","portal.messages":"Messages","portal.status":"Status","onboarding.title":"Complete Your Profile","onboarding.subtitle":"Let's get your account set up","onboarding.step":"Step","onboarding.of":"of","onboarding.step1Title":"Basic Information","onboarding.step1Desc":"Tell us about yourself","onboarding.step2Title":"Service Type","onboarding.step2Desc":"What service do you need?","onboarding.step3Title":"Tax Return Details","onboarding.step3Desc":"Additional information for your tax return","onboarding.fullName":"Full Name","onboarding.fullNamePlaceholder":"John Doe","onboarding.phone":"Phone Number","onboarding.email":"Email","onboarding.address":"Street Address","onboarding.addressPlaceholder":"123 Main Street","onboarding.city":"City","onboarding.cityPlaceholder":"Toronto","onboarding.province":"Province","onboarding.selectProvince":"Select province","onboarding.postalCode":"Postal Code","onboarding.serviceCategory":"Which service do you need?","onboarding.personal":"Personal Tax","onboarding.personalDesc":"T1 personal tax returns for individuals and newcomers","onboarding.smallBusiness":"Small Business","onboarding.smallBusinessDesc":"Business tax filings, GST/HST returns, and planning","onboarding.bookkeeping":"Bookkeeping","onboarding.bookkeepingDesc":"Monthly bookkeeping, expense tracking, and financial records","onboarding.financialReports":"Financial Reports & Management","onboarding.financialReportsDesc":"Management reports, financial analysis, and controller services","onboarding.personalInfo":"Personal Information","onboarding.dateOfBirth":"Date of Birth","onboarding.sin":"Social Insurance Number (SIN)","onboarding.statusInfo":"Status Information","onboarding.maritalStatus":"Marital Status","onboarding.selectMaritalStatus":"Select status","onboarding.single":"Single","onboarding.married":"Married","onboarding.commonLaw":"Common-law","onboarding.divorced":"Divorced","onboarding.widowed":"Widowed","onboarding.numberOfDependents":"Number of Dependents","onboarding.firstTimeInCanada":"First time filing in Canada?","onboarding.selectYesNo":"Select yes or no","onboarding.yes":"Yes","onboarding.no":"No","onboarding.residencyStatus":"Residency Status","onboarding.selectResidencyStatus":"Select status","onboarding.resident":"Resident","onboarding.nonResident":"Non-resident","onboarding.deemedResident":"Deemed Resident","onboarding.incomeInfo":"Employment & Income","onboarding.incomeType":"Income Type","onboarding.selectIncomeType":"Select type","onboarding.employment":"Employment","onboarding.selfEmployed":"Self-Employed","onboarding.both":"Both","onboarding.other":"Other","onboarding.workProvince":"Work Province","onboarding.back":"Back","onboarding.continue":"Continue","onboarding.complete":"Complete Setup","onboarding.saving":"Saving...","onboarding.saveProgress":"Save Progress & Continue Later","onboarding.fillAllFields":"Please fill in all required fields","onboarding.selectServiceCategory":"Please select a service category","onboarding.profileCompleted":"Profile completed! Welcome to your dashboard.","onboarding.progressSaved":"Progress saved successfully","onboarding.saveFailed":"Failed to save profile","onboardingSuccess.title":"Registration Complete!","onboardingSuccess.subtitle":"Your profile has been successfully set up.","onboardingSuccess.description":"You now have access to your client portal.","onboardingSuccess.nextSteps":"You can now upload documents, track your service progress, and communicate with us directly through your portal.","onboardingSuccess.accessPortal":"Access Client Portal","onboardingSuccess.contact":"Need help? Contact us anytime.","footer.description":"Expert Canadian tax services for individuals, newcomers, and small businesses. Ensuring compliance and maximizing your returns.","footer.quickLinks":"Quick Links","footer.services":"Services","footer.contact":"Contact","footer.service1":"T1 Personal Returns","footer.service2":"Newcomer Services","footer.service3":"Small Business Filing","footer.service4":"Tax Compliance","footer.service5":"CRA Representation","footer.copyright":"Canadian Tax Pro. All rights reserved.","footer.privacy":"Privacy Policy","footer.terms":"Terms of Service","footer.disclaimer":"This website is for informational purposes. Tax advice is provided on a case-by-case basis during consultations. All services comply with Canada Revenue Agency regulations.","admin.panel":"Admin Panel","admin.welcomeBack":"Welcome back","admin.clientPortal":"Client Portal","admin.signOut":"Sign Out","admin.adminHub":"Admin Hub","admin.selectModule":"Select a module below to get started","admin.clientsTitle":"Customer Dashboard","admin.clientsDesc":"Manage all customers, view details, documents, and filing status","admin.bookkeepingTitle":"Bookkeeping Dashboard","admin.bookkeepingDesc":"Track expenses, manage invoices, and handle day-to-day accounting","admin.financialTitle":"Financial Dashboard","admin.financialDesc":"View KPIs, revenue analytics, and comprehensive financial reports","admin.generalDashboardTitle":"General Dashboard","admin.generalDashboardDesc":"Overview of all system operations and quick access to key functions","admin.marketingTitle":"Marketing Dashboard","admin.marketingDesc":"Create professional marketing images and manage campaigns","admin.customerDashboard":"Customer Dashboard","admin.customersTotal":"customers total","admin.customer":"customer","admin.customers":"customers","admin.viewProfile":"View Profile","admin.pending":"Pending","admin.active":"Active","admin.completed":"Completed","admin.searchCustomers":"Search customers...","admin.filterAll":"All","admin.filterPersonal":"Personal Tax","admin.filterBusiness":"Small Business","admin.filterBookkeeping":"Bookkeeping","admin.filterReports":"Financial Reports","admin.noCustomers":"No customers found","admin.backToHub":"Back to Hub","taxFiling.overview":"Overview","taxFiling.documents":"Documents","taxFiling.messages":"Messages","taxFiling.taxYear":"Tax Year","taxFiling.filingType":"Filing Type","taxFiling.status":"Status","taxFiling.created":"Created","taxFiling.lastUpdated":"Last Updated","taxFiling.statusPending":"Pending Payment","taxFiling.statusDocuments":"Documents Upload","taxFiling.statusReview":"Under Review","taxFiling.statusReady":"Ready for Payment","taxFiling.statusCompleted":"Completed","taxFiling.paymentTimeline":"Payment Timeline","taxFiling.step1":"Initial Payment","taxFiling.step1Desc":"Pay $50 CAD deposit to start","taxFiling.step2":"Upload Documents","taxFiling.step2Desc":"Upload your tax documents","taxFiling.step3":"We Prepare","taxFiling.step3Desc":"We calculate and prepare your return","taxFiling.step4":"Final Payment","taxFiling.step4Desc":"Pay remaining balance","taxFiling.step5":"Filed","taxFiling.step5Desc":"Submitted to CRA","taxFiling.payInitial":"Pay $50 Initial Deposit","taxFiling.uploadDocuments":"Upload Documents","taxFiling.viewReport":"View Tax Report","taxFiling.payFinal":"Pay Final Balance","taxFiling.downloadReceipt":"Download Receipt","taxFiling.initialPaymentPaid":"Initial Payment Paid","taxFiling.finalPaymentPaid":"Final Payment Paid","taxFiling.paidOn":"Paid on","taxFiling.amount":"Amount","taxFiling.refundAmount":"Estimated Refund","taxFiling.owingAmount":"Amount Owing to CRA","taxFiling.finalPrice":"Final Service Price","taxFiling.backToDashboard":"Back to Dashboard"},fr:{"nav.home":"Accueil","nav.services":"Services","nav.about":"√Ä propos","nav.contact":"Contact","nav.login":"Portail Client","header.about":"√Ä propos","header.services":"Services","header.pricing":"Tarifs","header.process":"Processus","header.faq":"FAQ","header.schedule":"Programme","header.contact":"Contact","header.getStarted":"Commencer","header.brandName":"Fiscaliste Canadien","header.brandTagline":"Services Fiscaux Professionnels","hero.badge":"Fiscaliste Canadien de Confiance","hero.title":"Solutions Financi√®res et Fiscales Compl√®tes pour les Canadiens","hero.subtitle":"Services experts en pr√©paration fiscale, comptabilit√© et rapports financiers pour particuliers, nouveaux arrivants et petites entreprises partout au Canada. Votre partenaire en conformit√© financi√®re et croissance.","hero.description":"Services experts en pr√©paration fiscale, comptabilit√© et rapports financiers pour particuliers, nouveaux arrivants et petites entreprises partout au Canada. Votre partenaire en conformit√© financi√®re et croissance.","hero.cta":"Commencer Aujourd'hui","hero.ctaPrimary":"Commencer Aujourd'hui","hero.ctaSecondary":"Voir les Services","hero.learn":"En Savoir Plus","hero.expertiseLabel":"Expertise en","hero.expertiseValue":"D√©clarations T1 Personnelles","hero.supportingLabel":"Soutien aux","hero.supportingValue":"Petites Entreprises","hero.service1Title":"Imp√¥t Personnel","hero.service1Desc":"D√©clarations T1 pour particuliers et nouveaux arrivants","hero.service2Title":"Petite Entreprise","hero.service2Desc":"Solutions fiscales compl√®tes pour entrepreneurs","hero.service3Title":"Comptabilit√©","hero.service3Desc":"Services comptables professionnels","hero.service4Title":"Rapports Financiers","hero.service4Desc":"Analyse et perspectives d√©taill√©es","about.section":"√Ä Propos","about.title":"Votre Partenaire de Confiance en Conformit√© Fiscale Canadienne","about.p1":"En tant que fiscaliste canadien d√©vou√©, je me sp√©cialise dans l'aide aux particuliers, nouveaux arrivants et propri√©taires de petites entreprises pour naviguer les complexit√©s du syst√®me fiscal canadien avec confiance.","about.p2":"Que vous produisiez votre premi√®re d√©claration T1 au Canada, que vous g√©riez une petite entreprise ou que vous cherchiez des conseils sur la conformit√© fiscale, je fournis un service personnalis√© qui place vos besoins en premier. Mon engagement est d'assurer l'exactitude, de maximiser vos d√©ductions admissibles et de vous maintenir en pleine conformit√© avec les exigences de l'ARC.","about.value1Title":"Conformit√© et Pr√©cision","about.value1Desc":"Assurer la pleine conformit√© aux r√©glementations de l'ARC et des d√©clarations fiscales exactes √† chaque fois.","about.value2Title":"Excellence Professionnelle","about.value2Desc":"Des ann√©es d'exp√©rience en droit fiscal canadien et un engagement √† rester √† jour avec les r√©glementations.","about.value3Title":"Service Centr√© sur le Client","about.value3Desc":"Attention personnalis√©e et soutien adapt√© √† votre situation fiscale unique.","about.craCompliant":"Services Conformes √† l'ARC","about.craCompliantDesc":"Tous les services sont con√ßus pour respecter et d√©passer les normes et exigences de l'Agence du revenu du Canada.","about.teamSection":"Qui Sommes-Nous","about.teamTitle":"Rencontrez Vos Fiscalistes","about.team1Name":"Veronica Prass","about.team1Title":"Fondatrice et Fiscaliste","about.team1Bio":"Sp√©cialis√©e dans les d√©clarations fiscales personnelles et de petites entreprises, avec un accent sur l'aide aux nouveaux arrivants pour naviguer le syst√®me fiscal canadien.","about.team2Name":"Germana Azevedo","about.team2Title":"Consultante Fiscale Senior","about.team2Bio":"Experte en conformit√© et planification fiscale avec une vaste exp√©rience au service de clients canadiens diversifi√©s.","about.viewLinkedIn":"Voir le Profil LinkedIn","services.section":"Services","services.title":"Services Financiers Complets pour Tous les Besoins","services.description":"Des d√©clarations fiscales personnelles √† la comptabilit√© compl√®te et aux rapports financiers, nous offrons des solutions compl√®tes con√ßues pour r√©pondre √† vos obligations financi√®res canadiennes avec pr√©cision et efficacit√©.","services.personal":"D√©clarations d'Imp√¥t Personnel","services.personal.desc":"Pr√©paration et production compl√®tes de d√©clarations fiscales pour particuliers et nouveaux arrivants au Canada","services.business":"Imp√¥t des Petites Entreprises","services.business.desc":"Solutions fiscales compl√®tes pour entrepreneurs et propri√©taires de petites entreprises","services.newcomer":"Services pour Nouveaux Arrivants","services.newcomer.desc":"Soutien sp√©cialis√© pour les nouveaux immigrants qui naviguent le syst√®me fiscal canadien pour la premi√®re fois","services.main1Title":"Imp√¥t Personnel","services.main1Desc":"Services complets de pr√©paration et de production de d√©clarations fiscales pour particuliers et nouveaux arrivants au Canada.","services.main2Title":"Petite Entreprise","services.main2Desc":"Services fiscaux et de conformit√© complets pour travailleurs autonomes et propri√©taires de petites entreprises.","services.main3Title":"Comptabilit√©","services.main3Desc":"Comptabilit√© professionnelle et gestion des dossiers financiers pour votre entreprise.","services.main4Title":"Rapports Financiers et Gestion","services.main4Desc":"Rapports de gestion, analyse financi√®re et services de contr√¥leur pour des perspectives commerciales.","services.personal1Title":"D√©clarations T1 d'Imp√¥t Personnel","services.personal1Desc":"Pr√©paration et production compl√®tes de d√©clarations de revenus des particuliers.","services.personal1Feature1":"Revenu d'emploi (feuillets T4)","services.personal1Feature2":"Revenu de placements et gains en capital","services.personal1Feature3":"Cotisations REER et d√©ductions","services.personal1Feature4":"Frais m√©dicaux et cr√©dits","services.personal2Title":"Services Fiscaux pour Nouveaux Arrivants","services.personal2Desc":"Soutien sp√©cialis√© pour les nouveaux immigrants qui naviguent les imp√¥ts canadiens.","services.personal2Feature1":"Aide pour les premiers d√©clarants","services.personal2Feature2":"D√©termination du statut de r√©sidence","services.personal2Feature3":"D√©claration de revenus √©trangers","services.personal2Feature4":"Avantages des conventions fiscales","services.personal3Title":"Conformit√© et R√©vision Fiscale","services.personal3Desc":"S'assurer que vos d√©clarations fiscales r√©pondent √† toutes les exigences de l'ARC.","services.personal3Feature1":"R√©vision des ann√©es ant√©rieures","services.personal3Feature2":"R√©vision de l'avis de cotisation","services.personal3Feature3":"Feuillets et documentation manquants","services.personal3Feature4":"Demandes de modification (T1-ADJ)","services.business1Title":"D√©clarations Fiscales d'Entreprise","services.business1Desc":"Services fiscaux essentiels pour travailleurs autonomes et petites entreprises.","services.business1Feature1":"T2125 √âtat des activit√©s d'une entreprise","services.business1Feature2":"Optimisation des d√©penses d'entreprise","services.business1Feature3":"D√©ductions pour bureau √† domicile","services.business1Feature4":"Planification fiscale trimestrielle","services.business2Title":"D√©clarations TPS/TVH","services.business2Desc":"Services complets d'inscription, de production et de conformit√© TPS/TVH.","services.business2Feature1":"Inscription TPS/TVH","services.business2Feature2":"Pr√©paration de d√©clarations mensuelles/trimestrielles","services.business2Feature3":"Optimisation des cr√©dits de taxe sur intrants","services.business2Feature4":"R√©vision de conformit√© TPS/TVH","services.business3Title":"Planification d'Entreprise","services.business3Desc":"Planification strat√©gique d'entreprise et fiscale pour la croissance.","services.business3Feature1":"Consultation sur la structure d'entreprise","services.business3Feature2":"Planification de r√©mun√©ration fiscalement avantageuse","services.business3Feature3":"Conseils sur l'incorporation","services.business3Feature4":"Planification fiscale de strat√©gie de croissance","services.bookkeeping1Title":"Comptabilit√© Mensuelle","services.bookkeeping1Desc":"Services professionnels de comptabilit√© et de rapprochement mensuels.","services.bookkeeping1Feature1":"Rapprochement bancaire","services.bookkeeping1Feature2":"Comptes cr√©diteurs/d√©biteurs","services.bookkeeping1Feature3":"Pr√©paration d'√©tats financiers","services.bookkeeping1Feature4":"Rapports financiers mensuels","services.bookkeeping2Title":"Suivi des D√©penses","services.bookkeeping2Desc":"Cat√©gorisation et suivi complets des d√©penses.","services.bookkeeping2Feature1":"Gestion des re√ßus","services.bookkeeping2Feature2":"Cat√©gorisation des d√©penses","services.bookkeeping2Feature3":"Suivi des paiements aux fournisseurs","services.bookkeeping2Feature4":"Identification des d√©penses d√©ductibles d'imp√¥t","services.bookkeeping3Title":"Dossiers Financiers","services.bookkeeping3Desc":"Organisation et gestion compl√®tes des dossiers financiers.","services.bookkeeping3Feature1":"Organisation de documents","services.bookkeeping3Feature2":"Tenue de dossiers num√©riques","services.bookkeeping3Feature3":"Documentation pr√™te pour audit","services.bookkeeping3Feature4":"Pr√©paration de fin d'ann√©e","services.reports1Title":"Rapports de Gestion","services.reports1Desc":"Rapports de gestion complets pour une prise de d√©cision √©clair√©e.","services.reports1Feature1":"√âtats des profits et pertes","services.reports1Feature2":"Rapports de flux de tr√©sorerie","services.reports1Feature3":"Analyse budget vs r√©el","services.reports1Feature4":"Tableaux de bord de gestion personnalis√©s","services.reports2Title":"Analyse Financi√®re","services.reports2Desc":"Analyse financi√®re approfondie pour stimuler la performance de l'entreprise.","services.reports2Feature1":"Analyse des ratios financiers","services.reports2Feature2":"Analyse de rentabilit√©","services.reports2Feature3":"Analyse de structure de co√ªts","services.reports2Feature4":"Analyse des tendances et √©carts","services.reports3Title":"Services de Contr√¥leur","services.reports3Desc":"Services strat√©giques de contr√¥leur pour la surveillance et la planification financi√®res.","services.reports3Feature1":"Suivi et rapports des KPI","services.reports3Feature2":"M√©triques de performance","services.reports3Feature3":"Planification et pr√©visions financi√®res","services.reports3Feature4":"Perspectives commerciales strat√©giques","services.notSureTitle":"Pas S√ªr du Service Dont Vous Avez Besoin?","services.notSureDesc":"Contactez-nous pour une consultation gratuite afin de discuter de votre situation financi√®re et fiscale sp√©cifique.","process.section":"Comment √áa Marche","process.title":"Un Processus Simple et Transparent","process.description":"De la consultation initiale au d√©p√¥t final, chaque √©tape est con√ßue pour √™tre claire, efficace et sans stress.","process.tabPersonal":"Imp√¥t Personnel","process.tabBusiness":"Services Entreprise","process.step1Title":"Paiement Initial (50$)","process.step1Desc":"Payez un petit d√©p√¥t de 50$ CAD pour commencer votre d√©claration. Le solde restant est d√ª apr√®s avoir termin√©.","process.step1Time":"2 minutes","process.step2Title":"T√©l√©chargement de Documents","process.step2Desc":"T√©l√©chargez vos documents fiscaux (T4, re√ßus, feuillets, etc.) via notre portail s√©curis√© avec extraction OCR automatique.","process.step2Time":"15-30 minutes","process.step3Title":"Calcul et R√©vision Fiscale","process.step3Desc":"Nous analysons vos documents, calculons votre remboursement/montant d√ª et pr√©parons votre d√©claration compl√®te.","process.step3Time":"3-5 jours ouvrables","process.step4Title":"Paiement Final et Approbation","process.step4Desc":"R√©visez votre d√©claration termin√©e, payez le solde restant et approuvez pour soumission √† l'ARC.","process.step4Time":"30 minutes","process.step5Title":"D√©pos√© √† l'ARC","process.step5Desc":"Votre d√©claration est d√©pos√©e √©lectroniquement √† l'ARC. Vous recevrez votre remboursement dans 2-3 semaines!","process.step5Time":"Jour m√™me","process.business1Title":"Consultation Initiale Gratuite","process.business1Desc":"Planifiez une consultation gratuite pour discuter de vos besoins d'entreprise et de la port√©e des travaux.","process.business1Time":"30-45 minutes","process.business2Title":"Proposition et R√©vision de la Port√©e","process.business2Desc":"Recevez une proposition d√©taill√©e avec tarification, calendrier et plan de service personnalis√©.","process.business2Time":"1-2 jours","process.business3Title":"Int√©gration et Configuration","process.business3Desc":"Compl√©tez l'int√©gration, la documentation et la configuration initiale de vos comptes d'entreprise.","process.business3Time":"3-5 jours","process.business4Title":"Prestation de Services Continue","process.business4Desc":"Prestation r√©guli√®re de services avec rapports mensuels, soutien continu et conseils strat√©giques.","process.business4Time":"Continu","process.businessBannerTitle":"üéâ Premi√®re Consultation GRATUITE!","process.businessBannerDesc":"Pour les services de Petites Entreprises, Comptabilit√© et Rapports Financiers, nous commen√ßons par une consultation gratuite pour comprendre vos besoins et fournir une proposition personnalis√©e.","process.businessBannerButton":"Planifier une Consultation Gratuite","process.turnaroundTitle":"Temps de Traitement Moyen: 5-7 Jours Ouvrables","process.turnaroundDesc":"De la soumission des documents au d√©p√¥t final. Service acc√©l√©r√© disponible pour les situations urgentes.","process.benefit1":"Consultation initiale gratuite","process.benefit2":"Traitement s√©curis√© des documents","process.benefit3":"D√©p√¥t √©lectronique √† l'ARC","faq.section":"Questions Fr√©quemment Pos√©es","faq.title":"Questions Courantes sur les Services Fiscaux Canadiens","faq.description":"Trouvez des r√©ponses aux questions les plus courantes sur la d√©claration fiscale, la conformit√© et le travail avec un fiscaliste au Canada.","faq.stillHaveTitle":"Vous Avez Encore des Questions?","faq.stillHaveDesc":"N'h√©sitez pas √† nous contacter. Je suis l√† pour clarifier tout aspect de vos obligations fiscales canadiennes.","faq.contactLink":"Contactez-moi aujourd'hui","contact.section":"Contactez-Nous","contact.title":"Pr√™t √† Commencer?","contact.description":"Contactez-moi aujourd'hui pour une consultation gratuite. Je suis l√† pour r√©pondre √† vos questions et vous aider √† naviguer vos obligations fiscales canadiennes en toute confiance.","contact.infoTitle":"Informations de Contact","contact.locationLabel":"Emplacement","contact.hoursLabel":"Heures","contact.locationValue":"Service aux clients partout au Canada","contact.hoursValue":"Lun-Ven: 9h-18h HNE","contact.taxSeasonTitle":"Heures de la Saison des Imp√¥ts","contact.taxSeasonDesc":"Pendant la saison des imp√¥ts (f√©vrier - avril), des heures prolong√©es sont disponibles, y compris les soirs et week-ends sur rendez-vous.","contact.virtualDesc":"Consultations virtuelles disponibles pour les clients de toutes les provinces et territoires canadiens.","contact.formTitle":"Envoyez-Moi un Message","contact.nameLabel":"Nom Complet","contact.emailLabel":"Adresse Email","contact.phoneLabel":"Num√©ro de T√©l√©phone","contact.whatsappLabel":"WhatsApp","contact.subjectLabel":"Sujet","contact.messageLabel":"Message","contact.namePlaceholder":"Jean Dupont","contact.emailPlaceholder":"jean@exemple.com","contact.phonePlaceholder":"(555) 123-4567","contact.subjectPlaceholder":"D√©claration T1 d'Imp√¥t Personnel","contact.messagePlaceholder":"Veuillez d√©crire votre situation fiscale et comment je peux vous aider...","contact.privacyTitle":"Avis de Confidentialit√©:","contact.privacyText":"Vos informations sont gard√©es strictement confidentielles et ne seront utilis√©es que pour r√©pondre √† votre demande.","contact.consentText":"En soumettant ce formulaire, vous acceptez d'√™tre contact√© concernant votre demande de service fiscal.","contact.submitButton":"Envoyer le Message","contact.scheduleTitle":"Planifier une Consultation Gratuite","contact.scheduleDesc":"R√©servez un moment convenable pour discuter de vos besoins fiscaux et financiers.","scheduling.section":"Prendre Rendez-Vous","scheduling.title":"Planifiez Votre Consultation Gratuite","scheduling.description":"S√©lectionnez une date et une heure qui vous conviennent le mieux. Je confirmerai votre rendez-vous dans les 24 heures.","scheduling.selectDate":"S√©lectionner une Date","scheduling.selectTime":"S√©lectionner une Heure","scheduling.noTimesAvailable":"Aucune heure disponible pour cette date","scheduling.bookingDetails":"D√©tails de la R√©servation","scheduling.selectedDate":"Date S√©lectionn√©e","scheduling.selectedTime":"Heure S√©lectionn√©e","scheduling.fullName":"Nom Complet","scheduling.email":"Adresse Email","scheduling.phone":"Num√©ro de T√©l√©phone","scheduling.serviceType":"Type de Service","scheduling.selectService":"S√©lectionner un service","scheduling.servicePersonal":"D√©claration T1 d'Imp√¥t Personnel","scheduling.serviceNewcomer":"Services Fiscaux pour Nouveaux Arrivants","scheduling.serviceSmallBusiness":"D√©claration de Petite Entreprise","scheduling.serviceCompliance":"Conformit√© et R√©vision Fiscale","scheduling.servicePlanning":"Planification et Conseils Fiscaux","scheduling.serviceRepresentation":"Repr√©sentation Aupr√®s de l'ARC","scheduling.additionalNotes":"Notes Suppl√©mentaires (Optionnel)","scheduling.notesPlaceholder":"Veuillez partager toute question ou pr√©occupation sp√©cifique...","scheduling.confirmBooking":"Confirmer la R√©servation","scheduling.morning":"Matin","scheduling.afternoon":"Apr√®s-midi","scheduling.evening":"Soir","scheduling.virtualMeeting":"Ce sera une consultation virtuelle par appel vid√©o.","scheduling.bookingSuccess":"Demande de r√©servation soumise! Vous recevrez un email de confirmation sous peu.","clientPortal.title":"Portail Client","clientPortal.subtitle":"G√©rez vos documents fiscaux en toute s√©curit√©","clientPortal.login":"Connexion Client","clientPortal.signup":"Cr√©er un Compte","clientPortal.email":"Email","clientPortal.password":"Mot de Passe","clientPortal.name":"Nom Complet","clientPortal.signInButton":"Se Connecter","clientPortal.signUpButton":"Cr√©er un Compte","clientPortal.alreadyHaveAccount":"Vous avez d√©j√† un compte?","clientPortal.noAccount":"Vous n'avez pas de compte?","clientPortal.signInHere":"Connectez-vous ici","clientPortal.signUpHere":"Inscrivez-vous ici","clientPortal.welcomeBack":"Bon retour","clientPortal.logout":"D√©connexion","clientPortal.uploadDocuments":"T√©l√©charger des Documents","clientPortal.myDocuments":"Mes Documents","clientPortal.noDocuments":"Aucun document t√©l√©charg√© pour le moment","clientPortal.uploadNew":"T√©l√©charger un Nouveau Document","clientPortal.selectCategory":"S√©lectionner la Cat√©gorie de Document","clientPortal.description":"Description (optionnel)","clientPortal.chooseFile":"Choisir un Fichier","clientPortal.uploadButton":"T√©l√©charger le Document","clientPortal.uploading":"T√©l√©chargement...","clientPortal.cancel":"Annuler","clientPortal.delete":"Supprimer","clientPortal.uploadedOn":"T√©l√©charg√© le","clientPortal.fileSize":"Taille","clientPortal.category":"Cat√©gorie","clientPortal.forgotPassword":"Mot de passe oubli√©?","forgotPassword.title":"R√©initialiser le Mot de Passe","forgotPassword.subtitle":"Entrez votre email et nous vous enverrons un lien pour r√©initialiser votre mot de passe","forgotPassword.emailHint":"Nous enverrons un lien de r√©initialisation √† cette adresse email","forgotPassword.sendButton":"Envoyer le Lien de R√©initialisation","forgotPassword.successTitle":"V√©rifiez Votre Email","forgotPassword.successMessage":"Nous avons envoy√© un lien de r√©initialisation √† votre adresse email. Cliquez sur le lien dans l'email pour r√©initialiser votre mot de passe.","forgotPassword.checkSpam":"Si vous ne voyez pas l'email, v√©rifiez votre dossier spam.","forgotPassword.backToLogin":"Retour √† la connexion","resetPassword.title":"Cr√©er un Nouveau Mot de Passe","resetPassword.subtitle":"Entrez votre nouveau mot de passe ci-dessous","resetPassword.newPassword":"Nouveau Mot de Passe","resetPassword.confirmPassword":"Confirmer le Mot de Passe","resetPassword.passwordHint":"Doit comporter au moins 6 caract√®res","resetPassword.updateButton":"Mettre √† Jour le Mot de Passe","docCategory.t4":"T4 - Revenu d'Emploi","docCategory.t4e":"T4E - Assurance-Emploi","docCategory.t4a":"T4A - Pension, Retraite, Bourses","docCategory.t5":"T5 - Revenu de Placements","docCategory.t5008":"T5008 - Transactions de Titres","docCategory.rl1":"RL-1 - Revenu d'Emploi Qu√©bec","docCategory.rl2":"RL-2 - Revenu de Retraite Qu√©bec","docCategory.rental":"Revenu de Location","docCategory.selfEmployed":"Travail Autonome / Freelance","docCategory.foreign":"Revenu √âtranger","docCategory.medical":"Frais M√©dicaux","docCategory.education":"√âducation (T2202/RL-8)","docCategory.homeOffice":"Frais de Bureau √† Domicile (T2200)","docCategory.rrsp":"Cotisations REER","docCategory.charity":"Dons de Charit√©","docCategory.childcare":"Frais de Garde d'Enfants","docCategory.property":"Taxe Fonci√®re","docCategory.other":"Autres Documents","messages.title":"Messages","messages.noMessages":"Aucun message pour le moment","messages.writeMessage":"√âcrire un message...","messages.send":"Envoyer","messages.you":"Vous","messages.admin":"Conseiller Fiscal","messages.today":"Aujourd'hui","messages.yesterday":"Hier","messages.sending":"Envoi...","messages.loadMore":"Charger plus de messages","portal.documents":"Documents","portal.payments":"Paiements","portal.messages":"Messages","portal.status":"Statut","onboarding.title":"Compl√©tez Votre Profil","onboarding.subtitle":"Configurons votre compte","onboarding.step":"√âtape","onboarding.of":"de","onboarding.step1Title":"Informations de Base","onboarding.step1Desc":"Parlez-nous de vous","onboarding.step2Title":"Type de Service","onboarding.step2Desc":"De quel service avez-vous besoin?","onboarding.step3Title":"D√©tails de la D√©claration Fiscale","onboarding.step3Desc":"Informations suppl√©mentaires pour votre d√©claration fiscale","onboarding.fullName":"Nom Complet","onboarding.fullNamePlaceholder":"Jean Dupont","onboarding.phone":"Num√©ro de T√©l√©phone","onboarding.email":"Email","onboarding.address":"Adresse","onboarding.addressPlaceholder":"123 Rue Principale","onboarding.city":"Ville","onboarding.cityPlaceholder":"Toronto","onboarding.province":"Province","onboarding.selectProvince":"S√©lectionner la province","onboarding.postalCode":"Code Postal","onboarding.serviceCategory":"De quel service avez-vous besoin?","onboarding.personal":"Imp√¥t Personnel","onboarding.personalDesc":"D√©clarations T1 d'imp√¥t personnel pour particuliers et nouveaux arrivants","onboarding.smallBusiness":"Petite Entreprise","onboarding.smallBusinessDesc":"D√©clarations fiscales d'entreprise, d√©clarations TPS/TVH et planification","onboarding.bookkeeping":"Comptabilit√©","onboarding.bookkeepingDesc":"Comptabilit√© mensuelle, suivi des d√©penses et dossiers financiers","onboarding.financialReports":"Rapports Financiers et Gestion","onboarding.financialReportsDesc":"Rapports de gestion, analyse financi√®re et services de contr√¥leur","onboarding.personalInfo":"Informations Personnelles","onboarding.dateOfBirth":"Date de Naissance","onboarding.sin":"Num√©ro d'Assurance Sociale (NAS)","onboarding.statusInfo":"Informations de Statut","onboarding.maritalStatus":"√âtat Civil","onboarding.selectMaritalStatus":"S√©lectionner le statut","onboarding.single":"C√©libataire","onboarding.married":"Mari√©(e)","onboarding.commonLaw":"Union de Fait","onboarding.divorced":"Divorc√©(e)","onboarding.widowed":"Veuf/Veuve","onboarding.numberOfDependents":"Nombre de Personnes √† Charge","onboarding.firstTimeInCanada":"Premi√®re d√©claration au Canada?","onboarding.selectYesNo":"S√©lectionner oui ou non","onboarding.yes":"Oui","onboarding.no":"Non","onboarding.residencyStatus":"Statut de R√©sidence","onboarding.selectResidencyStatus":"S√©lectionner le statut","onboarding.resident":"R√©sident","onboarding.nonResident":"Non-r√©sident","onboarding.deemedResident":"R√©sident R√©put√©","onboarding.incomeInfo":"Emploi et Revenu","onboarding.incomeType":"Type de Revenu","onboarding.selectIncomeType":"S√©lectionner le type","onboarding.employment":"Emploi","onboarding.selfEmployed":"Travailleur Autonome","onboarding.both":"Les Deux","onboarding.other":"Autre","onboarding.workProvince":"Province de Travail","onboarding.back":"Retour","onboarding.continue":"Continuer","onboarding.complete":"Terminer la Configuration","onboarding.saving":"Enregistrement...","onboarding.saveProgress":"Enregistrer la Progression et Continuer Plus Tard","onboarding.fillAllFields":"Veuillez remplir tous les champs requis","onboarding.selectServiceCategory":"Veuillez s√©lectionner une cat√©gorie de service","onboarding.profileCompleted":"Profil compl√©t√©! Bienvenue dans votre tableau de bord.","onboarding.progressSaved":"Progression enregistr√©e avec succ√®s","onboarding.saveFailed":"√âchec de l'enregistrement du profil","onboardingSuccess.title":"Inscription Compl√®te!","onboardingSuccess.subtitle":"Votre profil a √©t√© configur√© avec succ√®s.","onboardingSuccess.description":"Vous avez maintenant acc√®s √† votre portail client.","onboardingSuccess.nextSteps":"Vous pouvez maintenant t√©l√©charger des documents, suivre l'avancement de votre service et communiquer directement avec nous via votre portail.","onboardingSuccess.accessPortal":"Acc√©der au Portail Client","onboardingSuccess.contact":"Besoin d'aide? Contactez-nous √† tout moment.","footer.description":"Services fiscaux canadiens experts pour particuliers, nouveaux arrivants et petites entreprises. Assurer la conformit√© et maximiser vos rendements.","footer.quickLinks":"Liens Rapides","footer.services":"Services","footer.contact":"Contact","footer.service1":"D√©clarations T1 Personnelles","footer.service2":"Services pour Nouveaux Arrivants","footer.service3":"D√©clarations de Petite Entreprise","footer.service4":"Conformit√© Fiscale","footer.service5":"Repr√©sentation Aupr√®s de l'ARC","footer.copyright":"Fiscaliste Canadien. Tous droits r√©serv√©s.","footer.privacy":"Politique de Confidentialit√©","footer.terms":"Conditions d'Utilisation","footer.disclaimer":"Ce site web est √† des fins informatives. Les conseils fiscaux sont fournis au cas par cas lors des consultations. Tous les services sont conformes aux r√©glementations de l'Agence du revenu du Canada.","admin.panel":"Panneau Admin","admin.welcomeBack":"Bon retour","admin.clientPortal":"Portail Client","admin.signOut":"D√©connexion","admin.adminHub":"Centre Admin","admin.selectModule":"S√©lectionnez un module ci-dessous pour commencer","admin.clientsTitle":"Tableau de Bord Client","admin.clientsDesc":"G√©rer tous les clients, voir les d√©tails, documents et statut de d√©claration","admin.bookkeepingTitle":"Tableau de Bord Comptabilit√©","admin.bookkeepingDesc":"Suivre les d√©penses, g√©rer les factures et g√©rer la comptabilit√© quotidienne","admin.financialTitle":"Tableau de Bord Financier","admin.financialDesc":"Voir les KPI, analyses de revenus et rapports financiers complets","admin.generalDashboardTitle":"Tableau de Bord G√©n√©ral","admin.generalDashboardDesc":"Aper√ßu de toutes les op√©rations syst√®me et acc√®s rapide aux fonctions cl√©s","admin.marketingTitle":"Tableau de Bord Marketing","admin.marketingDesc":"Cr√©er des images marketing professionnelles et g√©rer les campagnes","admin.customerDashboard":"Tableau de Bord Client","admin.customersTotal":"clients au total","admin.customer":"client","admin.customers":"clients","admin.viewProfile":"Voir le Profil","admin.pending":"En Attente","admin.active":"Actif","admin.completed":"Compl√©t√©","admin.searchCustomers":"Rechercher des clients...","admin.filterAll":"Tous","admin.filterPersonal":"Imp√¥t Personnel","admin.filterBusiness":"Petite Entreprise","admin.filterBookkeeping":"Comptabilit√©","admin.filterReports":"Rapports Financiers","admin.noCustomers":"Aucun client trouv√©","admin.backToHub":"Retour au Centre","taxFiling.overview":"Aper√ßu","taxFiling.documents":"Documents","taxFiling.messages":"Messages","taxFiling.taxYear":"Ann√©e Fiscale","taxFiling.filingType":"Type de D√©claration","taxFiling.status":"Statut","taxFiling.created":"Cr√©√©","taxFiling.lastUpdated":"Derni√®re Mise √† Jour","taxFiling.statusPending":"Paiement en Attente","taxFiling.statusDocuments":"T√©l√©chargement de Documents","taxFiling.statusReview":"En R√©vision","taxFiling.statusReady":"Pr√™t pour Paiement","taxFiling.statusCompleted":"Compl√©t√©","taxFiling.paymentTimeline":"Calendrier de Paiement","taxFiling.step1":"Paiement Initial","taxFiling.step1Desc":"Payer un d√©p√¥t de 50$ CAD pour commencer","taxFiling.step2":"T√©l√©charger les Documents","taxFiling.step2Desc":"T√©l√©chargez vos documents fiscaux","taxFiling.step3":"Nous Pr√©parons","taxFiling.step3Desc":"Nous calculons et pr√©parons votre d√©claration","taxFiling.step4":"Paiement Final","taxFiling.step4Desc":"Payer le solde restant","taxFiling.step5":"D√©pos√©","taxFiling.step5Desc":"Soumis √† l'ARC","taxFiling.payInitial":"Payer le D√©p√¥t Initial de 50$","taxFiling.uploadDocuments":"T√©l√©charger les Documents","taxFiling.viewReport":"Voir le Rapport Fiscal","taxFiling.payFinal":"Payer le Solde Final","taxFiling.downloadReceipt":"T√©l√©charger le Re√ßu","taxFiling.initialPaymentPaid":"Paiement Initial Pay√©","taxFiling.finalPaymentPaid":"Paiement Final Pay√©","taxFiling.paidOn":"Pay√© le","taxFiling.amount":"Montant","taxFiling.refundAmount":"Remboursement Estim√©","taxFiling.owingAmount":"Montant D√ª √† l'ARC","taxFiling.finalPrice":"Prix Final du Service","taxFiling.backToDashboard":"Retour au Tableau de Bord"}};function tc({children:s}){const[t,r]=c.useState("en"),n=c.useCallback(i=>sc[t][i]||i,[t]),a=c.useMemo(()=>({language:t,setLanguage:r,t:n}),[t,n]);return e.jsx(Za.Provider,{value:a,children:s})}function $e(){const s=c.useContext(Za);if(s===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return s}const we="pwlacumydrxvshklvttp",Ie="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB3bGFjdW15ZHJ4dnNoa2x2dHRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNjM3MTQsImV4cCI6MjA4MTczOTcxNH0.uj1rVapx5bBzp6YVFbcOwxCDZftpLzjwfMJ4aCy_B_A",rc=`https://${we}.supabase.co`,te=vl(rc,Ie),nc=Object.freeze(Object.defineProperty({__proto__:null,supabase:te},Symbol.toStringTag,{value:"Module"})),Sn={error:"background: #ef4444; color: white; padding: 2px 8px; border-radius: 4px; font-weight: bold"},ge={success(s,t="API",r){},error(s,t="API",r){r?console.error(`%c‚ùå ${s}`,Sn.error,r):console.error(`%c‚ùå ${s}`,Sn.error)},warning(s,t="API",r){},info(s,t="API",r){},demo(s,t="API"){},debug(s,t){},group(s,t){}},ns=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"];function De(s){if(console.log("üîç [isAdminEmail] Checking email:",s),console.log("üîç [isAdminEmail] Admin emails list:",ns),!s)return console.log("‚ùå [isAdminEmail] Email is undefined/null"),!1;const t=s.toLowerCase(),r=ns.includes(t);return console.log("üîç [isAdminEmail] Normalized email:",t),console.log("üîç [isAdminEmail] Is admin?",r),r}const ei=c.createContext(void 0);function ac({children:s}){const[t,r]=c.useState(null),[n,a]=c.useState(!0);c.useEffect(()=>{let g=!0;return(async()=>{var v,f;try{const{data:b,error:h}=await te.auth.getSession();if(h&&h.name==="AbortError")return;if(h)throw h;g&&b.session&&b.session.user&&r({id:b.session.user.id,email:b.session.user.email,name:((v=b.session.user.user_metadata)==null?void 0:v.name)||b.session.user.email})}catch(b){if((b==null?void 0:b.name)==="AbortError"||(f=b==null?void 0:b.message)!=null&&f.includes("abort"))return;ge.error("Error checking session","AUTH",b)}finally{g&&a(!1)}})(),()=>{g=!1}},[]);const i=c.useCallback(async(g,x)=>{var v;try{console.log("üîê [SignIn] Attempting login for:",g);const{data:f,error:b}=await te.auth.signInWithPassword({email:g,password:x});if(b)throw b;if(f.user){const h={id:f.user.id,email:f.user.email,name:((v=f.user.user_metadata)==null?void 0:v.name)||g};console.log("‚úÖ [SignIn] User authenticated:",h),console.log("üîç [SignIn] Checking admin status for:",h.email),console.log("üîç [SignIn] Is admin?",De(h.email)),r(h)}}catch(f){throw ge.error("Sign in error","AUTH",f),new Error(f.message||"Failed to sign in")}},[]),l=c.useCallback(async(g,x,v)=>{var f,b;try{ge.info(`Starting signup process for: ${g}`,"AUTH");const h="https://undefined.supabase.co/functions/v1/make-server-c2a25be0/auth/signup";ge.debug(`Server URL: ${h}`);const j=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify({email:g,password:x,name:v})}),y=await j.json();if(!j.ok||y.error)throw ge.error(`Signup error from server: ${y.error}`,"AUTH"),new Error(y.error||"Failed to create account");ge.success("User created successfully","AUTH");const{data:w,error:k}=await te.auth.signInWithPassword({email:g,password:x});if(k)throw ge.error("Sign in error after signup","AUTH",k),k;ge.success("User signed in successfully","AUTH"),r({id:w.user.id,email:w.user.email,name:((f=w.user.user_metadata)==null?void 0:f.name)||v});try{ge.info("Creating user permissions in KV store","AUTH"),(await fetch("https://undefined.supabase.co/functions/v1/make-server-c2a25be0/kv/set",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w.session.access_token}`},body:JSON.stringify({key:`user-permissions:${w.user.id}`,value:{userId:w.user.id,email:w.user.email,name:((b=w.user.user_metadata)==null?void 0:b.name)||v,role:"client",modules:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}})})).ok?ge.success("User permissions created in KV store","AUTH"):ge.warning("Failed to create permissions in KV store","AUTH")}catch(P){ge.warning("Error creating permissions in KV","AUTH",P)}return ge.success("Signup process completed successfully!","AUTH"),w}catch(h){throw ge.error("Sign up error","AUTH",h),h}},[]),o=c.useCallback(async()=>{try{await te.auth.signOut(),r(null)}catch(g){throw ge.error("Sign out error","AUTH",g),g}},[]),m=c.useCallback(async g=>{try{const{error:x}=await te.auth.resetPasswordForEmail(g,{redirectTo:`${window.location.origin}/reset-password`});if(x)throw x}catch(x){throw ge.error("Reset password error","AUTH",x),new Error(x.message||"Failed to send reset email")}},[]),d=c.useCallback(async g=>{try{const{error:x}=await te.auth.updateUser({password:g});if(x)throw x}catch(x){throw ge.error("Update password error","AUTH",x),new Error(x.message||"Failed to update password")}},[]),p=c.useMemo(()=>{const g=t?De(t.email):!1;return console.log("üëë [AuthContext] Admin status calculated:",{userEmail:t==null?void 0:t.email,isAdmin:g}),g},[t]),u=c.useMemo(()=>({user:t,loading:n,isAdmin:p,signIn:i,signUp:l,signOut:o,resetPassword:m,updatePassword:d}),[t,n,p,i,l,o,m,d]);return e.jsx(ei.Provider,{value:u,children:s})}function Pe(){const s=c.useContext(ei);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}class ic extends c.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,r){console.error("üî¥ ErrorBoundary caught an error:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-lg p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-red-600 text-3xl",children:"‚ö†Ô∏è"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600",children:"The application encountered an error."})]}),this.state.error&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[e.jsx("h2",{className:"font-semibold text-red-900 mb-2",children:"Error:"}),e.jsx("pre",{className:"text-sm text-red-800 overflow-auto",children:this.state.error.toString()})]}),this.state.errorInfo&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:[e.jsx("h2",{className:"font-semibold text-gray-900 mb-2",children:"Stack Trace:"}),e.jsx("pre",{className:"text-xs text-gray-700 overflow-auto max-h-64",children:this.state.errorInfo.componentStack})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})})]})}):this.props.children}}function si(){const{language:s,setLanguage:t,t:r}=$e();return e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(hn,{to:"/",className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"DP"})}),e.jsx("span",{className:"text-gray-900 font-semibold text-xl",children:"DuoPro Services"})]}),e.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[e.jsx("a",{href:"#about",className:"text-gray-700 hover:text-blue-600 transition-colors",children:r("header.about")}),e.jsx("a",{href:"#services",className:"text-gray-700 hover:text-blue-600 transition-colors",children:r("header.services")}),e.jsx("a",{href:"#pricing",className:"text-gray-700 hover:text-blue-600 transition-colors",children:r("header.pricing")}),e.jsx("a",{href:"#process",className:"text-gray-700 hover:text-blue-600 transition-colors",children:r("header.process")}),e.jsx("a",{href:"#contact",className:"text-gray-700 hover:text-blue-600 transition-colors",children:r("header.contact")})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>t(s==="en"?"fr":"en"),className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-300 hover:border-blue-600 hover:bg-blue-50 transition-colors",children:[e.jsx(Hr,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:s==="en"?"FR":"EN"})]}),e.jsx(hn,{to:"/login",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:r("nav.login")})]})]})})})}function oc(){const{t:s}=$e(),t=new Date().getFullYear();return e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-4",children:e.jsx("h2",{className:"text-xl font-bold",children:"DuoPro Services"})}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Professional Canadian tax services for individuals, newcomers, and small businesses."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#services",className:"hover:text-white transition-colors",children:"Services"})}),e.jsx("li",{children:e.jsx("a",{href:"#about",className:"hover:text-white transition-colors",children:"About Us"})}),e.jsx("li",{children:e.jsx("a",{href:"#contact",className:"hover:text-white transition-colors",children:"Contact"})}),e.jsx("li",{children:e.jsx("a",{href:"/login",className:"hover:text-white transition-colors",children:"Client Portal"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Contact Us"}),e.jsxs("ul",{className:"space-y-3 text-gray-400 text-sm",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(us,{className:"w-4 h-4"}),e.jsx("a",{href:"mailto:duopro@duoproservices.ca",className:"hover:text-white transition-colors",children:"duopro@duoproservices.ca"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(at,{className:"w-4 h-4"}),e.jsx("a",{href:"tel:+15145627838",className:"hover:text-white transition-colors",children:"+1 (514) 562-7838"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(qt,{className:"w-4 h-4"}),e.jsx("a",{href:"https://wa.me/15794211620",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"WhatsApp: +1 (579) 421-1620"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(dt,{className:"w-4 h-4 mt-0.5"}),e.jsx("span",{children:"Canada"})]})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400 text-sm",children:e.jsxs("p",{children:["¬© ",t," DuoPro Services. All rights reserved."]})})]})})}function lc(){const{language:s}=$e(),r="https://wa.me/15794211620",n={en:"Chat on WhatsApp",fr:"Discuter sur WhatsApp"};return e.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 bg-green-500 hover:bg-green-600 text-white rounded-full p-4 shadow-lg transition-all duration-300 hover:scale-110 group","aria-label":n[s],children:[e.jsx(qt,{className:"w-6 h-6"}),e.jsx("span",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-slate-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:n[s]}),e.jsx("span",{className:"absolute inset-0 rounded-full bg-green-500 animate-ping opacity-75"})]})}function kn(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function Ws(...s){return t=>{let r=!1;const n=s.map(a=>{const i=kn(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():kn(s[a],null)}}}}function ve(...s){return c.useCallback(Ws(...s),s)}var cc=Symbol.for("react.lazy"),$t=Vr[" use ".trim().toString()];function dc(s){return typeof s=="object"&&s!==null&&"then"in s}function ti(s){return s!=null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===cc&&"_payload"in s&&dc(s._payload)}function ri(s){const t=mc(s),r=c.forwardRef((n,a)=>{let{children:i,...l}=n;ti(i)&&typeof $t=="function"&&(i=$t(i._payload));const o=c.Children.toArray(i),m=o.find(xc);if(m){const d=m.props.children,p=o.map(u=>u===m?c.Children.count(d)>1?c.Children.only(null):c.isValidElement(d)?d.props.children:null:u);return e.jsx(t,{...l,ref:a,children:c.isValidElement(d)?c.cloneElement(d,void 0,p):null})}return e.jsx(t,{...l,ref:a,children:i})});return r.displayName=`${s}.Slot`,r}var ni=ri("Slot");function mc(s){const t=c.forwardRef((r,n)=>{let{children:a,...i}=r;if(ti(a)&&typeof $t=="function"&&(a=$t(a._payload)),c.isValidElement(a)){const l=hc(a),o=pc(i,a.props);return a.type!==c.Fragment&&(o.ref=n?Ws(n,l):l),c.cloneElement(a,o)}return c.Children.count(a)>1?c.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var uc=Symbol("radix.slottable");function xc(s){return c.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===uc}function pc(s,t){const r={...t};for(const n in t){const a=s[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const m=i(...o);return a(...o),m}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...s,...r}}function hc(s){var n,a;let t=(n=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=(a=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}function ai(s){var t,r,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var a=s.length;for(t=0;t<a;t++)s[t]&&(r=ai(s[t]))&&(n&&(n+=" "),n+=r)}else for(r in s)s[r]&&(n&&(n+=" "),n+=r);return n}function ii(){for(var s,t,r=0,n="",a=arguments.length;r<a;r++)(s=arguments[r])&&(t=ai(s))&&(n&&(n+=" "),n+=t);return n}const Tn=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,An=ii,oi=(s,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return An(s,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,l=Object.keys(a).map(d=>{const p=r==null?void 0:r[d],u=i==null?void 0:i[d];if(p===null)return null;const g=Tn(p)||Tn(u);return a[d][g]}),o=r&&Object.entries(r).reduce((d,p)=>{let[u,g]=p;return g===void 0||(d[u]=g),d},{}),m=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,p)=>{let{class:u,className:g,...x}=p;return Object.entries(x).every(v=>{let[f,b]=v;return Array.isArray(b)?b.includes({...i,...o}[f]):{...i,...o}[f]===b})?[...d,u,g]:d},[]);return An(s,l,m,r==null?void 0:r.class,r==null?void 0:r.className)},gc=(s,t)=>{const r=new Array(s.length+t.length);for(let n=0;n<s.length;n++)r[n]=s[n];for(let n=0;n<t.length;n++)r[s.length+n]=t[n];return r},fc=(s,t)=>({classGroupId:s,validator:t}),li=(s=new Map,t=null,r)=>({nextPart:s,validators:t,classGroupId:r}),Lt="-",Pn=[],bc="arbitrary..",vc=s=>{const t=jc(s),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=s;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return yc(l);const o=l.split(Lt),m=o[0]===""&&o.length>1?1:0;return ci(o,m,t)},getConflictingClassGroupIds:(l,o)=>{if(o){const m=n[l],d=r[l];return m?d?gc(d,m):m:d||Pn}return r[l]||Pn}}},ci=(s,t,r)=>{if(s.length-t===0)return r.classGroupId;const a=s[t],i=r.nextPart.get(a);if(i){const d=ci(s,t+1,i);if(d)return d}const l=r.validators;if(l===null)return;const o=t===0?s.join(Lt):s.slice(t).join(Lt),m=l.length;for(let d=0;d<m;d++){const p=l[d];if(p.validator(o))return p.classGroupId}},yc=s=>s.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=s.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?bc+n:void 0})(),jc=s=>{const{theme:t,classGroups:r}=s;return Nc(r,t)},Nc=(s,t)=>{const r=li();for(const n in s){const a=s[n];Jr(a,r,n,t)}return r},Jr=(s,t,r,n)=>{const a=s.length;for(let i=0;i<a;i++){const l=s[i];wc(l,t,r,n)}},wc=(s,t,r,n)=>{if(typeof s=="string"){Cc(s,t,r);return}if(typeof s=="function"){Sc(s,t,r,n);return}kc(s,t,r,n)},Cc=(s,t,r)=>{const n=s===""?t:di(t,s);n.classGroupId=r},Sc=(s,t,r,n)=>{if(Tc(s)){Jr(s(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(fc(r,s))},kc=(s,t,r,n)=>{const a=Object.entries(s),i=a.length;for(let l=0;l<i;l++){const[o,m]=a[l];Jr(m,di(t,o),r,n)}},di=(s,t)=>{let r=s;const n=t.split(Lt),a=n.length;for(let i=0;i<a;i++){const l=n[i];let o=r.nextPart.get(l);o||(o=li(),r.nextPart.set(l,o)),r=o}return r},Tc=s=>"isThemeGetter"in s&&s.isThemeGetter===!0,Ac=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,l)=>{r[i]=l,t++,t>s&&(t=0,n=r,r=Object.create(null))};return{get(i){let l=r[i];if(l!==void 0)return l;if((l=n[i])!==void 0)return a(i,l),l},set(i,l){i in r?r[i]=l:a(i,l)}}},Er="!",En=":",Pc=[],Rn=(s,t,r,n,a)=>({modifiers:s,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),Ec=s=>{const{prefix:t,experimentalParseClassName:r}=s;let n=a=>{const i=[];let l=0,o=0,m=0,d;const p=a.length;for(let f=0;f<p;f++){const b=a[f];if(l===0&&o===0){if(b===En){i.push(a.slice(m,f)),m=f+1;continue}if(b==="/"){d=f;continue}}b==="["?l++:b==="]"?l--:b==="("?o++:b===")"&&o--}const u=i.length===0?a:a.slice(m);let g=u,x=!1;u.endsWith(Er)?(g=u.slice(0,-1),x=!0):u.startsWith(Er)&&(g=u.slice(1),x=!0);const v=d&&d>m?d-m:void 0;return Rn(i,x,g,v)};if(t){const a=t+En,i=n;n=l=>l.startsWith(a)?i(l.slice(a.length)):Rn(Pc,!1,l,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},Rc=s=>{const t=new Map;return s.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const l=r[i],o=l[0]==="[",m=t.has(l);o||m?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(l)):a.push(l)}return a.length>0&&(a.sort(),n.push(...a)),n}},Dc=s=>({cache:Ac(s.cacheSize),parseClassName:Ec(s),sortModifiers:Rc(s),...vc(s)}),Fc=/\s+/,Oc=(s,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,l=[],o=s.trim().split(Fc);let m="";for(let d=o.length-1;d>=0;d-=1){const p=o[d],{isExternal:u,modifiers:g,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:f}=r(p);if(u){m=p+(m.length>0?" "+m:m);continue}let b=!!f,h=n(b?v.substring(0,f):v);if(!h){if(!b){m=p+(m.length>0?" "+m:m);continue}if(h=n(v),!h){m=p+(m.length>0?" "+m:m);continue}b=!1}const j=g.length===0?"":g.length===1?g[0]:i(g).join(":"),y=x?j+Er:j,w=y+h;if(l.indexOf(w)>-1)continue;l.push(w);const k=a(h,b);for(let P=0;P<k.length;++P){const C=k[P];l.push(y+C)}m=p+(m.length>0?" "+m:m)}return m},Ic=(...s)=>{let t=0,r,n,a="";for(;t<s.length;)(r=s[t++])&&(n=mi(r))&&(a&&(a+=" "),a+=n);return a},mi=s=>{if(typeof s=="string")return s;let t,r="";for(let n=0;n<s.length;n++)s[n]&&(t=mi(s[n]))&&(r&&(r+=" "),r+=t);return r},Mc=(s,...t)=>{let r,n,a,i;const l=m=>{const d=t.reduce((p,u)=>u(p),s());return r=Dc(d),n=r.cache.get,a=r.cache.set,i=o,o(m)},o=m=>{const d=n(m);if(d)return d;const p=Oc(m,r);return a(m,p),p};return i=l,(...m)=>i(Ic(...m))},$c=[],Ne=s=>{const t=r=>r[s]||$c;return t.isThemeGetter=!0,t},ui=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,xi=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Lc=/^\d+\/\d+$/,_c=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Bc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Uc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Vc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ps=s=>Lc.test(s),re=s=>!!s&&!Number.isNaN(Number(s)),ls=s=>!!s&&Number.isInteger(Number(s)),cr=s=>s.endsWith("%")&&re(s.slice(0,-1)),ss=s=>_c.test(s),Hc=()=>!0,qc=s=>Bc.test(s)&&!Uc.test(s),pi=()=>!1,Wc=s=>zc.test(s),Yc=s=>Vc.test(s),Gc=s=>!G(s)&&!Q(s),Qc=s=>Ys(s,fi,pi),G=s=>ui.test(s),fs=s=>Ys(s,bi,qc),dr=s=>Ys(s,ed,re),Dn=s=>Ys(s,hi,pi),Kc=s=>Ys(s,gi,Yc),ht=s=>Ys(s,vi,Wc),Q=s=>xi.test(s),rt=s=>Gs(s,bi),Jc=s=>Gs(s,sd),Fn=s=>Gs(s,hi),Xc=s=>Gs(s,fi),Zc=s=>Gs(s,gi),gt=s=>Gs(s,vi,!0),Ys=(s,t,r)=>{const n=ui.exec(s);return n?n[1]?t(n[1]):r(n[2]):!1},Gs=(s,t,r=!1)=>{const n=xi.exec(s);return n?n[1]?t(n[1]):r:!1},hi=s=>s==="position"||s==="percentage",gi=s=>s==="image"||s==="url",fi=s=>s==="length"||s==="size"||s==="bg-size",bi=s=>s==="length",ed=s=>s==="number",sd=s=>s==="family-name",vi=s=>s==="shadow",td=()=>{const s=Ne("color"),t=Ne("font"),r=Ne("text"),n=Ne("font-weight"),a=Ne("tracking"),i=Ne("leading"),l=Ne("breakpoint"),o=Ne("container"),m=Ne("spacing"),d=Ne("radius"),p=Ne("shadow"),u=Ne("inset-shadow"),g=Ne("text-shadow"),x=Ne("drop-shadow"),v=Ne("blur"),f=Ne("perspective"),b=Ne("aspect"),h=Ne("ease"),j=Ne("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...w(),Q,G],P=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],S=()=>[Q,G,m],E=()=>[Ps,"full","auto",...S()],O=()=>[ls,"none","subgrid",Q,G],M=()=>["auto",{span:["full",ls,Q,G]},ls,Q,G],B=()=>[ls,"auto",Q,G],F=()=>["auto","min","max","fr",Q,G],T=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...S()],_=()=>[Ps,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],N=()=>[s,Q,G],A=()=>[...w(),Fn,Dn,{position:[Q,G]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],V=()=>["auto","cover","contain",Xc,Qc,{size:[Q,G]}],X=()=>[cr,rt,fs],J=()=>["","none","full",d,Q,G],ne=()=>["",re,rt,fs],pe=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>[re,cr,Fn,Dn],K=()=>["","none",v,Q,G],D=()=>["none",re,Q,G],I=()=>["none",re,Q,G],q=()=>[re,Q,G],W=()=>[Ps,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ss],breakpoint:[ss],color:[Hc],container:[ss],"drop-shadow":[ss],ease:["in","out","in-out"],font:[Gc],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ss],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ss],shadow:[ss],spacing:["px",re],text:[ss],"text-shadow":[ss],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ps,G,Q,b]}],container:["container"],columns:[{columns:[re,G,Q,o]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[ls,"auto",Q,G]}],basis:[{basis:[Ps,"full","auto",o,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[re,Ps,"auto","initial","none",G]}],grow:[{grow:["",re,Q,G]}],shrink:[{shrink:["",re,Q,G]}],order:[{order:[ls,"first","last","none",Q,G]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...T(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...T()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":T()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:_()}],w:[{w:[o,"screen",..._()]}],"min-w":[{"min-w":[o,"screen","none",..._()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[l]},..._()]}],h:[{h:["screen","lh",..._()]}],"min-h":[{"min-h":["screen","lh","none",..._()]}],"max-h":[{"max-h":["screen","lh",..._()]}],"font-size":[{text:["base",r,rt,fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Q,dr]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cr,G]}],"font-family":[{font:[Jc,G,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Q,G]}],"line-clamp":[{"line-clamp":[re,"none",Q,dr]}],leading:[{leading:[i,...S()]}],"list-image":[{"list-image":["none",Q,G]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Q,G]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[re,"from-font","auto",Q,fs]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[re,"auto",Q,G]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Q,G]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Q,G]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:A()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:V()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ls,Q,G],radial:["",Q,G],conic:[ls,Q,G]},Zc,Kc]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[re,Q,G]}],"outline-w":[{outline:["",re,rt,fs]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",p,gt,ht]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",u,gt,ht]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[re,fs]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",g,gt,ht]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[re,Q,G]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[re]}],"mask-image-linear-from-pos":[{"mask-linear-from":z()}],"mask-image-linear-to-pos":[{"mask-linear-to":z()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":z()}],"mask-image-t-to-pos":[{"mask-t-to":z()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":z()}],"mask-image-r-to-pos":[{"mask-r-to":z()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":z()}],"mask-image-b-to-pos":[{"mask-b-to":z()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":z()}],"mask-image-l-to-pos":[{"mask-l-to":z()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":z()}],"mask-image-x-to-pos":[{"mask-x-to":z()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":z()}],"mask-image-y-to-pos":[{"mask-y-to":z()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[Q,G]}],"mask-image-radial-from-pos":[{"mask-radial-from":z()}],"mask-image-radial-to-pos":[{"mask-radial-to":z()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[re]}],"mask-image-conic-from-pos":[{"mask-conic-from":z()}],"mask-image-conic-to-pos":[{"mask-conic-to":z()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:A()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:V()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Q,G]}],filter:[{filter:["","none",Q,G]}],blur:[{blur:K()}],brightness:[{brightness:[re,Q,G]}],contrast:[{contrast:[re,Q,G]}],"drop-shadow":[{"drop-shadow":["","none",x,gt,ht]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",re,Q,G]}],"hue-rotate":[{"hue-rotate":[re,Q,G]}],invert:[{invert:["",re,Q,G]}],saturate:[{saturate:[re,Q,G]}],sepia:[{sepia:["",re,Q,G]}],"backdrop-filter":[{"backdrop-filter":["","none",Q,G]}],"backdrop-blur":[{"backdrop-blur":K()}],"backdrop-brightness":[{"backdrop-brightness":[re,Q,G]}],"backdrop-contrast":[{"backdrop-contrast":[re,Q,G]}],"backdrop-grayscale":[{"backdrop-grayscale":["",re,Q,G]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[re,Q,G]}],"backdrop-invert":[{"backdrop-invert":["",re,Q,G]}],"backdrop-opacity":[{"backdrop-opacity":[re,Q,G]}],"backdrop-saturate":[{"backdrop-saturate":[re,Q,G]}],"backdrop-sepia":[{"backdrop-sepia":["",re,Q,G]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Q,G]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[re,"initial",Q,G]}],ease:[{ease:["linear","initial",h,Q,G]}],delay:[{delay:[re,Q,G]}],animate:[{animate:["none",j,Q,G]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,Q,G]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:D()}],"rotate-x":[{"rotate-x":D()}],"rotate-y":[{"rotate-y":D()}],"rotate-z":[{"rotate-z":D()}],scale:[{scale:I()}],"scale-x":[{"scale-x":I()}],"scale-y":[{"scale-y":I()}],"scale-z":[{"scale-z":I()}],"scale-3d":["scale-3d"],skew:[{skew:q()}],"skew-x":[{"skew-x":q()}],"skew-y":[{"skew-y":q()}],transform:[{transform:[Q,G,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:W()}],"translate-x":[{"translate-x":W()}],"translate-y":[{"translate-y":W()}],"translate-z":[{"translate-z":W()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Q,G]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Q,G]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[re,rt,fs,dr]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},rd=Mc(td);function Se(...s){return rd(ii(s))}const nd=oi("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Y({className:s,variant:t,size:r,asChild:n=!1,...a}){const i=n?ni:"button";return e.jsx(i,{"data-slot":"button",className:Se(nd({variant:t,size:r,className:s})),...a})}function le({className:s,type:t,...r}){return e.jsx("input",{type:t,"data-slot":"input",className:Se("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...r})}function Qs({className:s,...t}){return e.jsx("textarea",{"data-slot":"textarea",className:Se("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...t})}var ad=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],id=ad.reduce((s,t)=>{const r=ri(`Primitive.${t}`),n=c.forwardRef((a,i)=>{const{asChild:l,...o}=a,m=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(m,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...s,[t]:n}},{}),od="Label",yi=c.forwardRef((s,t)=>e.jsx(id.label,{...s,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=s.onMouseDown)==null||a.call(s,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));yi.displayName=od;var ld=yi;function ee({className:s,...t}){return e.jsx(ld,{"data-slot":"label",className:Se("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}const Z=`https://${we}.supabase.co/functions/v1/make-server-c2a25be0`,Ce={signup:`${Z}/auth/signup`,session:`${Z}/auth/session`,personalInfo:`${Z}/personal-info`,documentsUpload:`${Z}/documents/upload`,documents:`${Z}/documents`,documentDelete:s=>`${Z}/documents/${s}`,messages:s=>`${Z}/messages/${s}`,messagesSend:`${Z}/messages/send`,messagesUnreadCount:s=>`${Z}/messages/${s}/unread-count`,messagesMarkRead:s=>`${Z}/messages/${s}/read`,adminClients:`${Z}/admin/clients`,adminClient:s=>`${Z}/admin/clients/${s}`,adminClientFiles:(s,t)=>`${Z}/admin/clients/${s}/files/${t}`,adminFilingStatus:(s,t)=>`${Z}/admin/clients/${s}/filings/${t}/status`,adminFinancials:`${Z}/admin/financials`,adminNotifications:`${Z}/admin/notifications/send`,adminCreateBuckets:`${Z}/admin/create-buckets`,adminSetupPolicies:`${Z}/admin/setup-storage-policies`,adminTaxDocumentNotify:`${Z}/admin/tax-document/notify`,adminCraAssessmentSend:`${Z}/admin/cra-assessment/send`,adminInvoices:`${Z}/admin/invoices`,taxFilingCreate:`${Z}/tax-filing/create`,taxFilingSubmitReport:`${Z}/tax-filing/submit-report`,taxFilingApproveReport:`${Z}/tax-filing/approve-report`,taxFilingRejectReport:`${Z}/tax-filing/reject-report`,taxDocumentsParse:`${Z}/tax-documents/parse`,taxDocumentsGet:s=>`${Z}/tax-documents/${s}`,taxPreviewSave:`${Z}/tax-preview/save`,taxPreviewGet:(s,t)=>`${Z}/tax-preview/${s}/${t}`,createInitialPaymentInvoice:`${Z}/payment/initial-invoice`,invoices:`${Z}/payment/invoices`,invoice:s=>`${Z}/payment/invoice/${s}`,invoicePdf:s=>`${Z}/payment/invoice/${s}/pdf`,invoiceMarkPaid:s=>`${Z}/payment/invoice/${s}/paid`,paymentVerify:`${Z}/payment/verify`,stripeWebhook:`${Z}/stripe/webhook`,bookkeepingSummary:`${Z}/bookkeeping/summary`,bookkeepingExpenses:`${Z}/bookkeeping/expenses`,bookkeepingExpense:s=>`${Z}/bookkeeping/expenses/${s}`,bookkeepingInvoices:`${Z}/bookkeeping/invoices`,bookkeepingInvoiceDelete:s=>`${Z}/bookkeeping/invoices/${s}`,adminHubTasks:`${Z}/admin-hub/tasks`,adminHubTaskDelete:s=>`${Z}/admin-hub/tasks/${s}`,adminHubSocialPosts:`${Z}/admin-hub/social-posts`,adminHubSocialPostDelete:s=>`${Z}/admin-hub/social-posts/${s}`,teamActivities:`${Z}/admin-hub/activities`,teamActivityDelete:s=>`${Z}/admin-hub/activities/${s}`,contactSend:`${Z}/contact/send`,health:`${Z}/health`},cd=c.memo(function(){const{t,language:r}=$e(),[n,a]=c.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,l]=c.useState(!1),o=!1,m=async u=>{u.preventDefault(),l(!0);try{console.log("üìß [Contact Form] Submitting form data:",{name:n.name,email:n.email,subject:n.subject,hasMessage:!!n.message,method:o?"Backend (Resend)":"Formspree"});let g;if(o||(console.log("üìß [Contact Form] Using Formspree..."),g=await fetch("https://formspree.io/f/xbddrodk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})),console.log("üìß [Contact Form] Response status:",g.status),console.log("üìß [Contact Form] Response ok:",g.ok),g.ok){const x=await g.json();console.log("‚úÖ [Contact Form] Success! Response:",x);const v={en:"Thank you for your inquiry! We'll get back to you soon.",fr:"Merci pour votre demande! Nous vous r√©pondrons bient√¥t.",pt:"Obrigado pela sua consulta! Entraremos em contato em breve."};U.success(v[r]),a({name:"",email:"",phone:"",subject:"",message:""})}else{const x=await g.text();throw console.error("‚ùå [Contact Form] Failed:",g.status,x),new Error(`Failed to send message: ${g.status}`)}}catch(g){console.error("‚ùå [Contact Form] Error:",g);const x={en:"Failed to send message. Please try again or email us directly at duopro@duoproservices.ca",fr:"√âchec de l'envoi du message. Veuillez r√©essayer ou nous envoyer un e-mail directement √† duopro@duoproservices.ca",pt:"Falha ao enviar mensagem. Tente novamente ou envie-nos um e-mail diretamente para duopro@duoproservices.ca"};U.error(x[r])}finally{l(!1)}},d=u=>{a({...n,[u.target.name]:u.target.value})},p=[{icon:us,labelKey:"contact.emailLabel",value:"duopro@duoproservices.ca",link:"mailto:duopro@duoproservices.ca"},{icon:at,labelKey:"contact.phoneLabel",value:"+514 562 7838",link:"tel:+15145627838"},{icon:qt,labelKey:"contact.whatsappLabel",value:"+1 579 421 1620",link:"https://wa.me/15794211620"},{icon:dt,labelKey:"contact.locationLabel",value:"Serving clients across Canada",link:null},{icon:mt,labelKey:"contact.hoursLabel",value:"Mon-Fri: 9am-6pm EST",link:null}];return e.jsx("section",{id:"contact",className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[e.jsx("div",{className:"text-blue-600 uppercase tracking-wide mb-3",children:t("contact.section")}),e.jsx("h2",{className:"text-4xl text-slate-900 mb-4",children:t("contact.title")}),e.jsx("p",{className:"text-lg text-slate-600",children:t("contact.description")})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl text-slate-900 mb-6",children:t("contact.infoTitle")}),e.jsx("div",{className:"space-y-6",children:p.map(u=>{const g=u.labelKey==="contact.whatsappLabel",x=g?"bg-green-100":"bg-blue-100",v=g?"text-green-600":"text-blue-600",f=g?"hover:text-green-600":"hover:text-blue-600";return e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 ${x} rounded-lg flex items-center justify-center flex-shrink-0`,children:e.jsx(u.icon,{className:`w-6 h-6 ${v}`})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-500 mb-1",children:t(u.labelKey)}),u.link?e.jsx("a",{href:u.link,target:g?"_blank":void 0,rel:g?"noopener noreferrer":void 0,className:`text-slate-900 ${f} transition-colors`,children:u.value}):e.jsx("div",{className:"text-slate-900",children:u.valueKey?t(u.valueKey):u.value})]})]},u.labelKey)})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-slate-50 border border-blue-100 rounded-lg p-6",children:[e.jsx("h4",{className:"text-slate-900 mb-2",children:t("contact.taxSeasonTitle")}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:t("contact.taxSeasonDesc")}),e.jsx("p",{className:"text-sm text-slate-600",children:t("contact.virtualDesc")})]})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl text-slate-900 mb-6",children:t("contact.formTitle")}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{htmlFor:"name",children:[t("contact.nameLabel")," *"]}),e.jsx(le,{id:"name",name:"name",type:"text",required:!0,value:n.name,onChange:d,placeholder:t("contact.namePlaceholder"),className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{htmlFor:"email",children:[t("contact.emailLabel")," *"]}),e.jsx(le,{id:"email",name:"email",type:"email",required:!0,value:n.email,onChange:d,placeholder:t("contact.emailPlaceholder"),className:"bg-white"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"phone",children:t("contact.phoneLabel")}),e.jsx(le,{id:"phone",name:"phone",type:"tel",value:n.phone,onChange:d,placeholder:t("contact.phonePlaceholder"),className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{htmlFor:"subject",children:[t("contact.subjectLabel")," *"]}),e.jsx(le,{id:"subject",name:"subject",type:"text",required:!0,value:n.subject,onChange:d,placeholder:t("contact.subjectPlaceholder"),className:"bg-white"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{htmlFor:"message",children:[t("contact.messageLabel")," *"]}),e.jsx(Qs,{id:"message",name:"message",required:!0,value:n.message,onChange:d,placeholder:t("contact.messagePlaceholder"),rows:6,className:"bg-white resize-none"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm text-slate-600",children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{className:"text-slate-900",children:t("contact.privacyTitle")})," ",t("contact.privacyText")]}),e.jsx("p",{children:t("contact.consentText")})]}),e.jsxs(Y,{type:"submit",size:"lg",className:"w-full md:w-auto bg-blue-600 hover:bg-blue-700",disabled:i,children:[e.jsx(_s,{className:"w-4 h-4 mr-2"}),i?"Sending...":t("contact.submitButton")]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 rounded-2xl p-8 mt-8",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"w-14 h-14 bg-green-100 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(Ae,{className:"w-7 h-7 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl text-slate-900 mb-2",children:t("contact.scheduleTitle")}),e.jsx("p",{className:"text-slate-600",children:t("contact.scheduleDesc")})]})]}),e.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm",children:e.jsx("iframe",{src:"https://calendly.com/duoproservices-info",width:"100%",height:"700",frameBorder:"0",title:"Schedule Consultation",className:"rounded-xl"})})]})]})]})]})})}),dd=c.memo(function(){const{t,language:r}=$e(),a={en:{personal:{simple:{min:80,max:120,desc:"Simple T1 (T4 only)"},investments:{min:150,max:200,desc:"With investments / capital gains"},rental:{min:180,max:250,desc:"With rental income"},complex:{min:200,max:null,desc:"Multiple slips / complex deductions"}},newcomer:{firstTime:{min:150,max:220,desc:"First-time filer + tax residency"},foreign:{min:220,max:300,desc:"Foreign income + treaty"},complete:{min:250,max:350,desc:"Complete package (GST/HST + CCB + foreign income)"}},business:{simple:{min:250,max:350,desc:"Simple T2125 (few expenses)"},withDeductions:{min:400,max:600,desc:"With home office + expense optimization + GST/HST"},withBookkeeping:{min:600,max:700,desc:"With basic bookkeeping + quarterly planning"}},gst:{simple:{min:80,max:150,desc:"Simple filing"},reconciliation:{min:150,max:250,desc:"With reconciliation and adjustments"}},compliance:{review:{min:120,max:250,desc:"Prior year review"},noa:{min:100,max:180,desc:"Notice of Assessment review"},adjustment:{min:80,max:150,desc:"T1-ADJ (amendment) per year"},missing:{min:200,max:400,desc:"Missing slips / compliance review"}},planning:{hourly:{min:120,max:200,desc:"Hourly consultation"},annual:{min:250,max:500,desc:"Annual personal planning"},retirement:{min:400,max:800,desc:"Retirement / investment planning"}},representation:{simple:{min:150,max:300,desc:"Simple CRA response"},reassessment:{min:300,max:600,desc:"Reassessment request"},payment:{min:200,max:400,desc:"Payment arrangement"},penalty:{min:400,max:800,desc:"Penalty & interest relief"},complex:{min:1e3,max:1500,desc:"Complex cases / audit"}},packages:{personal:{price:{min:80,max:200},items:["T1 filing","NOA review"]},newcomer:{price:{min:150,max:350},items:["First T1","Foreign income","Benefits application"]},selfEmployed:{price:{min:250,max:700},items:["T1 filing","T2125 business","GST/HST returns"]}}},fr:{personal:{simple:{min:80,max:120,desc:"T1 simple (T4 seulement)"},investments:{min:150,max:200,desc:"Avec investissements / gains en capital"},rental:{min:180,max:250,desc:"Avec revenus de location"},complex:{min:200,max:null,desc:"Multiples feuillets / d√©ductions complexes"}},newcomer:{firstTime:{min:150,max:220,desc:"Premier d√©clarant + r√©sidence fiscale"},foreign:{min:220,max:300,desc:"Revenus √©trangers + convention"},complete:{min:250,max:350,desc:"Forfait complet (TPS/TVH + ACE + revenus √©trangers)"}},business:{simple:{min:250,max:350,desc:"T2125 simple (peu de d√©penses)"},withDeductions:{min:400,max:600,desc:"Avec bureau √† domicile + optimisation + TPS/TVH"},withBookkeeping:{min:600,max:700,desc:"Avec comptabilit√© de base + planification trimestrielle"}},gst:{simple:{min:80,max:150,desc:"D√©claration simple"},reconciliation:{min:150,max:250,desc:"Avec r√©conciliation et ajustements"}},compliance:{review:{min:120,max:250,desc:"R√©vision ann√©es ant√©rieures"},noa:{min:100,max:180,desc:"R√©vision avis de cotisation"},adjustment:{min:80,max:150,desc:"T1-ADJ (modification) par ann√©e"},missing:{min:200,max:400,desc:"Feuillets manquants / r√©vision conformit√©"}},planning:{hourly:{min:120,max:200,desc:"Consultation horaire"},annual:{min:250,max:500,desc:"Planification annuelle personnelle"},retirement:{min:400,max:800,desc:"Planification retraite / investissements"}},representation:{simple:{min:150,max:300,desc:"R√©ponse simple √† l'ARC"},reassessment:{min:300,max:600,desc:"Demande de nouvelle cotisation"},payment:{min:200,max:400,desc:"Arrangement de paiement"},penalty:{min:400,max:800,desc:"All√®gement p√©nalit√©s et int√©r√™ts"},complex:{min:1e3,max:1500,desc:"Cas complexes / v√©rification"}},packages:{personal:{price:{min:80,max:200},items:["D√©claration T1","R√©vision avis"]},newcomer:{price:{min:150,max:350},items:["Premier T1","Revenus √©trangers","Demande prestations"]},selfEmployed:{price:{min:250,max:700},items:["D√©claration T1","Entreprise T2125","D√©clarations TPS/TVH"]}}}}[r],i=(m,d)=>d===null?`CAD $${m}+`:`CAD $${m} - $${d}`,o={en:{section:"Pricing",title:"Transparent Pricing for Canadian Tax Services",description:"Clear, upfront pricing with no hidden fees. Pricing based on complexity and your specific needs.",personal:"T1 ‚Äì Personal Tax Returns",personalDesc:"Individual income tax filing",newcomer:"Newcomer Tax Services",newcomerDesc:"Specialized support for new Canadian residents",business:"Small Business / Self-Employed",businessDesc:"T2125 and business tax services",gst:"GST / HST Returns",gstDesc:"Sales tax filing",compliance:"Tax Compliance & Review",complianceDesc:"Reviews and amendments",planning:"Tax Planning & Advice",planningDesc:"Strategic tax consultation",representation:"CRA Representation",representationDesc:"Professional CRA support",packages:"Popular Service Packages",packagesDesc:"Bundled services at great value",personalPackage:"Personal Tax Package",newcomerPackage:"Newcomer Package",businessPackage:"Self-Employed Package",note:"Important Note",noteText:"Most professionals use a base price + additional fees based on complexity. Final pricing determined after initial consultation.",cta:"Get a Free Quote"},fr:{section:"Tarifs",title:"Tarification Transparente pour Services Fiscaux Canadiens",description:"Tarification claire et transparente sans frais cach√©s. Prix bas√© sur la complexit√© et vos besoins sp√©cifiques.",personal:"T1 ‚Äì D√©clarations de Revenus Personnelles",personalDesc:"D√©claration d'imp√¥t individuelle",newcomer:"Services Fiscaux Nouveaux Arrivants",newcomerDesc:"Soutien sp√©cialis√© pour nouveaux r√©sidents",business:"Petite Entreprise / Travailleur Autonome",businessDesc:"Services fiscaux T2125 et entreprise",gst:"D√©clarations TPS / TVH",gstDesc:"D√©claration de taxes de vente",compliance:"Conformit√© et R√©vision Fiscales",complianceDesc:"R√©visions et modifications",planning:"Planification et Conseils Fiscaux",planningDesc:"Consultation fiscale strat√©gique",representation:"Repr√©sentation aupr√®s de l'ARC",representationDesc:"Soutien professionnel avec l'ARC",packages:"Forfaits de Services Populaires",packagesDesc:"Services group√©s √† excellent rapport qualit√©-prix",personalPackage:"Forfait Imp√¥t Personnel",newcomerPackage:"Forfait Nouveaux Arrivants",businessPackage:"Forfait Travailleur Autonome",note:"Note Importante",noteText:"La plupart des professionnels utilisent un prix de base + frais suppl√©mentaires selon la complexit√©. Tarification finale d√©termin√©e apr√®s consultation initiale.",cta:"Obtenir un Devis Gratuit"}}[r];return e.jsx("section",{id:"pricing",className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[e.jsx("div",{className:"text-blue-600 uppercase tracking-wide mb-3",children:o.section}),e.jsx("h2",{className:"text-4xl text-slate-900 mb-4",children:o.title}),e.jsx("p",{className:"text-lg text-slate-600",children:o.description})]}),e.jsxs("div",{className:"mb-20",children:[e.jsx("h3",{className:"text-2xl text-slate-900 mb-2 text-center",children:o.packages}),e.jsx("p",{className:"text-slate-600 mb-8 text-center",children:o.packagesDesc}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white border-2 border-blue-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h4",{className:"text-xl text-slate-900 mb-2",children:o.personalPackage}),e.jsx("div",{className:"text-3xl text-blue-600 mb-1",children:i(a.packages.personal.price.min,a.packages.personal.price.max)})]}),e.jsx("ul",{className:"space-y-3",children:a.packages.personal.items.map((m,d)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Fs,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-slate-700",children:m})]},d))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-white border-2 border-green-300 rounded-2xl p-6 transform scale-105 shadow-lg",children:[e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:e.jsx("span",{className:"bg-green-600 text-white px-4 py-1 rounded-full text-sm",children:r==="en"?"Most Popular":"Le Plus Populaire"})}),e.jsxs("div",{className:"text-center mb-6 mt-4",children:[e.jsx("h4",{className:"text-xl text-slate-900 mb-2",children:o.newcomerPackage}),e.jsx("div",{className:"text-3xl text-green-600 mb-1",children:i(a.packages.newcomer.price.min,a.packages.newcomer.price.max)})]}),e.jsx("ul",{className:"space-y-3",children:a.packages.newcomer.items.map((m,d)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Fs,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-slate-700",children:m})]},d))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-white border-2 border-purple-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h4",{className:"text-xl text-slate-900 mb-2",children:o.businessPackage}),e.jsx("div",{className:"text-3xl text-purple-600 mb-1",children:i(a.packages.selfEmployed.price.min,a.packages.selfEmployed.price.max)})]}),e.jsx("ul",{className:"space-y-3",children:a.packages.selfEmployed.items.map((m,d)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Fs,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-slate-700",children:m})]},d))})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[e.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:o.personal}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:o.personalDesc}),e.jsx("div",{className:"space-y-3",children:Object.values(a.personal).map((m,d)=>e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-sm text-slate-700",children:m.desc}),e.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(m.min,m.max)})]},d))})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[e.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:o.newcomer}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:o.newcomerDesc}),e.jsx("div",{className:"space-y-3",children:Object.values(a.newcomer).map((m,d)=>e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-sm text-slate-700",children:m.desc}),e.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(m.min,m.max)})]},d))})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[e.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:o.business}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:o.businessDesc}),e.jsx("div",{className:"space-y-3",children:Object.values(a.business).map((m,d)=>e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-sm text-slate-700",children:m.desc}),e.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(m.min,m.max)})]},d))})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[e.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:o.gst}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:o.gstDesc}),e.jsx("div",{className:"space-y-3",children:Object.values(a.gst).map((m,d)=>e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-sm text-slate-700",children:m.desc}),e.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(m.min,m.max)})]},d))})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[e.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:o.compliance}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:o.complianceDesc}),e.jsx("div",{className:"space-y-3",children:Object.values(a.compliance).map((m,d)=>e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-sm text-slate-700",children:m.desc}),e.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(m.min,m.max)})]},d))})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[e.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:o.planning}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:o.planningDesc}),e.jsx("div",{className:"space-y-3",children:Object.values(a.planning).map((m,d)=>e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-sm text-slate-700",children:m.desc}),e.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(m.min,m.max)})]},d))})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 border border-slate-200 rounded-xl p-6 mb-12",children:[e.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:o.representation}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:o.representationDesc}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.values(a.representation).map((m,d)=>e.jsxs("div",{className:"flex justify-between items-start bg-white rounded-lg p-3",children:[e.jsx("span",{className:"text-sm text-slate-700",children:m.desc}),e.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(m.min,m.max)})]},d))})]}),e.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 rounded-r-lg p-6 mb-8",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(rl,{className:"w-6 h-6 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-900 mb-2",children:o.note}),e.jsx("p",{className:"text-slate-700 text-sm",children:o.noteText})]})]})}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:"#contact",className:"inline-flex items-center px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:o.cta})})]})})}),md=c.memo(function(){const{t}=$e(),[r,n]=c.useState("personal"),l=r==="personal"?[{number:"01",icon:Oe,titleKey:"process.step1Title",descKey:"process.step1Desc",timeKey:"process.step1Time"},{number:"02",icon:xe,titleKey:"process.step2Title",descKey:"process.step2Desc",timeKey:"process.step2Time"},{number:"03",icon:H,titleKey:"process.step3Title",descKey:"process.step3Desc",timeKey:"process.step3Time"},{number:"04",icon:_s,titleKey:"process.step4Title",descKey:"process.step4Desc",timeKey:"process.step4Time"},{number:"05",icon:ys,titleKey:"process.step5Title",descKey:"process.step5Desc",timeKey:"process.step5Time"}]:[{number:"01",icon:Oe,titleKey:"process.business1Title",descKey:"process.business1Desc",timeKey:"process.business1Time"},{number:"02",icon:xe,titleKey:"process.business2Title",descKey:"process.business2Desc",timeKey:"process.business2Time"},{number:"03",icon:H,titleKey:"process.business3Title",descKey:"process.business3Desc",timeKey:"process.business3Time"},{number:"04",icon:_s,titleKey:"process.business4Title",descKey:"process.business4Desc",timeKey:"process.business4Time"},{number:"05",icon:ys,titleKey:"process.business5Title",descKey:"process.business5Desc",timeKey:"process.business5Time"}];return e.jsx("section",{id:"process",className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[e.jsx("div",{className:"text-blue-600 uppercase tracking-wide mb-3",children:t("process.section")}),e.jsx("h2",{className:"text-4xl text-slate-900 mb-4",children:t("process.title")}),e.jsx("p",{className:"text-lg text-slate-600",children:t("process.description")}),e.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[e.jsx("button",{onClick:()=>n("personal"),className:`px-6 py-3 rounded-lg transition-all ${r==="personal"?"bg-blue-600 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:t("process.tabPersonal")}),e.jsx("button",{onClick:()=>n("business"),className:`px-6 py-3 rounded-lg transition-all ${r==="business"?"bg-blue-600 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:t("process.tabBusiness")})]})]}),r==="business"&&e.jsx("div",{className:"mb-12 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-2xl p-8",children:e.jsxs("div",{className:"flex items-start gap-4 max-w-4xl mx-auto",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Oe,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl text-slate-900 mb-2",children:t("process.businessBannerTitle")}),e.jsx("p",{className:"text-slate-600 mb-4",children:t("process.businessBannerDesc")}),e.jsxs("button",{onClick:()=>{var o;return(o=document.getElementById("contact"))==null?void 0:o.scrollIntoView({behavior:"smooth"})},className:"inline-flex items-center gap-2 px-5 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[e.jsx(Oe,{className:"w-4 h-4"}),t("process.businessBannerButton")]})]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"hidden lg:block absolute left-1/2 top-0 bottom-0 w-0.5 bg-slate-200 -translate-x-1/2"}),e.jsx("div",{className:"space-y-12",children:l.map((o,m)=>e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:`grid lg:grid-cols-2 gap-8 items-center ${m%2===0?"":"lg:flex-row-reverse"}`,children:[e.jsxs("div",{className:`${m%2===0?"lg:text-right lg:pr-12":"lg:pl-12 lg:col-start-2"}`,children:[e.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[e.jsx("div",{className:`w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center ${m%2===0?"lg:order-2":""}`,children:e.jsx(o.icon,{className:"w-7 h-7 text-blue-600"})}),e.jsx("div",{className:`text-5xl text-slate-200 ${m%2===0?"lg:order-1":""}`,children:o.number})]}),e.jsx("h3",{className:"text-2xl text-slate-900 mb-2",children:t(o.titleKey)}),e.jsx("p",{className:"text-slate-600 mb-3",children:t(o.descKey)}),e.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-blue-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:t(o.timeKey)})]})]}),e.jsx("div",{className:`hidden lg:block ${m%2===0?"lg:col-start-2":"lg:col-start-1 lg:row-start-1"}`})]}),e.jsx("div",{className:"hidden lg:block absolute left-1/2 top-8 -translate-x-1/2",children:e.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded-full border-4 border-white"})})]},o.number))})]}),e.jsx("div",{className:"mt-16 bg-gradient-to-r from-blue-50 to-slate-50 rounded-2xl p-8 border border-blue-100",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx("h3",{className:"text-2xl text-slate-900 mb-3",children:t("process.turnaroundTitle")}),e.jsx("p",{className:"text-slate-600 mb-6",children:t("process.turnaroundDesc")}),e.jsxs("div",{className:"flex flex-wrap gap-6 justify-center text-sm text-slate-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:t("process.benefit1")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:t("process.benefit2")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:t("process.benefit3")})]})]})]})})]})})});function On(){const{t:s}=$e(),[t,r]=c.useState(null);ye();const n=a=>{r(t===a?null:a)};return e.jsxs(e.Fragment,{children:[e.jsxs(qs,{children:[e.jsx("title",{children:"DuoPro Services - Canadian Tax Services | Personal & Small Business Tax Returns"}),e.jsx("meta",{name:"description",content:"Professional Canadian tax services for individuals, newcomers, and small businesses. Expert personal and small business tax returns in English and French."})]}),e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(si,{}),e.jsx(lc,{}),e.jsx("section",{className:"relative bg-white pt-24 pb-16 md:pt-32 md:pb-24",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center max-w-7xl mx-auto",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-full text-sm font-medium",children:[e.jsx(H,{className:"w-4 h-4"}),"Professional Canadian Tax Services"]})}),e.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 leading-tight",children:s("hero.title")}),e.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:s("hero.subtitle")})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?q=80&w=2000&auto=format&fit=crop",alt:"Professional tax services",className:"w-full h-[500px] object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),e.jsx("div",{className:"absolute -bottom-6 -left-6 bg-white p-6 rounded-xl shadow-xl border border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:e.jsx(H,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"CRA Certified"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Trusted & Secure"})]})]})})]})]})})}),e.jsx("section",{id:"services",className:"py-20 bg-gray-50",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsxs("button",{onClick:()=>n("personal"),className:"w-full p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(xe,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Personal Tax"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Complete tax preparation and filing services for individuals and newcomers to Canada."})]})]}),t==="personal"?e.jsx(Re,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}):e.jsx(Te,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),t==="personal"&&e.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"T1 Personal Tax Returns"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Complete preparation and filing of individual income tax returns"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Employment income (T4s)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Investment income and capital gains"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"RRSP contributions and deductions"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Medical expenses and credits"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Newcomer Tax Services"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Specialized support for new immigrants navigating Canadian taxes"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"First-time tax filer assistance"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Residency status determination"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Foreign income reporting"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Tax treaty benefits"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Tax Compliance & Review"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Ensuring your tax filings meet all CRA requirements"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Prior year tax review"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Notice of Assessment review"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Missing slips and documentation"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Amendment requests (T1-ADJ)"})]})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsxs("button",{onClick:()=>n("business"),className:"w-full p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-green-100 w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(fe,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Small Business Tax"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Comprehensive tax services for small businesses and self-employed individuals."})]})]}),t==="business"?e.jsx(Re,{className:"w-5 h-5 text-green-600 flex-shrink-0"}):e.jsx(Te,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),t==="business"&&e.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Corporate Tax Returns"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"T2 corporate tax return preparation"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"GST/HST filing and compliance"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Payroll deductions and remittances"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Self-Employed Returns"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Business income and expense tracking"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Home office deductions"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Vehicle and equipment expenses"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Business Advisory"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Tax planning and optimization"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Business structure consultation"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"CRA audit support"})]})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsxs("button",{onClick:()=>n("bookkeeping"),className:"w-full p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-orange-100 w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(H,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Bookkeeping"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Professional accounting and bookkeeping services for small businesses."})]})]}),t==="bookkeeping"?e.jsx(Re,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}):e.jsx(Te,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),t==="bookkeeping"&&e.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Monthly Bookkeeping"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Bank reconciliation"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Accounts payable/receivable"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Expense categorization"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Financial Reports"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Profit & loss statements"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Balance sheets"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Cash flow reports"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Payroll Services"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Employee payroll processing"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"T4 and T4A preparation"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"ROE preparation"})]})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsxs("button",{onClick:()=>n("financial"),className:"w-full p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-purple-100 w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(xe,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Financial Reports & Management"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Management reports, financial analysis, and controller services for business insights."})]})]}),t==="financial"?e.jsx(Re,{className:"w-5 h-5 text-purple-600 flex-shrink-0"}):e.jsx(Te,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),t==="financial"&&e.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Management Reports"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Comprehensive management reports for informed decision-making."}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Profit & Loss statements"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Cash flow reports"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Budget vs Actual analysis"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Custom management dashboards"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Financial Analysis"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"In-depth financial analysis to drive business performance."}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Financial ratio analysis"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Profitability analysis"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Cost structure analysis"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Trend and variance analysis"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Controller Services"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Strategic controller services for business oversight and planning."}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"KPI tracking and reporting"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Performance metrics"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Financial planning & forecasting"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Strategic business insights"})]})]})]})]})})]})]})})}),e.jsx("section",{id:"about",className:"py-20 bg-white",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Why Choose DuoPro Services?"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Trusted by hundreds of Canadians for their tax needs"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white p-8 rounded-2xl border border-blue-100 hover:shadow-lg transition-all hover:-translate-y-1",children:[e.jsx("div",{className:"bg-blue-100 w-14 h-14 rounded-xl flex items-center justify-center mb-4",children:e.jsx(Hr,{className:"w-7 h-7 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:"Bilingual Service"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Full service in English and French to serve you better"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-white p-8 rounded-2xl border border-green-100 hover:shadow-lg transition-all hover:-translate-y-1",children:[e.jsx("div",{className:"bg-green-100 w-14 h-14 rounded-xl flex items-center justify-center mb-4",children:e.jsx(H,{className:"w-7 h-7 text-green-600"})}),e.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:"Expert Team"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Qualified tax professionals with years of experience"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-white p-8 rounded-2xl border border-purple-100 hover:shadow-lg transition-all hover:-translate-y-1",children:[e.jsx("div",{className:"bg-purple-100 w-14 h-14 rounded-xl flex items-center justify-center mb-4",children:e.jsx(xe,{className:"w-7 h-7 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:"Secure Portal"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Safe document upload and real-time tracking"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-white p-8 rounded-2xl border border-orange-100 hover:shadow-lg transition-all hover:-translate-y-1",children:[e.jsx("div",{className:"bg-orange-100 w-14 h-14 rounded-xl flex items-center justify-center mb-4",children:e.jsx(Wt,{className:"w-7 h-7 text-orange-600"})}),e.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:"Fast Processing"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Quick turnaround times for your tax returns"})]})]})]})})}),e.jsx(dd,{}),e.jsx(md,{}),e.jsx(cd,{}),e.jsx(oc,{})]})]})}function In(){const{t:s,language:t}=$e(),{signIn:r,resetPassword:n}=Pe(),a=ye(),[i,l]=c.useState(""),[o,m]=c.useState(""),[d,p]=c.useState(!1),[u,g]=c.useState(!1),[x,v]=c.useState(""),[f,b]=c.useState(!1),h=async y=>{y.preventDefault(),p(!0),v("");try{await r(i,o),a(i==="admin@duoproservices.ca"?"/admin":"/dashboard"),U.success(t==="en"?"‚úÖ Welcome back!":"‚úÖ Bienvenue!")}catch(w){console.error("Login error:",w);let k=w.message||"Failed to sign in";k.includes("Invalid login credentials")||k.includes("Invalid email or password")?(k=t==="en"?"‚ùå Invalid email or password.":"‚ùå Email ou mot de passe invalide.",b(!0)):k.includes("Failed to fetch")&&(k=t==="en"?"‚ùå Cannot connect to server. Please check your internet connection.":"‚ùå Impossible de se connecter au serveur. Veuillez v√©rifier votre connexion Internet."),v(k),U.error(k)}finally{p(!1)}},j=async y=>{y.preventDefault(),p(!0),v("");try{await n(i),U.success(t==="en"?"‚úÖ Password reset link sent to your email!":"‚úÖ Lien de r√©initialisation envoy√© √† votre email!"),g(!1),l("")}catch(w){console.error("Reset password error:",w);let k=w.message||"Failed to send reset email";k.includes("User not found")&&(k=t==="en"?"‚ùå No account found with this email address.":"‚ùå Aucun compte trouv√© avec cette adresse email."),v(k)}finally{p(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs(qs,{children:[e.jsx("title",{children:"Login - DuoPro Services"}),e.jsx("meta",{name:"description",content:"Login to your DuoPro Services client portal"})]}),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(si,{}),e.jsx("div",{className:"container mx-auto px-4 pt-24 pb-20",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:u?e.jsx(Dt,{className:"w-8 h-8 text-blue-600"}):e.jsx(Oa,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:u?t==="en"?"Reset Password":"R√©initialiser le mot de passe":s("nav.login")}),e.jsx("p",{className:"text-gray-600",children:u?t==="en"?"Enter your email to receive a reset link":"Entrez votre email pour recevoir un lien de r√©initialisation":t==="en"?"Access your client portal":"Acc√©dez √† votre portail client"})]}),x&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[e.jsx(be,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-800",children:x})]}),u?e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(us,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",value:i,onChange:y=>l(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"you@example.com",required:!0})]})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?s("common.loading"):t==="en"?"Send Reset Link":"Envoyer le lien"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>{g(!1),v("")},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:t==="en"?"‚Üê Back to Login":"‚Üê Retour √† la connexion"})})]}):e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(us,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",value:i,onChange:y=>l(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"you@example.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(nl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"password",value:o,onChange:y=>m(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",required:!0})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>{g(!0),v("")},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:t==="en"?"Forgot password?":"Mot de passe oubli√©?"})}),e.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s(d?"common.loading":"nav.login")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:t==="en"?"or":"ou"})})]}),e.jsxs("button",{type:"button",onClick:()=>a("/signup"),className:"w-full flex items-center justify-center gap-2 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 hover:border-blue-600 transition-colors",children:[e.jsx(Bs,{className:"w-5 h-5"}),t==="en"?"New here? Create Account":"Nouveau? Cr√©er un compte"]}),f&&e.jsx("div",{className:"space-y-3",children:e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-300 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(be,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-amber-900 mb-1",children:t==="en"?"üîß Admin Setup Options:":"üîß Options de configuration admin:"}),e.jsx("p",{className:"text-xs text-amber-800 mb-3",children:t==="en"?"Choose the appropriate option based on your situation:":"Choisissez l'option appropri√©e selon votre situation:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{type:"button",onClick:()=>a("/direct-reset"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 px-4 rounded-lg font-bold text-sm transition-colors flex items-center justify-center gap-2 shadow-lg",children:[e.jsx(Dt,{className:"w-5 h-5"}),t==="en"?"üìã VER INSTRU√á√ïES (Recomendado)":"üìã VOIR INSTRUCTIONS (Recommand√©)"]}),e.jsxs("button",{type:"button",onClick:()=>a("/auth-debug"),className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg font-medium text-sm transition-colors flex items-center justify-center gap-2",children:[e.jsx(Bs,{className:"w-4 h-4"}),t==="en"?"üóëÔ∏è Deletar e Recriar Tudo":"üóëÔ∏è Supprimer et recr√©er"]})]})]})]})})})]})]}),e.jsx("div",{className:"text-center mt-4 space-y-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-3 flex-wrap",children:[e.jsx("button",{onClick:()=>a("/direct-reset"),className:"text-xs text-purple-600 hover:text-purple-700 underline font-bold",children:"üìã INSTRU√á√ïES"}),e.jsx("span",{className:"text-gray-300",children:"‚Ä¢"}),e.jsx("button",{onClick:()=>a("/auth-debug"),className:"text-xs text-red-600 hover:text-red-700 underline font-bold",children:"üóëÔ∏è RESETAR TUDO"}),e.jsx("span",{className:"text-gray-300",children:"‚Ä¢"}),e.jsx("button",{onClick:()=>a("/admin-diagnostic"),className:"text-xs text-gray-400 hover:text-gray-600 underline",children:"üîß Diagnostic"})]})})]})})]})]})}function ud({language:s,personalInfo:t,updatePersonalField:r,expandedPersonalSection:n,togglePersonalSection:a,CANADIAN_PROVINCES:i}){const[l,o]=c.useState(!1),[m,d]=c.useState(!1),p=async()=>{var x,v;d(!0);try{const{data:f,error:b}=await te.auth.getUser();if(b){console.error("Error fetching user profile:",b),alert(s==="en"?"‚ùå Failed to load previous information":"‚ùå √âchec du chargement des informations pr√©c√©dentes");return}const h=(v=(x=f==null?void 0:f.user)==null?void 0:x.user_metadata)==null?void 0:v.profile;h?(console.log("‚úÖ Profile loaded:",h),Object.keys(h).forEach(j=>{r(j,h[j])}),alert(s==="en"?"‚úÖ Previous information loaded successfully!":"‚úÖ Informations pr√©c√©dentes charg√©es avec succ√®s!")):alert(s==="en"?"‚ö†Ô∏è No previous information found":"‚ö†Ô∏è Aucune information pr√©c√©dente trouv√©e")}catch(f){console.error("Error loading profile:",f),alert(s==="en"?`‚ùå Failed to load: ${f instanceof Error?f.message:"Unknown error"}`:`‚ùå √âchec du chargement: ${f instanceof Error?f.message:"Erreur inconnue"}`)}finally{d(!1)}},u=async()=>{var x;o(!0);try{console.log("üíæ Saving personal info:",t),console.log("üì° API URL:",`${Ce.personalInfo}/save`);const v=await fetch(`${Ce.personalInfo}/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ie}`},body:JSON.stringify(t)});console.log("üì• Response status:",v.status),console.log("üì• Response ok:",v.ok),console.log("üì• Response headers:",v.headers);const f=await v.text();console.log("üì• Response text:",f);let b;try{b=JSON.parse(f)}catch(h){throw console.error("‚ùå Failed to parse JSON:",h),console.error("‚ùå Response was:",f),new Error(`Invalid JSON response: ${f.substring(0,100)}`)}if(console.log("üì• Response data:",b),v.ok)alert(s==="en"?"‚úÖ Information saved successfully!":"‚úÖ Informations enregistr√©es avec succ√®s!");else throw new Error(b.error||"Failed to save")}catch(v){console.error("‚ùå Save error:",v),console.error("‚ùå Error type:",(x=v==null?void 0:v.constructor)==null?void 0:x.name),console.error("‚ùå Error message:",v==null?void 0:v.message),alert(s==="en"?`‚ùå Failed to save: ${v instanceof Error?v.message:"Unknown error"}`:`‚ùå √âchec de l'enregistrement: ${v instanceof Error?v.message:"Erreur inconnue"}`)}finally{o(!1)}},g=async()=>{await u()};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>a("personal"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(it,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-semibold",children:s==="en"?"1. Personal Information":"1. Informations personnelles"})]}),n==="personal"?e.jsx(Re,{className:"w-5 h-5 text-gray-400"}):e.jsx(Te,{className:"w-5 h-5 text-gray-400"})]}),n==="personal"&&e.jsxs("div",{className:"bg-gray-50 p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"First name *":"Pr√©nom *"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.firstName,onChange:x=>r("firstName",x.target.value),placeholder:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Middle name":"Deuxi√®me pr√©nom"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.middleName,onChange:x=>r("middleName",x.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Last name *":"Nom de famille *"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.lastName,onChange:x=>r("lastName",x.target.value),placeholder:""})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Social Insurance Number (SIN) *":"Num√©ro d'assurance sociale (NAS) *"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.sin,onChange:x=>r("sin",x.target.value.replace(/\D/g,"")),placeholder:"",maxLength:9}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s==="en"?"Required to auto-fill your tax return":"Requis pour remplir automatiquement votre d√©claration"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Date of Birth *":"Date de naissance *"}),e.jsx("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.dateOfBirth,onChange:x=>r("dateOfBirth",x.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Preferred Language *":"Langue pr√©f√©r√©e *"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.preferredLanguage,onChange:x=>r("preferredLanguage",x.target.value),children:[e.jsx("option",{value:"English",children:s==="en"?"English":"Anglais"}),e.jsx("option",{value:"French",children:s==="en"?"French":"Fran√ßais"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Gender *":"Genre *"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.gender,onChange:x=>r("gender",x.target.value),children:[e.jsx("option",{value:"",children:s==="en"?"Select gender":"S√©lectionnez le genre"}),e.jsx("option",{value:"Female",children:s==="en"?"Female":"Femme"}),e.jsx("option",{value:"Male",children:s==="en"?"Male":"Homme"}),e.jsx("option",{value:"Other",children:s==="en"?"Other":"Autre"})]})]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>a("address"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(dt,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-semibold",children:s==="en"?"2. Mailing Address":"2. Adresse postale"})]}),n==="address"?e.jsx(Re,{className:"w-5 h-5 text-gray-400"}):e.jsx(Te,{className:"w-5 h-5 text-gray-400"})]}),n==="address"&&e.jsxs("div",{className:"bg-gray-50 p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"C/O (Care of)":"Aux soins de (C/O)"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.careOf,onChange:x=>r("careOf",x.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Unit":"Unit√©"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.addressUnit,onChange:x=>r("addressUnit",x.target.value)})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Street # *":"No rue *"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.streetNumber,onChange:x=>r("streetNumber",x.target.value),placeholder:"123"})]}),e.jsxs("div",{className:"col-span-8",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Street Name *":"Nom de la rue *"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.streetName,onChange:x=>r("streetName",x.target.value),placeholder:"Main Street"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"City *":"Ville *"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.city,onChange:x=>r("city",x.target.value),placeholder:"Toronto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Province *"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.province,onChange:x=>r("province",x.target.value),children:[e.jsx("option",{value:"",children:s==="en"?"Select province":"S√©lectionnez la province"}),i.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Postal Code *":"Code postal *"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.postalCode,onChange:x=>r("postalCode",x.target.value.toUpperCase()),placeholder:"M5H 2N2",maxLength:7})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Home Phone (Area Code) *":"T√©l√©phone domicile (indicatif) *"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.homePhoneArea,onChange:x=>r("homePhoneArea",x.target.value.replace(/\D/g,"")),placeholder:"416",maxLength:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Phone Number *":"Num√©ro de t√©l√©phone *"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.homePhoneNumber,onChange:x=>r("homePhoneNumber",x.target.value.replace(/\D/g,"")),placeholder:"5551234",maxLength:7})]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>a("residency"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Cr,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-semibold",children:s==="en"?"3. About Your Residency":"3. √Ä propos de votre r√©sidence"})]}),n==="residency"?e.jsx(Re,{className:"w-5 h-5 text-gray-400"}):e.jsx(Te,{className:"w-5 h-5 text-gray-400"})]}),n==="residency"&&e.jsxs("div",{className:"bg-gray-50 p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Were you a resident of Canada for all of 2025? *":"√âtiez-vous un r√©sident du Canada pour toute l'ann√©e 2025? *"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"canadianResidentAllYear",value:"yes",checked:t.canadianResidentAllYear==="yes",onChange:x=>r("canadianResidentAllYear",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"Yes":"Oui"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"canadianResidentAllYear",value:"no",checked:t.canadianResidentAllYear==="no",onChange:x=>r("canadianResidentAllYear",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"No":"Non"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"What province did you live in on December 31, 2025? *":"Dans quelle province habitiez-vous le 31 d√©cembre 2025? *"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.provinceOnDec31,onChange:x=>r("provinceOnDec31",x.target.value),children:[e.jsx("option",{value:"",children:s==="en"?"Select province":"S√©lectionnez la province"}),i.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Is your home address the same as your mailing address? *":"Votre adresse de domicile est-elle la m√™me que votre adresse postale? *"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"homeAddressSameAsMailing",value:"yes",checked:t.homeAddressSameAsMailing==="yes",onChange:x=>r("homeAddressSameAsMailing",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"Yes":"Oui"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"homeAddressSameAsMailing",value:"no",checked:t.homeAddressSameAsMailing==="no",onChange:x=>r("homeAddressSameAsMailing",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"No":"Non"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Did your address change during the tax year? *":"Votre adresse a-t-elle chang√© pendant l'ann√©e d'imposition? *"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"addressChangedInYear",value:"yes",checked:t.addressChangedInYear==="yes",onChange:x=>r("addressChangedInYear",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"Yes":"Oui"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"addressChangedInYear",value:"no",checked:t.addressChangedInYear==="no",onChange:x=>r("addressChangedInYear",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"No":"Non"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"What is your current province of residence? *":"Quelle est votre province de r√©sidence actuelle? *"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.currentProvince,onChange:x=>r("currentProvince",x.target.value),children:[e.jsx("option",{value:"",children:s==="en"?"Select province":"S√©lectionnez la province"}),i.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>a("marital"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(fe,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-semibold",children:s==="en"?"4. You and Your Family":"4. Vous et votre famille"})]}),n==="marital"?e.jsx(Re,{className:"w-5 h-5 text-gray-400"}):e.jsx(Te,{className:"w-5 h-5 text-gray-400"})]}),n==="marital"&&e.jsxs("div",{className:"bg-gray-50 p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Marital Status *":"√âtat matrimonial *"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.maritalStatus,onChange:x=>r("maritalStatus",x.target.value),children:[e.jsx("option",{value:"",children:s==="en"?"Select status":"S√©lectionnez l'√©tat"}),e.jsx("option",{value:"single",children:s==="en"?"Single":"C√©libataire"}),e.jsx("option",{value:"married",children:s==="en"?"Married":"Mari√©(e)"}),e.jsx("option",{value:"common-law",children:s==="en"?"Common-law":"Union de fait"}),e.jsx("option",{value:"divorced",children:s==="en"?"Divorced":"Divorc√©(e)"}),e.jsx("option",{value:"widowed",children:s==="en"?"Widowed":"Veuf/Veuve"}),e.jsx("option",{value:"separated",children:s==="en"?"Separated":"S√©par√©(e)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Did your marital status change in 2025? *":"Votre √©tat matrimonial a-t-il chang√© en 2025? *"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"maritalStatusChanged",value:"yes",checked:t.maritalStatusChanged==="yes",onChange:x=>r("maritalStatusChanged",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"Yes":"Oui"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"maritalStatusChanged",value:"no",checked:t.maritalStatusChanged==="no",onChange:x=>r("maritalStatusChanged",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"No":"Non"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Do you have children or dependents? *":"Avez-vous des enfants ou des personnes √† charge? *"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"hasDependents",value:"yes",checked:t.hasDependents==="yes",onChange:x=>r("hasDependents",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"Yes":"Oui"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"hasDependents",value:"no",checked:t.hasDependents==="no",onChange:x=>r("hasDependents",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"No":"Non"})]})]}),t.hasDependents==="yes"&&e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:s==="en"?'Please upload dependent information documents in the "Documents" section.':`Veuillez t√©l√©verser les documents d'information sur les personnes √† charge dans la section "Documents".`})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>a("general"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(xe,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-semibold",children:s==="en"?"5. General Questions (CRA)":"5. Questions g√©n√©rales (ARC)"})]}),n==="general"?e.jsx(Re,{className:"w-5 h-5 text-gray-400"}):e.jsx(Te,{className:"w-5 h-5 text-gray-400"})]}),n==="general"&&e.jsxs("div",{className:"bg-gray-50 p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Is this your first time filing taxes with CRA? *":"Est-ce votre premi√®re d√©claration d'imp√¥ts avec l'ARC? *"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"firstTimeFilingCRA",value:"yes",checked:t.firstTimeFilingCRA==="yes",onChange:x=>r("firstTimeFilingCRA",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"Yes":"Oui"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"firstTimeFilingCRA",value:"no",checked:t.firstTimeFilingCRA==="no",onChange:x=>r("firstTimeFilingCRA",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"No":"Non"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Are you a Canadian citizen? *":"√ätes-vous citoyen canadien? *"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"canadianCitizen",value:"yes",checked:t.canadianCitizen==="yes",onChange:x=>r("canadianCitizen",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"Yes":"Oui"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"canadianCitizen",value:"no",checked:t.canadianCitizen==="no",onChange:x=>r("canadianCitizen",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"No":"Non"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Do you own foreign property worth over $100,000 CAD?":"Poss√©dez-vous des biens √©trangers d'une valeur sup√©rieure √† 100 000 $ CAD?"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"foreignPropertyOver100k",value:"yes",checked:t.foreignPropertyOver100k==="yes",onChange:x=>r("foreignPropertyOver100k",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"Yes":"Oui"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"foreignPropertyOver100k",value:"no",checked:t.foreignPropertyOver100k==="no",onChange:x=>r("foreignPropertyOver100k",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"No":"Non"})]})]}),t.foreignPropertyOver100k==="yes"&&e.jsx("p",{className:"text-xs text-red-600 mt-2",children:s==="en"?"‚ö†Ô∏è You will need to file Form T1135 (Foreign Income Verification Statement)":"‚ö†Ô∏è Vous devrez produire le formulaire T1135 (√âtat de v√©rification du revenu √©tranger)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Did you sell your principal residence in 2025?":"Avez-vous vendu votre r√©sidence principale en 2025?"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"disposedPrincipalResidence",value:"yes",checked:t.disposedPrincipalResidence==="yes",onChange:x=>r("disposedPrincipalResidence",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"Yes":"Oui"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"disposedPrincipalResidence",value:"no",checked:t.disposedPrincipalResidence==="no",onChange:x=>r("disposedPrincipalResidence",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"No":"Non"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Do you have a First Home Savings Account (FHSA)?":"Avez-vous un compte d'√©pargne libre d'imp√¥t pour l'achat d'une premi√®re propri√©t√© (CELIAPP)?"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"firstHomeSavingsAccount",value:"yes",checked:t.firstHomeSavingsAccount==="yes",onChange:x=>r("firstHomeSavingsAccount",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"Yes":"Oui"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"firstHomeSavingsAccount",value:"no",checked:t.firstHomeSavingsAccount==="no",onChange:x=>r("firstHomeSavingsAccount",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"No":"Non"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Did you buy or sell cryptocurrency or NFTs in 2025?":"Avez-vous achet√© ou vendu des cryptomonnaies ou des NFT en 2025?"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"virtualCurrency",value:"yes",checked:t.virtualCurrency==="yes",onChange:x=>r("virtualCurrency",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"Yes":"Oui"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"virtualCurrency",value:"no",checked:t.virtualCurrency==="no",onChange:x=>r("virtualCurrency",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"No":"Non"})]})]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>a("quebec"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Hr,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-semibold",children:s==="en"?"6. Revenu Qu√©bec (QC Residents Only)":"6. Revenu Qu√©bec (r√©sidents du QC seulement)"})]}),n==="quebec"?e.jsx(Re,{className:"w-5 h-5 text-gray-400"}):e.jsx(Te,{className:"w-5 h-5 text-gray-400"})]}),n==="quebec"&&e.jsxs("div",{className:"bg-gray-50 p-6 space-y-4",children:[e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-sm text-yellow-800",children:s==="en"?"‚ö†Ô∏è These questions are only for Qu√©bec residents. Skip this section if you don't live in Qu√©bec.":"‚ö†Ô∏è Ces questions sont uniquement pour les r√©sidents du Qu√©bec. Sautez cette section si vous n'habitez pas au Qu√©bec."})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Is this your first time filing taxes with Revenu Qu√©bec?":"Est-ce votre premi√®re d√©claration d'imp√¥ts avec Revenu Qu√©bec?"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"firstTimeFilingRQ",value:"yes",checked:t.firstTimeFilingRQ==="yes",onChange:x=>r("firstTimeFilingRQ",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"Yes":"Oui"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"firstTimeFilingRQ",value:"no",checked:t.firstTimeFilingRQ==="no",onChange:x=>r("firstTimeFilingRQ",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"No":"Non"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Do you want to claim the solidarity tax credit?":"Voulez-vous demander le cr√©dit d'imp√¥t pour solidarit√©?"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"claimSolidarityTaxCredit",value:"yes",checked:t.claimSolidarityTaxCredit==="yes",onChange:x=>r("claimSolidarityTaxCredit",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"Yes":"Oui"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"claimSolidarityTaxCredit",value:"no",checked:t.claimSolidarityTaxCredit==="no",onChange:x=>r("claimSolidarityTaxCredit",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"No":"Non"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Do you have prescription drug insurance?":"Avez-vous une assurance m√©dicaments?"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"prescriptionDrugInsurance",value:"yes",checked:t.prescriptionDrugInsurance==="yes",onChange:x=>r("prescriptionDrugInsurance",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"Yes":"Oui"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"prescriptionDrugInsurance",value:"no",checked:t.prescriptionDrugInsurance==="no",onChange:x=>r("prescriptionDrugInsurance",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"No":"Non"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Work Telephone (Optional)":"T√©l√©phone au travail (optionnel)"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.workTelephoneArea,onChange:x=>r("workTelephoneArea",x.target.value.replace(/\D/g,"")),placeholder:"514",maxLength:3}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.workTelephoneNumber,onChange:x=>r("workTelephoneNumber",x.target.value.replace(/\D/g,"")),placeholder:"5551234",maxLength:7}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.workTelephoneExt,onChange:x=>r("workTelephoneExt",x.target.value),placeholder:"Ext"})]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>a("online"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(us,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-semibold",children:s==="en"?"7. CRA & RQ My Account Setup":"7. Configuration Mon dossier ARC & RQ"})]}),n==="online"?e.jsx(Re,{className:"w-5 h-5 text-gray-400"}):e.jsx(Te,{className:"w-5 h-5 text-gray-400"})]}),n==="online"&&e.jsxs("div",{className:"bg-gray-50 p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Do you want to sign up for CRA online mail?":"Voulez-vous vous inscrire au courrier en ligne de l'ARC?"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"signupCRAOnlineMail",value:"yes",checked:t.signupCRAOnlineMail==="yes",onChange:x=>r("signupCRAOnlineMail",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"Yes":"Oui"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"signupCRAOnlineMail",value:"no",checked:t.signupCRAOnlineMail==="no",onChange:x=>r("signupCRAOnlineMail",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"No":"Non"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s==="en"?"Recommended: Receive your notices and tax documents electronically":"Recommand√©: Recevez vos avis et documents fiscaux √©lectroniquement"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Do you want to sign up for Revenu Qu√©bec online mail?":"Voulez-vous vous inscrire au courrier en ligne de Revenu Qu√©bec?"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"signupRQOnlineMail",value:"yes",checked:t.signupRQOnlineMail==="yes",onChange:x=>r("signupRQOnlineMail",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"Yes":"Oui"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"signupRQOnlineMail",value:"no",checked:t.signupRQOnlineMail==="no",onChange:x=>r("signupRQOnlineMail",x.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s==="en"?"No":"Non"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s==="en"?"Notification Email":"Courriel de notification"}),e.jsx("input",{type:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",value:t.notificationEmail,onChange:x=>r("notificationEmail",x.target.value),placeholder:"your.email@example.com"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s==="en"?"This email will be used for CRA and Revenu Qu√©bec notifications":"Ce courriel sera utilis√© pour les notifications de l'ARC et de Revenu Qu√©bec"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{className:"px-6 py-3 border border-gray-300 rounded-lg font-semibold hover:bg-gray-50 transition-colors",onClick:g,children:s==="en"?"Save Draft":"Enregistrer le brouillon"}),e.jsx("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",onClick:u,disabled:l,children:l?e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.928l3-2.647z"})]}):s==="en"?"Save All Information":"Enregistrer toutes les informations"}),e.jsx("button",{className:"px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors",onClick:p,disabled:m,children:m?e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.928l3-2.647z"})]}):s==="en"?"Load Previous Information":"Charger les informations pr√©c√©dentes"})]})]})}function xd({language:s,taxYears:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:s==="en"?"Your Tax Returns":"Vos d√©clarations d'imp√¥ts"}),e.jsx("p",{className:"text-sm text-blue-700",children:s==="en"?"We prepare and file TWO tax returns for you: T1 (Federal - CRA) and TP-1 (Provincial - Revenu Qu√©bec for QC residents).":"Nous pr√©parons et produisons DEUX d√©clarations d'imp√¥ts pour vous : T1 (F√©d√©ral - ARC) et TP-1 (Provincial - Revenu Qu√©bec pour les r√©sidents du QC)."})]}),t.map(r=>e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-white p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:s==="en"?`Tax Year ${r.year}`:`Ann√©e fiscale ${r.year}`}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s==="en"?`Filing for income earned in ${parseInt(r.year)-1}`:`D√©claration pour les revenus gagn√©s en ${parseInt(r.year)-1}`})]}),e.jsx("div",{children:e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold ${r.statusColor==="blue"?"bg-blue-100 text-blue-700":r.statusColor==="green"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:r.status})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s==="en"?"Documents Uploaded":"Documents t√©l√©vers√©s"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[r.documentsUploaded," / ",r.documentsRequired]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${r.documentsUploaded===0?"bg-gray-400":r.documentsUploaded<r.documentsRequired?"bg-yellow-500":"bg-green-500"}`,style:{width:`${r.documentsUploaded/r.documentsRequired*100}%`}})})]}),!r.isPaid&&r.documentsUploaded===0&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 flex items-start gap-3",children:[e.jsx(be,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"text-sm text-yellow-800",children:s==="en"?'Upload your documents in the "Documents" tab, then submit payment in the "Payments" tab to start processing.':`T√©l√©versez vos documents dans l'onglet "Documents", puis soumettez le paiement dans l'onglet "Paiements" pour commencer le traitement.`})]}),!r.isPaid&&r.documentsUploaded>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-start gap-3",children:[e.jsx(Ge,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"text-sm text-blue-800",children:s==="en"?`Great! You've uploaded ${r.documentsUploaded} document${r.documentsUploaded>1?"s":""}. Go to the "Payments" tab to submit and pay $50 CAD to start processing your tax return.`:`Super! Vous avez t√©l√©vers√© ${r.documentsUploaded} document${r.documentsUploaded>1?"s":""}. Allez dans l'onglet "Paiements" pour soumettre et payer 50 $ CAD pour commencer le traitement de votre d√©claration.`})]}),r.isPaid&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 flex items-start gap-3",children:[e.jsx(Ge,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"text-sm text-green-800",children:s==="en"?"‚úÖ Payment received! Your tax returns are being processed. We will notify you when they are ready for review.":"‚úÖ Paiement re√ßu! Vos d√©clarations d'imp√¥ts sont en cours de traitement. Nous vous informerons lorsqu'elles seront pr√™tes pour r√©vision."})]})]}),e.jsxs("div",{className:"bg-gray-50 p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(Ge,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"T1 Federal Return"}),e.jsx("p",{className:"text-xs text-gray-500",children:s==="en"?"Canada Revenue Agency (CRA)":"Agence du revenu du Canada (ARC)"})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:s==="en"?"Status:":"Statut:"}),e.jsx("span",{className:"font-medium text-gray-900",children:r.isPaid?s==="en"?"Processing":"En traitement":s==="en"?"Not Submitted":"Non soumis"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:s==="en"?"Form:":"Formulaire:"}),e.jsx("span",{className:"font-medium text-gray-900",children:"T1 General"})]}),r.isPaid&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:s==="en"?"Expected:":"Attendu:"}),e.jsx("span",{className:"font-medium text-gray-900",children:s==="en"?"3-5 business days":"3-5 jours ouvrables"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Ge,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"TP-1 Qu√©bec Return"}),e.jsx("p",{className:"text-xs text-gray-500",children:s==="en"?"Revenu Qu√©bec (QC Residents)":"Revenu Qu√©bec (r√©sidents du QC)"})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:s==="en"?"Status:":"Statut:"}),e.jsx("span",{className:"font-medium text-gray-900",children:r.isPaid?s==="en"?"Processing":"En traitement":s==="en"?"Not Submitted":"Non soumis"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:s==="en"?"Form:":"Formulaire:"}),e.jsx("span",{className:"font-medium text-gray-900",children:"TP-1.D"})]}),r.isPaid&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:s==="en"?"Expected:":"Attendu:"}),e.jsx("span",{className:"font-medium text-gray-900",children:s==="en"?"3-5 business days":"3-5 jours ouvrables"})]})]})]})]})]},r.year)),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:s==="en"?"What happens next?":"Que se passe-t-il ensuite?"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsx("p",{children:s==="en"?'1Ô∏è‚É£ Upload your tax documents in the "Documents" tab':`1Ô∏è‚É£ T√©l√©versez vos documents fiscaux dans l'onglet "Documents"`}),e.jsx("p",{children:s==="en"?'2Ô∏è‚É£ Submit payment of $50 CAD in the "Payments" tab to start processing':`2Ô∏è‚É£ Soumettez le paiement de 50 $ CAD dans l'onglet "Paiements" pour commencer le traitement`}),e.jsx("p",{children:s==="en"?"3Ô∏è‚É£ We will prepare BOTH your T1 (Federal) and TP-1 (Qu√©bec) tax returns":"3Ô∏è‚É£ Nous pr√©parerons VOS DEUX d√©clarations d'imp√¥ts T1 (F√©d√©ral) et TP-1 (Qu√©bec)"}),e.jsx("p",{children:s==="en"?"4Ô∏è‚É£ Review your completed returns and approve for filing":"4Ô∏è‚É£ R√©visez vos d√©clarations compl√©t√©es et approuvez pour la production"}),e.jsx("p",{children:s==="en"?"5Ô∏è‚É£ We will file both returns electronically with CRA and Revenu Qu√©bec":"5Ô∏è‚É£ Nous produirons les deux d√©clarations √©lectroniquement aupr√®s de l'ARC et de Revenu Qu√©bec"})]})]})]})}function pd({language:s,taxYears:t,documentCategories:r,uploadedFiles:n,expandedYear:a,expandedCategory:i,toggleYear:l,toggleCategory:o,handleFileUpload:m,handleRemoveFile:d,getFilesForDocType:p,isUploading:u}){return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-sm text-blue-900",children:s==="en"?'üìÅ Upload your tax documents for each year. You can upload documents anytime. When ready, go to the "Payments" tab to submit payment and start processing.':`üìÅ T√©l√©versez vos documents fiscaux pour chaque ann√©e. Vous pouvez t√©l√©verser des documents √† tout moment. Lorsque vous √™tes pr√™t, allez dans l'onglet "Paiements" pour soumettre le paiement et commencer le traitement.`})}),t.map(g=>e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-white",children:e.jsxs("button",{onClick:()=>l(g.year),className:"w-full flex items-center justify-between p-6 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ae,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s==="en"?`Tax Year ${g.year}`:`Ann√©e fiscale ${g.year}`}),e.jsxs("p",{className:"text-sm text-gray-600",children:[g.documentsUploaded," / ",g.documentsRequired," ","documents"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${g.statusColor==="blue"?"bg-blue-100 text-blue-700":g.statusColor==="green"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:g.status}),a===g.year?e.jsx(Re,{className:"w-5 h-5 text-gray-400"}):e.jsx(Te,{className:"w-5 h-5 text-gray-400"})]})]})}),a===g.year&&e.jsx("div",{className:"bg-gray-50 p-6 space-y-3",children:r.map(x=>{const v=x.icon;return e.jsxs("div",{className:"border border-gray-200 rounded-lg bg-white overflow-hidden",children:[e.jsxs("button",{onClick:()=>o(g.year,x.id),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-medium",children:x.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",n.filter(f=>f.year===g.year&&f.category===x.id).length," ",s==="en"?"files":"fichiers",")"]})]}),i[g.year]===x.id?e.jsx(Re,{className:"w-4 h-4 text-gray-400"}):e.jsx(Te,{className:"w-4 h-4 text-gray-400"})]}),i[g.year]===x.id&&e.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:e.jsx("div",{className:"space-y-3",children:x.documents.map(f=>{const b=p(g.year,x.id,f);return e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:f}),e.jsxs("span",{className:"text-xs text-gray-500",children:[b.length," ",s==="en"?"files":"fichiers"]})]}),b.length>0&&e.jsx("div",{className:"mb-3 space-y-2",children:b.map(h=>e.jsxs("div",{className:"flex items-center justify-between bg-green-50 p-2 rounded border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-xs text-gray-700",children:h.name})]}),e.jsx("button",{onClick:()=>d(h.id),className:"text-red-600 hover:text-red-700",children:e.jsx(Ve,{className:"w-4 h-4"})})]},h.id))}),e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(Oe,{className:`w-8 h-8 mb-2 ${u?"text-blue-500 animate-pulse":"text-gray-400"}`}),e.jsx("p",{className:"text-xs text-gray-600 text-center",children:u?s==="en"?"Uploading...":"T√©l√©versement...":s==="en"?"Click to upload or drag and drop":"Cliquez pour t√©l√©verser ou glisser-d√©poser"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG (max 10MB)"})]}),e.jsx("input",{type:"file",className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:h=>m(h,g.year,x.id,f),disabled:u})]})]},f)})})})]},x.id)})})]},g.year))]})}function hd({language:s,taxYears:t,handleSubmitTaxReturn:r,isSubmitting:n}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:s==="en"?"Payment & Submission":"Paiement et soumission"}),e.jsx("p",{className:"text-sm text-blue-700",children:s==="en"?'Pay $50 CAD initial fee to submit your tax return for processing. Upload your documents first in the "Documents" tab.':`Payez des frais initiaux de 50 $ CAD pour soumettre votre d√©claration d'imp√¥ts pour traitement. T√©l√©versez d'abord vos documents dans l'onglet "Documents".`})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:s==="en"?"Submit Your Tax Return":"Soumettre votre d√©claration d'imp√¥ts"}),t.map(a=>e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden mb-4",children:e.jsxs("div",{className:"bg-white p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ae,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:s==="en"?`Tax Year ${a.year}`:`Ann√©e fiscale ${a.year}`}),e.jsxs("p",{className:"text-sm text-gray-600",children:[a.documentsUploaded," / ",a.documentsRequired," ",s==="en"?"documents uploaded":"documents t√©l√©vers√©s"]})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.statusColor==="blue"?"bg-blue-100 text-blue-700":a.statusColor==="green"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:a.status})]}),a.isPaid?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(H,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-green-900 mb-1",children:s==="en"?"Payment Received":"Paiement re√ßu"}),e.jsx("p",{className:"text-sm text-green-700",children:s==="en"?"Your tax return has been submitted and is being processed. We will notify you when it's ready for review.":"Votre d√©claration d'imp√¥ts a √©t√© soumise et est en cours de traitement. Nous vous informerons lorsqu'elle sera pr√™te pour r√©vision."}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-green-200",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-green-700",children:s==="en"?"Amount Paid:":"Montant pay√©:"}),e.jsx("span",{className:"font-semibold text-green-900",children:"$50.00 CAD"})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-green-700",children:s==="en"?"Payment Date:":"Date de paiement:"}),e.jsx("span",{className:"font-semibold text-green-900",children:"Jan 8, 2026"})]})]})]})]}):e.jsxs(e.Fragment,{children:[a.documentsUploaded===0&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3 mb-4",children:[e.jsx(be,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-yellow-900 mb-1",children:s==="en"?"No Documents Uploaded":"Aucun document t√©l√©vers√©"}),e.jsx("p",{className:"text-sm text-yellow-700",children:s==="en"?'Please upload your tax documents in the "Documents" tab before submitting payment.':`Veuillez t√©l√©verser vos documents fiscaux dans l'onglet "Documents" avant de soumettre le paiement.`})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5 mb-4",children:[e.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:s==="en"?"Payment Details":"D√©tails du paiement"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:s==="en"?"Initial Filing Fee:":"Frais de d√©p√¥t initial:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"$50.00 CAD"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:s==="en"?"Includes:":"Inclut:"}),e.jsx("span",{className:"text-sm text-gray-700",children:s==="en"?"T1 Federal + TP-1 Qu√©bec":"T1 F√©d√©ral + TP-1 Qu√©bec"})]}),e.jsx("div",{className:"pt-2 mt-2 border-t border-gray-300",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:s==="en"?"Total Due:":"Total d√ª:"}),e.jsx("span",{className:"font-bold text-gray-900 text-lg",children:"$50.00 CAD"})]})})]})]}),a.canSubmit&&e.jsxs("button",{onClick:()=>r(a.year),disabled:n||a.documentsUploaded===0,className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-lg",children:[e.jsx(Ia,{className:"w-6 h-6"}),n?s==="en"?"Processing...":"Traitement...":s==="en"?"Submit & Pay $50 CAD":"Soumettre et payer 50 $ CAD"]}),a.documentsUploaded===0&&e.jsx("p",{className:"text-xs text-gray-500 text-center mt-3",children:s==="en"?"‚ö†Ô∏è Upload at least one document to enable payment":"‚ö†Ô∏è T√©l√©versez au moins un document pour activer le paiement"})]})]})},a.year))]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:s==="en"?"Payment History":"Historique des paiements"}),e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white",children:e.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:s==="en"?"No payments yet. Your payment history will appear here.":"Aucun paiement pour le moment. Votre historique de paiements appara√Ætra ici."})})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:s==="en"?"Important Information":"Informations importantes"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsx("p",{children:s==="en"?"üí≥ We accept all major credit cards and debit cards via Stripe":"üí≥ Nous acceptons toutes les principales cartes de cr√©dit et de d√©bit via Stripe"}),e.jsx("p",{children:s==="en"?"üîí Your payment information is secure and encrypted":"üîí Vos informations de paiement sont s√©curis√©es et crypt√©es"}),e.jsx("p",{children:s==="en"?"üìß You will receive a payment confirmation email after submission":"üìß Vous recevrez un courriel de confirmation de paiement apr√®s la soumission"}),e.jsx("p",{children:s==="en"?"‚è±Ô∏è Processing typically takes 3-5 business days":"‚è±Ô∏è Le traitement prend g√©n√©ralement 3 √† 5 jours ouvrables"}),e.jsx("p",{children:s==="en"?"üìÑ The $50 fee covers BOTH your T1 Federal and TP-1 Qu√©bec returns":"üìÑ Les frais de 50 $ couvrent VOS DEUX d√©clarations T1 F√©d√©ral et TP-1 Qu√©bec"})]})]})]})}function gd({userEmail:s}){const[t,r]=c.useState(!0);return t?e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 shadow-lg",children:e.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qe,{className:"w-5 h-5"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"ADMIN MODE"}),e.jsx("span",{className:"text-purple-100",children:"‚Ä¢"}),e.jsx("span",{className:"text-sm text-purple-100",children:s})]})]}),e.jsx("button",{onClick:()=>r(!1),className:"p-1 hover:bg-white/20 rounded transition-colors","aria-label":"Close banner",children:e.jsx(Ve,{className:"w-4 h-4"})})]})}):null}function Mn(){const{t:s,language:t,setLanguage:r}=$e(),n=ye(),{user:a}=Pe(),[i,l]=c.useState("personal"),[o,m]=c.useState("2026"),[d,p]=c.useState({2024:null,2025:null,2026:null}),[u,g]=c.useState([]),[x,v]=c.useState(!1),[f,b]=c.useState(!1),[h,j]=c.useState("personal"),[y,w]=c.useState(!0),[k,P]=c.useState({firstName:"",middleName:"",lastName:"",sin:"",dateOfBirth:"",preferredLanguage:"English",gender:"",careOf:"",addressUnit:"",streetNumber:"",streetName:"",city:"",province:"",postalCode:"",homePhoneArea:"",homePhoneNumber:"",hasNonCanadianAddress:"no",canadianResidentAllYear:"yes",provinceOnDec31:"",provinceMovedDate:"",homeAddressSameAsMailing:"yes",addressChangedInYear:"no",currentProvince:"",maritalStatus:"",maritalStatusChanged:"no",hasDependents:"no",firstTimeFilingCRA:"no",canadianCitizen:"yes",registeredIndianAct:"no",foreignPropertyOver100k:"no",disposedPrincipalResidence:"no",flippedProperty:"no",firstHomeSavingsAccount:"no",virtualCurrency:"no",confinedToPrison:"no",singleParentOrLivedAlone:"no",firstTimeFilingRQ:"no",claimSolidarityTaxCredit:"no",prescriptionDrugInsurance:"no",workTelephoneArea:"",workTelephoneNumber:"",workTelephoneExt:"",signupCRAOnlineMail:"yes",signupRQOnlineMail:"yes",receiveRQNotifications:"email",notificationEmail:""}),C=[{year:"2026",status:t==="en"?"üîµ In Progress":"üîµ En cours",statusColor:"blue",documentsUploaded:u.filter(A=>A.year==="2026").length,documentsRequired:8,canSubmit:!0,isPaid:!1},{year:"2025",status:t==="en"?"‚ö™ Available (For returning clients)":"‚ö™ Disponible (clients existants)",statusColor:"gray",documentsUploaded:u.filter(A=>A.year==="2025").length,documentsRequired:8,canSubmit:!0,isPaid:!1},{year:"2024",status:t==="en"?"‚ö™ Available (For returning clients)":"‚ö™ Disponible (clients existants)",statusColor:"gray",documentsUploaded:u.filter(A=>A.year==="2024").length,documentsRequired:8,canSubmit:!0,isPaid:!1}],S=[{value:"AB",label:"Alberta"},{value:"BC",label:"British Columbia"},{value:"MB",label:"Manitoba"},{value:"NB",label:"New Brunswick"},{value:"NL",label:"Newfoundland and Labrador"},{value:"NS",label:"Nova Scotia"},{value:"ON",label:"Ontario"},{value:"PE",label:"Prince Edward Island"},{value:"QC",label:"Qu√©bec"},{value:"SK",label:"Saskatchewan"},{value:"NT",label:"Northwest Territories"},{value:"NU",label:"Nunavut"},{value:"YT",label:"Yukon"}],E=(A,R)=>{P(V=>({...V,[A]:R}))},O=A=>{j(h===A?null:A)},M=[{id:"employment",name:t==="en"?"Employment Income":"Revenu d'emploi",icon:Ma,documents:["T4 Slips","Relev√© 1 (Qu√©bec)","T4A Slips","Employment Letter"]},{id:"rrsp",name:t==="en"?"RRSP & Retirement":"REER et retraite",icon:me,documents:["RRSP Contributions","Relev√© 10 (RRSP)","Pension Income T4A(P)","FHSA Contributions"]},{id:"investment",name:t==="en"?"Investment Income":"Revenu de placement",icon:me,documents:["T5 Slips (Interest & Dividends)","Relev√© 3 (Qu√©bec)","T3 Slips (Trust Income)","Foreign Income"]},{id:"dependents",name:t==="en"?"Dependents & Child Care":"Personnes √† charge et garde d'enfants",icon:fe,documents:["Child Care Receipts","Dependents Information","Child Tax Benefit","Education Expenses"]},{id:"medical",name:t==="en"?"Medical Expenses":"Frais m√©dicaux",icon:gn,documents:["Medical Receipts","Prescription Receipts","Dental Expenses","Insurance Premiums"]},{id:"donations",name:t==="en"?"Donations & Charitable":"Dons et charit√©",icon:gn,documents:["Donation Receipts","Charitable Contributions","Political Contributions"]},{id:"tuition",name:t==="en"?"Tuition & Education":"Frais de scolarit√©",icon:al,documents:["T2202 Tuition","Relev√© 8 (Qu√©bec)","Student Loan Interest","Textbook Receipts"]},{id:"property",name:t==="en"?"Property & Home":"Propri√©t√© et r√©sidence",icon:Cr,documents:["Property Tax Bill","Home Office Expenses","Mortgage Interest","Rental Income/Expenses"]},{id:"other",name:t==="en"?"Other Documents":"Autres documents",icon:xe,documents:["Moving Expenses","Union Dues","Professional Fees","Other Slips"]}],B=[{id:1,title:t==="en"?"Account Created":"Compte cr√©√©",status:"completed"},{id:2,title:t==="en"?"Personal Info Submitted":"Info personnelle soumise",status:"completed"},{id:3,title:t==="en"?"Upload Documents":"T√©l√©verser documents",status:"current"},{id:4,title:t==="en"?"Submit & Pay":"Soumettre et payer",status:"pending"},{id:5,title:t==="en"?"Under Review":"En r√©vision",status:"pending"}],F=A=>{m(o===A?null:A)},T=(A,R)=>{p(V=>({...V,[A]:V[A]===R?null:R}))},$=async(A,R,V,X)=>{const J=A.target.files;if(!(!J||J.length===0)){v(!0);try{for(const ne of Array.from(J)){const pe={id:Date.now().toString()+Math.random(),name:ne.name,year:R,category:V,docType:X,uploadedAt:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),size:ne.size};g(je=>[...je,pe])}alert(t==="en"?`‚úÖ ${J.length} file(s) uploaded successfully!`:`‚úÖ ${J.length} fichier(s) t√©l√©vers√©(s) avec succ√®s!`)}catch(ne){console.error("Upload error:",ne),alert(t==="en"?"‚ùå Upload failed":"‚ùå √âchec du t√©l√©versement")}finally{v(!1)}}},L=A=>{confirm(t==="en"?"Are you sure you want to remove this file?":"√ätes-vous s√ªr de vouloir supprimer ce fichier?")&&g(R=>R.filter(V=>V.id!==A))},_=(A,R,V)=>u.filter(X=>X.year===A&&X.category===R&&X.docType===V),N=async A=>{if(f)return;const R=t==="en"?`Submit Tax Return for ${A}?

You will be charged $50 CAD initial fee to submit your tax return for processing.

You can upload documents freely, but payment is required to submit.`:`Soumettre la d√©claration d'imp√¥ts pour ${A}?

Des frais initiaux de 50 $ CAD vous seront factur√©s pour soumettre votre d√©claration d'imp√¥ts pour traitement.

Vous pouvez t√©l√©verser des documents librement, mais le paiement est requis pour soumettre.`;if(confirm(R)){b(!0);try{const V=await fetch(Ce.createInitialPaymentInvoice,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ie}`},body:JSON.stringify({year:A,documentCount:u.filter(J=>J.year===A).length,amount:50})}),X=await V.json();if(!V.ok)throw new Error(X.error||"Payment failed");if(X.paymentUrl)window.location.href=X.paymentUrl;else throw new Error("No payment URL received")}catch(V){console.error("Payment error:",V),alert(t==="en"?`‚ùå Payment failed: ${V instanceof Error?V.message:"Unknown error"}`:`‚ùå √âchec du paiement: ${V instanceof Error?V.message:"Erreur inconnue"}`)}finally{b(!1)}}};return c.useEffect(()=>{(async()=>{if(!(a!=null&&a.id)){w(!1);return}try{P(R=>({...R,notificationEmail:a.email||""})),console.log("‚úÖ Dashboard initialized with empty form")}catch(R){console.error("Error initializing dashboard:",R)}finally{w(!1)}})()},[a]),e.jsxs(e.Fragment,{children:[e.jsxs(qs,{children:[e.jsx("title",{children:"Client Dashboard - DuoPro Services"}),e.jsx("meta",{name:"robots",content:"noindex"})]}),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a&&De(a.email)&&e.jsx(gd,{userEmail:a.email}),e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"bg-blue-600 text-white px-3 py-2 rounded-lg font-bold text-xl",children:"DuoPro"}),e.jsx("span",{className:"text-gray-900 font-semibold",children:"Services"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[De(a==null?void 0:a.email)&&e.jsxs("button",{onClick:()=>n("/admin/control-panel"),className:"flex items-center gap-2 px-4 py-2 bg-blue-50 border border-blue-200 text-blue-700 hover:bg-blue-100 rounded-lg font-medium transition-colors",children:[e.jsx(fe,{className:"w-4 h-4"}),e.jsx("span",{children:"Admin Panel"})]}),e.jsx("button",{onClick:()=>r(t==="en"?"fr":"en"),className:"px-3 py-2 rounded-lg border border-gray-300 hover:border-blue-600 hover:bg-blue-50 transition-colors text-sm font-medium",children:t==="en"?"FR":"EN"}),e.jsxs("button",{onClick:()=>n("/"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-blue-600 transition-colors",children:[e.jsx(Cr,{className:"w-4 h-4"}),e.jsx("span",{children:s("nav.home")})]}),e.jsxs("button",{onClick:()=>n("/login"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-red-600 transition-colors",children:[e.jsx(qr,{className:"w-4 h-4"}),e.jsx("span",{children:s("nav.logout")})]})]})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:t==="en"?"Client Portal":"Portail client"}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[e.jsxs("div",{className:"flex border-b border-gray-200 overflow-x-auto",children:[e.jsxs("button",{onClick:()=>l("personal"),className:`px-6 py-4 font-medium transition-colors whitespace-nowrap ${i==="personal"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(it,{className:"w-4 h-4 inline-block mr-2"}),t==="en"?"Personal Info":"Infos personnelles"]}),e.jsxs("button",{onClick:()=>l("filings"),className:`px-6 py-4 font-medium transition-colors whitespace-nowrap ${i==="filings"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(Ae,{className:"w-4 h-4 inline-block mr-2"}),t==="en"?"Tax Filings":"D√©clarations"]}),e.jsxs("button",{onClick:()=>l("documents"),className:`px-6 py-4 font-medium transition-colors whitespace-nowrap ${i==="documents"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(xe,{className:"w-4 h-4 inline-block mr-2"}),s("portal.documents")]}),e.jsxs("button",{onClick:()=>l("payments"),className:`px-6 py-4 font-medium transition-colors whitespace-nowrap ${i==="payments"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(Ia,{className:"w-4 h-4 inline-block mr-2"}),s("portal.payments")]}),e.jsxs("button",{onClick:()=>l("messages"),className:`px-6 py-4 font-medium transition-colors whitespace-nowrap ${i==="messages"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(js,{className:"w-4 h-4 inline-block mr-2"}),s("portal.messages")]}),e.jsxs("button",{onClick:()=>l("status"),className:`px-6 py-4 font-medium transition-colors whitespace-nowrap ${i==="status"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(mt,{className:"w-4 h-4 inline-block mr-2"}),s("portal.status")]})]}),e.jsxs("div",{className:"p-6",children:[i==="personal"&&e.jsx(ud,{language:t,personalInfo:k,updatePersonalField:E,expandedPersonalSection:h,togglePersonalSection:O,CANADIAN_PROVINCES:S}),i==="filings"&&e.jsx(xd,{language:t,taxYears:C}),i==="documents"&&e.jsx(pd,{language:t,taxYears:C,documentCategories:M,uploadedFiles:u,expandedYear:o,expandedCategory:d,toggleYear:F,toggleCategory:T,handleFileUpload:$,handleRemoveFile:L,getFilesForDocType:_,isUploading:x}),i==="payments"&&e.jsx(hd,{language:t,taxYears:C,handleSubmitTaxReturn:N,isSubmitting:f}),i==="messages"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(js,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:t==="en"?"No messages yet":"Aucun message pour le moment"}),e.jsx("p",{className:"text-sm text-gray-500",children:t==="en"?"Messages from our team will appear here":"Les messages de notre √©quipe appara√Ætront ici"})]}),i==="status"&&e.jsxs("div",{children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:t==="en"?"Current Status: Ready to Submit":"Statut actuel: Pr√™t √† soumettre"}),e.jsx("p",{className:"text-sm text-blue-700",children:t==="en"?"Upload your documents and submit your tax return. You will be charged $50 CAD initial fee upon submission.":"T√©l√©versez vos documents et soumettez votre d√©claration d'imp√¥ts. Des frais initiaux de 50 $ CAD vous seront factur√©s lors de la soumission."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:t==="en"?"Progress Timeline":"Chronologie des progr√®s"}),e.jsx("div",{className:"space-y-4",children:B.map(A=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${A.status==="completed"?"bg-green-100 text-green-600":A.status==="current"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:A.status==="completed"?e.jsx(H,{className:"w-5 h-5"}):e.jsx("span",{className:"text-sm font-semibold",children:A.id})}),e.jsx("div",{children:e.jsx("p",{className:`font-medium ${A.status==="current"?"text-blue-600":"text-gray-700"}`,children:A.title})})]},A.id))})]})]})]})]})]})]})]})}function $n(){var l;const{user:s,isAdmin:t,loading:r}=Pe(),[n,a]=c.useState(null),i=async()=>{var d;const{data:o,error:m}=await te.auth.getSession();console.log("Supabase session:",o),console.log("Supabase error:",m),a((d=o.session)==null?void 0:d.user)};return e.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:e.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"üîç Auth Debug Panel"}),r&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:e.jsx("p",{className:"text-yellow-800",children:"‚è≥ Loading..."})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-b pb-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"üìã Configured Admin Emails"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:ns.map(o=>e.jsx("li",{className:"font-mono text-sm text-blue-600",children:o},o))})]}),e.jsxs("div",{className:"border-b pb-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"üë§ Current User (from AuthContext)"}),s?e.jsxs("div",{className:"bg-gray-50 rounded p-4 font-mono text-sm space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"ID:"})," ",s.id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email:"})," ",s.email]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Name:"})," ",s.name]}),e.jsxs("div",{className:`text-lg font-bold ${t?"text-green-600":"text-red-600"}`,children:[e.jsx("strong",{children:"Is Admin:"})," ",t?"‚úÖ YES":"‚ùå NO"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email Check Result:"})," ",De(s.email)?"‚úÖ TRUE":"‚ùå FALSE"]})]}):e.jsx("p",{className:"text-gray-500",children:"No user logged in"})]}),e.jsxs("div",{className:"border-b pb-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"üîê Supabase Session"}),e.jsx("button",{onClick:i,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 mb-4",children:"Check Supabase Session"}),n&&e.jsxs("div",{className:"bg-gray-50 rounded p-4 font-mono text-sm space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"ID:"})," ",n.id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email:"})," ",n.email]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email (lowercase):"})," ",(l=n.email)==null?void 0:l.toLowerCase()]}),e.jsx("div",{children:e.jsx("strong",{children:"User Metadata:"})}),e.jsx("pre",{className:"bg-gray-100 p-2 rounded overflow-auto",children:JSON.stringify(n.user_metadata,null,2)})]})]}),s&&e.jsxs("div",{className:"border-b pb-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"üß™ Email Matching Test"}),e.jsxs("div",{className:"bg-gray-50 rounded p-4 space-y-2",children:[e.jsxs("div",{className:"font-mono text-sm",children:[e.jsx("strong",{children:"User Email:"}),' "',s.email,'"']}),e.jsxs("div",{className:"font-mono text-sm",children:[e.jsx("strong",{children:"Normalized:"}),' "',s.email.toLowerCase(),'"']}),e.jsxs("div",{className:"font-mono text-sm",children:[e.jsx("strong",{children:"Admin Emails:"})," [",ns.map(o=>`"${o}"`).join(", "),"]"]}),e.jsxs("div",{className:"font-mono text-sm",children:[e.jsx("strong",{children:"Includes?"})," ",ns.includes(s.email.toLowerCase())?"‚úÖ YES":"‚ùå NO"]}),e.jsxs("div",{className:"mt-4 space-y-1",children:[e.jsx("p",{className:"font-semibold",children:"Individual Checks:"}),ns.map(o=>e.jsxs("div",{className:"text-sm",children:['"',s.email.toLowerCase(),'" === "',o,'" ?',s.email.toLowerCase()===o?" ‚úÖ MATCH":" ‚ùå NO MATCH"]},o))]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"üìù Instructions"}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-4 text-sm",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[e.jsx("li",{children:"Abra o Console do navegador (F12 ‚Üí Console)"}),e.jsx("li",{children:"Fa√ßa login com um dos emails admin"}),e.jsx("li",{children:"Veja os logs prefixados com üîç, üîê, üëë"}),e.jsx("li",{children:"Volte a esta p√°gina para ver o status"})]})})]})]})]})})})}const rs="lqpmyvizjfwzddxspacv",ds="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxxcG15dml6amZ3emRkeHNwYWN2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNjY5NTgsImV4cCI6MjA4MTc0Mjk1OH0.h1tslLVJ3gD2rIjcM6f7NaVQn3s4BAZM1YdPFlAjT_U";function Ln(){const s=ye(),[t,r]=c.useState(!1),[n,a]=c.useState([]),[i,l]=c.useState([]),[o,m]=c.useState(!1),d=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"],p=b=>{l(h=>[...h,b])},u=async()=>{var b;r(!0),l([]),m(!1),p("üìã Listando usu√°rios do Supabase Auth...");try{const h=await fetch(`https://${rs}.supabase.co/functions/v1/make-server-c2a25be0/auth/admin/list-users`,{method:"GET",headers:{Authorization:`Bearer ${ds}`}});if(h.ok){const j=await h.json();a(j.users||[]),p(`‚úÖ Encontrados ${((b=j.users)==null?void 0:b.length)||0} usu√°rios`),j.users&&j.users.length>0&&(p(""),p("üë• USU√ÅRIOS ENCONTRADOS:"),j.users.forEach((y,w)=>{p(`   ${w+1}. ${y.email} (ID: ${y.id.substring(0,8)}...)`)}))}else p(`‚ùå Erro ao listar usu√°rios: ${h.status}`)}catch(h){p(`‚ùå Erro de conex√£o: ${h.message}`)}r(!1)},g=async()=>{r(!0),l([]),m(!1),p("üîß Criando usu√°rio de teste..."),p("üìß Email: test@example.com"),p("üîë Senha: test123456");try{const b=await fetch(`https://${rs}.supabase.co/functions/v1/make-server-c2a25be0/auth/create-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ds}`},body:JSON.stringify({email:"test@example.com",password:"test123456",name:"Test User"})}),h=await b.json();b.ok&&h.success?(p("‚úÖ Usu√°rio de teste criado com sucesso!"),p(""),p("üìù Credenciais:"),p("   Email: test@example.com"),p("   Senha: test123456"),m(!0)):p(`‚ùå Erro: ${h.error||"Erro desconhecido"}`)}catch(b){p(`‚ùå Erro de conex√£o: ${b.message}`)}r(!1)},x=async()=>{if(confirm("‚ö†Ô∏è ATEN√á√ÉO: Isso vai DELETAR todos os usu√°rios do Supabase Auth! Tem certeza?")){r(!0),l([]),m(!1),p("üóëÔ∏è Deletando TODOS os usu√°rios...");try{const b=await fetch(`https://${rs}.supabase.co/functions/v1/make-server-c2a25be0/auth/reset-all-users`,{method:"POST",headers:{Authorization:`Bearer ${ds}`}}),h=await b.json();b.ok&&h.success?(p(`‚úÖ ${h.deletedCount} usu√°rios deletados com sucesso!`),m(!0)):p(`‚ùå Erro: ${h.error||"Erro desconhecido"}`)}catch(b){p(`‚ùå Erro de conex√£o: ${b.message}`)}r(!1)}},v=async()=>{if(confirm("üö® PERIGO: Isso vai DELETAR TUDO (usu√°rios, dados do KV store, documentos, etc)! TEM CERTEZA ABSOLUTA?")&&confirm("üî¥ √öLTIMA CHANCE: Voc√™ tem CERTEZA que quer deletar TODO o sistema?")){r(!0),l([]),m(!1),p("üóëÔ∏è INICIANDO RESET COMPLETO DO SISTEMA..."),p("‚ö†Ô∏è  Deletando: usu√°rios, dados, documentos, tudo!");try{const b=await fetch(`https://${rs}.supabase.co/functions/v1/make-server-c2a25be0/auth/complete-reset`,{method:"POST",headers:{Authorization:`Bearer ${ds}`}}),h=await b.json();b.ok&&h.success?(p(""),p("üìä RELAT√ìRIO DE DELE√á√ÉO:"),p(`   ‚úÖ Usu√°rios deletados: ${h.report.authUsersDeleted}`),p(`   ‚úÖ Registros KV deletados: ${h.report.kvRecordsDeleted}`),p(`   ‚úÖ Arquivos deletados: ${h.report.storageFilesDeleted}`),p(`   ‚úÖ Buckets deletados: ${h.report.bucketsDeleted}`),p(""),p("üéâ SISTEMA COMPLETAMENTE RESETADO!"),m(!0)):p(`‚ùå Erro: ${h.error||"Erro desconhecido"}`)}catch(b){p(`‚ùå Erro de conex√£o: ${b.message}`)}r(!1)}},f=async()=>{r(!0),l([]),m(!1),p("üöÄ INICIANDO FIX AUTOM√ÅTICO..."),p(""),p("Passo 1/2: Deletando usu√°rios existentes...");try{const b=await fetch(`https://${rs}.supabase.co/functions/v1/make-server-c2a25be0/auth/reset-all-users`,{method:"POST",headers:{Authorization:`Bearer ${ds}`}}),h=await b.json();b.ok&&h.success?p(`   ‚úÖ ${h.deletedCount} usu√°rios deletados`):p(`   ‚ö†Ô∏è Aviso: ${h.error||"Nenhum usu√°rio para deletar"}`),p(""),p("Passo 2/2: Criando 3 contas admin...");let j=0;for(const y of d){p(`   üîß Criando: ${y}`);const w=await fetch(`https://${rs}.supabase.co/functions/v1/make-server-c2a25be0/auth/create-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ds}`},body:JSON.stringify({email:y,password:"admin123",name:y.split("@")[0]})}),k=await w.json();w.ok&&k.success?(p("      ‚úÖ Criado com sucesso!"),j++):p(`      ‚ùå Erro: ${k.error}`),await new Promise(P=>setTimeout(P,300))}p(""),p("üìä RESULTADO FINAL:"),p(`   ‚úÖ ${j}/3 contas admin criadas`),j===3&&(p(""),p("üéâ SUCESSO TOTAL!"),p(""),p("üìù NOVAS CREDENCIAIS:"),d.forEach(y=>{p(`   ‚Ä¢ ${y} / admin123`)}),p(""),p("‚ú® Agora voc√™ pode fazer login!"),m(!0))}catch(b){p(`‚ùå Erro fatal: ${b.message}`)}r(!1)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 p-4 sm:p-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-600 to-indigo-600 rounded-full mb-4",children:e.jsx(Qe,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Auth Debug Panel"}),e.jsx("p",{className:"text-gray-600",children:"Manage Supabase Auth users for testing"})]}),e.jsx("div",{className:"mb-6 bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl shadow-2xl p-6 text-white",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(Wr,{className:"w-6 h-6"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"üöÄ SOLU√á√ÉO R√ÅPIDA - Resolver Erro de Login"}),e.jsx("p",{className:"text-sm text-white/90 mb-4",children:'Deleta todos os usu√°rios antigos e cria 3 novas contas admin com senha "admin123"'}),e.jsx("button",{onClick:f,disabled:t,className:"bg-white text-green-600 px-6 py-3 rounded-lg font-bold hover:bg-gray-100 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:t?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-5 h-5 animate-spin"}),"Executando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-5 h-5"}),"‚ö° EXECUTAR FIX AUTOM√ÅTICO"]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[e.jsxs("button",{onClick:u,disabled:t,className:"bg-blue-500 hover:bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5"}),"üìã List All Users"]}),e.jsxs("button",{onClick:g,disabled:t,className:"bg-green-500 hover:bg-green-600 text-white py-3 px-4 rounded-lg font-semibold transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsx(Bs,{className:"w-5 h-5"}),"üîß Create Test User"]}),e.jsxs("button",{onClick:x,disabled:t,className:"bg-orange-500 hover:bg-orange-600 text-white py-3 px-4 rounded-lg font-semibold transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsx(Us,{className:"w-5 h-5"}),"üóëÔ∏è Reset All Users"]})]}),e.jsxs("div",{className:"bg-red-50 border-2 border-red-300 rounded-xl p-6 mb-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(il,{className:"w-6 h-6 text-red-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-red-900 text-lg",children:"‚ö†Ô∏è DANGER ZONE"}),e.jsx("p",{className:"text-sm text-red-800",children:"Deleta TUDO: usu√°rios, clientes, documentos, invoices, hist√≥rico completo!"})]})]}),e.jsxs("button",{onClick:v,disabled:t,className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-lg font-bold transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsx(Us,{className:"w-5 h-5"}),"üóëÔ∏è üõí COMPLETE SYSTEM RESET (DELETE EVERYTHING)"]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mb-6",children:[e.jsx("h3",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:"üìò How to use:"}),e.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"1. List All Users"})," - See which users exist in Supabase Auth"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"2. Create Test User"})," - Creates a test user with known credentials"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"3. Reset All Users"})," - Deletes ALL users (use carefully!)"]})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6 mb-6",children:[e.jsx("h3",{className:"font-bold text-yellow-900 mb-3 flex items-center gap-2",children:"üîß Common Issues:"}),e.jsxs("div",{className:"space-y-2 text-sm text-yellow-800",children:[e.jsxs("div",{children:[e.jsx("strong",{children:'"Invalid login credentials"'})," ‚Üí User exists but wrong password"]}),e.jsxs("div",{children:[e.jsx("strong",{children:'"User already registered"'})," ‚Üí Email already exists in database"]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-yellow-300",children:[e.jsx("strong",{children:"Solution:"}),' Click "Reset All Users" then go to /setup to create fresh admin']})]})]}),i.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"üìã Operation Log"}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm text-green-400 max-h-[400px] overflow-y-auto",children:[i.map((b,h)=>e.jsx("div",{className:"mb-1",children:b},h)),t&&e.jsx("div",{className:"animate-pulse mt-2",children:"‚ñä"})]}),o&&e.jsx("div",{className:"mt-4 space-y-3",children:e.jsx("button",{onClick:()=>s("/login"),className:"w-full py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-bold hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:"‚ú® Ir para Login"})})]}),n.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-4",children:["üë• Users Found: ",n.length]}),e.jsx("div",{className:"space-y-2",children:n.map(b=>e.jsxs("div",{className:"bg-gray-50 rounded p-3 text-sm",children:[e.jsx("div",{className:"font-mono text-blue-600",children:b.email}),e.jsxs("div",{className:"text-gray-500 text-xs",children:["ID: ",b.id]})]},b.id))})]}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm",children:[e.jsx("button",{onClick:()=>s("/login"),className:"text-blue-600 hover:text-blue-800 underline",children:"‚Üí Go to Login"}),e.jsx("span",{className:"text-gray-300",children:"‚Ä¢"}),e.jsx("button",{onClick:()=>s("/quick-setup"),className:"text-green-600 hover:text-green-800 underline",children:"‚Üí Go to Setup Page"})]})]})})}function _n(){const s=ye(),[t,r]=c.useState("choose"),[n,a]=c.useState("admin123"),[i,l]=c.useState(""),[o,m]=c.useState([]),[d,p]=c.useState(""),u=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"],g=v=>{m(f=>[...f,`${new Date().toLocaleTimeString()} - ${v}`]),console.log(v)},x=async v=>{r("creating"),p(""),m([]),g("üöÄ Iniciando cria√ß√£o de contas admin..."),g("üì° Project ID: undefined"),g("üîë Anon Key: ‚ùå N√£o encontrado");{p("‚ùå Vari√°veis de ambiente n√£o configuradas!"),g("‚ùå ERRO: VITE_SUPABASE_PROJECT_ID ou VITE_SUPABASE_ANON_KEY n√£o encontrado");return}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 p-4 sm:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-600 to-blue-600 rounded-full mb-4",children:e.jsx("span",{className:"text-3xl",children:"üöÄ"})}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Quick Admin Setup"}),e.jsx("p",{className:"text-gray-600",children:"Crie as 3 contas admin em segundos"})]}),t==="choose"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Escolha a senha para as contas admin"}),e.jsx("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-300 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"radio",id:"quick",name:"password-option",checked:n==="admin123",onChange:()=>a("admin123"),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"quick",className:"block font-semibold text-gray-900 mb-1 cursor-pointer",children:'‚ö° R√°pido: Usar "admin123" (Recomendado para testes)'}),e.jsx("p",{className:"text-sm text-gray-600",children:"Perfeito para desenvolvimento. Voc√™ pode mudar depois."})]})]})}),e.jsx("div",{className:"mb-6 p-4 bg-blue-50 border-2 border-blue-300 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"radio",id:"custom",name:"password-option",checked:n==="custom",onChange:()=>a("custom"),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"custom",className:"block font-semibold text-gray-900 mb-2 cursor-pointer",children:"üîí Personalizado: Escolher minha pr√≥pria senha"}),n==="custom"&&e.jsx("input",{type:"text",value:i,onChange:v=>l(v.target.value),placeholder:"Digite sua senha (m√≠n. 6 caracteres)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",autoFocus:!0})]})]})}),e.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"‚ÑπÔ∏è Informa√ß√£o:"})," A mesma senha ser√° usada para as 3 contas:"]}),e.jsxs("ul",{className:"mt-2 text-sm text-yellow-800 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ veprass@gmail.com"}),e.jsx("li",{children:"‚Ä¢ germana.canada@gmail.com"}),e.jsx("li",{children:"‚Ä¢ jamila.coura15@gmail.com"})]})]}),d&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:d})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{const v=n==="custom"?i:"admin123";if(n==="custom"&&(!v||v.length<6)){p("‚ùå A senha deve ter pelo menos 6 caracteres");return}x()},className:"flex-1 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold text-lg hover:from-purple-700 hover:to-blue-700 transition-all shadow-lg",children:"üöÄ Criar Contas Agora"}),e.jsx("button",{onClick:()=>s("/login"),className:"px-6 py-4 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Ir para Login"})]})]}),t==="creating"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4 animate-pulse",children:e.jsx("span",{className:"text-3xl",children:"‚è≥"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Criando contas..."})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm text-green-400 max-h-96 overflow-y-auto",children:[o.map((v,f)=>e.jsx("div",{className:"mb-1",children:v},f)),e.jsx("div",{className:"animate-pulse",children:"‚ñä"})]})]}),t==="done"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:e.jsx("span",{className:"text-3xl",children:"‚úÖ"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Contas Criadas!"}),e.jsx("p",{className:"text-gray-600",children:"Agora voc√™ pode fazer login"})]}),e.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-300 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4 text-center",children:"üîë Suas Credenciais"}),e.jsx("div",{className:"space-y-3",children:u.map(v=>e.jsxs("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Email:"}),e.jsx("div",{className:"font-mono font-semibold text-gray-900",children:v}),e.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Senha:"}),e.jsx("div",{className:"font-mono font-semibold text-gray-900",children:n==="custom"?i:"admin123"})]},v))})]}),e.jsxs("details",{className:"mb-6",children:[e.jsx("summary",{className:"cursor-pointer text-gray-600 hover:text-gray-900 font-medium mb-2",children:"üìã Ver logs detalhados"}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-xs text-green-400 max-h-64 overflow-y-auto",children:o.map((v,f)=>e.jsx("div",{className:"mb-1",children:v},f))})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>s("/login"),className:"flex-1 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-semibold text-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:"‚ú® Ir para Login"}),e.jsx("button",{onClick:()=>{r("choose"),m([]),p("")},className:"px-6 py-4 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Criar Novamente"})]})]})]})})}const fd="pwlacumydrxvshklvttp",bd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB3bGFjdW15ZHJ4dnNoa2x2dHRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNjM3MTQsImV4cCI6MjA4MTczOTcxNH0.uj1rVapx5bBzp6YVFbcOwxCDZftpLzjwfMJ4aCy_B_A";function Bn(){const s=ye(),[t,r]=c.useState(!1),[n,a]=c.useState([]),[i,l]=c.useState(!1),[o,m]=c.useState("admin123"),d=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"],p=async()=>{var v,f;r(!0),a([]),l(!1);const u=[];u.push("üöÄ Iniciando cria√ß√£o de contas admin..."),a([...u]);let g=0;const x=`https://${fd}.supabase.co/functions/v1/make-server-c2a25be0`;for(const b of d){u.push(`
üìù Criando: ${b}`),a([...u]);try{u.push("   üîÑ Enviando requisi√ß√£o para o servidor..."),a([...u]);const h=await fetch(`${x}/auth/create-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${bd}`},body:JSON.stringify({email:b,password:o,name:b.split("@")[0]})});u.push(`   üì° Status: ${h.status}`),a([...u]);const j=await h.json();console.log("Server response:",j),h.ok?(u.push("   ‚úÖ Conta criada com sucesso!"),u.push(`   üÜî User ID: ${j.userId||"N/A"}`),g++):(v=j.error)!=null&&v.includes("already registered")||(f=j.error)!=null&&f.includes("User already registered")?(u.push("   ‚ö†Ô∏è Conta j√° existe (OK!)"),g++):u.push(`   ‚ùå Erro: ${j.error||JSON.stringify(j)}`)}catch(h){u.push(`   ‚ùå Erro de rede: ${h.message}`),console.error("Network error:",h)}a([...u]),await new Promise(h=>setTimeout(h,500))}u.push(`
üìä RESULTADO FINAL:`),u.push(`   ‚úÖ Sucessos: ${g}`),g===3&&(u.push(`
üéâ TODAS AS CONTAS EST√ÉO PRONTAS!`),u.push(`
üìù CREDENCIAIS PARA LOGIN:`),d.forEach(b=>{u.push(`   ‚Ä¢ Email: ${b}`),u.push(`     Senha: ${o}`)}),l(!0)),a([...u]),r(!1)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4 sm:p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-full mb-4",children:e.jsx(Bs,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Quick Admin Setup"}),e.jsx("p",{className:"text-gray-600",children:"Crie as 3 contas admin em segundos"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[!i&&!t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Configurar Senha"}),e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha para as contas admin"}),e.jsx("input",{type:"text",value:o,onChange:u=>m(u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"admin123"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"M√≠nimo 6 caracteres. A mesma senha ser√° usada para todas as contas."})]}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-800 font-semibold mb-2",children:"üìß Contas que ser√£o criadas:"}),e.jsx("ul",{className:"text-sm text-blue-800 space-y-1",children:d.map(u=>e.jsxs("li",{children:["‚Ä¢ ",u]},u))})]}),e.jsx("button",{onClick:p,disabled:o.length<6,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-semibold text-lg hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"üöÄ Criar Contas Agora"})]}),t&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ae,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Criando contas..."})]}),n.length>0&&e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm text-green-400 max-h-96 overflow-y-auto",children:[n.map((u,g)=>e.jsx("div",{className:"mb-1 whitespace-pre-wrap",children:u},g)),t&&e.jsx("div",{className:"animate-pulse",children:"‚ñä"})]})}),i&&e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"p-4 bg-green-50 border-2 border-green-300 rounded-lg flex items-start gap-3",children:[e.jsx(H,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-green-900 mb-1",children:"üéâ Contas criadas com sucesso!"}),e.jsx("p",{className:"text-sm text-green-800",children:"Agora voc√™ pode fazer login com qualquer uma das contas acima."})]})]}),e.jsx("button",{onClick:()=>s("/login"),className:"w-full py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-semibold text-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:"‚ú® Ir para Login"})]})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsx("button",{onClick:()=>s("/login"),className:"text-sm text-gray-600 hover:text-gray-900 underline",children:"‚Üê Voltar para Login"})})]})})}function Un(){const s=ye(),[t,r]=c.useState(!1),[n,a]=c.useState([]),[i,l]=c.useState(!1),[o,m]=c.useState("admin123"),d=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"],p=async()=>{r(!0),a([]),l(!1);const u=[];u.push("üîÑ Resetando senhas dos admins..."),a([...u]),u.push(`‚úÖ ProjectID: ${rs}`),u.push("‚úÖ AnonKey: Configurado"),a([...u]);const g=`https://${rs}.supabase.co/functions/v1/make-server-c2a25be0/auth/reset-password`;u.push(`üåê Server: ${g}`),a([...u]),u.push(`
üîç Testando conectividade do servidor...`),a([...u]);try{const v=await fetch(`https://${rs}.supabase.co/functions/v1/make-server-c2a25be0/auth/admin/list-users`,{method:"GET",headers:{Authorization:`Bearer ${ds}`}});if(u.push(`   üì° Status: ${v.status}`),v.ok)u.push("   ‚úÖ Servidor est√° online e respondendo!");else{u.push(`   ‚ö†Ô∏è Servidor respondeu com status ${v.status}`);const f=await v.text();u.push(`   üìÑ Resposta: ${f.substring(0,200)}`)}}catch(v){u.push(`   ‚ùå Servidor n√£o est√° acess√≠vel: ${v.message}`),u.push("   üí° Poss√≠veis causas:"),u.push("      ‚Ä¢ Edge Function n√£o foi deployada"),u.push("      ‚Ä¢ CORS bloqueando a requisi√ß√£o"),u.push("      ‚Ä¢ Servidor offline"),a([...u]),r(!1);return}a([...u]),u.push(`
üîÑ Iniciando reset de senhas...`),a([...u]);let x=0;for(const v of d){u.push(`
üîë Resetando: ${v}`),a([...u]);try{const f=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ds}`},body:JSON.stringify({email:v,newPassword:o})});u.push(`   üì° Status: ${f.status} ${f.statusText}`),a([...u]);const b=await f.text();u.push(`   üìÑ Response: ${b.substring(0,200)}...`),a([...u]);let h;try{h=JSON.parse(b)}catch{u.push("   ‚ö†Ô∏è Resposta n√£o √© JSON v√°lido"),u.push("   ‚ùå O servidor pode n√£o estar respondendo corretamente"),a([...u]);continue}f.ok&&h.success?(u.push("   ‚úÖ Senha resetada com sucesso!"),x++):u.push(`   ‚ùå Erro: ${h.error||"Erro desconhecido"}`)}catch(f){u.push(`   ‚ùå Erro de requisi√ß√£o: ${f.message}`)}a([...u]),await new Promise(f=>setTimeout(f,500))}u.push(`
üìä RESULTADO:`),u.push(`   ‚úÖ Senhas resetadas: ${x}/3`),x>0&&(u.push(`
üéâ SENHAS ATUALIZADAS!`),u.push(`
üìù NOVAS CREDENCIAIS:`),d.forEach(v=>{u.push(`   ‚Ä¢ Email: ${v}`),u.push(`     Senha: ${o}`)}),l(!0)),a([...u]),r(!1)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50 p-4 sm:p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-orange-600 to-amber-600 rounded-full mb-4",children:e.jsx(Dt,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Reset Admin Passwords"}),e.jsx("p",{className:"text-gray-600",children:"Redefina as senhas das 3 contas admin"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[!i&&!t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border-2 border-blue-300 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-blue-900 mb-2",children:"‚ÑπÔ∏è Informa√ß√£o Importante"}),e.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Os usu√°rios admin j√° existem no banco de dados! Esta ferramenta vai apenas resetar suas senhas."}),e.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[e.jsx("div",{children:"‚úÖ veprass@gmail.com"}),e.jsx("div",{children:"‚úÖ germana.canada@gmail.com"}),e.jsx("div",{children:"‚úÖ jamila.coura15@gmail.com"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nova senha para todas as contas"}),e.jsx("input",{type:"text",value:o,onChange:u=>m(u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-600 focus:border-transparent",placeholder:"admin123"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"M√≠nimo 6 caracteres. A mesma senha ser√° definida para todas as 3 contas."})]}),e.jsx("button",{onClick:p,disabled:o.length<6,className:"w-full py-4 bg-gradient-to-r from-orange-600 to-amber-600 text-white rounded-lg font-semibold text-lg hover:from-orange-700 hover:to-amber-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"üîÑ Resetar Senhas Agora"})]}),t&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ae,{className:"w-12 h-12 animate-spin text-orange-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Resetando senhas..."})]}),n.length>0&&e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm text-green-400 max-h-96 overflow-y-auto",children:[n.map((u,g)=>e.jsx("div",{className:"mb-1 whitespace-pre-wrap",children:u},g)),t&&e.jsx("div",{className:"animate-pulse",children:"‚ñä"})]})}),i&&e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"p-4 bg-green-50 border-2 border-green-300 rounded-lg flex items-start gap-3",children:[e.jsx(H,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-green-900 mb-1",children:"üéâ Senhas resetadas com sucesso!"}),e.jsx("p",{className:"text-sm text-green-800",children:"Agora voc√™ pode fazer login com a nova senha."})]})]}),e.jsx("button",{onClick:()=>s("/login"),className:"w-full py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-semibold text-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:"‚ú® Ir para Login"})]})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsx("button",{onClick:()=>s("/login"),className:"text-sm text-gray-600 hover:text-gray-900 underline",children:"‚Üê Voltar para Login"})})]})})}function zn(){const s=ye(),[t,r]=c.useState(!1),[n,a]=c.useState([]),[i,l]=c.useState(!1),o=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"],m=async()=>{r(!0),a([]),l(!1);const d=[];d.push("üîç Verificando contas admin no Supabase..."),d.push(""),d.push("üìä SITUA√á√ÉO ATUAL:"),d.push(""),d.push("‚úÖ CONTAS EXISTENTES NO SUPABASE:"),o.forEach(p=>{d.push(`   ‚Ä¢ ${p}`)}),d.push(""),d.push("üîë SENHAS QUE VOC√ä DEVE TENTAR:"),d.push(""),d.push("   1Ô∏è‚É£ admin123"),d.push("   2Ô∏è‚É£ admin123456"),d.push("   3Ô∏è‚É£ A senha que voc√™ configurou antes"),d.push(""),d.push("üí° INSTRU√á√ïES:"),d.push(""),d.push("Como as contas J√Å EXISTEM no Supabase, voc√™ precisa:"),d.push(""),d.push("OP√á√ÉO 1 - Resetar pelo Supabase Dashboard (RECOMENDADO):"),d.push("   1. Abra: https://supabase.com/dashboard"),d.push("   2. V√° em: Authentication > Users"),d.push("   3. Para cada usu√°rio:"),d.push("      ‚Ä¢ Clique nos 3 pontinhos (‚ãÆ)"),d.push('      ‚Ä¢ Clique em "Reset Password"'),d.push("      ‚Ä¢ Copie o link de reset"),d.push("      ‚Ä¢ Abra o link para definir nova senha"),d.push(""),d.push("OP√á√ÉO 2 - Usar senha tempor√°ria:"),d.push("   1. No Supabase Dashboard > Authentication > Users"),d.push("   2. Clique no usu√°rio veprass@gmail.com"),d.push('   3. Clique em "Send Magic Link"'),d.push('   4. Ou clique em "Reset Password"'),d.push(""),d.push("OP√á√ÉO 3 - Deletar e recriar:"),d.push("   1. V√° para: /auth-debug"),d.push('   2. Use a fun√ß√£o "Delete All Users"'),d.push("   3. Depois v√° para: /quick-setup"),d.push("   4. Crie as contas novamente"),d.push(""),d.push("üìù IMPORTANTE:"),d.push("   ‚Ä¢ O servidor Edge Function pode n√£o estar deployado"),d.push("   ‚Ä¢ Por isso n√£o conseguimos resetar pelo app"),d.push("   ‚Ä¢ Use o Supabase Dashboard para resetar"),d.push(""),a([...d]),r(!1)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 p-4 sm:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full mb-4",children:e.jsx(Dt,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Password Reset Instructions"}),e.jsx("p",{className:"text-gray-600",children:"Como acessar as contas admin existentes"})]}),e.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-xl p-6 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(be,{className:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-yellow-900 mb-2",children:"‚ö†Ô∏è Servidor Edge Function Indispon√≠vel"}),e.jsx("p",{className:"text-sm text-yellow-800",children:"O servidor backend n√£o est√° respondendo. Isso √© normal se voc√™ ainda n√£o fez deploy da Edge Function. Use as op√ß√µes abaixo para acessar suas contas."})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[!t&&n.length===0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-300 rounded-lg",children:[e.jsxs("h3",{className:"font-bold text-green-900 mb-2 flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5"}),"‚úÖ Contas Encontradas no Supabase"]}),e.jsx("div",{className:"space-y-1 text-sm text-green-800 ml-7",children:o.map(d=>e.jsxs("div",{children:["‚Ä¢ ",d]},d))})]}),e.jsx("button",{onClick:m,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-semibold text-lg hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg",children:"üìã Ver Instru√ß√µes de Reset"})]}),t&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ae,{className:"w-12 h-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Preparando instru√ß√µes..."})]}),n.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-xs sm:text-sm text-green-400 max-h-[500px] overflow-y-auto",children:n.map((d,p)=>e.jsx("div",{className:"mb-1 whitespace-pre-wrap",children:d},p))}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-semibold text-center hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:"üöÄ Abrir Supabase Dashboard"}),e.jsx("button",{onClick:()=>s("/auth-debug"),className:"py-3 px-4 bg-gradient-to-r from-red-600 to-rose-600 text-white rounded-lg font-semibold hover:from-red-700 hover:to-rose-700 transition-all shadow-lg",children:"üóëÔ∏è Deletar & Recriar Contas"})]}),e.jsx("button",{onClick:()=>s("/login"),className:"w-full py-3 px-4 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-all",children:"‚Üê Voltar para Login"})]})]}),e.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-xl p-6",children:[e.jsx("h3",{className:"font-bold text-blue-900 mb-3",children:"üí° Dica R√°pida"}),e.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Se voc√™ quer come√ßar do zero sem complica√ß√µes:"}),e.jsxs("ol",{className:"text-sm text-blue-800 space-y-2 ml-4",children:[e.jsxs("li",{children:["1. V√° para ",e.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded",children:"/auth-debug"})]}),e.jsx("li",{children:'2. Clique em "Delete All Users"'}),e.jsxs("li",{children:["3. V√° para ",e.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded",children:"/quick-setup"})]}),e.jsx("li",{children:"4. Crie as 3 contas admin novamente"}),e.jsx("li",{children:"5. Use: veprass@gmail.com / admin123"})]})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsx("button",{onClick:()=>s("/login"),className:"text-sm text-gray-600 hover:text-gray-900 underline",children:"‚Üê Voltar para Login"})})]})})}function Vn(){const s=ye(),[t,r]=c.useState("admin123"),[n,a]=c.useState(""),[i,l]=c.useState(!1),[o,m]=c.useState([]),[d,p]=c.useState("idle"),[u,g]=c.useState(""),x=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"],v=b=>{const j=`[${new Date().toLocaleTimeString()}] ${b}`;m(y=>[...y,j]),console.log(j)},f=async()=>{const b=i?n:t;if(!b||b.length<6){g("‚ùå A senha deve ter pelo menos 6 caracteres");return}p("resetting"),g(""),m([]),v("üîÑ Iniciando reset de senhas...");{g("‚ùå Vari√°veis de ambiente n√£o configuradas!"),v("‚ùå VITE_SUPABASE_PROJECT_ID ou VITE_SUPABASE_ANON_KEY n√£o encontrado"),p("idle");return}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-pink-50 p-4 sm:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-orange-600 to-red-600 rounded-full mb-4",children:e.jsx("span",{className:"text-3xl",children:"üîÑ"})}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Reset Admin Passwords"}),e.jsx("p",{className:"text-gray-600",children:"Redefina as senhas das 3 contas admin existentes"})]}),e.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-xl p-6 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"‚ö†Ô∏è"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-yellow-900 mb-2",children:"Importante: Use esta p√°gina quando"}),e.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[e.jsx("li",{children:"‚úÖ As contas admin J√Å EXISTEM no Supabase"}),e.jsx("li",{children:"‚úÖ Voc√™ esqueceu a senha ou ela n√£o funciona"}),e.jsx("li",{children:"‚úÖ Voc√™ quer definir uma nova senha para todos os admins"})]})]})]})}),d==="idle"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Escolha a nova senha"}),e.jsx("div",{className:"mb-4 p-4 bg-green-50 border-2 border-green-300 rounded-lg",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"password-type",checked:!i,onChange:()=>l(!1),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 mb-1",children:'‚ö° Usar "admin123" (R√°pido)'}),e.jsx("div",{className:"text-sm text-gray-600",children:"Senha simples para testes. Voc√™ pode mudar depois."})]})]})}),e.jsx("div",{className:"mb-6 p-4 bg-blue-50 border-2 border-blue-300 rounded-lg",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"password-type",checked:i,onChange:()=>l(!0),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900 mb-2",children:"üîí Senha personalizada"}),i&&e.jsx("input",{type:"text",value:n,onChange:b=>a(b.target.value),placeholder:"Digite a nova senha (m√≠n. 6 caracteres)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",autoFocus:!0})]})]})}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:e.jsx("strong",{children:"üìã Contas que ser√£o atualizadas:"})}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:x.map(b=>e.jsxs("li",{className:"font-mono",children:["‚Ä¢ ",b]},b))})]}),u&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:u})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:f,className:"flex-1 py-4 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-lg font-semibold text-lg hover:from-orange-700 hover:to-red-700 transition-all shadow-lg",children:"üîÑ Resetar Senhas Agora"}),e.jsx("button",{onClick:()=>s("/login"),className:"px-6 py-4 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]}),d==="resetting"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-orange-100 rounded-full mb-4 animate-pulse",children:e.jsx("span",{className:"text-3xl",children:"‚è≥"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Resetando senhas..."})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-xs sm:text-sm text-green-400 max-h-96 overflow-y-auto",children:[o.map((b,h)=>e.jsx("div",{className:"mb-1 break-all",children:b},h)),e.jsx("div",{className:"animate-pulse",children:"‚ñä"})]})]}),d==="done"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:e.jsx("span",{className:"text-3xl",children:"‚úÖ"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Senhas Resetadas!"}),e.jsx("p",{className:"text-gray-600",children:"Agora voc√™ pode fazer login com a nova senha"})]}),e.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-300 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4 text-center",children:"üîë Suas Novas Credenciais"}),e.jsx("div",{className:"space-y-3",children:x.map(b=>e.jsxs("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Email:"}),e.jsx("div",{className:"font-mono font-semibold text-gray-900 break-all",children:b}),e.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Nova Senha:"}),e.jsx("div",{className:"font-mono font-semibold text-gray-900",children:i?n:t})]},b))})]}),e.jsxs("details",{className:"mb-6",children:[e.jsx("summary",{className:"cursor-pointer text-gray-600 hover:text-gray-900 font-medium mb-2",children:"üìã Ver logs detalhados"}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-xs text-green-400 max-h-64 overflow-y-auto",children:o.map((b,h)=>e.jsx("div",{className:"mb-1 break-all",children:b},h))})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>s("/login"),className:"flex-1 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-semibold text-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:"‚ú® Ir para Login"}),e.jsx("button",{onClick:()=>{p("idle"),m([]),g("")},className:"px-6 py-4 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Resetar Novamente"})]})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:[e.jsxs("p",{children:["Precisa criar novas contas? ",e.jsx("button",{onClick:()=>s("/setup"),className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"Ir para Setup"})]}),e.jsxs("p",{className:"mt-2",children:["Precisa de ajuda? ",e.jsx("button",{onClick:()=>s("/auth-debug"),className:"text-gray-500 hover:text-gray-700 underline",children:"Abrir Debug"})]})]})]})})}const vd="modulepreload",yd=function(s){return"/"+s},Hn={},Ks=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(r.map(m=>{if(m=yd(m),m in Hn)return;Hn[m]=!0;const d=m.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${p}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":vd,d||(u.as="script"),u.crossOrigin="",u.href=m,o&&u.setAttribute("nonce",o),document.head.appendChild(u),d)return new Promise((g,x)=>{u.addEventListener("load",g),u.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};function qn(){const s=ye(),[t,r]=c.useState([]),[n,a]=c.useState(!1),[i,l]=c.useState([]),[o,m]=c.useState(""),[d,p]=c.useState("admin123"),[u,g]=c.useState("veprass@gmail.com"),[x,v]=c.useState("admin123"),f=void 0,b=void 0,h=C=>{const E=`[${new Date().toLocaleTimeString()}] ${C}`;l(O=>[...O,E]),console.log(E)},j=async()=>{a(!0),l([]),h("üîç Listando todos os usu√°rios no Supabase...");try{const C=await fetch(`https://${f}.supabase.co/functions/v1/make-server-c2a25be0/admin/list-users`,{method:"GET",headers:{Authorization:`Bearer ${b}`}}),S=await C.json();C.ok&&S.users?(r(S.users),h(`‚úÖ Encontrados ${S.users.length} usu√°rios`),S.users.forEach((E,O)=>{h(`   ${O+1}. ${E.email} (ID: ${E.id.substring(0,8)}...)`)})):h(`‚ùå Erro: ${S.error||"Falha ao listar usu√°rios"}`)}catch(C){h(`‚ùå Erro de rede: ${C.message}`)}finally{a(!1)}},y=async(C,S)=>{h(`
üîÑ Resetando senha para: ${C}`);try{const E=await fetch(`https://${f}.supabase.co/functions/v1/make-server-c2a25be0/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({email:C,newPassword:S})}),O=await E.json();return E.ok&&O.success?(h(`‚úÖ Senha resetada com sucesso para ${C}!`),h(`   Nova senha: ${S}`),!0):(h(`‚ùå Erro: ${O.error||"Falha ao resetar senha"}`),!1)}catch(E){return h(`‚ùå Erro de rede: ${E.message}`),!1}},w=async()=>{var C,S;l([]),h(`üîê Testando login com: ${u}`),h(`üîë Senha: ${x}`);try{const{createClient:E}=await Ks(async()=>{const{createClient:F}=await import("./supabase-C9VFef86.js").then(T=>T.i);return{createClient:F}},[]),O=E(`https://${f}.supabase.co`,b);h("üì° Enviando requisi√ß√£o de login...");const{data:M,error:B}=await O.auth.signInWithPassword({email:u,password:x});return B?(h(`‚ùå ERRO DE LOGIN: ${B.message}`),h(`   C√≥digo: ${B.status}`),h(`   Detalhes: ${JSON.stringify(B)}`),B.message.includes("Invalid login credentials")&&(h(`
üí° DIAGN√ìSTICO:`),h("   ‚Ä¢ O usu√°rio existe mas a senha est√° incorreta"),h("   ‚Ä¢ OU o email n√£o est√° confirmado"),h('   ‚Ä¢ Use o bot√£o "Reset Password" abaixo para corrigir')),!1):M.user?(h("‚úÖ LOGIN BEM SUCEDIDO!"),h(`   User ID: ${M.user.id}`),h(`   Email: ${M.user.email}`),h(`   Email confirmado: ${M.user.email_confirmed_at?"Sim":"N√£o"}`),h(`   Access Token: ${(S=(C=M.session)==null?void 0:C.access_token)==null?void 0:S.substring(0,20)}...`),h(`
üéâ Voc√™ pode fazer login normalmente agora!`),!0):(h("‚ö†Ô∏è Login retornou sem erro mas sem dados"),!1)}catch(E){return h(`‚ùå Erro cr√≠tico: ${E.message}`),h(`   Stack: ${E.stack}`),!1}},k=async()=>{const C=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"];l([]),h("üîÑ Resetando senhas de todos os 3 admins..."),h(`üîë Nova senha: ${d}
`);let S=0;for(const E of C)await y(E,d)&&S++,await new Promise(M=>setTimeout(M,500));h(`
üìä RESULTADO: ${S}/3 senhas resetadas`),S===3&&(h(`
‚úÖ SUCESSO TOTAL! Agora voc√™ pode fazer login com:`),C.forEach(E=>{h(`   Email: ${E}`),h(`   Senha: ${d}
`)}))},P=async C=>{if(confirm(`‚ö†Ô∏è Tem certeza que quer DELETAR ${C}?`)){h(`
üóëÔ∏è Deletando usu√°rio: ${C}`);try{const S=await fetch(`https://${f}.supabase.co/functions/v1/make-server-c2a25be0/admin/delete-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({email:C})}),E=await S.json();S.ok&&E.success?(h(`‚úÖ Usu√°rio deletado: ${C}`),j()):h(`‚ùå Erro: ${E.error||"Falha ao deletar"}`)}catch(S){h(`‚ùå Erro: ${S.message}`)}}};return c.useEffect(()=>{j()},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 p-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"üîß Admin Diagnostic Center"}),e.jsx("p",{className:"text-gray-600",children:"Diagn√≥stico completo, reset de senhas e testes de login"})]}),e.jsx("button",{onClick:()=>s("/login"),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg font-medium transition-colors",children:"‚Üê Voltar para Login"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Project ID"}),e.jsx("div",{className:"font-mono text-sm font-semibold",children:"‚ùå N√£o configurado"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Anon Key"}),e.jsx("div",{className:"font-mono text-sm font-semibold",children:"‚ùå N√£o configurado"})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"üë• Usu√°rios Existentes"}),e.jsxs("button",{onClick:j,disabled:n,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[e.jsx(Wr,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Atualizar"]})]}),t.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:n?"‚è≥ Carregando...":"‚ùå Nenhum usu√°rio encontrado"}):e.jsx("div",{className:"space-y-3",children:t.map(C=>e.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-mono font-semibold text-gray-900 mb-1",children:C.email}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsxs("div",{children:["ID: ",C.id]}),e.jsxs("div",{children:["Criado: ",new Date(C.created_at).toLocaleString()]}),e.jsx("div",{className:"flex items-center gap-2",children:C.email_confirmed_at?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{className:"text-green-600",children:"Email confirmado"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Vs,{className:"w-3 h-3 text-red-600"}),e.jsx("span",{className:"text-red-600",children:"Email N√ÉO confirmado"})]})})]})]}),e.jsx("button",{onClick:()=>P(C.email),className:"ml-2 p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Deletar usu√°rio",children:e.jsx(Us,{className:"w-4 h-4"})})]})},C.id))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-blue-600 rounded-xl shadow-xl p-6 text-white",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"‚ö° A√ß√µes R√°pidas"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:k,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-white text-purple-600 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:[e.jsx(ol,{className:"w-5 h-5"}),"Resetar TODOS os 3 Admins (senha: ",d,")"]}),e.jsx("input",{type:"text",value:d,onChange:C=>p(C.target.value),placeholder:"Nova senha para todos",className:"w-full px-4 py-2 rounded-lg text-gray-900 border-2 border-white/20"}),e.jsxs("button",{onClick:()=>s("/setup"),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition-colors",children:[e.jsx(Bs,{className:"w-5 h-5"}),"Criar Novas Contas Admin"]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"üîê Testar Login"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:u,onChange:C=>g(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),e.jsx("input",{type:"text",value:x,onChange:C=>v(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"})]}),e.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors",children:[e.jsx(Oa,{className:"w-5 h-5"}),"Testar Login Agora"]}),e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsx("p",{className:"text-xs text-yellow-800",children:"üí° Este teste faz login real no Supabase e mostra logs detalhados abaixo"})})]})]}),e.jsxs("div",{className:"bg-gray-900 rounded-xl shadow-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"üìã Logs"}),e.jsx("button",{onClick:()=>l([]),className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Limpar"})]}),e.jsx("div",{className:"bg-black rounded-lg p-4 font-mono text-xs text-green-400 max-h-96 overflow-y-auto",children:i.length===0?e.jsx("div",{className:"text-gray-500",children:"Aguardando a√ß√µes..."}):i.map((C,S)=>e.jsx("div",{className:"mb-1 break-all",children:C},S))})]})]})]})]})})}function Wn(){const s=ye(),{user:t,isAdmin:r,loading:n}=Pe(),[a,i]=c.useState(null),[l,o]=c.useState({reactRouterLoaded:!1,authContextLoaded:!1,supabaseClientLoaded:!1,adminConfigLoaded:!1,consoleFilterLoaded:!1});c.useEffect(()=>{(async()=>{const u=!!Pe,g=!!te,x=ns.length>0;o({reactRouterLoaded:!0,authContextLoaded:u,supabaseClientLoaded:g,adminConfigLoaded:x,consoleFilterLoaded:!0});try{const{error:f}=await te.auth.getSession();i(!f)}catch{i(!1)}})()},[]);const m=({status:d})=>d===null?e.jsx(be,{className:"w-5 h-5 text-yellow-500"}):d?e.jsx(H,{className:"w-5 h-5 text-green-500"}):e.jsx(Vs,{className:"w-5 h-5 text-red-500"});return e.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:()=>s(-1),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:e.jsx(Hs,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-3xl font-bold",children:"üîß System Status"})]}),e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(H,{className:"w-8 h-8 text-green-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-green-900 mb-2",children:"‚úÖ React Router Fixed Successfully!"}),e.jsxs("p",{className:"text-green-800",children:["All imports have been updated from ",e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded",children:"react-router-dom"})," to"," ",e.jsx("code",{className:"bg-green-100 px-2 py-1 rounded",children:"react-router"})]}),e.jsx("p",{className:"text-green-800 mt-2",children:"The application is loading correctly and all routes are functional."})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"üì¶ Core Components"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"React Router"}),e.jsx(m,{status:l.reactRouterLoaded})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Auth Context"}),e.jsx(m,{status:l.authContextLoaded})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Supabase Client"}),e.jsx(m,{status:l.supabaseClientLoaded})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Admin Configuration"}),e.jsx(m,{status:l.adminConfigLoaded})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Console Filter"}),e.jsx(m,{status:l.consoleFilterLoaded})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Supabase Connection"}),e.jsx(m,{status:a})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"üë§ Authentication Status"}),n?e.jsx("p",{className:"text-gray-500",children:"Loading..."}):t?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(H,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-900",children:"Logged In"})]}),e.jsxs("div",{className:"ml-7 space-y-1 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",t.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",t.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ID:"})," ",e.jsx("code",{className:"text-xs",children:t.id})]})]})]}),e.jsxs("div",{className:`p-3 rounded-lg border ${r?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200"}`,children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"font-semibold text-purple-900",children:"Admin Access"})]}):e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Regular User"})]})}),e.jsxs("div",{className:"ml-7 space-y-1 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"isAdmin (Context):"})," ",r?"‚úÖ YES":"‚ùå NO"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"isAdminEmail():"})," ",De(t.email)?"‚úÖ YES":"‚ùå NO"]})]})]})]}):e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(be,{className:"w-5 h-5 text-yellow-600"}),e.jsx("span",{className:"font-semibold text-yellow-900",children:"Not Logged In"})]}),e.jsx("p",{className:"ml-7 text-sm text-yellow-800 mt-2",children:"Please log in to test the authentication system."})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"üìã Configured Admin Emails"}),e.jsx("ul",{className:"space-y-2",children:ns.map((d,p)=>e.jsx("li",{className:`p-3 rounded-lg ${(t==null?void 0:t.email.toLowerCase())===d?"bg-purple-50 border-2 border-purple-300":"bg-gray-50 border border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("code",{className:"font-mono text-sm",children:d}),(t==null?void 0:t.email.toLowerCase())===d&&e.jsx("span",{className:"text-xs bg-purple-600 text-white px-2 py-1 rounded font-semibold",children:"YOU"})]})},d))})]}),e.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-blue-900 mb-3",children:"üöÄ Next Steps"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-blue-800",children:[e.jsxs("li",{children:["If not logged in, go to ",e.jsx("strong",{children:"/login"})," and sign in with an admin email"]}),e.jsxs("li",{children:["After login, visit ",e.jsx("strong",{children:"/auth-debug"})," for detailed authentication info"]}),e.jsx("li",{children:"Check the browser console (F12) for detailed logs (Datadog errors are now filtered)"}),e.jsx("li",{children:`If you're an admin, you should see an "Admin Panel" button in the dashboard`})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>s("/login"),className:"flex-1 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Go to Login"}),e.jsx("button",{onClick:()=>s("/auth-debug"),className:"flex-1 py-3 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700 transition-colors",children:"Go to Auth Debug"})]})]})})}function se({className:s,...t}){return e.jsx("div",{"data-slot":"card",className:Se("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",s),...t})}function jd(){const s=ye(),{user:t}=Pe(),[r,n]=c.useState([]),[a,i]=c.useState(!0);c.useEffect(()=>{l()},[t]);const l=async()=>{i(!0);const m=ns.map(d=>{var p,u;return{email:d,exists:!0,isLoggedIn:((p=t==null?void 0:t.email)==null?void 0:p.toLowerCase())===d.toLowerCase(),isCurrentUser:((u=t==null?void 0:t.email)==null?void 0:u.toLowerCase())===d.toLowerCase()}});n(m),i(!1)},o=De(t==null?void 0:t.email);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(Y,{onClick:()=>s("/admin"),variant:"ghost",className:"mb-4",children:[e.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Voltar ao Admin Hub"]}),e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(Qe,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Verifica√ß√£o de Administradores"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Status dos 3 usu√°rios admin configurados"})]})]})]}),e.jsx(se,{className:"p-6 mb-6 border-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(fn,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Usu√°rio atual:"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:(t==null?void 0:t.email)||"N√£o logado"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:o?e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-100 border border-green-300 rounded-lg",children:[e.jsx(Fs,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-700",children:"√â Admin"})]}):e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-red-100 border border-red-300 rounded-lg",children:[e.jsx(Ve,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{className:"font-semibold text-red-700",children:"N√£o √© Admin"})]})})]})}),e.jsxs(se,{className:"p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(Qe,{className:"w-6 h-6 text-purple-600"}),"Lista de Administradores Configurados"]}),e.jsx("div",{className:"space-y-4",children:r.map((m,d)=>e.jsx("div",{className:`
                  p-6 rounded-xl border-2 transition-all
                  ${m.isCurrentUser?"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-300 shadow-md":"bg-white border-gray-200 hover:border-gray-300"}
                `,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`
                      w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg
                      ${m.isCurrentUser?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}
                    `,children:d+1}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:m.email}),e.jsx("div",{className:"flex items-center gap-3 mt-1",children:e.jsxs("span",{className:"text-sm text-gray-600",children:[m.email==="veprass@gmail.com"&&"üë©‚Äçüíº Veronica Prass",m.email==="germana.canada@gmail.com"&&"üë©‚Äçüíº Germana Azevedo",m.email==="jamila.coura15@gmail.com"&&"üë©‚Äçüíº Jamila Azevedo"]})})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-purple-100 border border-purple-300 rounded-full",children:[e.jsx(Qe,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-xs font-semibold text-purple-700",children:"ADMIN"})]}),m.isCurrentUser&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-100 border border-blue-300 rounded-full",children:[e.jsx(Fs,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-xs font-semibold text-blue-700",children:"VOC√ä"})]})]})]})},m.email))})]}),e.jsx(se,{className:"mt-6 p-6 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(be,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-bold text-blue-900 text-lg",children:"‚ÑπÔ∏è Informa√ß√µes Importantes"}),e.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"‚úÖ Frontend:"})," Os 3 emails est√£o configurados em"," ",e.jsx("code",{className:"px-2 py-1 bg-blue-100 rounded",children:"/src/app/config/admins.ts"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"‚úÖ Backend:"})," Os 3 emails est√£o configurados em"," ",e.jsx("code",{className:"px-2 py-1 bg-blue-100 rounded",children:"/supabase/functions/server/index.tsx"})]}),e.jsx("p",{className:"pt-2 border-t border-blue-200",children:e.jsx("strong",{children:"üîê Permiss√µes Admin:"})}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 pl-4",children:[e.jsx("li",{children:"Acesso total a todos os pain√©is administrativos"}),e.jsx("li",{children:"Gerenciamento de usu√°rios e permiss√µes"}),e.jsx("li",{children:"Visualiza√ß√£o e edi√ß√£o de clientes"}),e.jsx("li",{children:"Acesso ao Content Calendar e Launch Roadmap"}),e.jsx("li",{children:"Configura√ß√£o de pagamentos e invoices"})]})]})]})]})}),e.jsxs("div",{className:"mt-6 flex gap-4",children:[e.jsxs(Y,{onClick:()=>s("/admin"),className:"flex-1",size:"lg",children:[e.jsx(Qe,{className:"w-5 h-5 mr-2"}),"Ir para Admin Hub"]}),e.jsxs(Y,{onClick:()=>s("/quick-admin-setup"),variant:"outline",className:"flex-1",size:"lg",children:[e.jsx(fn,{className:"w-5 h-5 mr-2"}),"Setup de Admins"]})]})]})})}const ft=[{id:"control-panel",name:"Admin Control Panel",description:"Main control center with modular views",route:"/admin/control-panel",icon:Ns,color:"text-blue-600",bgColor:"bg-blue-50",category:"primary"},{id:"admin-hub",name:"Admin Hub",description:"Dashboard overview with analytics",route:"/admin/hub",icon:Ns,color:"text-purple-600",bgColor:"bg-purple-50",category:"primary"},{id:"clients",name:"Client Management",description:"View and manage all clients",route:"/admin/clients",icon:fe,color:"text-green-600",bgColor:"bg-green-50",category:"management"},{id:"users",name:"User Management",description:"Manage users and permissions",route:"/admin/users",icon:ll,color:"text-indigo-600",bgColor:"bg-indigo-50",category:"management"},{id:"crm",name:"CRM - Lead Management",description:"Manage leads and opportunities",route:"/admin/crm",icon:Yr,color:"text-orange-600",bgColor:"bg-orange-50",category:"management"},{id:"team-activity",name:"Team Activities",description:"Track team tasks and activities",route:"/admin/team-activity",icon:$a,color:"text-pink-600",bgColor:"bg-pink-50",category:"tools"}],Nd={primary:"Primary Dashboards",management:"Management Tools",tools:"Productivity Tools"};function wd(){const s=ye(),{user:t}=Pe();c.useEffect(()=>{const n=performance.now();if(console.log("üöÄ [AdminIndex] Page load started"),!t||!De(t.email)){U.error("Access denied. Admin only."),s("/login");return}const a=performance.now()-n;console.log(`‚úÖ [AdminIndex] Page loaded in ${a.toFixed(2)}ms`),a<100&&console.log("‚ö° FAST LOAD - Excellent performance!")},[t,s]);const r={primary:ft.filter(n=>n.category==="primary"),management:ft.filter(n=>n.category==="management"),tools:ft.filter(n=>n.category==="tools")};return e.jsxs(e.Fragment,{children:[e.jsxs(qs,{children:[e.jsx("title",{children:"Admin Access - DuoPro Services"}),e.jsx("meta",{name:"robots",content:"noindex"})]}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-600 rounded-xl",children:e.jsx(Qe,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Access Center"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Welcome, ",t==null?void 0:t.email," ‚Ä¢ Select a panel to manage"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Panels"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:ft.length})]}),e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsx(Ns,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Management Tools"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.management.length})]}),e.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:e.jsx(cl,{className:"w-6 h-6 text-green-600"})})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-all",onClick:()=>s("/admin-check"),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Admin Users"}),e.jsx("p",{className:"text-xl font-bold text-green-600 mt-1",children:"3 Configured"})]}),e.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:e.jsx(Qe,{className:"w-6 h-6 text-green-600"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Click to verify ‚Üí"})]})]}),Object.entries(r).map(([n,a])=>e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-1 h-6 bg-blue-600 rounded-full"}),Nd[n]]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(i=>{const l=i.icon;return e.jsxs("button",{onClick:()=>s(i.route),className:"group bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-left hover:shadow-lg hover:border-blue-300 transition-all duration-200 hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`p-3 ${i.bgColor} rounded-lg group-hover:scale-110 transition-transform`,children:e.jsx(l,{className:`w-6 h-6 ${i.color}`})}),e.jsx(Ft,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.name}),e.jsx("p",{className:"text-sm text-gray-600",children:i.description}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Click to access ‚Üí"})})]},i.id)})})]},n)),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-1 h-6 bg-green-600 rounded-full"}),"üí° Recommendations"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"p-6 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"üìÖ Daily Operations"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Control Panel"}),e.jsx("li",{children:"‚Ä¢ Client Management"}),e.jsx("li",{children:"‚Ä¢ Team Activities"})]})]}),e.jsxs("div",{className:"p-6 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:"üìä Analytics"}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Admin Hub"}),e.jsx("li",{children:"‚Ä¢ Client Management"})]})]}),e.jsxs("div",{className:"p-6 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:"‚öôÔ∏è Advanced"}),e.jsxs("ul",{className:"text-sm text-orange-800 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ User Management"}),e.jsx("li",{children:"‚Ä¢ CRM"})]})]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl shadow-lg p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Ready to start?"}),e.jsx("p",{className:"text-blue-100",children:"Open the Control Panel for quick access to all modules"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>s("/admin/control-panel"),className:"px-6 py-3 bg-white text-blue-600 rounded-lg font-semibold hover:bg-blue-50 transition-colors shadow-lg",children:"Open Control Panel"}),e.jsx("button",{onClick:()=>s("/"),className:"px-6 py-3 bg-blue-700 text-white rounded-lg font-semibold hover:bg-blue-800 transition-colors border border-blue-500",children:"Back to Home"})]})]})})]})]})]})}const Yn=c.lazy(()=>Ks(()=>import("./ClientsModule-BuMRhySW.js"),__vite__mapDeps([0,1,2,3]))),Cd=c.lazy(()=>Ks(()=>import("./FinancialModule-DYeMWjHy.js"),__vite__mapDeps([4,1,2,5,3]))),Sd=c.lazy(()=>Ks(()=>import("./ProjectsModuleNew-Cp9hkUci.js"),__vite__mapDeps([6,1,2,5,3]))),kd=c.lazy(()=>Ks(()=>import("./SocialCalendarModule-C024J3eG.js"),__vite__mapDeps([7,1,2,3]))),Gn=[{id:"clients",name:"Client Management",icon:fe,color:"text-blue-600",bgColor:"bg-blue-50"},{id:"financial",name:"Financial Control",icon:me,color:"text-green-600",bgColor:"bg-green-50"},{id:"projects",name:"Project Management",icon:Ma,color:"text-purple-600",bgColor:"bg-purple-50"},{id:"social",name:"Social Media Calendar",icon:Ae,color:"text-pink-600",bgColor:"bg-pink-50"},{id:"crm",name:"CRM - Lead Management",icon:Yr,color:"text-orange-600",bgColor:"bg-orange-50"}];function Qn(){const{user:s}=Pe(),t=ye(),[r,n]=c.useState("clients"),[a,i]=c.useState(!0),[l,o]=c.useState(!0);c.useEffect(()=>{if(!s||!De(s.email)){U.error("Access denied. Admin only."),t("/login");return}o(!1)},[s,t]);const m=async()=>{try{await te.auth.signOut(),t("/login"),U.success("Signed out successfully")}catch(g){console.error("Sign out error:",g),U.error("Failed to sign out")}},d=()=>e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ae,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading module..."})]})}),p=()=>{const g=(()=>{switch(r){case"clients":return Yn;case"financial":return Cd;case"projects":return Sd;case"social":return kd;default:return Yn}})();return e.jsx(c.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(g,{})})};if(l)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading admin panel..."})]})});const u=Gn.find(g=>g.id===r);return e.jsxs(e.Fragment,{children:[e.jsxs(qs,{children:[e.jsx("title",{children:"Admin Control Panel - DuoPro Services"}),e.jsx("meta",{name:"robots",content:"noindex"})]}),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[e.jsxs("aside",{className:`${a?"w-64":"w-20"} bg-white border-r border-gray-200 flex flex-col transition-all duration-300`,children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a&&e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-lg text-gray-900",children:"Admin Panel"}),e.jsx("p",{className:"text-xs text-gray-500",children:s==null?void 0:s.email})]}),e.jsx("button",{onClick:()=>i(!a),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a?e.jsx(Ve,{className:"w-5 h-5 text-gray-600"}):e.jsx(dl,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[Gn.map(g=>{const x=g.icon,v=r===g.id;return g.id==="crm"?e.jsxs("button",{onClick:()=>t("/admin/crm"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all text-gray-700 hover:bg-gray-50",title:a?void 0:g.name,children:[e.jsx(x,{className:"w-5 h-5 text-gray-600"}),a&&e.jsx("span",{className:"text-sm",children:g.name})]},g.id):e.jsxs("button",{onClick:()=>n(g.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${v?`${g.bgColor} ${g.color} font-semibold`:"text-gray-700 hover:bg-gray-50"}`,title:a?void 0:g.name,children:[e.jsx(x,{className:`w-5 h-5 ${v?g.color:"text-gray-600"}`}),a&&e.jsx("span",{className:"text-sm",children:g.name})]},g.id)}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"border-t border-gray-200"})}),e.jsxs("button",{onClick:()=>t("/admin/team-activity"),className:"w-full flex items-center gap-3 px-4 py-3 bg-indigo-50 text-indigo-600 hover:bg-indigo-100 rounded-lg transition-all font-medium",title:a?void 0:"Team Activities",children:[e.jsx($a,{className:"w-5 h-5 text-indigo-600"}),a&&e.jsx("span",{className:"text-sm",children:"Team Activities"})]})]}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("button",{onClick:m,className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:a?void 0:"Sign Out",children:[e.jsx(qr,{className:"w-5 h-5"}),a&&e.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto",children:[e.jsx("header",{className:"bg-white border-b border-gray-200 px-8 py-6",children:e.jsx("div",{className:"flex items-center gap-4",children:u&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`p-3 ${u.bgColor} rounded-lg`,children:e.jsx(u.icon,{className:`w-6 h-6 ${u.color}`})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:u.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Manage and monitor your ",u.name.toLowerCase()]})]})]})})}),e.jsx("div",{className:"p-8",children:p()})]})]})]})}const Be=[{id:"individual-simple",name:{en:"Individual - Simple",fr:"Individuel - Simple",pt:"Individual - Simples"},description:{en:"T4 only, no deductions",fr:"T4 seulement, sans d√©ductions",pt:"Apenas T4, sem dedu√ß√µes"},amount:80,category:"personal",filingType:"individual"},{id:"individual-standard",name:{en:"Individual - Standard",fr:"Individuel - Standard",pt:"Individual - Padr√£o"},description:{en:"T4 + basic deductions (medical, donations, RRSP)",fr:"T4 + d√©ductions de base (m√©dical, dons, REER)",pt:"T4 + dedu√ß√µes b√°sicas (m√©dico, doa√ß√µes, RRSP)"},amount:120,category:"personal",filingType:"individual"},{id:"individual-complex",name:{en:"Individual - Complex",fr:"Individuel - Complexe",pt:"Individual - Complexo"},description:{en:"Multiple income sources, rental, investments",fr:"Sources multiples de revenus, location, investissements",pt:"M√∫ltiplas fontes de renda, aluguel, investimentos"},amount:200,category:"personal",filingType:"individual"},{id:"couple-simple",name:{en:"Couple - Simple",fr:"Couple - Simple",pt:"Casal - Simples"},description:{en:"2 coordinated T1 returns, T4 only",fr:"2 d√©clarations T1 coordonn√©es, T4 seulement",pt:"2 declara√ß√µes T1 coordenadas, apenas T4"},amount:150,category:"personal",filingType:"couple"},{id:"couple-standard",name:{en:"Couple - Standard",fr:"Couple - Standard",pt:"Casal - Padr√£o"},description:{en:"2 coordinated T1 returns with basic deductions",fr:"2 d√©clarations T1 coordonn√©es avec d√©ductions de base",pt:"2 declara√ß√µes T1 coordenadas com dedu√ß√µes b√°sicas"},amount:180,category:"personal",filingType:"couple"},{id:"couple-complex",name:{en:"Couple - Complex",fr:"Couple - Complexe",pt:"Casal - Complexo"},description:{en:"2 coordinated T1 returns, multiple income sources",fr:"2 d√©clarations T1 coordonn√©es, sources multiples",pt:"2 declara√ß√µes T1 coordenadas, m√∫ltiplas fontes de renda"},amount:350,category:"personal",filingType:"couple"},{id:"personal-quebec",name:{en:"Personal - Quebec (with RL-1)",fr:"Personnel - Qu√©bec (avec RL-1)",pt:"Pessoal - Quebec (com RL-1)"},description:{en:"Quebec residents with Relev√© 1",fr:"R√©sidents du Qu√©bec avec Relev√© 1",pt:"Residentes de Quebec com Relev√© 1"},amount:200,category:"personal"},{id:"business-self-employed",name:{en:"Self-Employed",fr:"Travailleur Autonome",pt:"Aut√¥nomo"},description:{en:"Self-employment income (T2125)",fr:"Revenus de travail autonome (T2125)",pt:"Renda de trabalho aut√¥nomo (T2125)"},amount:350,category:"business"},{id:"business-small",name:{en:"Small Business",fr:"Petite Entreprise",pt:"Pequena Empresa"},description:{en:"Small business with basic bookkeeping",fr:"Petite entreprise avec tenue de livres de base",pt:"Pequena empresa com contabilidade b√°sica"},amount:400,category:"business"},{id:"business-corporate",name:{en:"Corporate Return",fr:"D√©claration de Soci√©t√©",pt:"Declara√ß√£o Corporativa"},description:{en:"Corporation tax return (T2)",fr:"D√©claration d'imp√¥t des soci√©t√©s (T2)",pt:"Declara√ß√£o de imposto corporativo (T2)"},amount:600,category:"business"},{id:"addon-previous-year",name:{en:"Previous Year Filing",fr:"D√©claration Ann√©e Pr√©c√©dente",pt:"Declara√ß√£o Ano Anterior"},description:{en:"Additional charge per previous year",fr:"Frais suppl√©mentaire par ann√©e pr√©c√©dente",pt:"Taxa adicional por ano anterior"},amount:100,category:"addon"},{id:"addon-quebec-return",name:{en:"Quebec Tax Return",fr:"D√©claration Qu√©bec",pt:"Declara√ß√£o Quebec"},description:{en:"Provincial Quebec tax return (TP-1)",fr:"D√©claration provinciale du Qu√©bec (TP-1)",pt:"Declara√ß√£o provincial de Quebec (TP-1)"},amount:75,category:"addon"},{id:"addon-quebec-tax",name:{en:"Quebec Tax Filing Fee",fr:"Frais de Production Qu√©bec",pt:"Taxa de Declara√ß√£o Quebec"},description:{en:"Additional filing fee for Quebec residents",fr:"Frais suppl√©mentaire pour r√©sidents du Qu√©bec",pt:"Taxa adicional para residentes de Quebec"},amount:50,category:"addon"},{id:"addon-amendment",name:{en:"Tax Return Amendment",fr:"Modification de D√©claration",pt:"Retifica√ß√£o de Declara√ß√£o"},description:{en:"Amend previously filed return",fr:"Modifier une d√©claration d√©j√† produite",pt:"Retificar declara√ß√£o j√° enviada"},amount:75,category:"addon"}];function Kn(s){return Be.find(t=>t.id===s)}function ue(s){return new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}).format(s)}const Td=`https://${we}.supabase.co/functions/v1/make-server-c2a25be0`;let mr=!1;const ur=new Set;async function Gt(s,t={}){try{const r=await fetch(`${Td}${s}`,{...t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ie}`,...t.headers}});if(!r.ok)throw new Error(`HTTP ${r.status}`);const n=await r.json();return mr&&(ur.clear(),ge.success("Backend Online","API")),mr=!1,{data:n,isMocked:!1}}catch{return mr=!0,ur.has(s)||(ge.demo(s,"API"),ur.add(s)),{data:Ad(s),isMocked:!0}}}function Ad(s){return s.includes("/messages/unread-count")?{count:0}:s.includes("/messages")?{messages:[]}:s.includes("/dashboard/stats")?{totalClients:0,activeReturns:0,completedReturns:0,pendingDocuments:0,totalRevenue:0,monthlyRevenue:0,upcomingDeadlines:0,messagesCount:0,recentActivities:[]}:s.includes("/permissions")?{canAccessClientHub:!1,canAccessContentCalendar:!1,canAccessUserManagement:!1,canAccessLaunchRoadmap:!1,canAccessInvoices:!1,canEditClients:!1,canDeleteClients:!1,canManageUsers:!1,canManagePermissions:!1,isAdmin:!1}:s.includes("/roadmap/stats")?{total:0,completed:0,inProgress:0,pending:0,byPhase:{},byPerson:{},overallProgress:0}:s.includes("/roadmap")?{tasks:[],teamMembers:{}}:s.includes("/users/list")?[]:s.includes("/admin/clients")?{clients:[]}:{}}function ji(){const{user:s}=Pe(),[t,r]=c.useState(null),[n,a]=c.useState(!0);c.useEffect(()=>{s?i():(r(null),a(!1))},[s]);const i=async()=>{var m,d,p,u;if(s)try{const{data:g,isMocked:x}=await Gt(`/users/permissions/${s.id}`,{headers:{Authorization:`Bearer ${Ie}`,"Content-Type":"application/json"}});if(x){const v={userId:s.id,email:s.email||"",name:((m=s.user_metadata)==null?void 0:m.name)||((d=s.email)==null?void 0:d.split("@")[0])||"User",role:"admin",modules:["dashboard","bookkeeping","financial","customers","marketing","users"],isActive:!0};r(v)}else r(g)}catch(g){console.error("Error loading permissions:",g),r({userId:s.id,email:s.email||"",name:((p=s.user_metadata)==null?void 0:p.name)||((u=s.email)==null?void 0:u.split("@")[0])||"User",role:"admin",modules:["dashboard","bookkeeping","financial","customers","marketing","users"],isActive:!0})}finally{a(!1)}};return{permissions:t,loading:n,hasPermission:m=>t?t.role==="admin"?!0:t.modules.includes(m):!1,isAdmin:()=>(t==null?void 0:t.role)==="admin"||!1,refresh:i}}function Pd(){const s=ye(),[t,r]=c.useState("checking");c.useEffect(()=>{n()},[]);const n=async()=>{var a;try{const{data:i}=await te.auth.getSession();if(!((a=i.session)!=null&&a.access_token)){r("not-configured");return}const l=await fetch(Ce.createInitialPaymentInvoice,{method:"POST",headers:{Authorization:`Bearer ${i.session.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({year:2025,documentCount:1,amount:50})}),o=await l.json();l.ok&&(o.checkoutUrl||o.paymentUrl)?r("configured"):r("not-configured")}catch{r("not-configured")}};return t==="checking"?null:t==="configured"?e.jsx(se,{className:"p-4 bg-green-50 border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(H,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-green-900 text-sm",children:"Stripe Configured"}),e.jsx("p",{className:"text-xs text-green-700",children:"Payments are working correctly"})]})]}),e.jsx(Y,{size:"sm",variant:"outline",onClick:()=>s("/admin/payment-setup"),children:"Test"})]})}):e.jsx(se,{className:"p-4 bg-amber-50 border-amber-300 border-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(be,{className:"w-5 h-5 text-amber-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-amber-900 text-sm",children:"‚ö†Ô∏è Stripe Not Configured"}),e.jsx("p",{className:"text-xs text-amber-700",children:"Set up payments to accept $50 deposits"})]})]}),e.jsx(Y,{size:"sm",className:"bg-amber-600 hover:bg-amber-700",onClick:()=>s("/admin/payment-setup"),children:"Setup Now"})]})})}function Ed(){const[s,t]=c.useState(!1),[r,n]=c.useState(!1),[a,i]=c.useState([]),l=async()=>{var d,p;n(!0);const o=[];o.push({name:"Project ID",status:"success",message:we,details:{projectId:we}});const m=`https://${we}.supabase.co/functions/v1/make-server-c2a25be0`;o.push({name:"API Base URL",status:"success",message:m,details:{baseUrl:m}}),i([...o]);try{const u=Ce.health;console.log("Testing health endpoint:",u);const g=await fetch(u,{method:"GET",headers:{"Content-Type":"application/json"}});if(g.ok){const x=await g.json();o.push({name:"Server Health Check",status:"success",message:"Server is running",details:x})}else{const x=await g.text();o.push({name:"Server Health Check",status:"error",message:`HTTP ${g.status}`,details:{status:g.status,body:x}})}}catch(u){o.push({name:"Server Health Check",status:"error",message:u instanceof Error?u.message:"Network error",details:{error:String(u)}})}i([...o]);try{const u=`https://${we}.supabase.co/functions/v1/make-server-c2a25be0/admin-hub/ping`;console.log("üèì Testing PING endpoint (no auth):",u);const g=await fetch(u,{method:"GET",headers:{"Content-Type":"application/json"}});if(g.ok){const x=await g.json();o.push({name:"Admin Hub PING (No Auth)",status:"success",message:"Admin Hub responding without auth",details:x})}else{const x=await g.text();o.push({name:"Admin Hub PING (No Auth)",status:"error",message:`HTTP ${g.status}`,details:{status:g.status,body:x}})}}catch(u){o.push({name:"Admin Hub PING (No Auth)",status:"error",message:u instanceof Error?u.message:"Network error",details:{error:String(u)}})}i([...o]);try{const{data:u,error:g}=await te.auth.getSession();if(g)o.push({name:"Authentication",status:"error",message:g.message,details:g});else if(!u.session)o.push({name:"Authentication",status:"error",message:"No active session",details:null});else{o.push({name:"Authentication",status:"success",message:`Logged in as ${u.session.user.email}`,details:{userId:u.session.user.id}});try{const x=Ce.adminHubTasks.replace("/tasks","/health");console.log("Testing admin hub endpoint:",x);const v=await fetch(x,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.session.access_token}`}});if(v.ok){const f=await v.json();o.push({name:"Admin Hub Health",status:"success",message:"Admin Hub is accessible",details:f})}else{const f=await v.text();o.push({name:"Admin Hub Health",status:"error",message:`HTTP ${v.status}`,details:{status:v.status,body:f}})}}catch(x){o.push({name:"Admin Hub Health",status:"error",message:x instanceof Error?x.message:"Network error",details:{error:String(x)}})}try{const x=await fetch(Ce.adminHubTasks,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.session.access_token}`}});if(x.ok){const v=await x.json();o.push({name:"Get Tasks",status:"success",message:`Found ${((d=v.tasks)==null?void 0:d.length)||0} tasks`,details:v})}else{const v=await x.text();o.push({name:"Get Tasks",status:"error",message:`HTTP ${x.status}`,details:{status:x.status,body:v}})}}catch(x){o.push({name:"Get Tasks",status:"error",message:x instanceof Error?x.message:"Network error",details:{error:String(x)}})}try{const x=await fetch(Ce.adminHubSocialPosts,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.session.access_token}`}});if(x.ok){const v=await x.json();o.push({name:"Get Posts",status:"success",message:`Found ${((p=v.posts)==null?void 0:p.length)||0} posts`,details:v})}else{const v=await x.text();o.push({name:"Get Posts",status:"error",message:`HTTP ${x.status}`,details:{status:x.status,body:v}})}}catch(x){o.push({name:"Get Posts",status:"error",message:x instanceof Error?x.message:"Network error",details:{error:String(x)}})}}}catch(u){o.push({name:"Authentication",status:"error",message:u instanceof Error?u.message:"Unknown error",details:{error:String(u)}})}i([...o]),n(!1)};return s?e.jsxs("div",{className:"fixed bottom-4 right-4 bg-white rounded-lg shadow-2xl border border-gray-200 w-96 max-h-[600px] overflow-hidden z-50",children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"System Diagnostics"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:l,disabled:r,className:"p-1 hover:bg-gray-200 rounded transition-colors disabled:opacity-50",children:e.jsx(Wr,{className:`w-4 h-4 ${r?"animate-spin":""}`})}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-600 hover:text-gray-900",children:"‚úï"})]})]}),e.jsxs("div",{className:"p-4 max-h-[500px] overflow-y-auto space-y-3",children:[r&&a.length===0&&e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ae,{className:"w-6 h-6 animate-spin text-blue-600"})}),a.map((o,m)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[o.status==="success"&&e.jsx(H,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),o.status==="error"&&e.jsx(be,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.status==="pending"&&e.jsx(ae,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5 animate-spin"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-sm text-gray-900",children:o.name}),e.jsx("div",{className:"text-xs text-gray-600 mt-1 break-words",children:o.message}),o.details&&e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs text-blue-600 cursor-pointer",children:"View details"}),e.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded mt-1 overflow-x-auto",children:JSON.stringify(o.details,null,2)})]})]})]})},m))]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-t border-gray-200 text-xs text-gray-600",children:[a.length," test(s) completed"]})]}):e.jsxs("button",{onClick:()=>{t(!0),l()},className:"fixed bottom-4 right-4 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-blue-700 transition-colors flex items-center gap-2 z-50",children:[e.jsx(be,{className:"w-4 h-4"}),"Run Diagnostics"]})}const Rd=s=>{switch(s){case"dashboard":return Ns;case"bookkeeping":return Gr;case"financial":return me;case"customers":return fe;case"marketing":return ml;case"calendar":return Ae;case"users":return Qe;case"productivity":return La;default:return Ns}},Dd=[{id:"bookkeeping",title:"Bookkeeping Dashboard",description:"Track expenses, manage invoices, and handle day-to-day accounting",iconType:"bookkeeping",color:"from-indigo-500 to-indigo-600",bgColor:"bg-indigo-50",borderColor:"border-indigo-200",route:"/admin/bookkeeping-dashboard"},{id:"financial",title:"Financial Dashboard",description:"View KPIs, revenue analytics, and comprehensive financial reports",iconType:"financial",color:"from-green-500 to-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",route:"/admin/financial-dashboard"},{id:"invoices",title:"Invoice Management",description:"View, manage, and download all client invoices",iconType:"financial",color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",route:"/admin/invoices"},{id:"payment-setup",title:"‚öôÔ∏è Payment Setup",description:"Configure and test Stripe payment integration",iconType:"dashboard",color:"from-purple-500 to-pink-500",bgColor:"bg-gradient-to-br from-purple-50 to-pink-50",borderColor:"border-purple-200",route:"/admin/payment-setup"},{id:"customers",title:"Customer Dashboard",description:"Manage all customers, view details, documents, and filing status",iconType:"customers",color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",route:"/admin/clients"},{id:"content-calendar",title:"Content Calendar",description:"Manage your marketing calendar and create post images",iconType:"calendar",color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",route:"/admin/content-calendar"},{id:"roadmap",title:"üöÄ Launch Roadmap",description:"Track February launch preparation with the team",iconType:"dashboard",color:"from-blue-500 to-green-500",bgColor:"bg-gradient-to-br from-blue-50 to-green-50",borderColor:"border-blue-300",route:"/admin/roadmap"},{id:"users",title:"User Management",description:"Manage team members, permissions, and access control",iconType:"users",color:"from-pink-500 to-pink-600",bgColor:"bg-pink-50",borderColor:"border-pink-200",route:"/admin/users"}];function Jn(){const{user:s,signOut:t}=Pe(),r=ye(),{t:n}=$e(),{hasPermission:a,isAdmin:i,loading:l}=ji(),[o,m]=c.useState(null),[d,p]=c.useState(!0);c.useEffect(()=>{g()},[]);const u=async()=>{try{await t(),r("/login")}catch(b){console.error("Error signing out:",b)}},g=async()=>{var b,h,j,y;p(!0);try{const{data:w}=await te.auth.getSession();if(!w.session)return;const{data:k,isMocked:P}=await Gt("/dashboard/stats",{headers:{Authorization:`Bearer ${w.session.access_token}`}});if(P)m({totalCustomers:k.totalClients||0,pendingInvoices:k.pendingDocuments||0,monthlyRevenue:k.monthlyRevenue||0,activeFilings:k.activeReturns||0});else{const C=k.clients||{},S=k.financial||{},E=new Date().getFullYear(),O=((b=C.clients)==null?void 0:b.reduce(($,L)=>{var _;return $+(((_=L.taxFilings)==null?void 0:_.filter(N=>N.year===E&&["in-progress","review","awaiting-payment"].includes(N.status)).length)||0)},0))||0,M=((h=C.clients)==null?void 0:h.reduce(($,L)=>{var _;return $+(((_=L.taxFilings)==null?void 0:_.filter(N=>{var A;return N.status==="awaiting-payment"&&((A=N.payment)==null?void 0:A.status)==="pending"}).length)||0)},0))||0,B=new Date().getMonth()+1,F=`${E}-${B.toString().padStart(2,"0")}`,T=(j=S.monthlyRevenue)==null?void 0:j.find($=>$.month===F);m({totalCustomers:((y=C.clients)==null?void 0:y.length)||0,pendingInvoices:M,monthlyRevenue:(T==null?void 0:T.revenue)||0,activeFilings:O})}}catch(w){console.error("Error loading dashboard stats:",w)}finally{p(!1)}},x=b=>{r(b)},f=l?[]:Dd.filter(b=>b.id==="content-calendar"?a("marketing"):b.id==="productivity"?a("customers"):b.id==="users"?i():a(b.id));return l?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(ae,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("header",{className:"bg-white border-b shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(Ns,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:n("admin.panel")}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n("admin.welcomeBack"),", ",s==null?void 0:s.email]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{onClick:()=>r("/dashboard"),variant:"outline",children:n("admin.clientPortal")}),e.jsxs(Y,{onClick:u,variant:"ghost",children:[e.jsx(qr,{className:"w-4 h-4 mr-2"}),n("admin.signOut")]})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-12",children:[e.jsx("div",{className:"mb-6",children:e.jsx(Pd,{})}),e.jsxs("div",{className:"mb-10",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Select a Category"}),e.jsx("p",{className:"text-gray-600",children:"Choose from the administrative tools below to manage your tax consultancy business"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:f.map(b=>{const h=Rd(b.iconType);return e.jsxs(se,{className:`
                  group relative overflow-hidden border-2 ${b.borderColor} 
                  hover:shadow-2xl transition-all duration-300 cursor-pointer
                  transform hover:-translate-y-1
                `,onClick:()=>x(b.route),children:[e.jsx("div",{className:`absolute inset-0 ${b.bgColor} opacity-40 group-hover:opacity-60 transition-opacity`}),e.jsxs("div",{className:"relative p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${b.color} rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform`,children:e.jsx(h,{className:"w-8 h-8 text-white"})}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/50 flex items-center justify-center group-hover:bg-white transition-colors",children:e.jsx(Wt,{className:"w-5 h-5 text-gray-700 group-hover:translate-x-1 transition-transform"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:b.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:b.description})]}),e.jsx("div",{className:`mt-6 h-1 bg-gradient-to-r ${b.color} rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left`})]})]},b.id)})}),e.jsxs("div",{className:"mt-12 bg-white rounded-xl shadow-sm border p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Quick Overview"}),o&&o.totalCustomers===0&&!d&&e.jsx("div",{className:"flex items-center gap-2 px-4 py-2 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsx("span",{className:"text-amber-600 text-sm font-medium",children:"üìä No real data yet - Add clients to see stats"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(fe,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:d?e.jsx(ae,{className:"w-8 h-8 animate-spin"}):(o==null?void 0:o.totalCustomers)||"‚Äî"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Customers"})]}),e.jsxs("div",{className:"text-center p-4 bg-indigo-50 rounded-lg",children:[e.jsx(Gr,{className:"w-8 h-8 text-indigo-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-indigo-900",children:d?e.jsx(ae,{className:"w-8 h-8 animate-spin"}):(o==null?void 0:o.pendingInvoices)||"‚Äî"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Invoices"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx(me,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:d?e.jsx(ae,{className:"w-8 h-8 animate-spin"}):ue((o==null?void 0:o.monthlyRevenue)||0)}),e.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Revenue"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx(Ns,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:d?e.jsx(ae,{className:"w-8 h-8 animate-spin"}):(o==null?void 0:o.activeFilings)||"‚Äî"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Filings"})]})]})]}),e.jsx("div",{className:"mt-12",children:e.jsx(Ed,{})})]})]})}function de(s,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(s==null||s(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Fd(s,t){const r=c.createContext(t),n=i=>{const{children:l,...o}=i,m=c.useMemo(()=>o,Object.values(o));return e.jsx(r.Provider,{value:m,children:l})};n.displayName=s+"Provider";function a(i){const l=c.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${s}\``)}return[n,a]}function Qt(s,t=[]){let r=[];function n(i,l){const o=c.createContext(l),m=r.length;r=[...r,l];const d=u=>{var h;const{scope:g,children:x,...v}=u,f=((h=g==null?void 0:g[s])==null?void 0:h[m])||o,b=c.useMemo(()=>v,Object.values(v));return e.jsx(f.Provider,{value:b,children:x})};d.displayName=i+"Provider";function p(u,g){var f;const x=((f=g==null?void 0:g[s])==null?void 0:f[m])||o,v=c.useContext(x);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${u}\` must be used within \`${i}\``)}return[d,p]}const a=()=>{const i=r.map(l=>c.createContext(l));return function(o){const m=(o==null?void 0:o[s])||i;return c.useMemo(()=>({[`__scope${s}`]:{...o,[s]:m}}),[o,m])}};return a.scopeName=s,[n,Od(a,...t)]}function Od(...s){const t=s[0];if(s.length===1)return t;const r=()=>{const n=s.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=n.reduce((o,{useScope:m,scopeName:d})=>{const u=m(i)[`__scope${d}`];return{...o,...u}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var Ee=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{},Id=Vr[" useId ".trim().toString()]||(()=>{}),Md=0;function Ms(s){const[t,r]=c.useState(Id());return Ee(()=>{r(n=>n??String(Md++))},[s]),s||(t?`radix-${t}`:"")}var $d=Vr[" useInsertionEffect ".trim().toString()]||Ee;function Rr({prop:s,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,l]=Ld({defaultProp:t,onChange:r}),o=s!==void 0,m=o?s:a;{const p=c.useRef(s!==void 0);c.useEffect(()=>{const u=p.current;u!==o&&console.warn(`${n} is changing from ${u?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=o},[o,n])}const d=c.useCallback(p=>{var u;if(o){const g=_d(p)?p(s):p;g!==s&&((u=l.current)==null||u.call(l,g))}else i(p)},[o,s,i,l]);return[m,d]}function Ld({defaultProp:s,onChange:t}){const[r,n]=c.useState(s),a=c.useRef(r),i=c.useRef(t);return $d(()=>{i.current=t},[t]),c.useEffect(()=>{var l;a.current!==r&&((l=i.current)==null||l.call(i,r),a.current=r)},[r,a]),[r,n,i]}function _d(s){return typeof s=="function"}function Bd(s){const t=Ud(s),r=c.forwardRef((n,a)=>{const{children:i,...l}=n,o=c.Children.toArray(i),m=o.find(Vd);if(m){const d=m.props.children,p=o.map(u=>u===m?c.Children.count(d)>1?c.Children.only(null):c.isValidElement(d)?d.props.children:null:u);return e.jsx(t,{...l,ref:a,children:c.isValidElement(d)?c.cloneElement(d,void 0,p):null})}return e.jsx(t,{...l,ref:a,children:i})});return r.displayName=`${s}.Slot`,r}function Ud(s){const t=c.forwardRef((r,n)=>{const{children:a,...i}=r;if(c.isValidElement(a)){const l=qd(a),o=Hd(i,a.props);return a.type!==c.Fragment&&(o.ref=n?Ws(n,l):l),c.cloneElement(a,o)}return c.Children.count(a)>1?c.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var zd=Symbol("radix.slottable");function Vd(s){return c.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===zd}function Hd(s,t){const r={...t};for(const n in t){const a=s[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const m=i(...o);return a(...o),m}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...s,...r}}function qd(s){var n,a;let t=(n=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=(a=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}var Wd=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ce=Wd.reduce((s,t)=>{const r=Bd(`Primitive.${t}`),n=c.forwardRef((a,i)=>{const{asChild:l,...o}=a,m=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(m,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...s,[t]:n}},{});function Yd(s,t){s&&ct.flushSync(()=>s.dispatchEvent(t))}function ws(s){const t=c.useRef(s);return c.useEffect(()=>{t.current=s}),c.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Gd(s,t=globalThis==null?void 0:globalThis.document){const r=ws(s);c.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Qd="DismissableLayer",Dr="dismissableLayer.update",Kd="dismissableLayer.pointerDownOutside",Jd="dismissableLayer.focusOutside",Xn,Ni=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xr=c.forwardRef((s,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:o,...m}=s,d=c.useContext(Ni),[p,u]=c.useState(null),g=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=c.useState({}),v=ve(t,C=>u(C)),f=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),h=f.indexOf(b),j=p?f.indexOf(p):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,w=j>=h,k=em(C=>{const S=C.target,E=[...d.branches].some(O=>O.contains(S));!w||E||(a==null||a(C),l==null||l(C),C.defaultPrevented||o==null||o())},g),P=sm(C=>{const S=C.target;[...d.branches].some(O=>O.contains(S))||(i==null||i(C),l==null||l(C),C.defaultPrevented||o==null||o())},g);return Gd(C=>{j===d.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&o&&(C.preventDefault(),o()))},g),c.useEffect(()=>{if(p)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Xn=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),Zn(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Xn)}},[p,g,r,d]),c.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),Zn())},[p,d]),c.useEffect(()=>{const C=()=>x({});return document.addEventListener(Dr,C),()=>document.removeEventListener(Dr,C)},[]),e.jsx(ce.div,{...m,ref:v,style:{pointerEvents:y?w?"auto":"none":void 0,...s.style},onFocusCapture:de(s.onFocusCapture,P.onFocusCapture),onBlurCapture:de(s.onBlurCapture,P.onBlurCapture),onPointerDownCapture:de(s.onPointerDownCapture,k.onPointerDownCapture)})});Xr.displayName=Qd;var Xd="DismissableLayerBranch",Zd=c.forwardRef((s,t)=>{const r=c.useContext(Ni),n=c.useRef(null),a=ve(t,n);return c.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),e.jsx(ce.div,{...s,ref:a})});Zd.displayName=Xd;function em(s,t=globalThis==null?void 0:globalThis.document){const r=ws(s),n=c.useRef(!1),a=c.useRef(()=>{});return c.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let m=function(){wi(Kd,r,d,{discrete:!0})};const d={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=m,t.addEventListener("click",a.current,{once:!0})):m()}else t.removeEventListener("click",a.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function sm(s,t=globalThis==null?void 0:globalThis.document){const r=ws(s),n=c.useRef(!1);return c.useEffect(()=>{const a=i=>{i.target&&!n.current&&wi(Jd,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Zn(){const s=new CustomEvent(Dr);document.dispatchEvent(s)}function wi(s,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(s,t,{once:!0}),n?Yd(a,i):a.dispatchEvent(i)}var xr="focusScope.autoFocusOnMount",pr="focusScope.autoFocusOnUnmount",ea={bubbles:!1,cancelable:!0},tm="FocusScope",Zr=c.forwardRef((s,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=s,[o,m]=c.useState(null),d=ws(a),p=ws(i),u=c.useRef(null),g=ve(t,f=>m(f)),x=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(n){let f=function(y){if(x.paused||!o)return;const w=y.target;o.contains(w)?u.current=w:cs(u.current,{select:!0})},b=function(y){if(x.paused||!o)return;const w=y.relatedTarget;w!==null&&(o.contains(w)||cs(u.current,{select:!0}))},h=function(y){if(document.activeElement===document.body)for(const k of y)k.removedNodes.length>0&&cs(o)};document.addEventListener("focusin",f),document.addEventListener("focusout",b);const j=new MutationObserver(h);return o&&j.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",b),j.disconnect()}}},[n,o,x.paused]),c.useEffect(()=>{if(o){ta.add(x);const f=document.activeElement;if(!o.contains(f)){const h=new CustomEvent(xr,ea);o.addEventListener(xr,d),o.dispatchEvent(h),h.defaultPrevented||(rm(lm(Ci(o)),{select:!0}),document.activeElement===f&&cs(o))}return()=>{o.removeEventListener(xr,d),setTimeout(()=>{const h=new CustomEvent(pr,ea);o.addEventListener(pr,p),o.dispatchEvent(h),h.defaultPrevented||cs(f??document.body,{select:!0}),o.removeEventListener(pr,p),ta.remove(x)},0)}}},[o,d,p,x]);const v=c.useCallback(f=>{if(!r&&!n||x.paused)return;const b=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,h=document.activeElement;if(b&&h){const j=f.currentTarget,[y,w]=nm(j);y&&w?!f.shiftKey&&h===w?(f.preventDefault(),r&&cs(y,{select:!0})):f.shiftKey&&h===y&&(f.preventDefault(),r&&cs(w,{select:!0})):h===j&&f.preventDefault()}},[r,n,x.paused]);return e.jsx(ce.div,{tabIndex:-1,...l,ref:g,onKeyDown:v})});Zr.displayName=tm;function rm(s,{select:t=!1}={}){const r=document.activeElement;for(const n of s)if(cs(n,{select:t}),document.activeElement!==r)return}function nm(s){const t=Ci(s),r=sa(t,s),n=sa(t.reverse(),s);return[r,n]}function Ci(s){const t=[],r=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function sa(s,t){for(const r of s)if(!am(r,{upTo:t}))return r}function am(s,{upTo:t}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(t!==void 0&&s===t)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function im(s){return s instanceof HTMLInputElement&&"select"in s}function cs(s,{select:t=!1}={}){if(s&&s.focus){const r=document.activeElement;s.focus({preventScroll:!0}),s!==r&&im(s)&&t&&s.select()}}var ta=om();function om(){let s=[];return{add(t){const r=s[0];t!==r&&(r==null||r.pause()),s=ra(s,t),s.unshift(t)},remove(t){var r;s=ra(s,t),(r=s[0])==null||r.resume()}}}function ra(s,t){const r=[...s],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function lm(s){return s.filter(t=>t.tagName!=="A")}var cm="Portal",en=c.forwardRef((s,t)=>{var o;const{container:r,...n}=s,[a,i]=c.useState(!1);Ee(()=>i(!0),[]);const l=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return l?ul.createPortal(e.jsx(ce.div,{...n,ref:t}),l):null});en.displayName=cm;function dm(s,t){return c.useReducer((r,n)=>t[r][n]??r,s)}var Kt=s=>{const{present:t,children:r}=s,n=mm(t),a=typeof r=="function"?r({present:n.isPresent}):c.Children.only(r),i=ve(n.ref,um(a));return typeof r=="function"||n.isPresent?c.cloneElement(a,{ref:i}):null};Kt.displayName="Presence";function mm(s){const[t,r]=c.useState(),n=c.useRef(null),a=c.useRef(s),i=c.useRef("none"),l=s?"mounted":"unmounted",[o,m]=dm(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const d=bt(n.current);i.current=o==="mounted"?d:"none"},[o]),Ee(()=>{const d=n.current,p=a.current;if(p!==s){const g=i.current,x=bt(d);s?m("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?m("UNMOUNT"):m(p&&g!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=s}},[s,m]),Ee(()=>{if(t){let d;const p=t.ownerDocument.defaultView??window,u=x=>{const f=bt(n.current).includes(CSS.escape(x.animationName));if(x.target===t&&f&&(m("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},g=x=>{x.target===t&&(i.current=bt(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{p.clearTimeout(d),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:c.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function bt(s){return(s==null?void 0:s.animationName)||"none"}function um(s){var n,a;let t=(n=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=(a=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}var hr=0;function Si(){c.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??na()),document.body.insertAdjacentElement("beforeend",s[1]??na()),hr++,()=>{hr===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),hr--}},[])}function na(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var Pt="right-scroll-bar-position",Et="width-before-scroll-bar",xm="with-scroll-bars-hidden",pm="--removed-body-scroll-bar-size";function gr(s,t){return typeof s=="function"?s(t):s&&(s.current=t),s}function hm(s,t){var r=c.useState(function(){return{value:s,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var gm=typeof window<"u"?c.useLayoutEffect:c.useEffect,aa=new WeakMap;function fm(s,t){var r=hm(null,function(n){return s.forEach(function(a){return gr(a,n)})});return gm(function(){var n=aa.get(r);if(n){var a=new Set(n),i=new Set(s),l=r.current;a.forEach(function(o){i.has(o)||gr(o,null)}),i.forEach(function(o){a.has(o)||gr(o,l)})}aa.set(r,s)},[s]),r}function bm(s){return s}function vm(s,t){t===void 0&&(t=bm);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:s},useMedium:function(i){var l=t(i,n);return r.push(l),function(){r=r.filter(function(o){return o!==l})}},assignSyncMedium:function(i){for(n=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var l=[];if(r.length){var o=r;r=[],o.forEach(i),l=r}var m=function(){var p=l;l=[],p.forEach(i)},d=function(){return Promise.resolve().then(m)};d(),r={push:function(p){l.push(p),d()},filter:function(p){return l=l.filter(p),r}}}};return a}function ym(s){s===void 0&&(s={});var t=vm(null);return t.options=ms({async:!0,ssr:!1},s),t}var ki=function(s){var t=s.sideCar,r=Va(s,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return c.createElement(n,ms({},r))};ki.isSideCarExport=!0;function jm(s,t){return s.useMedium(t),ki}var Ti=ym(),fr=function(){},Jt=c.forwardRef(function(s,t){var r=c.useRef(null),n=c.useState({onScrollCapture:fr,onWheelCapture:fr,onTouchMoveCapture:fr}),a=n[0],i=n[1],l=s.forwardProps,o=s.children,m=s.className,d=s.removeScrollBar,p=s.enabled,u=s.shards,g=s.sideCar,x=s.noRelative,v=s.noIsolation,f=s.inert,b=s.allowPinchZoom,h=s.as,j=h===void 0?"div":h,y=s.gapMode,w=Va(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=g,P=fm([r,t]),C=ms(ms({},w),a);return c.createElement(c.Fragment,null,p&&c.createElement(k,{sideCar:Ti,removeScrollBar:d,shards:u,noRelative:x,noIsolation:v,inert:f,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:y}),l?c.cloneElement(c.Children.only(o),ms(ms({},C),{ref:P})):c.createElement(j,ms({},C,{className:m,ref:P}),o))});Jt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jt.classNames={fullWidth:Et,zeroRight:Pt};var Nm=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wm(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var t=Nm();return t&&s.setAttribute("nonce",t),s}function Cm(s,t){s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}function Sm(s){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(s)}var km=function(){var s=0,t=null;return{add:function(r){s==0&&(t=wm())&&(Cm(t,r),Sm(t)),s++},remove:function(){s--,!s&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Tm=function(){var s=km();return function(t,r){c.useEffect(function(){return s.add(t),function(){s.remove()}},[t&&r])}},Ai=function(){var s=Tm(),t=function(r){var n=r.styles,a=r.dynamic;return s(n,a),null};return t},Am={left:0,top:0,right:0,gap:0},br=function(s){return parseInt(s||"",10)||0},Pm=function(s){var t=window.getComputedStyle(document.body),r=t[s==="padding"?"paddingLeft":"marginLeft"],n=t[s==="padding"?"paddingTop":"marginTop"],a=t[s==="padding"?"paddingRight":"marginRight"];return[br(r),br(n),br(a)]},Em=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return Am;var t=Pm(s),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Rm=Ai(),$s="data-scroll-locked",Dm=function(s,t,r,n){var a=s.left,i=s.top,l=s.right,o=s.gap;return r===void 0&&(r="margin"),`
  .`.concat(xm,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat($s,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pt,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Et,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Pt," .").concat(Pt,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Et," .").concat(Et,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat($s,`] {
    `).concat(pm,": ").concat(o,`px;
  }
`)},ia=function(){var s=parseInt(document.body.getAttribute($s)||"0",10);return isFinite(s)?s:0},Fm=function(){c.useEffect(function(){return document.body.setAttribute($s,(ia()+1).toString()),function(){var s=ia()-1;s<=0?document.body.removeAttribute($s):document.body.setAttribute($s,s.toString())}},[])},Om=function(s){var t=s.noRelative,r=s.noImportant,n=s.gapMode,a=n===void 0?"margin":n;Fm();var i=c.useMemo(function(){return Em(a)},[a]);return c.createElement(Rm,{styles:Dm(i,!t,a,r?"":"!important")})},Fr=!1;if(typeof window<"u")try{var vt=Object.defineProperty({},"passive",{get:function(){return Fr=!0,!0}});window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{Fr=!1}var Es=Fr?{passive:!1}:!1,Im=function(s){return s.tagName==="TEXTAREA"},Pi=function(s,t){if(!(s instanceof Element))return!1;var r=window.getComputedStyle(s);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Im(s)&&r[t]==="visible")},Mm=function(s){return Pi(s,"overflowY")},$m=function(s){return Pi(s,"overflowX")},oa=function(s,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Ei(s,n);if(a){var i=Ri(s,n),l=i[1],o=i[2];if(l>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Lm=function(s){var t=s.scrollTop,r=s.scrollHeight,n=s.clientHeight;return[t,r,n]},_m=function(s){var t=s.scrollLeft,r=s.scrollWidth,n=s.clientWidth;return[t,r,n]},Ei=function(s,t){return s==="v"?Mm(t):$m(t)},Ri=function(s,t){return s==="v"?Lm(t):_m(t)},Bm=function(s,t){return s==="h"&&t==="rtl"?-1:1},Um=function(s,t,r,n,a){var i=Bm(s,window.getComputedStyle(t).direction),l=i*n,o=r.target,m=t.contains(o),d=!1,p=l>0,u=0,g=0;do{if(!o)break;var x=Ri(s,o),v=x[0],f=x[1],b=x[2],h=f-b-i*v;(v||h)&&Ei(s,o)&&(u+=h,g+=v);var j=o.parentNode;o=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!m&&o!==document.body||m&&(t.contains(o)||t===o));return(p&&Math.abs(u)<1||!p&&Math.abs(g)<1)&&(d=!0),d},yt=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},la=function(s){return[s.deltaX,s.deltaY]},ca=function(s){return s&&"current"in s?s.current:s},zm=function(s,t){return s[0]===t[0]&&s[1]===t[1]},Vm=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},Hm=0,Rs=[];function qm(s){var t=c.useRef([]),r=c.useRef([0,0]),n=c.useRef(),a=c.useState(Hm++)[0],i=c.useState(Ai)[0],l=c.useRef(s);c.useEffect(function(){l.current=s},[s]),c.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(a));var f=yl([s.lockRef.current],(s.shards||[]).map(ca),!0).filter(Boolean);return f.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),f.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[s.inert,s.lockRef.current,s.shards]);var o=c.useCallback(function(f,b){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!l.current.allowPinchZoom;var h=yt(f),j=r.current,y="deltaX"in f?f.deltaX:j[0]-h[0],w="deltaY"in f?f.deltaY:j[1]-h[1],k,P=f.target,C=Math.abs(y)>Math.abs(w)?"h":"v";if("touches"in f&&C==="h"&&P.type==="range")return!1;var S=window.getSelection(),E=S&&S.anchorNode,O=E?E===P||E.contains(P):!1;if(O)return!1;var M=oa(C,P);if(!M)return!0;if(M?k=C:(k=C==="v"?"h":"v",M=oa(C,P)),!M)return!1;if(!n.current&&"changedTouches"in f&&(y||w)&&(n.current=k),!k)return!0;var B=n.current||k;return Um(B,b,f,B==="h"?y:w)},[]),m=c.useCallback(function(f){var b=f;if(!(!Rs.length||Rs[Rs.length-1]!==i)){var h="deltaY"in b?la(b):yt(b),j=t.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&zm(k.delta,h)})[0];if(j&&j.should){b.cancelable&&b.preventDefault();return}if(!j){var y=(l.current.shards||[]).map(ca).filter(Boolean).filter(function(k){return k.contains(b.target)}),w=y.length>0?o(b,y[0]):!l.current.noIsolation;w&&b.cancelable&&b.preventDefault()}}},[]),d=c.useCallback(function(f,b,h,j){var y={name:f,delta:b,target:h,should:j,shadowParent:Wm(h)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(w){return w!==y})},1)},[]),p=c.useCallback(function(f){r.current=yt(f),n.current=void 0},[]),u=c.useCallback(function(f){d(f.type,la(f),f.target,o(f,s.lockRef.current))},[]),g=c.useCallback(function(f){d(f.type,yt(f),f.target,o(f,s.lockRef.current))},[]);c.useEffect(function(){return Rs.push(i),s.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:g}),document.addEventListener("wheel",m,Es),document.addEventListener("touchmove",m,Es),document.addEventListener("touchstart",p,Es),function(){Rs=Rs.filter(function(f){return f!==i}),document.removeEventListener("wheel",m,Es),document.removeEventListener("touchmove",m,Es),document.removeEventListener("touchstart",p,Es)}},[]);var x=s.removeScrollBar,v=s.inert;return c.createElement(c.Fragment,null,v?c.createElement(i,{styles:Vm(a)}):null,x?c.createElement(Om,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function Wm(s){for(var t=null;s!==null;)s instanceof ShadowRoot&&(t=s.host,s=s.host),s=s.parentNode;return t}const Ym=jm(Ti,qm);var sn=c.forwardRef(function(s,t){return c.createElement(Jt,ms({},s,{ref:t,sideCar:Ym}))});sn.classNames=Jt.classNames;var Gm=function(s){if(typeof document>"u")return null;var t=Array.isArray(s)?s[0]:s;return t.ownerDocument.body},Ds=new WeakMap,jt=new WeakMap,Nt={},vr=0,Di=function(s){return s&&(s.host||Di(s.parentNode))},Qm=function(s,t){return t.map(function(r){if(s.contains(r))return r;var n=Di(r);return n&&s.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",s,". Doing nothing"),null)}).filter(function(r){return!!r})},Km=function(s,t,r,n){var a=Qm(t,Array.isArray(s)?s:[s]);Nt[r]||(Nt[r]=new WeakMap);var i=Nt[r],l=[],o=new Set,m=new Set(a),d=function(u){!u||o.has(u)||(o.add(u),d(u.parentNode))};a.forEach(d);var p=function(u){!u||m.has(u)||Array.prototype.forEach.call(u.children,function(g){if(o.has(g))p(g);else try{var x=g.getAttribute(n),v=x!==null&&x!=="false",f=(Ds.get(g)||0)+1,b=(i.get(g)||0)+1;Ds.set(g,f),i.set(g,b),l.push(g),f===1&&v&&jt.set(g,!0),b===1&&g.setAttribute(r,"true"),v||g.setAttribute(n,"true")}catch(h){console.error("aria-hidden: cannot operate on ",g,h)}})};return p(t),o.clear(),vr++,function(){l.forEach(function(u){var g=Ds.get(u)-1,x=i.get(u)-1;Ds.set(u,g),i.set(u,x),g||(jt.has(u)||u.removeAttribute(n),jt.delete(u)),x||u.removeAttribute(r)}),vr--,vr||(Ds=new WeakMap,Ds=new WeakMap,jt=new WeakMap,Nt={})}},Fi=function(s,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(s)?s:[s]),a=Gm(s);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Km(n,a,r,"aria-hidden")):function(){return null}};function Jm(s){const t=Xm(s),r=c.forwardRef((n,a)=>{const{children:i,...l}=n,o=c.Children.toArray(i),m=o.find(eu);if(m){const d=m.props.children,p=o.map(u=>u===m?c.Children.count(d)>1?c.Children.only(null):c.isValidElement(d)?d.props.children:null:u);return e.jsx(t,{...l,ref:a,children:c.isValidElement(d)?c.cloneElement(d,void 0,p):null})}return e.jsx(t,{...l,ref:a,children:i})});return r.displayName=`${s}.Slot`,r}function Xm(s){const t=c.forwardRef((r,n)=>{const{children:a,...i}=r;if(c.isValidElement(a)){const l=tu(a),o=su(i,a.props);return a.type!==c.Fragment&&(o.ref=n?Ws(n,l):l),c.cloneElement(a,o)}return c.Children.count(a)>1?c.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var Zm=Symbol("radix.slottable");function eu(s){return c.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===Zm}function su(s,t){const r={...t};for(const n in t){const a=s[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const m=i(...o);return a(...o),m}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...s,...r}}function tu(s){var n,a;let t=(n=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=(a=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}var Xt="Dialog",[Oi]=Qt(Xt),[ru,We]=Oi(Xt),Ii=s=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!0}=s,o=c.useRef(null),m=c.useRef(null),[d,p]=Rr({prop:n,defaultProp:a??!1,onChange:i,caller:Xt});return e.jsx(ru,{scope:t,triggerRef:o,contentRef:m,contentId:Ms(),titleId:Ms(),descriptionId:Ms(),open:d,onOpenChange:p,onOpenToggle:c.useCallback(()=>p(u=>!u),[p]),modal:l,children:r})};Ii.displayName=Xt;var Mi="DialogTrigger",nu=c.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=We(Mi,r),i=ve(t,a.triggerRef);return e.jsx(ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":nn(a.open),...n,ref:i,onClick:de(s.onClick,a.onOpenToggle)})});nu.displayName=Mi;var tn="DialogPortal",[au,$i]=Oi(tn,{forceMount:void 0}),Li=s=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=s,i=We(tn,t);return e.jsx(au,{scope:t,forceMount:r,children:c.Children.map(n,l=>e.jsx(Kt,{present:r||i.open,children:e.jsx(en,{asChild:!0,container:a,children:l})}))})};Li.displayName=tn;var _t="DialogOverlay",_i=c.forwardRef((s,t)=>{const r=$i(_t,s.__scopeDialog),{forceMount:n=r.forceMount,...a}=s,i=We(_t,s.__scopeDialog);return i.modal?e.jsx(Kt,{present:n||i.open,children:e.jsx(ou,{...a,ref:t})}):null});_i.displayName=_t;var iu=Jm("DialogOverlay.RemoveScroll"),ou=c.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=We(_t,r);return e.jsx(sn,{as:iu,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(ce.div,{"data-state":nn(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Cs="DialogContent",Bi=c.forwardRef((s,t)=>{const r=$i(Cs,s.__scopeDialog),{forceMount:n=r.forceMount,...a}=s,i=We(Cs,s.__scopeDialog);return e.jsx(Kt,{present:n||i.open,children:i.modal?e.jsx(lu,{...a,ref:t}):e.jsx(cu,{...a,ref:t})})});Bi.displayName=Cs;var lu=c.forwardRef((s,t)=>{const r=We(Cs,s.__scopeDialog),n=c.useRef(null),a=ve(t,r.contentRef,n);return c.useEffect(()=>{const i=n.current;if(i)return Fi(i)},[]),e.jsx(Ui,{...s,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(s.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:de(s.onPointerDownOutside,i=>{const l=i.detail.originalEvent,o=l.button===0&&l.ctrlKey===!0;(l.button===2||o)&&i.preventDefault()}),onFocusOutside:de(s.onFocusOutside,i=>i.preventDefault())})}),cu=c.forwardRef((s,t)=>{const r=We(Cs,s.__scopeDialog),n=c.useRef(!1),a=c.useRef(!1);return e.jsx(Ui,{...s,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=s.onCloseAutoFocus)==null||l.call(s,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var m,d;(m=s.onInteractOutside)==null||m.call(s,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Ui=c.forwardRef((s,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=s,o=We(Cs,r),m=c.useRef(null),d=ve(t,m);return Si(),e.jsxs(e.Fragment,{children:[e.jsx(Zr,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(Xr,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":nn(o.open),...l,ref:d,onDismiss:()=>o.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(du,{titleId:o.titleId}),e.jsx(uu,{contentRef:m,descriptionId:o.descriptionId})]})]})}),rn="DialogTitle",zi=c.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=We(rn,r);return e.jsx(ce.h2,{id:a.titleId,...n,ref:t})});zi.displayName=rn;var Vi="DialogDescription",Hi=c.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=We(Vi,r);return e.jsx(ce.p,{id:a.descriptionId,...n,ref:t})});Hi.displayName=Vi;var qi="DialogClose",Wi=c.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=We(qi,r);return e.jsx(ce.button,{type:"button",...n,ref:t,onClick:de(s.onClick,()=>a.onOpenChange(!1))})});Wi.displayName=qi;function nn(s){return s?"open":"closed"}var Yi="DialogTitleWarning",[uh,Gi]=Fd(Yi,{contentName:Cs,titleName:rn,docsSlug:"dialog"}),du=({titleId:s})=>{const t=Gi(Yi),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return c.useEffect(()=>{s&&(document.getElementById(s)||console.error(r))},[r,s]),null},mu="DialogDescriptionWarning",uu=({contentRef:s,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Gi(mu).contentName}}.`;return c.useEffect(()=>{var i;const a=(i=s.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,s,t]),null},xu=Ii,pu=Li,hu=_i,gu=Bi,fu=zi,bu=Hi,vu=Wi;function Qi({...s}){return e.jsx(xu,{"data-slot":"dialog",...s})}function yu({...s}){return e.jsx(pu,{"data-slot":"dialog-portal",...s})}const Ki=c.forwardRef(({className:s,...t},r)=>e.jsx(hu,{ref:r,"data-slot":"dialog-overlay",className:Se("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t}));Ki.displayName="DialogOverlay";function Ji({className:s,children:t,...r}){return e.jsxs(yu,{"data-slot":"dialog-portal",children:[e.jsx(Ki,{}),e.jsxs(gu,{"data-slot":"dialog-content",className:Se("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...r,children:[t,e.jsxs(vu,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(Ve,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Xi({className:s,...t}){return e.jsx("div",{"data-slot":"dialog-header",className:Se("flex flex-col gap-2 text-center sm:text-left",s),...t})}function Zi({className:s,...t}){return e.jsx(fu,{"data-slot":"dialog-title",className:Se("text-lg leading-none font-semibold",s),...t})}function eo({className:s,...t}){return e.jsx(bu,{"data-slot":"dialog-description",className:Se("text-muted-foreground text-sm",s),...t})}function ju({open:s,onOpenChange:t,clientId:r,clientName:n}){const{t:a}=$e(),[i,l]=c.useState([]),[o,m]=c.useState(""),[d,p]=c.useState(!1),[u,g]=c.useState(!1);c.useEffect(()=>{s&&r&&x()},[s,r]);const x=async()=>{p(!0);try{const{data:f,error:b}=await te.auth.getSession();if(b||!f.session)throw new Error("Not authenticated");const h=f.session.access_token,j=await fetch(Ce.messages(r),{headers:{Authorization:`Bearer ${h}`}});if(!j.ok)throw new Error("Failed to fetch messages");const y=await j.json();l(y.messages||[])}catch(f){console.error("Error fetching messages:",f),U.error("Failed to load messages")}finally{p(!1)}},v=async()=>{if(o.trim()){g(!0);try{const{data:f,error:b}=await te.auth.getSession();if(b||!f.session)throw new Error("Not authenticated");const h=f.session.access_token;if(!(await fetch(Ce.messagesSend,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({clientId:r,senderId:"admin",senderRole:"admin",senderName:"Tax Advisor",subject:"Admin Response",content:o})})).ok)throw new Error("Failed to send message");m(""),U.success("Message sent successfully!"),await x()}catch(f){console.error("Error sending message:",f),U.error("Failed to send message")}finally{g(!1)}}};return e.jsx(Qi,{open:s,onOpenChange:t,children:e.jsxs(Ji,{className:"max-w-3xl max-h-[80vh] flex flex-col",children:[e.jsxs(Xi,{children:[e.jsxs(Zi,{className:"flex items-center gap-2",children:[e.jsx(js,{className:"w-5 h-5"}),a("messages.title")," - ",n]}),e.jsx(eo,{children:"View and send messages to this client"})]}),e.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col gap-4",children:[e.jsx("div",{className:"flex-1 bg-gray-50 rounded-lg p-4 overflow-y-auto space-y-4 min-h-[400px]",children:d?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(ae,{className:"w-8 h-8 animate-spin text-gray-400"})}):i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(js,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:a("messages.noMessages")})]}):i.map(f=>{const b=f.senderRole==="admin",h=new Date(f.createdAt),j=new Date,y=new Date(j);y.setDate(y.getDate()-1);let w=h.toLocaleDateString();return h.toDateString()===j.toDateString()?w=a("messages.today"):h.toDateString()===y.toDateString()&&(w=a("messages.yesterday")),e.jsx("div",{className:`flex ${b?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[70%] rounded-lg p-4 ${b?"bg-blue-600 text-white":"bg-white border border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-xs font-semibold",children:b?a("messages.admin"):f.senderName}),e.jsxs("span",{className:`text-xs ${b?"text-blue-100":"text-gray-500"}`,children:[w," ‚Ä¢ ",h.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsx("p",{className:"whitespace-pre-wrap",children:f.content})]})},f.id)})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Qs,{value:o,onChange:f=>m(f.target.value),placeholder:a("messages.writeMessage"),className:"flex-1 min-h-[80px] resize-none",onKeyDown:f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),v())}}),e.jsx(Y,{onClick:v,disabled:!o.trim()||u,className:"h-[80px]",children:u?e.jsx(ae,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(_s,{className:"w-4 h-4 mr-2"}),a("messages.send")]})})]})]})]})})}function Nu({open:s,onOpenChange:t,data:r,onSuccess:n}){const[a,i]=c.useState([]),[l,o]=c.useState(!0),[m,d]=c.useState(!1),[p,u]=c.useState((r==null?void 0:r.currentAssignedTo)||null),[g,x]=c.useState("");c.useEffect(()=>{s&&r&&(v(),u(r.currentAssignedTo||null))},[s,r]);const v=async()=>{try{const h=await fetch(`https://${we}.supabase.co/functions/v1/make-server-c2a25be0/users/list`,{headers:{Authorization:`Bearer ${Ie}`,"Content-Type":"application/json"}});if(!h.ok)throw new Error("Failed to load users");const j=await h.json();i(j.filter(y=>y.isActive&&y.modules.includes("customers")))}catch(h){console.error("Error loading users:",h),U.error("Failed to load team members")}finally{o(!1)}},f=async()=>{if(!p){U.error("Please select a team member");return}d(!0);try{const h=(r==null?void 0:r.currentAssignedTo)&&r.currentAssignedTo!==p,j=h?"cases/transfer":"cases/assign",y=h?{clientId:r==null?void 0:r.clientId,year:r==null?void 0:r.year,fromUserId:r.currentAssignedTo,toUserId:p,reason:g||"Manual reassignment"}:{clientId:r==null?void 0:r.clientId,year:r==null?void 0:r.year,assignedTo:p};if(!(await fetch(`https://${we}.supabase.co/functions/v1/make-server-c2a25be0/${j}`,{method:"POST",headers:{Authorization:`Bearer ${Ie}`,"Content-Type":"application/json"},body:JSON.stringify(y)})).ok)throw new Error("Failed to assign case");U.success(h?"Case transferred successfully":"Case assigned successfully"),n==null||n(),t(!1)}catch(h){console.error("Error assigning case:",h),U.error("Failed to assign case")}finally{d(!1)}},b=(r==null?void 0:r.currentAssignedTo)&&p&&r.currentAssignedTo!==p;return!s||!r?null:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(se,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:e.jsx(fe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r!=null&&r.currentAssignedTo?"Reassign Case":"Assign Case"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[r==null?void 0:r.clientName," - Tax Year ",r==null?void 0:r.year]})]})]})}),e.jsx("div",{className:"p-6",children:l?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ae,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select Team Member"}),a.map(h=>e.jsx("button",{onClick:()=>u(h.userId),className:`w-full p-4 border-2 rounded-lg text-left transition-all ${p===h.userId?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} ${h.userId===(r==null?void 0:r.currentAssignedTo)?"bg-yellow-50":""}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center text-white font-bold",children:h.name.split(" ").map(j=>j[0]).join("").toUpperCase()}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[h.name,h.userId===(r==null?void 0:r.currentAssignedTo)&&e.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded",children:"Currently Assigned"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:h.email}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[h.casesCount," total cases ‚Ä¢ ",h.pendingCases," pending"]})]})]}),p===h.userId&&e.jsx(ze,{className:"w-5 h-5 text-blue-600"})]})},h.userId))]}),b&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Transfer Reason (Optional)"}),e.jsx("textarea",{value:g,onChange:h=>x(h.target.value),placeholder:"Why is this case being transferred?",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3})]}),a.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(fe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No available team members"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Users need customer management permissions to be assigned cases"})]})]})}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end",children:[e.jsx(Y,{variant:"outline",onClick:()=>t(!1),disabled:m,children:"Cancel"}),e.jsx(Y,{onClick:f,disabled:!p||m||p===(r==null?void 0:r.currentAssignedTo),className:"bg-blue-600 hover:bg-blue-700",children:m?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),b?"Transferring...":"Assigning..."]}):e.jsxs(e.Fragment,{children:[b?"Transfer Case":"Assign Case",e.jsx(Wt,{className:"w-4 h-4 ml-2"})]})})]})]})})}const wu=oi("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function vs({className:s,variant:t,asChild:r=!1,...n}){const a=r?ni:"span";return e.jsx(a,{"data-slot":"badge",className:Se(wu({variant:t}),s),...n})}function da(){const s=ye(),{user:t}=Pe(),{t:r}=$e(),[n,a]=c.useState([]),[i,l]=c.useState(!0),[o,m]=c.useState(""),[d,p]=c.useState(!1),[u,g]=c.useState(null),[x,v]=c.useState(!1),[f,b]=c.useState(null),h=!1;c.useEffect(()=>{if(!t||!De(t.email)){s("/login");return}j()},[t]);const j=async()=>{l(!0);try{const{data:C,error:S}=await te.auth.getSession();if(S||!C.session)throw new Error("Not authenticated");const E=C.session.access_token;console.log("üîë Got access token, fetching clients from server...");try{const O=await fetch(Ce.adminClients,{headers:{Authorization:`Bearer ${E}`}});if(!O.ok)throw new Error("Backend not available");const M=await O.json();console.log("‚úÖ Fetched clients from server:",M.clients),a(M.clients||[]),(!M.clients||M.clients.length===0)&&U.info("No customers found. Users need to sign up first.")}catch{console.log("‚ö†Ô∏è Backend not available, fetching from Supabase directly...");const{data:{users:M},error:B}=await te.auth.admin.listUsers();if(B)throw console.error("Error fetching users from Supabase:",B),new Error("Failed to fetch users from Supabase");console.log("üì¶ [DEMO MODE] Found users:",M==null?void 0:M.length);const F=await Promise.all(M.map(async T=>{var _,N;const{data:$}=await te.from("kv_store_c2a25be0").select("*").ilike("key",`personal_info:${T.id}%`).limit(1).single(),{data:L}=await te.from("kv_store_c2a25be0").select("*").ilike("key",`tax_filing:${T.id}%`);return{id:T.id,email:T.email||"",name:((_=T.user_metadata)==null?void 0:_.name)||((N=T.email)==null?void 0:N.split("@")[0])||"Unknown",createdAt:T.created_at,personalInfo:($==null?void 0:$.value)||null,taxFilings:(L==null?void 0:L.map(A=>A.value))||[],onboardingComplete:!!($!=null&&$.value),assignedAccountant:null}}));console.log("‚úÖ [DEMO MODE] Loaded clients from Supabase:",F.length),a(F),F.length===0?U.info("No customers found. Users need to sign up first."):U.success(`‚úÖ Loaded ${F.length} client(s) from database`)}}catch(C){console.error("Error loading clients:",C),U.error(`Failed to load customers: ${C instanceof Error?C.message:"Unknown error"}`)}finally{l(!1)}},y=n.filter(C=>C.name.toLowerCase().includes(o.toLowerCase())||C.email.toLowerCase().includes(o.toLowerCase())),w=C=>{var E;if(!C.onboardingComplete)return{label:"Pending Onboarding",color:"bg-yellow-100 text-yellow-700 border-yellow-300",icon:be};const S=(E=C.taxFilings)==null?void 0:E.find(O=>O.status==="in-progress"||O.status==="under-review");return S?S.status==="under-review"?{label:"Needs Review",color:"bg-orange-100 text-orange-700 border-orange-300",icon:be}:{label:"In Progress",color:"bg-blue-100 text-blue-700 border-blue-300",icon:mt}:{label:"Active",color:"bg-green-100 text-green-700 border-green-300",icon:H}},k=C=>{var S;return((S=C.taxFilings)==null?void 0:S.length)||0},P=C=>{if(!C.taxFilings||C.taxFilings.length===0)return null;const S=[];return C.taxFilings.forEach(E=>{E&&typeof E=="object"&&"year"in E&&typeof E.year=="number"&&S.push(E.year)}),S.length===0?null:(S.sort((E,O)=>O-E),S[0])};return i?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ae,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),e.jsx("p",{className:"text-gray-600",children:"Loading clients..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white border-b sticky top-0 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(fe,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold",children:r("admin.customerDashboard")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[n.length," ",n.length===1?r("admin.customer"):r("admin.customers")," ",r("admin.customersTotal")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Y,{onClick:()=>s("/admin/bookkeeping-dashboard"),className:"bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(Gr,{className:"w-4 h-4 mr-2"}),r("admin.bookkeepingTitle")]}),e.jsxs(Y,{onClick:()=>s("/admin/financial-dashboard"),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),r("admin.financialTitle")]}),e.jsx("div",{className:"w-px h-8 bg-gray-300 mx-2"}),e.jsx(Y,{onClick:()=>s("/admin"),variant:"ghost",children:r("admin.backToHub")}),e.jsx(Y,{onClick:()=>s("/dashboard"),variant:"outline",children:r("admin.clientPortal")}),e.jsx(Y,{onClick:()=>s("/"),variant:"ghost",children:"Home"})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsx(se,{className:"p-4 mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(le,{type:"text",placeholder:"Search clients by name or email...",value:o,onChange:C=>m(C.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Clients"}),e.jsx("p",{className:"text-2xl font-semibold mt-1",children:n.length})]}),e.jsx(fe,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx(se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Onboarded"}),e.jsx("p",{className:"text-2xl font-semibold mt-1",children:n.filter(C=>C.onboardingComplete).length})]}),e.jsx(H,{className:"w-8 h-8 text-green-600"})]})}),e.jsx(se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Needs Review"}),e.jsx("p",{className:"text-2xl font-semibold mt-1",children:n.filter(C=>{var S;return(S=C.taxFilings)==null?void 0:S.some(E=>E.status==="under-review")}).length})]}),e.jsx(be,{className:"w-8 h-8 text-orange-600"})]})}),e.jsx(se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Active Filings"}),e.jsx("p",{className:"text-2xl font-semibold mt-1",children:n.reduce((C,S)=>{var E;return C+(((E=S.taxFilings)==null?void 0:E.filter(O=>O.status==="in-progress"||O.status==="under-review").length)||0)},0)})]}),e.jsx(xe,{className:"w-8 h-8 text-blue-600"})]})})]}),e.jsx("div",{className:"space-y-4",children:y.length===0?e.jsxs(se,{className:"p-8 text-center",children:[e.jsx(fe,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:o?"No clients found matching your search":"No clients yet"})]}):y.map(C=>{const S=w(C),E=S.icon,O=P(C);return e.jsx(se,{className:"p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>s(`/admin/client/${C.id}`),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-white font-semibold text-lg",children:C.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:C.name}),e.jsxs(vs,{variant:"outline",className:`${S.color} border`,children:[e.jsx(E,{className:"w-3 h-3 mr-1"}),S.label]})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:C.email}),e.jsxs("div",{className:"flex items-center gap-6 text-sm flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:["Joined ",new Date(C.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:[k(C)," ",k(C)===1?"filing":"filings"]})]}),O&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-gray-600",children:["Latest: Tax Year ",O]})}),C.assignedAccountant?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:["Managed by:"," ",e.jsx("span",{className:"font-medium text-purple-600",children:C.assignedAccountant.name})]})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-500 italic",children:"Unassigned"})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Y,{variant:"outline",size:"sm",onClick:M=>{M.stopPropagation(),g({id:C.id,name:C.name}),p(!0)},children:[e.jsx(js,{className:"w-4 h-4 mr-2"}),"Message"]}),e.jsxs(Y,{variant:"ghost",size:"sm",children:["View Details",e.jsx(Wt,{className:"w-4 h-4 ml-2"})]})]})]})},C.id)})})]}),e.jsx(ju,{open:d,onOpenChange:p,clientId:(u==null?void 0:u.id)||"",clientName:(u==null?void 0:u.name)||""}),e.jsx(Nu,{open:x,onOpenChange:v,data:f})]})}function Cu({initialData:s,onSubmit:t,onCancel:r}){var L,_,N,A,R,V,X;const[n,a]=c.useState(((L=s==null?void 0:s.federalRefund)==null?void 0:L.toString())||""),[i,l]=c.useState(((_=s==null?void 0:s.federalOwing)==null?void 0:_.toString())||""),[o,m]=c.useState(((N=s==null?void 0:s.provincialRefund)==null?void 0:N.toString())||""),[d,p]=c.useState(((A=s==null?void 0:s.provincialOwing)==null?void 0:A.toString())||""),[u,g]=c.useState(((R=s==null?void 0:s.gstHstCredit)==null?void 0:R.toString())||""),[x,v]=c.useState(((V=s==null?void 0:s.childBenefit)==null?void 0:V.toString())||""),[f,b]=c.useState(((X=s==null?void 0:s.otherCredits)==null?void 0:X.toString())||""),[h,j]=c.useState((s==null?void 0:s.estimatedRefundDate)||""),[y,w]=c.useState((s==null?void 0:s.notes)||""),k=parseFloat(n)||0,P=parseFloat(i)||0,C=parseFloat(o)||0,S=parseFloat(d)||0,E=parseFloat(u)||0,O=parseFloat(x)||0,M=parseFloat(f)||0,B=k+C+E+O+M,F=P+S,T=B-F,$=J=>{J.preventDefault();const ne={federalRefund:k>0?k:void 0,federalOwing:P>0?P:void 0,provincialRefund:C>0?C:void 0,provincialOwing:S>0?S:void 0,gstHstCredit:E>0?E:void 0,childBenefit:O>0?O:void 0,otherCredits:M>0?M:void 0,totalRefund:B>0?B:void 0,totalOwing:F>0?F:void 0,netAmount:T,estimatedRefundDate:h||void 0,notes:y.trim()||void 0};t(ne)};return e.jsxs("form",{onSubmit:$,className:"space-y-6",children:[e.jsxs(se,{className:"p-6",children:[e.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5 text-blue-600"}),"Federal Tax"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{htmlFor:"federalRefund",className:"flex items-center gap-2",children:[e.jsx(ys,{className:"w-4 h-4 text-green-600"}),"Federal Refund"]}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(le,{id:"federalRefund",type:"number",step:"0.01",min:"0",value:n,onChange:J=>a(J.target.value),className:"pl-8",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{htmlFor:"federalOwing",className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-4 h-4 text-red-600"}),"Federal Owing"]}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(le,{id:"federalOwing",type:"number",step:"0.01",min:"0",value:i,onChange:J=>l(J.target.value),className:"pl-8",placeholder:"0.00"})]})]})]})]}),e.jsxs(se,{className:"p-6",children:[e.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5 text-purple-600"}),"Provincial Tax"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{htmlFor:"provincialRefund",className:"flex items-center gap-2",children:[e.jsx(ys,{className:"w-4 h-4 text-green-600"}),"Provincial Refund"]}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(le,{id:"provincialRefund",type:"number",step:"0.01",min:"0",value:o,onChange:J=>m(J.target.value),className:"pl-8",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{htmlFor:"provincialOwing",className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-4 h-4 text-red-600"}),"Provincial Owing"]}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(le,{id:"provincialOwing",type:"number",step:"0.01",min:"0",value:d,onChange:J=>p(J.target.value),className:"pl-8",placeholder:"0.00"})]})]})]})]}),e.jsxs(se,{className:"p-6",children:[e.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[e.jsx(_a,{className:"w-5 h-5 text-green-600"}),"Credits & Benefits"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"gstHstCredit",children:"GST/HST Credit (Annual)"}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(le,{id:"gstHstCredit",type:"number",step:"0.01",min:"0",value:u,onChange:J=>g(J.target.value),className:"pl-8",placeholder:"0.00"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Quarterly payments totaling per year"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"childBenefit",children:"Canada Child Benefit (CCB)"}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(le,{id:"childBenefit",type:"number",step:"0.01",min:"0",value:x,onChange:J=>v(J.target.value),className:"pl-8",placeholder:"0.00"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Monthly benefit amount per year"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"otherCredits",children:"Other Credits/Benefits"}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(le,{id:"otherCredits",type:"number",step:"0.01",min:"0",value:f,onChange:J=>b(J.target.value),className:"pl-8",placeholder:"0.00"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Other applicable credits"})]})]})]}),e.jsxs(se,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Additional Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"estimatedRefundDate",children:"Estimated Refund Date (Optional)"}),e.jsx(le,{id:"estimatedRefundDate",type:"date",value:h,onChange:J=>j(J.target.value)}),e.jsx("p",{className:"text-xs text-gray-500",children:"When client can expect to receive refund"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"notes",children:"Notes (Optional)"}),e.jsx(Qs,{id:"notes",value:y,onChange:J=>w(J.target.value),placeholder:"Additional information about the tax return...",rows:3})]})]})]}),e.jsxs(se,{className:"p-6 bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Summary"}),e.jsxs("div",{className:"space-y-3",children:[B>0&&e.jsxs("div",{className:"flex items-center justify-between pb-2 border-b",children:[e.jsx("span",{className:"text-green-700 font-medium",children:"Total Refund:"}),e.jsx("span",{className:"text-green-700 font-bold text-xl",children:ue(B)})]}),F>0&&e.jsxs("div",{className:"flex items-center justify-between pb-2 border-b",children:[e.jsx("span",{className:"text-red-700 font-medium",children:"Total Owing:"}),e.jsx("span",{className:"text-red-700 font-bold text-xl",children:ue(F)})]}),e.jsxs("div",{className:`flex items-center justify-between pt-2 ${T>0?"text-green-700":T<0?"text-red-700":"text-gray-700"}`,children:[e.jsx("span",{className:"font-bold text-xl",children:"Net Amount:"}),e.jsxs("span",{className:"font-bold text-3xl",children:[T>0&&"+",ue(Math.abs(T))]})]}),T>0&&e.jsx("p",{className:"text-sm text-green-700 text-center pt-2",children:"üéâ Client will receive a refund!"}),T<0&&e.jsx("p",{className:"text-sm text-red-700 text-center pt-2",children:"‚ö†Ô∏è Client will need to pay CRA"}),T===0&&e.jsx("p",{className:"text-sm text-gray-700 text-center pt-2",children:"‚úÖ Balanced - No refund or payment needed"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r&&e.jsx(Y,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:"Cancel"}),e.jsx(Y,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Save Summary & Generate Preview"})]})]})}function Su({isOpen:s,onClose:t,client:r,filingYear:n,onSuccess:a}){var $,L,_,N,A;const[i,l]=c.useState(1),[o,m]=c.useState(!1),[d,p]=c.useState(null),[u,g]=c.useState(""),[x,v]=c.useState(""),[f,b]=c.useState(""),[h,j]=c.useState(!1),[y,w]=c.useState(!1),[k,P]=c.useState(null);if(!s)return null;const C=R=>{var X;const V=(X=R.target.files)==null?void 0:X[0];if(V){if(V.type!=="application/pdf"){U.error("Please upload a PDF file");return}if(V.size>10485760){U.error("File size must be less than 10MB");return}p(V)}},S=R=>{P(R),U.success("Tax return summary saved!")},E=async()=>{var V;if(!d){U.error("Please upload a PDF report");return}const R=u==="custom"?parseFloat(x):((V=Be.find(X=>X.id===u))==null?void 0:V.amount)||0;if(!R||R<=0){U.error("Please select a pricing option or enter a custom amount");return}m(!0);try{const{data:X,error:J}=await te.auth.getSession();if(J||!X.session)throw new Error("Not authenticated");const ne=X.session.access_token,pe="tax-documents-c2a25be0",je=Date.now(),z=`${r.id}/${n}/report/tax_return_${n}_${je}.pdf`,{error:K}=await te.storage.from(pe).upload(z,d,{cacheControl:"3600",upsert:!1});if(K)throw console.error("Upload error:",K),new Error(`Failed to upload file: ${K.message}`);const{data:D,error:I}=await te.storage.from(pe).createSignedUrl(z,31536e3);if(I||!D)throw new Error("Failed to get file URL");const W=await fetch(Ce.taxFilingSubmitReport,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ne}`},body:JSON.stringify({userId:r.id,year:n,reportUrl:D.signedUrl,fileName:d.name,fileSize:d.size,pricingPresetId:u!=="custom"?u:null,customAmount:R,adminNotes:f,includeQuebecReturn:h,includeQuebecTax:y,taxReturnSummary:k||void 0,summaryPdfUrl:null||void 0})});if(!W.ok){const ie=await W.json();throw new Error(ie.error||"Failed to submit report")}U.success("Report submitted successfully! Client will be notified."),a==null||a(),O()}catch(X){console.error("Error submitting report:",X),U.error(X instanceof Error?X.message:"Failed to submit report")}finally{m(!1)}},O=()=>{l(1),p(null),g(""),v(""),b(""),j(!1),w(!1),P(null),t()},M=u==="custom"?parseFloat(x)||0:(($=Be.find(R=>R.id===u))==null?void 0:$.amount)||0,B=h&&((L=Be.find(R=>R.id==="addon-quebec-return"))==null?void 0:L.amount)||0,F=y&&((_=Be.find(R=>R.id==="addon-quebec-tax"))==null?void 0:_.amount)||0,T=M+B+F;return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between z-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Submit Tax Return Report"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.name," - Tax Year ",n]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${i===1?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"1. Report & Pricing"})]}),e.jsx(Ft,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${i===2?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"2. CRA Assessment"})]})]}),e.jsx(Y,{variant:"ghost",size:"sm",onClick:O,disabled:o,children:e.jsx(Ve,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"p-6",children:i===1?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{htmlFor:"report-upload",className:"text-base font-medium",children:["Upload Completed Tax Return (PDF) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:d?e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(xe,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:d.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(d.size/1024/1024).toFixed(2)," MB"]})]}),e.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>p(null),disabled:o,children:e.jsx(Ve,{className:"w-4 h-4"})})]}):e.jsxs("div",{children:[e.jsx(Oe,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF only, max 10MB"}),e.jsx("input",{type:"file",id:"report-upload",accept:".pdf",onChange:C,className:"hidden"}),e.jsx(Y,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>{var R;return(R=document.getElementById("report-upload"))==null?void 0:R.click()},children:"Choose File"})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ee,{className:"text-base font-medium",children:["Select Service Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Personal Tax Returns"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Be.filter(R=>R.category==="personal").map(R=>e.jsx("label",{className:`flex flex-col gap-2 p-3 border rounded-lg cursor-pointer transition-colors ${u===R.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"radio",name:"pricing",value:R.id,checked:u===R.id,onChange:V=>g(V.target.value),className:"mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-sm",children:R.name.en}),e.jsx("span",{className:"font-semibold text-blue-600",children:ue(R.amount)})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:R.description.en})]})]})},R.id))})]}),e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Business Returns"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Be.filter(R=>R.category==="business").map(R=>e.jsx("label",{className:`flex flex-col gap-2 p-3 border rounded-lg cursor-pointer transition-colors ${u===R.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"radio",name:"pricing",value:R.id,checked:u===R.id,onChange:V=>g(V.target.value),className:"mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-sm",children:R.name.en}),e.jsx("span",{className:"font-semibold text-blue-600",children:ue(R.amount)})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:R.description.en})]})]})},R.id))})]}),e.jsx("div",{className:"pt-2",children:e.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer transition-colors ${u==="custom"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"pricing",value:"custom",checked:u==="custom",onChange:R=>g(R.target.value),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium",children:"Custom Amount"}),u==="custom"&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(le,{type:"number",min:"0",step:"0.01",value:x,onChange:R=>v(R.target.value),placeholder:"0.00",className:"pl-8"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Amount in CAD"})]})]})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ee,{className:"text-base font-medium flex items-center gap-2",children:[e.jsx(dt,{className:"w-4 h-4 text-indigo-600"}),"Quebec Provincial Add-ons"]}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-3 bg-indigo-50/30",children:[e.jsxs("label",{className:`flex items-center justify-between p-3 border rounded-lg cursor-pointer transition-colors ${h?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:R=>j(R.target.checked),className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Quebec Tax Return (TP-1)"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Provincial Quebec tax return"})]})]}),e.jsxs("span",{className:"font-semibold text-indigo-600",children:["+",ue(((N=Be.find(R=>R.id==="addon-quebec-return"))==null?void 0:N.amount)||0)]})]}),e.jsxs("label",{className:`flex items-center justify-between p-3 border rounded-lg cursor-pointer transition-colors ${y?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:R=>w(R.target.checked),className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Quebec Tax Filing Fee"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Additional filing fee for Quebec residents"})]})]}),e.jsxs("span",{className:"font-semibold text-indigo-600",children:["+",ue(((A=Be.find(R=>R.id==="addon-quebec-tax"))==null?void 0:A.amount)||0)]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"admin-notes",className:"text-base font-medium",children:"Internal Notes (Optional)"}),e.jsx("textarea",{id:"admin-notes",value:f,onChange:R=>b(R.target.value),placeholder:"Add any internal notes about this filing...",className:"w-full px-3 py-2 border rounded-lg min-h-[80px]"})]}),T>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Total Amount"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:ue(T)})]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(Y,{variant:"outline",onClick:O,children:"Cancel"}),e.jsxs(Y,{onClick:()=>l(2),disabled:!d||T<=0,className:"bg-green-600 hover:bg-green-700",children:["Next: CRA Assessment ",e.jsx(Ft,{className:"w-4 h-4 ml-2"})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"Step 2: CRA Assessment Details (Optional but Recommended)"}),e.jsx("p",{className:"text-sm text-green-700",children:"Fill in the values from the tax return so the client can see what they'll receive or owe from CRA. A professional PDF summary will be generated automatically."})]}),e.jsx(Cu,{initialData:k||void 0,onSubmit:S,onCancel:()=>P(null)}),e.jsxs("div",{className:"flex justify-between gap-3 pt-4 border-t",children:[e.jsx(Y,{variant:"outline",onClick:()=>l(1),children:"Back to Report & Pricing"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Y,{variant:"outline",onClick:E,disabled:o,children:"Skip & Submit Report Only"}),e.jsx(Y,{onClick:E,disabled:o||!k,className:"bg-green-600 hover:bg-green-700",children:o?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Submit with CRA Assessment"]})})]})]})]})})]})})}function ku({isOpen:s,onClose:t,clientId:r,clientName:n,year:a,onSuccess:i}){const[l,o]=c.useState(!1),[m,d]=c.useState([]);if(!s)return null;const p=[{id:"income",label:"Income Documents"},{id:"deductions",label:"Deduction Receipts"},{id:"business",label:"Business Documents"},{id:"property",label:"Property & Investments"},{id:"other",label:"Other Documents"}],u=h=>{const y=Array.from(h.target.files||[]).map(w=>({file:w,category:"other"}));d(w=>[...w,...y])},g=h=>{d(j=>j.filter((y,w)=>w!==h))},x=(h,j)=>{d(y=>y.map((w,k)=>k===h?{...w,category:j}:w))},v=async()=>{if(m.length===0){U.error("Please select at least one file");return}o(!0);try{const h="tax-documents-c2a25be0",j=[];for(const{file:C,category:S}of m){const E=Date.now(),O=`${r}/${a}/${S}/${E}_${C.name}`,{error:M}=await te.storage.from(h).upload(O,C,{cacheControl:"3600",upsert:!1});if(M)throw console.error("Upload error:",M),new Error(`Failed to upload ${C.name}: ${M.message}`);j.push({id:`${E}_${C.name}`,name:C.name,size:C.size,category:S,uploadedAt:new Date().toISOString(),path:O})}const{data:y}=await te.from("kv_store_c2a25be0").select("value").eq("key",`user:${r}:documents:${a}`).single(),k=[...(y==null?void 0:y.value)||[],...j],{error:P}=await te.from("kv_store_c2a25be0").upsert({key:`user:${r}:documents:${a}`,value:k});if(P)throw new Error("Failed to save document metadata");U.success(`${j.length} file(s) uploaded successfully`),i==null||i(),f()}catch(h){console.error("Error uploading documents:",h),U.error(h instanceof Error?h.message:"Failed to upload documents")}finally{o(!1)}},f=()=>{d([]),t()},b=h=>{if(h===0)return"0 Bytes";const j=1024,y=["Bytes","KB","MB","GB"],w=Math.floor(Math.log(h)/Math.log(j));return Math.round(h/Math.pow(j,w)*100)/100+" "+y[w]};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Upload Documents"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n," - Tax Year ",a]})]}),e.jsx(Y,{variant:"ghost",size:"sm",onClick:f,disabled:l,children:e.jsx(Ve,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{htmlFor:"document-upload",className:"text-base font-medium",children:["Select Files ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[e.jsx(Oe,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"PDF, images, or documents"}),e.jsx("input",{type:"file",id:"document-upload",multiple:!0,onChange:u,className:"hidden",disabled:l}),e.jsx(Y,{variant:"outline",size:"sm",onClick:()=>{var h;return(h=document.getElementById("document-upload"))==null?void 0:h.click()},disabled:l,children:"Choose Files"})]})]}),m.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{className:"text-base font-medium",children:["Selected Files (",m.length,")"]}),e.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:m.map((h,j)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-50",children:[e.jsx(xe,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:h.file.name}),e.jsx("p",{className:"text-xs text-gray-500",children:b(h.file.size)}),e.jsxs("div",{className:"mt-2",children:[e.jsx(ee,{className:"text-xs text-gray-600",children:"Category:"}),e.jsx("select",{value:h.category,onChange:y=>x(j,y.target.value),className:"mt-1 w-full text-sm border rounded px-2 py-1",disabled:l,children:p.map(y=>e.jsx("option",{value:y.id,children:y.label},y.id))})]})]}),e.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>g(j),disabled:l,className:"flex-shrink-0",children:e.jsx(Us,{className:"w-4 h-4 text-red-500"})})]},j))})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t px-6 py-4 flex items-center justify-end gap-3",children:[e.jsx(Y,{variant:"outline",onClick:f,disabled:l,children:"Cancel"}),e.jsx(Y,{onClick:v,disabled:l||m.length===0,children:l?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Upload ",m.length," File",m.length!==1?"s":""]})})]})]})})}function ma(s,[t,r]){return Math.min(r,Math.max(t,s))}function ua(s){const t=Tu(s),r=c.forwardRef((n,a)=>{const{children:i,...l}=n,o=c.Children.toArray(i),m=o.find(Pu);if(m){const d=m.props.children,p=o.map(u=>u===m?c.Children.count(d)>1?c.Children.only(null):c.isValidElement(d)?d.props.children:null:u);return e.jsx(t,{...l,ref:a,children:c.isValidElement(d)?c.cloneElement(d,void 0,p):null})}return e.jsx(t,{...l,ref:a,children:i})});return r.displayName=`${s}.Slot`,r}function Tu(s){const t=c.forwardRef((r,n)=>{const{children:a,...i}=r;if(c.isValidElement(a)){const l=Ru(a),o=Eu(i,a.props);return a.type!==c.Fragment&&(o.ref=n?Ws(n,l):l),c.cloneElement(a,o)}return c.Children.count(a)>1?c.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var Au=Symbol("radix.slottable");function Pu(s){return c.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===Au}function Eu(s,t){const r={...t};for(const n in t){const a=s[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const m=i(...o);return a(...o),m}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...s,...r}}function Ru(s){var n,a;let t=(n=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=(a=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}function Du(s){const t=s+"CollectionProvider",[r,n]=Qt(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=f=>{const{scope:b,children:h}=f,j=ke.useRef(null),y=ke.useRef(new Map).current;return e.jsx(a,{scope:b,itemMap:y,collectionRef:j,children:h})};l.displayName=t;const o=s+"CollectionSlot",m=ua(o),d=ke.forwardRef((f,b)=>{const{scope:h,children:j}=f,y=i(o,h),w=ve(b,y.collectionRef);return e.jsx(m,{ref:w,children:j})});d.displayName=o;const p=s+"CollectionItemSlot",u="data-radix-collection-item",g=ua(p),x=ke.forwardRef((f,b)=>{const{scope:h,children:j,...y}=f,w=ke.useRef(null),k=ve(b,w),P=i(p,h);return ke.useEffect(()=>(P.itemMap.set(w,{ref:w,...y}),()=>void P.itemMap.delete(w))),e.jsx(g,{[u]:"",ref:k,children:j})});x.displayName=p;function v(f){const b=i(s+"CollectionConsumer",f);return ke.useCallback(()=>{const j=b.collectionRef.current;if(!j)return[];const y=Array.from(j.querySelectorAll(`[${u}]`));return Array.from(b.itemMap.values()).sort((P,C)=>y.indexOf(P.ref.current)-y.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:d,ItemSlot:x},v,n]}var Fu=c.createContext(void 0);function Ou(s){const t=c.useContext(Fu);return s||t||"ltr"}const Iu=["top","right","bottom","left"],xs=Math.min,Fe=Math.max,Bt=Math.round,wt=Math.floor,Je=s=>({x:s,y:s}),Mu={left:"right",right:"left",bottom:"top",top:"bottom"},$u={start:"end",end:"start"};function Or(s,t,r){return Fe(s,xs(t,r))}function as(s,t){return typeof s=="function"?s(t):s}function is(s){return s.split("-")[0]}function Js(s){return s.split("-")[1]}function an(s){return s==="x"?"y":"x"}function on(s){return s==="y"?"height":"width"}const Lu=new Set(["top","bottom"]);function Ke(s){return Lu.has(is(s))?"y":"x"}function ln(s){return an(Ke(s))}function _u(s,t,r){r===void 0&&(r=!1);const n=Js(s),a=ln(s),i=on(a);let l=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=Ut(l)),[l,Ut(l)]}function Bu(s){const t=Ut(s);return[Ir(s),t,Ir(t)]}function Ir(s){return s.replace(/start|end/g,t=>$u[t])}const xa=["left","right"],pa=["right","left"],Uu=["top","bottom"],zu=["bottom","top"];function Vu(s,t,r){switch(s){case"top":case"bottom":return r?t?pa:xa:t?xa:pa;case"left":case"right":return t?Uu:zu;default:return[]}}function Hu(s,t,r,n){const a=Js(s);let i=Vu(is(s),r==="start",n);return a&&(i=i.map(l=>l+"-"+a),t&&(i=i.concat(i.map(Ir)))),i}function Ut(s){return s.replace(/left|right|bottom|top/g,t=>Mu[t])}function qu(s){return{top:0,right:0,bottom:0,left:0,...s}}function so(s){return typeof s!="number"?qu(s):{top:s,right:s,bottom:s,left:s}}function zt(s){const{x:t,y:r,width:n,height:a}=s;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function ha(s,t,r){let{reference:n,floating:a}=s;const i=Ke(t),l=ln(t),o=on(l),m=is(t),d=i==="y",p=n.x+n.width/2-a.width/2,u=n.y+n.height/2-a.height/2,g=n[o]/2-a[o]/2;let x;switch(m){case"top":x={x:p,y:n.y-a.height};break;case"bottom":x={x:p,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:u};break;case"left":x={x:n.x-a.width,y:u};break;default:x={x:n.x,y:n.y}}switch(Js(t)){case"start":x[l]-=g*(r&&d?-1:1);break;case"end":x[l]+=g*(r&&d?-1:1);break}return x}const Wu=async(s,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:l}=r,o=i.filter(Boolean),m=await(l.isRTL==null?void 0:l.isRTL(t));let d=await l.getElementRects({reference:s,floating:t,strategy:a}),{x:p,y:u}=ha(d,n,m),g=n,x={},v=0;for(let f=0;f<o.length;f++){const{name:b,fn:h}=o[f],{x:j,y,data:w,reset:k}=await h({x:p,y:u,initialPlacement:n,placement:g,strategy:a,middlewareData:x,rects:d,platform:l,elements:{reference:s,floating:t}});p=j??p,u=y??u,x={...x,[b]:{...x[b],...w}},k&&v<=50&&(v++,typeof k=="object"&&(k.placement&&(g=k.placement),k.rects&&(d=k.rects===!0?await l.getElementRects({reference:s,floating:t,strategy:a}):k.rects),{x:p,y:u}=ha(d,g,m)),f=-1)}return{x:p,y:u,placement:g,strategy:a,middlewareData:x}};async function ot(s,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:l,elements:o,strategy:m}=s,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:u="floating",altBoundary:g=!1,padding:x=0}=as(t,s),v=so(x),b=o[g?u==="floating"?"reference":"floating":u],h=zt(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:d,rootBoundary:p,strategy:m})),j=u==="floating"?{x:n,y:a,width:l.floating.width,height:l.floating.height}:l.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),w=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},k=zt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:j,offsetParent:y,strategy:m}):j);return{top:(h.top-k.top+v.top)/w.y,bottom:(k.bottom-h.bottom+v.bottom)/w.y,left:(h.left-k.left+v.left)/w.x,right:(k.right-h.right+v.right)/w.x}}const Yu=s=>({name:"arrow",options:s,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:l,elements:o,middlewareData:m}=t,{element:d,padding:p=0}=as(s,t)||{};if(d==null)return{};const u=so(p),g={x:r,y:n},x=ln(a),v=on(x),f=await l.getDimensions(d),b=x==="y",h=b?"top":"left",j=b?"bottom":"right",y=b?"clientHeight":"clientWidth",w=i.reference[v]+i.reference[x]-g[x]-i.floating[v],k=g[x]-i.reference[x],P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let C=P?P[y]:0;(!C||!await(l.isElement==null?void 0:l.isElement(P)))&&(C=o.floating[y]||i.floating[v]);const S=w/2-k/2,E=C/2-f[v]/2-1,O=xs(u[h],E),M=xs(u[j],E),B=O,F=C-f[v]-M,T=C/2-f[v]/2+S,$=Or(B,T,F),L=!m.arrow&&Js(a)!=null&&T!==$&&i.reference[v]/2-(T<B?O:M)-f[v]/2<0,_=L?T<B?T-B:T-F:0;return{[x]:g[x]+_,data:{[x]:$,centerOffset:T-$-_,...L&&{alignmentOffset:_}},reset:L}}}),Gu=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:l,initialPlacement:o,platform:m,elements:d}=t,{mainAxis:p=!0,crossAxis:u=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:f=!0,...b}=as(s,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const h=is(a),j=Ke(o),y=is(o)===o,w=await(m.isRTL==null?void 0:m.isRTL(d.floating)),k=g||(y||!f?[Ut(o)]:Bu(o)),P=v!=="none";!g&&P&&k.push(...Hu(o,f,v,w));const C=[o,...k],S=await ot(t,b),E=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(p&&E.push(S[h]),u){const T=_u(a,l,w);E.push(S[T[0]],S[T[1]])}if(O=[...O,{placement:a,overflows:E}],!E.every(T=>T<=0)){var M,B;const T=(((M=i.flip)==null?void 0:M.index)||0)+1,$=C[T];if($&&(!(u==="alignment"?j!==Ke($):!1)||O.every(N=>Ke(N.placement)===j?N.overflows[0]>0:!0)))return{data:{index:T,overflows:O},reset:{placement:$}};let L=(B=O.filter(_=>_.overflows[0]<=0).sort((_,N)=>_.overflows[1]-N.overflows[1])[0])==null?void 0:B.placement;if(!L)switch(x){case"bestFit":{var F;const _=(F=O.filter(N=>{if(P){const A=Ke(N.placement);return A===j||A==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(A=>A>0).reduce((A,R)=>A+R,0)]).sort((N,A)=>N[1]-A[1])[0])==null?void 0:F[0];_&&(L=_);break}case"initialPlacement":L=o;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function ga(s,t){return{top:s.top-t.height,right:s.right-t.width,bottom:s.bottom-t.height,left:s.left-t.width}}function fa(s){return Iu.some(t=>s[t]>=0)}const Qu=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=as(s,t);switch(n){case"referenceHidden":{const i=await ot(t,{...a,elementContext:"reference"}),l=ga(i,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:fa(l)}}}case"escaped":{const i=await ot(t,{...a,altBoundary:!0}),l=ga(i,r.floating);return{data:{escapedOffsets:l,escaped:fa(l)}}}default:return{}}}}},to=new Set(["left","top"]);async function Ku(s,t){const{placement:r,platform:n,elements:a}=s,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),l=is(r),o=Js(r),m=Ke(r)==="y",d=to.has(l)?-1:1,p=i&&m?-1:1,u=as(t,s);let{mainAxis:g,crossAxis:x,alignmentAxis:v}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&typeof v=="number"&&(x=o==="end"?v*-1:v),m?{x:x*p,y:g*d}:{x:g*d,y:x*p}}const Ju=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(t){var r,n;const{x:a,y:i,placement:l,middlewareData:o}=t,m=await Ku(t,s);return l===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+m.x,y:i+m.y,data:{...m,placement:l}}}}},Xu=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:o={fn:b=>{let{x:h,y:j}=b;return{x:h,y:j}}},...m}=as(s,t),d={x:r,y:n},p=await ot(t,m),u=Ke(is(a)),g=an(u);let x=d[g],v=d[u];if(i){const b=g==="y"?"top":"left",h=g==="y"?"bottom":"right",j=x+p[b],y=x-p[h];x=Or(j,x,y)}if(l){const b=u==="y"?"top":"left",h=u==="y"?"bottom":"right",j=v+p[b],y=v-p[h];v=Or(j,v,y)}const f=o.fn({...t,[g]:x,[u]:v});return{...f,data:{x:f.x-r,y:f.y-n,enabled:{[g]:i,[u]:l}}}}}},Zu=function(s){return s===void 0&&(s={}),{options:s,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:l}=t,{offset:o=0,mainAxis:m=!0,crossAxis:d=!0}=as(s,t),p={x:r,y:n},u=Ke(a),g=an(u);let x=p[g],v=p[u];const f=as(o,t),b=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(m){const y=g==="y"?"height":"width",w=i.reference[g]-i.floating[y]+b.mainAxis,k=i.reference[g]+i.reference[y]-b.mainAxis;x<w?x=w:x>k&&(x=k)}if(d){var h,j;const y=g==="y"?"width":"height",w=to.has(is(a)),k=i.reference[u]-i.floating[y]+(w&&((h=l.offset)==null?void 0:h[u])||0)+(w?0:b.crossAxis),P=i.reference[u]+i.reference[y]+(w?0:((j=l.offset)==null?void 0:j[u])||0)-(w?b.crossAxis:0);v<k?v=k:v>P&&(v=P)}return{[g]:x,[u]:v}}}},ex=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(t){var r,n;const{placement:a,rects:i,platform:l,elements:o}=t,{apply:m=()=>{},...d}=as(s,t),p=await ot(t,d),u=is(a),g=Js(a),x=Ke(a)==="y",{width:v,height:f}=i.floating;let b,h;u==="top"||u==="bottom"?(b=u,h=g===(await(l.isRTL==null?void 0:l.isRTL(o.floating))?"start":"end")?"left":"right"):(h=u,b=g==="end"?"top":"bottom");const j=f-p.top-p.bottom,y=v-p.left-p.right,w=xs(f-p[b],j),k=xs(v-p[h],y),P=!t.middlewareData.shift;let C=w,S=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(S=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=j),P&&!g){const O=Fe(p.left,0),M=Fe(p.right,0),B=Fe(p.top,0),F=Fe(p.bottom,0);x?S=v-2*(O!==0||M!==0?O+M:Fe(p.left,p.right)):C=f-2*(B!==0||F!==0?B+F:Fe(p.top,p.bottom))}await m({...t,availableWidth:S,availableHeight:C});const E=await l.getDimensions(o.floating);return v!==E.width||f!==E.height?{reset:{rects:!0}}:{}}}};function Zt(){return typeof window<"u"}function Xs(s){return ro(s)?(s.nodeName||"").toLowerCase():"#document"}function Me(s){var t;return(s==null||(t=s.ownerDocument)==null?void 0:t.defaultView)||window}function Ze(s){var t;return(t=(ro(s)?s.ownerDocument:s.document)||window.document)==null?void 0:t.documentElement}function ro(s){return Zt()?s instanceof Node||s instanceof Me(s).Node:!1}function He(s){return Zt()?s instanceof Element||s instanceof Me(s).Element:!1}function Xe(s){return Zt()?s instanceof HTMLElement||s instanceof Me(s).HTMLElement:!1}function ba(s){return!Zt()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof Me(s).ShadowRoot}const sx=new Set(["inline","contents"]);function ut(s){const{overflow:t,overflowX:r,overflowY:n,display:a}=qe(s);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!sx.has(a)}const tx=new Set(["table","td","th"]);function rx(s){return tx.has(Xs(s))}const nx=[":popover-open",":modal"];function er(s){return nx.some(t=>{try{return s.matches(t)}catch{return!1}})}const ax=["transform","translate","scale","rotate","perspective"],ix=["transform","translate","scale","rotate","perspective","filter"],ox=["paint","layout","strict","content"];function cn(s){const t=dn(),r=He(s)?qe(s):s;return ax.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||ix.some(n=>(r.willChange||"").includes(n))||ox.some(n=>(r.contain||"").includes(n))}function lx(s){let t=ps(s);for(;Xe(t)&&!zs(t);){if(cn(t))return t;if(er(t))return null;t=ps(t)}return null}function dn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cx=new Set(["html","body","#document"]);function zs(s){return cx.has(Xs(s))}function qe(s){return Me(s).getComputedStyle(s)}function sr(s){return He(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function ps(s){if(Xs(s)==="html")return s;const t=s.assignedSlot||s.parentNode||ba(s)&&s.host||Ze(s);return ba(t)?t.host:t}function no(s){const t=ps(s);return zs(t)?s.ownerDocument?s.ownerDocument.body:s.body:Xe(t)&&ut(t)?t:no(t)}function lt(s,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=no(s),i=a===((n=s.ownerDocument)==null?void 0:n.body),l=Me(a);if(i){const o=Mr(l);return t.concat(l,l.visualViewport||[],ut(a)?a:[],o&&r?lt(o):[])}return t.concat(a,lt(a,[],r))}function Mr(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function ao(s){const t=qe(s);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Xe(s),i=a?s.offsetWidth:r,l=a?s.offsetHeight:n,o=Bt(r)!==i||Bt(n)!==l;return o&&(r=i,n=l),{width:r,height:n,$:o}}function mn(s){return He(s)?s:s.contextElement}function Ls(s){const t=mn(s);if(!Xe(t))return Je(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=ao(t);let l=(i?Bt(r.width):r.width)/n,o=(i?Bt(r.height):r.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!o||!Number.isFinite(o))&&(o=1),{x:l,y:o}}const dx=Je(0);function io(s){const t=Me(s);return!dn()||!t.visualViewport?dx:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mx(s,t,r){return t===void 0&&(t=!1),!r||t&&r!==Me(s)?!1:t}function Ss(s,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=s.getBoundingClientRect(),i=mn(s);let l=Je(1);t&&(n?He(n)&&(l=Ls(n)):l=Ls(s));const o=mx(i,r,n)?io(i):Je(0);let m=(a.left+o.x)/l.x,d=(a.top+o.y)/l.y,p=a.width/l.x,u=a.height/l.y;if(i){const g=Me(i),x=n&&He(n)?Me(n):n;let v=g,f=Mr(v);for(;f&&n&&x!==v;){const b=Ls(f),h=f.getBoundingClientRect(),j=qe(f),y=h.left+(f.clientLeft+parseFloat(j.paddingLeft))*b.x,w=h.top+(f.clientTop+parseFloat(j.paddingTop))*b.y;m*=b.x,d*=b.y,p*=b.x,u*=b.y,m+=y,d+=w,v=Me(f),f=Mr(v)}}return zt({width:p,height:u,x:m,y:d})}function tr(s,t){const r=sr(s).scrollLeft;return t?t.left+r:Ss(Ze(s)).left+r}function oo(s,t){const r=s.getBoundingClientRect(),n=r.left+t.scrollLeft-tr(s,r),a=r.top+t.scrollTop;return{x:n,y:a}}function ux(s){let{elements:t,rect:r,offsetParent:n,strategy:a}=s;const i=a==="fixed",l=Ze(n),o=t?er(t.floating):!1;if(n===l||o&&i)return r;let m={scrollLeft:0,scrollTop:0},d=Je(1);const p=Je(0),u=Xe(n);if((u||!u&&!i)&&((Xs(n)!=="body"||ut(l))&&(m=sr(n)),Xe(n))){const x=Ss(n);d=Ls(n),p.x=x.x+n.clientLeft,p.y=x.y+n.clientTop}const g=l&&!u&&!i?oo(l,m):Je(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-m.scrollLeft*d.x+p.x+g.x,y:r.y*d.y-m.scrollTop*d.y+p.y+g.y}}function xx(s){return Array.from(s.getClientRects())}function px(s){const t=Ze(s),r=sr(s),n=s.ownerDocument.body,a=Fe(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Fe(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+tr(s);const o=-r.scrollTop;return qe(n).direction==="rtl"&&(l+=Fe(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:l,y:o}}const va=25;function hx(s,t){const r=Me(s),n=Ze(s),a=r.visualViewport;let i=n.clientWidth,l=n.clientHeight,o=0,m=0;if(a){i=a.width,l=a.height;const p=dn();(!p||p&&t==="fixed")&&(o=a.offsetLeft,m=a.offsetTop)}const d=tr(n);if(d<=0){const p=n.ownerDocument,u=p.body,g=getComputedStyle(u),x=p.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,v=Math.abs(n.clientWidth-u.clientWidth-x);v<=va&&(i-=v)}else d<=va&&(i+=d);return{width:i,height:l,x:o,y:m}}const gx=new Set(["absolute","fixed"]);function fx(s,t){const r=Ss(s,!0,t==="fixed"),n=r.top+s.clientTop,a=r.left+s.clientLeft,i=Xe(s)?Ls(s):Je(1),l=s.clientWidth*i.x,o=s.clientHeight*i.y,m=a*i.x,d=n*i.y;return{width:l,height:o,x:m,y:d}}function ya(s,t,r){let n;if(t==="viewport")n=hx(s,r);else if(t==="document")n=px(Ze(s));else if(He(t))n=fx(t,r);else{const a=io(s);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return zt(n)}function lo(s,t){const r=ps(s);return r===t||!He(r)||zs(r)?!1:qe(r).position==="fixed"||lo(r,t)}function bx(s,t){const r=t.get(s);if(r)return r;let n=lt(s,[],!1).filter(o=>He(o)&&Xs(o)!=="body"),a=null;const i=qe(s).position==="fixed";let l=i?ps(s):s;for(;He(l)&&!zs(l);){const o=qe(l),m=cn(l);!m&&o.position==="fixed"&&(a=null),(i?!m&&!a:!m&&o.position==="static"&&!!a&&gx.has(a.position)||ut(l)&&!m&&lo(s,l))?n=n.filter(p=>p!==l):a=o,l=ps(l)}return t.set(s,n),n}function vx(s){let{element:t,boundary:r,rootBoundary:n,strategy:a}=s;const l=[...r==="clippingAncestors"?er(t)?[]:bx(t,this._c):[].concat(r),n],o=l[0],m=l.reduce((d,p)=>{const u=ya(t,p,a);return d.top=Fe(u.top,d.top),d.right=xs(u.right,d.right),d.bottom=xs(u.bottom,d.bottom),d.left=Fe(u.left,d.left),d},ya(t,o,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function yx(s){const{width:t,height:r}=ao(s);return{width:t,height:r}}function jx(s,t,r){const n=Xe(t),a=Ze(t),i=r==="fixed",l=Ss(s,!0,i,t);let o={scrollLeft:0,scrollTop:0};const m=Je(0);function d(){m.x=tr(a)}if(n||!n&&!i)if((Xs(t)!=="body"||ut(a))&&(o=sr(t)),n){const x=Ss(t,!0,i,t);m.x=x.x+t.clientLeft,m.y=x.y+t.clientTop}else a&&d();i&&!n&&a&&d();const p=a&&!n&&!i?oo(a,o):Je(0),u=l.left+o.scrollLeft-m.x-p.x,g=l.top+o.scrollTop-m.y-p.y;return{x:u,y:g,width:l.width,height:l.height}}function yr(s){return qe(s).position==="static"}function ja(s,t){if(!Xe(s)||qe(s).position==="fixed")return null;if(t)return t(s);let r=s.offsetParent;return Ze(s)===r&&(r=r.ownerDocument.body),r}function co(s,t){const r=Me(s);if(er(s))return r;if(!Xe(s)){let a=ps(s);for(;a&&!zs(a);){if(He(a)&&!yr(a))return a;a=ps(a)}return r}let n=ja(s,t);for(;n&&rx(n)&&yr(n);)n=ja(n,t);return n&&zs(n)&&yr(n)&&!cn(n)?r:n||lx(s)||r}const Nx=async function(s){const t=this.getOffsetParent||co,r=this.getDimensions,n=await r(s.floating);return{reference:jx(s.reference,await t(s.floating),s.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function wx(s){return qe(s).direction==="rtl"}const Cx={convertOffsetParentRelativeRectToViewportRelativeRect:ux,getDocumentElement:Ze,getClippingRect:vx,getOffsetParent:co,getElementRects:Nx,getClientRects:xx,getDimensions:yx,getScale:Ls,isElement:He,isRTL:wx};function mo(s,t){return s.x===t.x&&s.y===t.y&&s.width===t.width&&s.height===t.height}function Sx(s,t){let r=null,n;const a=Ze(s);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function l(o,m){o===void 0&&(o=!1),m===void 0&&(m=1),i();const d=s.getBoundingClientRect(),{left:p,top:u,width:g,height:x}=d;if(o||t(),!g||!x)return;const v=wt(u),f=wt(a.clientWidth-(p+g)),b=wt(a.clientHeight-(u+x)),h=wt(p),y={rootMargin:-v+"px "+-f+"px "+-b+"px "+-h+"px",threshold:Fe(0,xs(1,m))||1};let w=!0;function k(P){const C=P[0].intersectionRatio;if(C!==m){if(!w)return l();C?l(!1,C):n=setTimeout(()=>{l(!1,1e-7)},1e3)}C===1&&!mo(d,s.getBoundingClientRect())&&l(),w=!1}try{r=new IntersectionObserver(k,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(k,y)}r.observe(s)}return l(!0),i}function kx(s,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:m=!1}=n,d=mn(s),p=a||i?[...d?lt(d):[],...lt(t)]:[];p.forEach(h=>{a&&h.addEventListener("scroll",r,{passive:!0}),i&&h.addEventListener("resize",r)});const u=d&&o?Sx(d,r):null;let g=-1,x=null;l&&(x=new ResizeObserver(h=>{let[j]=h;j&&j.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var y;(y=x)==null||y.observe(t)})),r()}),d&&!m&&x.observe(d),x.observe(t));let v,f=m?Ss(s):null;m&&b();function b(){const h=Ss(s);f&&!mo(f,h)&&r(),f=h,v=requestAnimationFrame(b)}return r(),()=>{var h;p.forEach(j=>{a&&j.removeEventListener("scroll",r),i&&j.removeEventListener("resize",r)}),u==null||u(),(h=x)==null||h.disconnect(),x=null,m&&cancelAnimationFrame(v)}}const Tx=Ju,Ax=Xu,Px=Gu,Ex=ex,Rx=Qu,Na=Yu,Dx=Zu,Fx=(s,t,r)=>{const n=new Map,a={platform:Cx,...r},i={...a.platform,_c:n};return Wu(s,t,{...a,platform:i})};var Ox=typeof document<"u",Ix=function(){},Rt=Ox?c.useLayoutEffect:Ix;function Vt(s,t){if(s===t)return!0;if(typeof s!=typeof t)return!1;if(typeof s=="function"&&s.toString()===t.toString())return!0;let r,n,a;if(s&&t&&typeof s=="object"){if(Array.isArray(s)){if(r=s.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Vt(s[n],t[n]))return!1;return!0}if(a=Object.keys(s),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&s.$$typeof)&&!Vt(s[i],t[i]))return!1}return!0}return s!==s&&t!==t}function uo(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function wa(s,t){const r=uo(s);return Math.round(t*r)/r}function jr(s){const t=c.useRef(s);return Rt(()=>{t.current=s}),t}function Mx(s){s===void 0&&(s={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:l}={},transform:o=!0,whileElementsMounted:m,open:d}=s,[p,u]=c.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,x]=c.useState(n);Vt(g,n)||x(n);const[v,f]=c.useState(null),[b,h]=c.useState(null),j=c.useCallback(N=>{N!==P.current&&(P.current=N,f(N))},[]),y=c.useCallback(N=>{N!==C.current&&(C.current=N,h(N))},[]),w=i||v,k=l||b,P=c.useRef(null),C=c.useRef(null),S=c.useRef(p),E=m!=null,O=jr(m),M=jr(a),B=jr(d),F=c.useCallback(()=>{if(!P.current||!C.current)return;const N={placement:t,strategy:r,middleware:g};M.current&&(N.platform=M.current),Fx(P.current,C.current,N).then(A=>{const R={...A,isPositioned:B.current!==!1};T.current&&!Vt(S.current,R)&&(S.current=R,ct.flushSync(()=>{u(R)}))})},[g,t,r,M,B]);Rt(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,u(N=>({...N,isPositioned:!1})))},[d]);const T=c.useRef(!1);Rt(()=>(T.current=!0,()=>{T.current=!1}),[]),Rt(()=>{if(w&&(P.current=w),k&&(C.current=k),w&&k){if(O.current)return O.current(w,k,F);F()}},[w,k,F,O,E]);const $=c.useMemo(()=>({reference:P,floating:C,setReference:j,setFloating:y}),[j,y]),L=c.useMemo(()=>({reference:w,floating:k}),[w,k]),_=c.useMemo(()=>{const N={position:r,left:0,top:0};if(!L.floating)return N;const A=wa(L.floating,p.x),R=wa(L.floating,p.y);return o?{...N,transform:"translate("+A+"px, "+R+"px)",...uo(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:R}},[r,o,L.floating,p.x,p.y]);return c.useMemo(()=>({...p,update:F,refs:$,elements:L,floatingStyles:_}),[p,F,$,L,_])}const $x=s=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:s,fn(r){const{element:n,padding:a}=typeof s=="function"?s(r):s;return n&&t(n)?n.current!=null?Na({element:n.current,padding:a}).fn(r):{}:n?Na({element:n,padding:a}).fn(r):{}}}},Lx=(s,t)=>({...Tx(s),options:[s,t]}),_x=(s,t)=>({...Ax(s),options:[s,t]}),Bx=(s,t)=>({...Dx(s),options:[s,t]}),Ux=(s,t)=>({...Px(s),options:[s,t]}),zx=(s,t)=>({...Ex(s),options:[s,t]}),Vx=(s,t)=>({...Rx(s),options:[s,t]}),Hx=(s,t)=>({...$x(s),options:[s,t]});var qx="Arrow",xo=c.forwardRef((s,t)=>{const{children:r,width:n=10,height:a=5,...i}=s;return e.jsx(ce.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});xo.displayName=qx;var Wx=xo;function Yx(s){const[t,r]=c.useState(void 0);return Ee(()=>{if(s){r({width:s.offsetWidth,height:s.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let l,o;if("borderBoxSize"in i){const m=i.borderBoxSize,d=Array.isArray(m)?m[0]:m;l=d.inlineSize,o=d.blockSize}else l=s.offsetWidth,o=s.offsetHeight;r({width:l,height:o})});return n.observe(s,{box:"border-box"}),()=>n.unobserve(s)}else r(void 0)},[s]),t}var un="Popper",[po,ho]=Qt(un),[Gx,go]=po(un),fo=s=>{const{__scopePopper:t,children:r}=s,[n,a]=c.useState(null);return e.jsx(Gx,{scope:t,anchor:n,onAnchorChange:a,children:r})};fo.displayName=un;var bo="PopperAnchor",vo=c.forwardRef((s,t)=>{const{__scopePopper:r,virtualRef:n,...a}=s,i=go(bo,r),l=c.useRef(null),o=ve(t,l),m=c.useRef(null);return c.useEffect(()=>{const d=m.current;m.current=(n==null?void 0:n.current)||l.current,d!==m.current&&i.onAnchorChange(m.current)}),n?null:e.jsx(ce.div,{...a,ref:o})});vo.displayName=bo;var xn="PopperContent",[Qx,Kx]=po(xn),yo=c.forwardRef((s,t)=>{var z,K,D,I,q,W;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:l=0,arrowPadding:o=0,avoidCollisions:m=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:u="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:v,...f}=s,b=go(xn,r),[h,j]=c.useState(null),y=ve(t,ie=>j(ie)),[w,k]=c.useState(null),P=Yx(w),C=(P==null?void 0:P.width)??0,S=(P==null?void 0:P.height)??0,E=n+(i!=="center"?"-"+i:""),O=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},M=Array.isArray(d)?d:[d],B=M.length>0,F={padding:O,boundary:M.filter(Xx),altBoundary:B},{refs:T,floatingStyles:$,placement:L,isPositioned:_,middlewareData:N}=Mx({strategy:"fixed",placement:E,whileElementsMounted:(...ie)=>kx(...ie,{animationFrame:x==="always"}),elements:{reference:b.anchor},middleware:[Lx({mainAxis:a+S,alignmentAxis:l}),m&&_x({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?Bx():void 0,...F}),m&&Ux({...F}),zx({...F,apply:({elements:ie,rects:oe,availableWidth:Ye,availableHeight:os})=>{const{width:et,height:Jo}=oe.reference,xt=ie.floating.style;xt.setProperty("--radix-popper-available-width",`${Ye}px`),xt.setProperty("--radix-popper-available-height",`${os}px`),xt.setProperty("--radix-popper-anchor-width",`${et}px`),xt.setProperty("--radix-popper-anchor-height",`${Jo}px`)}}),w&&Hx({element:w,padding:o}),Zx({arrowWidth:C,arrowHeight:S}),g&&Vx({strategy:"referenceHidden",...F})]}),[A,R]=wo(L),V=ws(v);Ee(()=>{_&&(V==null||V())},[_,V]);const X=(z=N.arrow)==null?void 0:z.x,J=(K=N.arrow)==null?void 0:K.y,ne=((D=N.arrow)==null?void 0:D.centerOffset)!==0,[pe,je]=c.useState();return Ee(()=>{h&&je(window.getComputedStyle(h).zIndex)},[h]),e.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:_?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(I=N.transformOrigin)==null?void 0:I.x,(q=N.transformOrigin)==null?void 0:q.y].join(" "),...((W=N.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:e.jsx(Qx,{scope:r,placedSide:A,onArrowChange:k,arrowX:X,arrowY:J,shouldHideArrow:ne,children:e.jsx(ce.div,{"data-side":A,"data-align":R,...f,ref:y,style:{...f.style,animation:_?void 0:"none"}})})})});yo.displayName=xn;var jo="PopperArrow",Jx={top:"bottom",right:"left",bottom:"top",left:"right"},No=c.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Kx(jo,n),l=Jx[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(Wx,{...a,ref:r,style:{...a.style,display:"block"}})})});No.displayName=jo;function Xx(s){return s!==null}var Zx=s=>({name:"transformOrigin",options:s,fn(t){var b,h,j;const{placement:r,rects:n,middlewareData:a}=t,l=((b=a.arrow)==null?void 0:b.centerOffset)!==0,o=l?0:s.arrowWidth,m=l?0:s.arrowHeight,[d,p]=wo(r),u={start:"0%",center:"50%",end:"100%"}[p],g=(((h=a.arrow)==null?void 0:h.x)??0)+o/2,x=(((j=a.arrow)==null?void 0:j.y)??0)+m/2;let v="",f="";return d==="bottom"?(v=l?u:`${g}px`,f=`${-m}px`):d==="top"?(v=l?u:`${g}px`,f=`${n.floating.height+m}px`):d==="right"?(v=`${-m}px`,f=l?u:`${x}px`):d==="left"&&(v=`${n.floating.width+m}px`,f=l?u:`${x}px`),{data:{x:v,y:f}}}});function wo(s){const[t,r="center"]=s.split("-");return[t,r]}var ep=fo,sp=vo,tp=yo,rp=No;function np(s){const t=ap(s),r=c.forwardRef((n,a)=>{const{children:i,...l}=n,o=c.Children.toArray(i),m=o.find(op);if(m){const d=m.props.children,p=o.map(u=>u===m?c.Children.count(d)>1?c.Children.only(null):c.isValidElement(d)?d.props.children:null:u);return e.jsx(t,{...l,ref:a,children:c.isValidElement(d)?c.cloneElement(d,void 0,p):null})}return e.jsx(t,{...l,ref:a,children:i})});return r.displayName=`${s}.Slot`,r}function ap(s){const t=c.forwardRef((r,n)=>{const{children:a,...i}=r;if(c.isValidElement(a)){const l=cp(a),o=lp(i,a.props);return a.type!==c.Fragment&&(o.ref=n?Ws(n,l):l),c.cloneElement(a,o)}return c.Children.count(a)>1?c.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var ip=Symbol("radix.slottable");function op(s){return c.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===ip}function lp(s,t){const r={...t};for(const n in t){const a=s[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const m=i(...o);return a(...o),m}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...s,...r}}function cp(s){var n,a;let t=(n=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=(a=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}function dp(s){const t=c.useRef({value:s,previous:s});return c.useMemo(()=>(t.current.value!==s&&(t.current.previous=t.current.value,t.current.value=s),t.current.previous),[s])}var Co=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mp="VisuallyHidden",up=c.forwardRef((s,t)=>e.jsx(ce.span,{...s,ref:t,style:{...Co,...s.style}}));up.displayName=mp;var xp=[" ","Enter","ArrowUp","ArrowDown"],pp=[" ","Enter"],ks="Select",[rr,nr,hp]=Du(ks),[Zs]=Qt(ks,[hp,ho]),ar=ho(),[gp,hs]=Zs(ks),[fp,bp]=Zs(ks),So=s=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:l,defaultValue:o,onValueChange:m,dir:d,name:p,autoComplete:u,disabled:g,required:x,form:v}=s,f=ar(t),[b,h]=c.useState(null),[j,y]=c.useState(null),[w,k]=c.useState(!1),P=Ou(d),[C,S]=Rr({prop:n,defaultProp:a??!1,onChange:i,caller:ks}),[E,O]=Rr({prop:l,defaultProp:o,onChange:m,caller:ks}),M=c.useRef(null),B=b?v||!!b.closest("form"):!0,[F,T]=c.useState(new Set),$=Array.from(F).map(L=>L.props.value).join(";");return e.jsx(ep,{...f,children:e.jsxs(gp,{required:x,scope:t,trigger:b,onTriggerChange:h,valueNode:j,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:k,contentId:Ms(),value:E,onValueChange:O,open:C,onOpenChange:S,dir:P,triggerPointerDownPosRef:M,disabled:g,children:[e.jsx(rr.Provider,{scope:t,children:e.jsx(fp,{scope:s.__scopeSelect,onNativeOptionAdd:c.useCallback(L=>{T(_=>new Set(_).add(L))},[]),onNativeOptionRemove:c.useCallback(L=>{T(_=>{const N=new Set(_);return N.delete(L),N})},[]),children:r})}),B?e.jsxs(Yo,{"aria-hidden":!0,required:x,tabIndex:-1,name:p,autoComplete:u,value:E,onChange:L=>O(L.target.value),disabled:g,form:v,children:[E===void 0?e.jsx("option",{value:""}):null,Array.from(F)]},$):null]})})};So.displayName=ks;var ko="SelectTrigger",To=c.forwardRef((s,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=s,i=ar(r),l=hs(ko,r),o=l.disabled||n,m=ve(t,l.onTriggerChange),d=nr(r),p=c.useRef("touch"),[u,g,x]=Qo(f=>{const b=d().filter(y=>!y.disabled),h=b.find(y=>y.value===l.value),j=Ko(b,f,h);j!==void 0&&l.onValueChange(j.value)}),v=f=>{o||(l.onOpenChange(!0),x()),f&&(l.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return e.jsx(sp,{asChild:!0,...i,children:e.jsx(ce.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Go(l.value)?"":void 0,...a,ref:m,onClick:de(a.onClick,f=>{f.currentTarget.focus(),p.current!=="mouse"&&v(f)}),onPointerDown:de(a.onPointerDown,f=>{p.current=f.pointerType;const b=f.target;b.hasPointerCapture(f.pointerId)&&b.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(v(f),f.preventDefault())}),onKeyDown:de(a.onKeyDown,f=>{const b=u.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&g(f.key),!(b&&f.key===" ")&&xp.includes(f.key)&&(v(),f.preventDefault())})})})});To.displayName=ko;var Ao="SelectValue",Po=c.forwardRef((s,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:l="",...o}=s,m=hs(Ao,r),{onValueNodeHasChildrenChange:d}=m,p=i!==void 0,u=ve(t,m.onValueNodeChange);return Ee(()=>{d(p)},[d,p]),e.jsx(ce.span,{...o,ref:u,style:{pointerEvents:"none"},children:Go(m.value)?e.jsx(e.Fragment,{children:l}):i})});Po.displayName=Ao;var vp="SelectIcon",Eo=c.forwardRef((s,t)=>{const{__scopeSelect:r,children:n,...a}=s;return e.jsx(ce.span,{"aria-hidden":!0,...a,ref:t,children:n||"‚ñº"})});Eo.displayName=vp;var yp="SelectPortal",Ro=s=>e.jsx(en,{asChild:!0,...s});Ro.displayName=yp;var Ts="SelectContent",Do=c.forwardRef((s,t)=>{const r=hs(Ts,s.__scopeSelect),[n,a]=c.useState();if(Ee(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?ct.createPortal(e.jsx(Fo,{scope:s.__scopeSelect,children:e.jsx(rr.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),i):null}return e.jsx(Oo,{...s,ref:t})});Do.displayName=Ts;var _e=10,[Fo,gs]=Zs(Ts),jp="SelectContentImpl",Np=np("SelectContent.RemoveScroll"),Oo=c.forwardRef((s,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:l,side:o,sideOffset:m,align:d,alignOffset:p,arrowPadding:u,collisionBoundary:g,collisionPadding:x,sticky:v,hideWhenDetached:f,avoidCollisions:b,...h}=s,j=hs(Ts,r),[y,w]=c.useState(null),[k,P]=c.useState(null),C=ve(t,z=>w(z)),[S,E]=c.useState(null),[O,M]=c.useState(null),B=nr(r),[F,T]=c.useState(!1),$=c.useRef(!1);c.useEffect(()=>{if(y)return Fi(y)},[y]),Si();const L=c.useCallback(z=>{const[K,...D]=B().map(W=>W.ref.current),[I]=D.slice(-1),q=document.activeElement;for(const W of z)if(W===q||(W==null||W.scrollIntoView({block:"nearest"}),W===K&&k&&(k.scrollTop=0),W===I&&k&&(k.scrollTop=k.scrollHeight),W==null||W.focus(),document.activeElement!==q))return},[B,k]),_=c.useCallback(()=>L([S,y]),[L,S,y]);c.useEffect(()=>{F&&_()},[F,_]);const{onOpenChange:N,triggerPointerDownPosRef:A}=j;c.useEffect(()=>{if(y){let z={x:0,y:0};const K=I=>{var q,W;z={x:Math.abs(Math.round(I.pageX)-(((q=A.current)==null?void 0:q.x)??0)),y:Math.abs(Math.round(I.pageY)-(((W=A.current)==null?void 0:W.y)??0))}},D=I=>{z.x<=10&&z.y<=10?I.preventDefault():y.contains(I.target)||N(!1),document.removeEventListener("pointermove",K),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",D,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",D,{capture:!0})}}},[y,N,A]),c.useEffect(()=>{const z=()=>N(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[N]);const[R,V]=Qo(z=>{const K=B().filter(q=>!q.disabled),D=K.find(q=>q.ref.current===document.activeElement),I=Ko(K,z,D);I&&setTimeout(()=>I.ref.current.focus())}),X=c.useCallback((z,K,D)=>{const I=!$.current&&!D;(j.value!==void 0&&j.value===K||I)&&(E(z),I&&($.current=!0))},[j.value]),J=c.useCallback(()=>y==null?void 0:y.focus(),[y]),ne=c.useCallback((z,K,D)=>{const I=!$.current&&!D;(j.value!==void 0&&j.value===K||I)&&M(z)},[j.value]),pe=n==="popper"?$r:Io,je=pe===$r?{side:o,sideOffset:m,align:d,alignOffset:p,arrowPadding:u,collisionBoundary:g,collisionPadding:x,sticky:v,hideWhenDetached:f,avoidCollisions:b}:{};return e.jsx(Fo,{scope:r,content:y,viewport:k,onViewportChange:P,itemRefCallback:X,selectedItem:S,onItemLeave:J,itemTextRefCallback:ne,focusSelectedItem:_,selectedItemText:O,position:n,isPositioned:F,searchRef:R,children:e.jsx(sn,{as:Np,allowPinchZoom:!0,children:e.jsx(Zr,{asChild:!0,trapped:j.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:de(a,z=>{var K;(K=j.trigger)==null||K.focus({preventScroll:!0}),z.preventDefault()}),children:e.jsx(Xr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:e.jsx(pe,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:z=>z.preventDefault(),...h,...je,onPlaced:()=>T(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...h.style},onKeyDown:de(h.onKeyDown,z=>{const K=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!K&&z.key.length===1&&V(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let I=B().filter(q=>!q.disabled).map(q=>q.ref.current);if(["ArrowUp","End"].includes(z.key)&&(I=I.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const q=z.target,W=I.indexOf(q);I=I.slice(W+1)}setTimeout(()=>L(I)),z.preventDefault()}})})})})})})});Oo.displayName=jp;var wp="SelectItemAlignedPosition",Io=c.forwardRef((s,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=s,i=hs(Ts,r),l=gs(Ts,r),[o,m]=c.useState(null),[d,p]=c.useState(null),u=ve(t,C=>p(C)),g=nr(r),x=c.useRef(!1),v=c.useRef(!0),{viewport:f,selectedItem:b,selectedItemText:h,focusSelectedItem:j}=l,y=c.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&d&&f&&b&&h){const C=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),O=h.getBoundingClientRect();if(i.dir!=="rtl"){const q=O.left-S.left,W=E.left-q,ie=C.left-W,oe=C.width+ie,Ye=Math.max(oe,S.width),os=window.innerWidth-_e,et=ma(W,[_e,Math.max(_e,os-Ye)]);o.style.minWidth=oe+"px",o.style.left=et+"px"}else{const q=S.right-O.right,W=window.innerWidth-E.right-q,ie=window.innerWidth-C.right-W,oe=C.width+ie,Ye=Math.max(oe,S.width),os=window.innerWidth-_e,et=ma(W,[_e,Math.max(_e,os-Ye)]);o.style.minWidth=oe+"px",o.style.right=et+"px"}const M=g(),B=window.innerHeight-_e*2,F=f.scrollHeight,T=window.getComputedStyle(d),$=parseInt(T.borderTopWidth,10),L=parseInt(T.paddingTop,10),_=parseInt(T.borderBottomWidth,10),N=parseInt(T.paddingBottom,10),A=$+L+F+N+_,R=Math.min(b.offsetHeight*5,A),V=window.getComputedStyle(f),X=parseInt(V.paddingTop,10),J=parseInt(V.paddingBottom,10),ne=C.top+C.height/2-_e,pe=B-ne,je=b.offsetHeight/2,z=b.offsetTop+je,K=$+L+z,D=A-K;if(K<=ne){const q=M.length>0&&b===M[M.length-1].ref.current;o.style.bottom="0px";const W=d.clientHeight-f.offsetTop-f.offsetHeight,ie=Math.max(pe,je+(q?J:0)+W+_),oe=K+ie;o.style.height=oe+"px"}else{const q=M.length>0&&b===M[0].ref.current;o.style.top="0px";const ie=Math.max(ne,$+f.offsetTop+(q?X:0)+je)+D;o.style.height=ie+"px",f.scrollTop=K-ne+f.offsetTop}o.style.margin=`${_e}px 0`,o.style.minHeight=R+"px",o.style.maxHeight=B+"px",n==null||n(),requestAnimationFrame(()=>x.current=!0)}},[g,i.trigger,i.valueNode,o,d,f,b,h,i.dir,n]);Ee(()=>y(),[y]);const[w,k]=c.useState();Ee(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const P=c.useCallback(C=>{C&&v.current===!0&&(y(),j==null||j(),v.current=!1)},[y,j]);return e.jsx(Sp,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:x,onScrollButtonChange:P,children:e.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:e.jsx(ce.div,{...a,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Io.displayName=wp;var Cp="SelectPopperPosition",$r=c.forwardRef((s,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=_e,...i}=s,l=ar(r);return e.jsx(tp,{...l,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$r.displayName=Cp;var[Sp,pn]=Zs(Ts,{}),Lr="SelectViewport",Mo=c.forwardRef((s,t)=>{const{__scopeSelect:r,nonce:n,...a}=s,i=gs(Lr,r),l=pn(Lr,r),o=ve(t,i.onViewportChange),m=c.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(rr.Slot,{scope:r,children:e.jsx(ce.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:de(a.onScroll,d=>{const p=d.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:g}=l;if(g!=null&&g.current&&u){const x=Math.abs(m.current-p.scrollTop);if(x>0){const v=window.innerHeight-_e*2,f=parseFloat(u.style.minHeight),b=parseFloat(u.style.height),h=Math.max(f,b);if(h<v){const j=h+x,y=Math.min(v,j),w=j-y;u.style.height=y+"px",u.style.bottom==="0px"&&(p.scrollTop=w>0?w:0,u.style.justifyContent="flex-end")}}}m.current=p.scrollTop})})})]})});Mo.displayName=Lr;var $o="SelectGroup",[kp,Tp]=Zs($o),Ap=c.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s,a=Ms();return e.jsx(kp,{scope:r,id:a,children:e.jsx(ce.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Ap.displayName=$o;var Lo="SelectLabel",Pp=c.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s,a=Tp(Lo,r);return e.jsx(ce.div,{id:a.id,...n,ref:t})});Pp.displayName=Lo;var Ht="SelectItem",[Ep,_o]=Zs(Ht),Bo=c.forwardRef((s,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...l}=s,o=hs(Ht,r),m=gs(Ht,r),d=o.value===n,[p,u]=c.useState(i??""),[g,x]=c.useState(!1),v=ve(t,j=>{var y;return(y=m.itemRefCallback)==null?void 0:y.call(m,j,n,a)}),f=Ms(),b=c.useRef("touch"),h=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Ep,{scope:r,value:n,disabled:a,textId:f,isSelected:d,onItemTextChange:c.useCallback(j=>{u(y=>y||((j==null?void 0:j.textContent)??"").trim())},[]),children:e.jsx(rr.ItemSlot,{scope:r,value:n,disabled:a,textValue:p,children:e.jsx(ce.div,{role:"option","aria-labelledby":f,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:v,onFocus:de(l.onFocus,()=>x(!0)),onBlur:de(l.onBlur,()=>x(!1)),onClick:de(l.onClick,()=>{b.current!=="mouse"&&h()}),onPointerUp:de(l.onPointerUp,()=>{b.current==="mouse"&&h()}),onPointerDown:de(l.onPointerDown,j=>{b.current=j.pointerType}),onPointerMove:de(l.onPointerMove,j=>{var y;b.current=j.pointerType,a?(y=m.onItemLeave)==null||y.call(m):b.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(l.onPointerLeave,j=>{var y;j.currentTarget===document.activeElement&&((y=m.onItemLeave)==null||y.call(m))}),onKeyDown:de(l.onKeyDown,j=>{var w;((w=m.searchRef)==null?void 0:w.current)!==""&&j.key===" "||(pp.includes(j.key)&&h(),j.key===" "&&j.preventDefault())})})})})});Bo.displayName=Ht;var nt="SelectItemText",Uo=c.forwardRef((s,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=s,l=hs(nt,r),o=gs(nt,r),m=_o(nt,r),d=bp(nt,r),[p,u]=c.useState(null),g=ve(t,h=>u(h),m.onItemTextChange,h=>{var j;return(j=o.itemTextRefCallback)==null?void 0:j.call(o,h,m.value,m.disabled)}),x=p==null?void 0:p.textContent,v=c.useMemo(()=>e.jsx("option",{value:m.value,disabled:m.disabled,children:x},m.value),[m.disabled,m.value,x]),{onNativeOptionAdd:f,onNativeOptionRemove:b}=d;return Ee(()=>(f(v),()=>b(v)),[f,b,v]),e.jsxs(e.Fragment,{children:[e.jsx(ce.span,{id:m.textId,...i,ref:g}),m.isSelected&&l.valueNode&&!l.valueNodeHasChildren?ct.createPortal(i.children,l.valueNode):null]})});Uo.displayName=nt;var zo="SelectItemIndicator",Vo=c.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s;return _o(zo,r).isSelected?e.jsx(ce.span,{"aria-hidden":!0,...n,ref:t}):null});Vo.displayName=zo;var _r="SelectScrollUpButton",Ho=c.forwardRef((s,t)=>{const r=gs(_r,s.__scopeSelect),n=pn(_r,s.__scopeSelect),[a,i]=c.useState(!1),l=ve(t,n.onScrollButtonChange);return Ee(()=>{if(r.viewport&&r.isPositioned){let o=function(){const d=m.scrollTop>0;i(d)};const m=r.viewport;return o(),m.addEventListener("scroll",o),()=>m.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?e.jsx(Wo,{...s,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:m}=r;o&&m&&(o.scrollTop=o.scrollTop-m.offsetHeight)}}):null});Ho.displayName=_r;var Br="SelectScrollDownButton",qo=c.forwardRef((s,t)=>{const r=gs(Br,s.__scopeSelect),n=pn(Br,s.__scopeSelect),[a,i]=c.useState(!1),l=ve(t,n.onScrollButtonChange);return Ee(()=>{if(r.viewport&&r.isPositioned){let o=function(){const d=m.scrollHeight-m.clientHeight,p=Math.ceil(m.scrollTop)<d;i(p)};const m=r.viewport;return o(),m.addEventListener("scroll",o),()=>m.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?e.jsx(Wo,{...s,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:m}=r;o&&m&&(o.scrollTop=o.scrollTop+m.offsetHeight)}}):null});qo.displayName=Br;var Wo=c.forwardRef((s,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=s,i=gs("SelectScrollButton",r),l=c.useRef(null),o=nr(r),m=c.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return c.useEffect(()=>()=>m(),[m]),Ee(()=>{var p;const d=o().find(u=>u.ref.current===document.activeElement);(p=d==null?void 0:d.ref.current)==null||p.scrollIntoView({block:"nearest"})},[o]),e.jsx(ce.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:de(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:de(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:de(a.onPointerLeave,()=>{m()})})}),Rp="SelectSeparator",Dp=c.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s;return e.jsx(ce.div,{"aria-hidden":!0,...n,ref:t})});Dp.displayName=Rp;var Ur="SelectArrow",Fp=c.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s,a=ar(r),i=hs(Ur,r),l=gs(Ur,r);return i.open&&l.position==="popper"?e.jsx(rp,{...a,...n,ref:t}):null});Fp.displayName=Ur;var Op="SelectBubbleInput",Yo=c.forwardRef(({__scopeSelect:s,value:t,...r},n)=>{const a=c.useRef(null),i=ve(n,a),l=dp(t);return c.useEffect(()=>{const o=a.current;if(!o)return;const m=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(m,"value").set;if(l!==t&&p){const u=new Event("change",{bubbles:!0});p.call(o,t),o.dispatchEvent(u)}},[l,t]),e.jsx(ce.select,{...r,style:{...Co,...r.style},ref:i,defaultValue:t})});Yo.displayName=Op;function Go(s){return s===""||s===void 0}function Qo(s){const t=ws(s),r=c.useRef(""),n=c.useRef(0),a=c.useCallback(l=>{const o=r.current+l;t(o),function m(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>m(""),1e3))}(o)},[t]),i=c.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return c.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function Ko(s,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?s.indexOf(r):-1;let l=Ip(s,Math.max(i,0));a.length===1&&(l=l.filter(d=>d!==r));const m=l.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return m!==r?m:void 0}function Ip(s,t){return s.map((r,n)=>s[(t+n)%s.length])}var Mp=So,$p=To,Lp=Po,_p=Eo,Bp=Ro,Up=Do,zp=Mo,Vp=Bo,Hp=Uo,qp=Vo,Wp=Ho,Yp=qo;function Ca({...s}){return e.jsx(Mp,{"data-slot":"select",...s})}function Sa({...s}){return e.jsx(Lp,{"data-slot":"select-value",...s})}function ka({className:s,size:t="default",children:r,...n}){return e.jsxs($p,{"data-slot":"select-trigger","data-size":t,className:Se("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...n,children:[r,e.jsx(_p,{asChild:!0,children:e.jsx(Te,{className:"size-4 opacity-50"})})]})}function Ta({className:s,children:t,position:r="popper",...n}){return e.jsx(Bp,{children:e.jsxs(Up,{"data-slot":"select-content",className:Se("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-[9999] max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...n,children:[e.jsx(Gp,{}),e.jsx(zp,{className:Se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),e.jsx(Qp,{})]})})}function Ct({className:s,children:t,...r}){return e.jsxs(Vp,{"data-slot":"select-item",className:Se("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...r,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(qp,{children:e.jsx(Fs,{className:"size-4"})})}),e.jsx(Hp,{children:t})]})}function Gp({className:s,...t}){return e.jsx(Wp,{"data-slot":"select-scroll-up-button",className:Se("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(Re,{className:"size-4"})})}function Qp({className:s,...t}){return e.jsx(Yp,{"data-slot":"select-scroll-down-button",className:Se("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(Te,{className:"size-4"})})}const Kp={"returning-customer":{percentage:15,label:{en:"Returning Customer",fr:"Client Fid√®le",pt:"Cliente Recorrente"},description:{en:"15% discount for returning customers",fr:"15% de rabais pour clients fid√®les",pt:"15% de desconto para clientes recorrentes"}},referral:{percentage:10,label:{en:"Referral Discount",fr:"Rabais de R√©f√©rence",pt:"Desconto por Indica√ß√£o"},description:{en:"10% discount for referrals",fr:"10% de rabais pour r√©f√©rences",pt:"10% de desconto por indica√ß√£o"}},none:{percentage:0,label:{en:"No Discount",fr:"Aucun Rabais",pt:"Sem Desconto"},description:{en:"Regular price",fr:"Prix r√©gulier",pt:"Pre√ßo regular"}}};function Aa(s,t,r){const a=Kp[t].percentage,i=Math.round(s*a/100*100)/100;return{type:t,percentage:a,amount:i,referredBy:r}}function Jp(s,t){return Math.round((s-t.amount)*100)/100}function Xp({isOpen:s,onClose:t,onSubmit:r,existingYears:n,clientFilingType:a}){const i=new Date().getFullYear(),[l,o]=c.useState(i),[m,d]=c.useState(!1),[p,u]=c.useState(null),[g,x]=c.useState(""),[v,f]=c.useState(null),[b,h]=c.useState("none"),[j,y]=c.useState(""),[w,k]=c.useState(""),P=a?Be.filter(F=>!F.filingType||F.filingType===a):Be;c.useEffect(()=>{var F;s&&(o(i),u(null),d(!1),x(((F=P[0])==null?void 0:F.id)||""),f(null),h("none"),y(""),k(""))},[s,i]);const C=async F=>{var L;if(F.preventDefault(),u(null),n.includes(l)){u(`Tax filing for ${l} already exists`);return}const T=v||((L=Kn(g))==null?void 0:L.amount)||0,$=b!=="none"?Aa(T,b,j):void 0;d(!0);try{await r({year:l,pricingPresetId:g,customAmount:v||void 0,discount:$,adminNotes:w||void 0}),t()}catch(_){console.error("Error creating tax filing:",_),u(_ instanceof Error?_.message:"Failed to create tax filing")}finally{d(!1)}},S=n.includes(l),E=Kn(g),O=v||(E==null?void 0:E.amount)||0,M=b!=="none"?Aa(O,b,j):null,B=M?Jp(O,M):O;return e.jsx(Qi,{open:s,onOpenChange:t,children:e.jsxs(Ji,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Xi,{children:[e.jsxs(Zi,{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"w-5 h-5 text-blue-600"}),"Create New Tax Filing"]}),e.jsx(eo,{children:"Select the tax year and pricing for the new filing. You can only create one filing per year."})]}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"year",children:"Tax Year *"}),e.jsx(le,{id:"year",type:"number",value:l,onChange:F=>o(parseInt(F.target.value)),min:2e3,max:i+1,required:!0,className:S?"border-red-500":""}),S&&e.jsxs("p",{className:"text-sm text-red-500",children:["Tax filing for ",l," already exists"]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[i,i-1,i-2].map(F=>{const T=n.includes(F);return e.jsxs(Y,{type:"button",variant:l===F?"default":"outline",size:"sm",onClick:()=>o(F),disabled:T,className:T?"opacity-50":"",children:[F,T&&" ‚úì"]},F)})}),n.length>0&&e.jsxs("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-3",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Existing Tax Filings:"}),e.jsx("p",{className:"text-xs text-blue-700",children:n.sort((F,T)=>T-F).join(", ")})]}),e.jsxs("div",{className:"border-t pt-4 space-y-4",children:[e.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[e.jsx(me,{className:"w-4 h-4"}),"Pricing"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"pricingPresetId",children:"Pricing Preset *"}),e.jsxs(Ca,{value:g,onValueChange:x,required:!0,children:[e.jsx(ka,{id:"pricingPresetId",children:e.jsx(Sa,{placeholder:"Select a pricing preset"})}),e.jsx(Ta,{children:P.map(F=>e.jsxs(Ct,{value:F.id,children:[F.name.en," - ",ue(F.amount)]},F.id))})]}),E&&e.jsx("p",{className:"text-xs text-gray-600",children:E.description.en})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"customAmount",children:"Custom Amount (Optional)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{className:"w-4 h-4 text-gray-400"}),e.jsx(le,{id:"customAmount",type:"number",value:v||"",onChange:F=>f(F.target.value?parseFloat(F.target.value):null),min:0,step:.01,placeholder:"Leave empty to use preset amount"})]})]})]}),e.jsxs("div",{className:"border-t pt-4 space-y-4",children:[e.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[e.jsx(pl,{className:"w-4 h-4"}),"Discount (Optional)"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"discountType",children:"Discount Type"}),e.jsxs(Ca,{value:b,onValueChange:F=>h(F),children:[e.jsx(ka,{id:"discountType",children:e.jsx(Sa,{placeholder:"No discount"})}),e.jsxs(Ta,{children:[e.jsx(Ct,{value:"none",children:"No Discount"}),e.jsx(Ct,{value:"returning-customer",children:"Returning Customer (15%)"}),e.jsx(Ct,{value:"referral",children:"Referral Discount (10%)"})]})]})]}),b==="referral"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"referredBy",children:"Referred By"}),e.jsx(le,{id:"referredBy",type:"text",value:j,onChange:F=>y(F.target.value),placeholder:"Client name or email"})]}),M&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Base Amount:"}),e.jsx("span",{className:"font-medium",children:ue(O)})]}),e.jsxs("div",{className:"flex justify-between text-sm text-green-700",children:[e.jsxs("span",{children:["Discount (",M.percentage,"%):"]}),e.jsxs("span",{className:"font-medium",children:["-",ue(M.amount)]})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-2 border-t border-green-300",children:[e.jsx("span",{children:"Final Amount:"}),e.jsx("span",{className:"text-green-700",children:ue(B)})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"adminNotes",children:"Admin Notes (Optional)"}),e.jsx(Qs,{id:"adminNotes",value:w,onChange:F=>k(F.target.value),placeholder:"Internal notes about this filing...",rows:3})]}),p&&e.jsx("p",{className:"text-sm text-red-500 bg-red-50 border border-red-200 rounded p-2",children:p}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsx(Y,{type:"button",variant:"outline",onClick:t,className:"flex-1",disabled:m,children:"Cancel"}),e.jsx(Y,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:m||S||!g,children:m?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Create Filing"]})})]})]})]})})}function Zp({summary:s,year:t}){const{language:r}=$e(),n={title:{en:"Tax Return Assessment",fr:"√âvaluation de la D√©claration",pt:"Avalia√ß√£o da Declara√ß√£o"},subtitle:{en:`Estimated CRA results for ${t}`,fr:`R√©sultats estim√©s de l'ARC pour ${t}`,pt:`Resultados estimados da CRA para ${t}`},federal:{en:"Federal Tax",fr:"Imp√¥t F√©d√©ral",pt:"Imposto Federal"},provincial:{en:"Provincial Tax",fr:"Imp√¥t Provincial",pt:"Imposto Provincial"},refund:{en:"Refund",fr:"Remboursement",pt:"Reembolso"},owing:{en:"Owing",fr:"√Ä Payer",pt:"A Pagar"},credits:{en:"Credits & Benefits",fr:"Cr√©dits et Prestations",pt:"Cr√©ditos e Benef√≠cios"},gstCredit:{en:"GST/HST Credit (Annual)",fr:"Cr√©dit TPS/TVH (Annuel)",pt:"Cr√©dito GST/HST (Anual)"},childBenefit:{en:"Canada Child Benefit",fr:"Allocation Canadienne pour Enfants",pt:"Benef√≠cio Infantil do Canad√°"},otherCredits:{en:"Other Credits",fr:"Autres Cr√©dits",pt:"Outros Cr√©ditos"},totalRefund:{en:"Total Refund",fr:"Remboursement Total",pt:"Reembolso Total"},totalOwing:{en:"Total Owing",fr:"Total √† Payer",pt:"Total a Pagar"},netAmount:{en:"Net Amount",fr:"Montant Net",pt:"Valor L√≠quido"},estimatedDate:{en:"Estimated Refund Date",fr:"Date Estim√©e du Remboursement",pt:"Data Estimada do Reembolso"},notes:{en:"Important Notes",fr:"Notes Importantes",pt:"Notas Importantes"},willReceive:{en:"You will receive a refund!",fr:"Vous recevrez un remboursement!",pt:"Voc√™ receber√° um reembolso!"},willOwe:{en:"You will need to pay CRA",fr:"Vous devrez payer l'ARC",pt:"Voc√™ precisar√° pagar para CRA"},balanced:{en:"Balanced - No refund or payment",fr:"√âquilibr√© - Aucun remboursement ni paiement",pt:"Equilibrado - Sem reembolso ou pagamento"}},a=s.netAmount>0,i=s.netAmount<0,l=s.netAmount===0;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:n.title[r]}),e.jsx("p",{className:"text-gray-600",children:n.subtitle[r]})]}),(s.federalRefund||s.federalOwing)&&e.jsxs(se,{className:"p-6 bg-blue-50 border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5 text-blue-600"}),n.federal[r]]}),e.jsxs("div",{className:"space-y-3",children:[s.federalRefund&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ys,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-700",children:n.refund[r]})]}),e.jsx("span",{className:"font-bold text-green-700 text-xl",children:ue(s.federalRefund)})]}),s.federalOwing&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-red-700",children:n.owing[r]})]}),e.jsx("span",{className:"font-bold text-red-700 text-xl",children:ue(s.federalOwing)})]})]})]}),(s.provincialRefund||s.provincialOwing)&&e.jsxs(se,{className:"p-6 bg-purple-50 border-purple-200",children:[e.jsxs("h4",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5 text-purple-600"}),n.provincial[r]]}),e.jsxs("div",{className:"space-y-3",children:[s.provincialRefund&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ys,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-700",children:n.refund[r]})]}),e.jsx("span",{className:"font-bold text-green-700 text-xl",children:ue(s.provincialRefund)})]}),s.provincialOwing&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-red-700",children:n.owing[r]})]}),e.jsx("span",{className:"font-bold text-red-700 text-xl",children:ue(s.provincialOwing)})]})]})]}),(s.gstHstCredit||s.childBenefit||s.otherCredits)&&e.jsxs(se,{className:"p-6 bg-green-50 border-green-200",children:[e.jsxs("h4",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[e.jsx(_a,{className:"w-5 h-5 text-green-600"}),n.credits[r]]}),e.jsxs("div",{className:"space-y-3",children:[s.gstHstCredit&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:n.gstCredit[r]}),e.jsx("span",{className:"font-bold text-green-700",children:ue(s.gstHstCredit)})]}),s.childBenefit&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:n.childBenefit[r]}),e.jsx("span",{className:"font-bold text-green-700",children:ue(s.childBenefit)})]}),s.otherCredits&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:n.otherCredits[r]}),e.jsx("span",{className:"font-bold text-green-700",children:ue(s.otherCredits)})]})]})]}),e.jsx(se,{className:"p-6 border-2 border-gray-300",children:e.jsxs("div",{className:"space-y-4",children:[s.totalRefund&&s.totalRefund>0&&e.jsxs("div",{className:"flex items-center justify-between pb-3 border-b",children:[e.jsx("span",{className:"font-medium text-lg",children:n.totalRefund[r]}),e.jsx("span",{className:"font-bold text-green-700 text-2xl",children:ue(s.totalRefund)})]}),s.totalOwing&&s.totalOwing>0&&e.jsxs("div",{className:"flex items-center justify-between pb-3 border-b",children:[e.jsx("span",{className:"font-medium text-lg",children:n.totalOwing[r]}),e.jsx("span",{className:"font-bold text-red-700 text-2xl",children:ue(s.totalOwing)})]}),e.jsxs("div",{className:`p-6 rounded-lg ${a?"bg-green-100 border-2 border-green-300":i?"bg-red-100 border-2 border-red-300":"bg-gray-100 border-2 border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"font-bold text-xl",children:n.netAmount[r]}),e.jsxs("span",{className:`font-bold text-4xl ${a?"text-green-700":i?"text-red-700":"text-gray-700"}`,children:[a&&"+",ue(Math.abs(s.netAmount))]})]}),e.jsxs("div",{className:`text-center text-sm font-medium ${a?"text-green-700":i?"text-red-700":"text-gray-700"}`,children:[a&&`üéâ ${n.willReceive[r]}`,i&&`‚ö†Ô∏è ${n.willOwe[r]}`,l&&`‚úÖ ${n.balanced[r]}`]})]})]})}),s.estimatedRefundDate&&a&&e.jsx(se,{className:"p-4 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ae,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:n.estimatedDate[r]}),e.jsx("p",{className:"text-lg font-bold text-blue-700",children:new Date(s.estimatedRefundDate).toLocaleDateString(r==="fr"?"fr-CA":r==="pt"?"pt-BR":"en-CA",{year:"numeric",month:"long",day:"numeric"})})]})]})}),s.notes&&e.jsx(se,{className:"p-4 bg-amber-50 border-amber-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(be,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-amber-900 mb-1",children:n.notes[r]}),e.jsx("p",{className:"text-sm text-amber-800",children:s.notes})]})]})})]})}function eh({userId:s,clientName:t,clientEmail:r,year:n,initialData:a,onSave:i}){var V,X,J,ne,pe,je,z;const[l,o]=c.useState(!a),[m,d]=c.useState(!1),[p,u]=c.useState(!1),[g,x]=c.useState(((V=a==null?void 0:a.federalRefund)==null?void 0:V.toString())||""),[v,f]=c.useState(((X=a==null?void 0:a.federalOwing)==null?void 0:X.toString())||""),[b,h]=c.useState(((J=a==null?void 0:a.provincialRefund)==null?void 0:J.toString())||""),[j,y]=c.useState(((ne=a==null?void 0:a.provincialOwing)==null?void 0:ne.toString())||""),[w,k]=c.useState(((pe=a==null?void 0:a.gstCredit)==null?void 0:pe.toString())||""),[P,C]=c.useState(((je=a==null?void 0:a.childBenefit)==null?void 0:je.toString())||""),[S,E]=c.useState(((z=a==null?void 0:a.otherCredits)==null?void 0:z.toString())||""),[O,M]=c.useState((a==null?void 0:a.estimatedRefundDate)||""),[B,F]=c.useState((a==null?void 0:a.notes)||""),T=(parseFloat(g)||0)+(parseFloat(b)||0)+(parseFloat(w)||0)+(parseFloat(P)||0)+(parseFloat(S)||0),$=(parseFloat(v)||0)+(parseFloat(j)||0),L=T-$,_=async()=>{d(!0);try{const K={federalRefund:parseFloat(g)||0,federalOwing:parseFloat(v)||0,provincialRefund:parseFloat(b)||0,provincialOwing:parseFloat(j)||0,gstCredit:parseFloat(w)||0,childBenefit:parseFloat(P)||0,otherCredits:parseFloat(S)||0,estimatedRefundDate:O||void 0,notes:B||void 0},{error:D}=await te.from("kv_store_c2a25be0").upsert({key:`user:${s}:craAssessment:${n}`,value:K});if(D)throw new Error("Failed to save CRA Assessment");U.success("CRA Assessment saved successfully!"),o(!1),i==null||i()}catch(K){console.error("Error saving CRA Assessment:",K),U.error(K instanceof Error?K.message:"Failed to save")}finally{d(!1)}},N=async()=>{U.info("PDF generation has been disabled. Tax summary is stored as structured data.")},A=()=>{var K,D,I,q,W,ie,oe;a?(x(((K=a.federalRefund)==null?void 0:K.toString())||""),f(((D=a.federalOwing)==null?void 0:D.toString())||""),h(((I=a.provincialRefund)==null?void 0:I.toString())||""),y(((q=a.provincialOwing)==null?void 0:q.toString())||""),k(((W=a.gstCredit)==null?void 0:W.toString())||""),C(((ie=a.childBenefit)==null?void 0:ie.toString())||""),E(((oe=a.otherCredits)==null?void 0:oe.toString())||""),M(a.estimatedRefundDate||""),F(a.notes||""),o(!1)):(x(""),f(""),h(""),y(""),k(""),C(""),E(""),M(""),F(""))},R={federalRefund:parseFloat(g)||0,federalOwing:parseFloat(v)||0,provincialRefund:parseFloat(b)||0,provincialOwing:parseFloat(j)||0,gstCredit:parseFloat(w)||0,childBenefit:parseFloat(P)||0,otherCredits:parseFloat(S)||0,estimatedRefundDate:O||void 0,notes:B||void 0};return e.jsxs(se,{className:"p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-5 h-5 text-orange-600"}),e.jsxs("h2",{className:"font-semibold text-lg",children:["CRA Assessment - Tax Year ",n]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!l&&a&&e.jsxs(e.Fragment,{children:[e.jsx(Y,{size:"sm",variant:"outline",onClick:N,disabled:p,className:"border-orange-300 text-orange-600 hover:bg-orange-50",children:p?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(It,{className:"w-4 h-4 mr-2"}),"Download PDF"]})}),e.jsxs(Y,{size:"sm",onClick:()=>o(!0),className:"bg-orange-600 hover:bg-orange-700",children:[e.jsx(bn,{className:"w-4 h-4 mr-2"}),"Edit Assessment"]})]}),a&&e.jsx(vs,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:"Saved"})]})]}),l?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-orange-800",children:[e.jsx("strong",{children:"Instructions:"})," Fill in the amounts from the completed tax return. Leave fields at $0.00 if not applicable. This information will be shown to the client."]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ee,{className:"text-base font-semibold text-gray-900",children:"Federal Tax"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"federal-refund",children:"Federal Refund"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(le,{id:"federal-refund",type:"number",min:"0",step:"0.01",value:g,onChange:K=>x(K.target.value),placeholder:"0.00",className:"pl-9"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"federal-owing",children:"Federal Owing"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(le,{id:"federal-owing",type:"number",min:"0",step:"0.01",value:v,onChange:K=>f(K.target.value),placeholder:"0.00",className:"pl-9"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ee,{className:"text-base font-semibold text-gray-900",children:"Provincial Tax"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"provincial-refund",children:"Provincial Refund"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(le,{id:"provincial-refund",type:"number",min:"0",step:"0.01",value:b,onChange:K=>h(K.target.value),placeholder:"0.00",className:"pl-9"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"provincial-owing",children:"Provincial Owing"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(le,{id:"provincial-owing",type:"number",min:"0",step:"0.01",value:j,onChange:K=>y(K.target.value),placeholder:"0.00",className:"pl-9"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ee,{className:"text-base font-semibold text-gray-900",children:"Credits & Benefits (Annual)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"gst-credit",children:"GST/HST Credit"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(le,{id:"gst-credit",type:"number",min:"0",step:"0.01",value:w,onChange:K=>k(K.target.value),placeholder:"0.00",className:"pl-9"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Yearly amount"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"child-benefit",children:"Child Benefit (CCB)"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(le,{id:"child-benefit",type:"number",min:"0",step:"0.01",value:P,onChange:K=>C(K.target.value),placeholder:"0.00",className:"pl-9"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Yearly amount"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"other-credits",children:"Other Credits"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(le,{id:"other-credits",type:"number",min:"0",step:"0.01",value:S,onChange:K=>E(K.target.value),placeholder:"0.00",className:"pl-9"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ee,{className:"text-base font-semibold text-gray-900",children:"Additional Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"refund-date",children:"Estimated Refund Date (Optional)"}),e.jsx(le,{id:"refund-date",type:"date",value:O,onChange:K=>M(K.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"notes",children:"Notes (Optional)"}),e.jsx(Qs,{id:"notes",value:B,onChange:K=>F(K.target.value),placeholder:"Any additional notes for the client...",className:"mt-1",rows:3})]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Total Refund:"}),e.jsxs("span",{className:"font-semibold text-green-600",children:["$",T.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Total Owing:"}),e.jsxs("span",{className:"font-semibold text-red-600",children:["$",$.toFixed(2)]})]}),e.jsx("div",{className:"border-t pt-2 mt-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold",children:"Net Amount:"}),e.jsxs("span",{className:`text-xl font-bold ${L>=0?"text-green-600":"text-red-600"}`,children:[L>=0?"+":""," $",L.toFixed(2)]})]})})]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsxs(Y,{variant:"outline",onClick:A,disabled:m,children:[e.jsx(Ve,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsx(Y,{onClick:_,disabled:m,className:"bg-orange-600 hover:bg-orange-700",children:m?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ba,{className:"w-4 h-4 mr-2"}),"Save CRA Assessment"]})})]})]}):e.jsx("div",{children:a?e.jsx(Zp,{summary:R}):e.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[e.jsx(Ge,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"No CRA Assessment filled yet"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Fill in the tax return values to show the client what they'll receive or owe"}),e.jsxs(Y,{onClick:()=>o(!0),className:"bg-orange-600 hover:bg-orange-700",children:[e.jsx(bn,{className:"w-4 h-4 mr-2"}),"Fill CRA Assessment"]})]})})]})}function sh({userId:s,clientName:t}){const[r,n]=c.useState([]),[a,i]=c.useState(!0),[l,o]=c.useState(null),[m,d]=c.useState(!1),[p,u]=c.useState(!1),[g,x]=c.useState(!1),[v,f]=c.useState(null);c.useEffect(()=>{b()},[s]);const b=async()=>{i(!0);try{const{data:w,error:k}=await te.from("kv_store_c2a25be0").select("*").like("key",`user:${s}:taxFiling:%`).order("key",{ascending:!1});if(k)throw k;const P=[];w==null||w.forEach(C=>{const S=parseInt(C.key.split(":")[3]);isNaN(S)||P.push({year:S,craDocument:C.value.craDocument,quebecDocument:C.value.quebecDocument,createdAt:C.value.createdAt||new Date().toISOString()})}),n(P.sort((C,S)=>S.year-C.year))}catch(w){console.error("Error loading tax filings:",w),U.error("Failed to load tax filings")}finally{i(!1)}},h=async w=>{try{const k={year:w,createdAt:new Date().toISOString()},{error:P}=await te.from("kv_store_c2a25be0").upsert({key:`user:${s}:taxFiling:${w}`,value:k});if(P)throw P;U.success(`Tax filing folder created for ${w}`),b(),d(!1),o(w)}catch(k){console.error("Error creating folder:",k),U.error("Failed to create tax filing folder")}},j=async(w,k,P)=>{var S;const C=P==="cra"?u:x;C(!0);try{const E=`${s}/${w}/${P}_${Date.now()}_${k.name}`,{data:O,error:M}=await te.storage.from("tax-documents-c2a25be0").upload(E,k);if(M)throw M;const{data:B}=await te.storage.from("tax-documents-c2a25be0").createSignedUrl(E,60*60*24*365);if(!(B!=null&&B.signedUrl))throw new Error("Failed to get file URL");const F=r.find(L=>L.year===w);if(!F)throw new Error("Folder not found");const T={...F,[P==="cra"?"craDocument":"quebecDocument"]:{name:k.name,url:B.signedUrl,uploadedAt:new Date().toISOString()}},{error:$}=await te.from("kv_store_c2a25be0").upsert({key:`user:${s}:taxFiling:${w}`,value:T});if($)throw $;U.success(`${P.toUpperCase()} document uploaded successfully!`);try{const{data:L}=await te.auth.getSession();if((S=L.session)!=null&&S.access_token){const _=await fetch(`https://${we}.supabase.co/functions/v1/make-server-c2a25be0/admin/tax-document/notify`,{method:"POST",headers:{Authorization:`Bearer ${L.session.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({userId:s,year:w,documentType:P,language:"en"})});if(_.ok){const N=await _.json();console.log(`‚úÖ Email notification sent for ${P.toUpperCase()} document:`,N),U.success(`Client notified via email about ${P.toUpperCase()} document!`,{description:"The client will receive an email with download instructions."})}else console.error("Failed to send email notification:",await _.text()),U.warning("Document uploaded but email notification failed")}}catch(L){console.error("Error sending email notification:",L)}b()}catch(E){console.error("Error uploading document:",E),U.error(`Failed to upload ${P.toUpperCase()} document`)}finally{C(!1)}},y=(w,k,P)=>{var S;const C=(S=w.target.files)==null?void 0:S[0];C&&j(k,C,P)};return e.jsxs(se,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"font-semibold text-lg flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5 text-blue-600"}),"Tax Filings"]}),e.jsxs(Y,{size:"sm",onClick:()=>d(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Create Tax Filing"]})]}),a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ae,{className:"w-8 h-8 animate-spin text-blue-600"})}):r.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[e.jsx(Mt,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"No tax filings yet"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Create a tax filing folder for a specific year to upload final documents"})]}):e.jsx("div",{className:"space-y-3",children:r.map(w=>{var E,O,M,B;const k=l===w.year,P=!!w.craDocument,C=!!w.quebecDocument,S=(P?1:0)+(C?1:0);return e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>o(k?null:w.year),children:e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[k?e.jsx(Te,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}):e.jsx(Ft,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Ae,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:["Tax Year ",w.year]}),e.jsx("p",{className:"text-sm text-gray-500",children:S===0?"No documents uploaded":S===1?"1 document uploaded":"2 documents uploaded"})]}),S>0&&e.jsxs(vs,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:[S,"/2 Complete"]})]})}),k&&e.jsxs("div",{className:"border-t bg-gray-50 p-4 space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-5 h-5 text-blue-600"}),e.jsx("h4",{className:"font-medium",children:"CRA Federal Document"})]}),P&&e.jsx(vs,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:"Uploaded"})]}),P?e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(xe,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:(E=w.craDocument)==null?void 0:E.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded ",new Date(((O=w.craDocument)==null?void 0:O.uploadedAt)||"").toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{size:"sm",variant:"ghost",onClick:()=>{var F;return window.open((F=w.craDocument)==null?void 0:F.url,"_blank")},children:e.jsx(It,{className:"w-4 h-4"})}),e.jsx(ee,{htmlFor:`cra-replace-${w.year}`,className:"cursor-pointer",children:e.jsx(Y,{size:"sm",variant:"outline",disabled:p,asChild:!0,children:e.jsx("span",{children:p?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Replace"]})})})}),e.jsx(le,{id:`cra-replace-${w.year}`,type:"file",accept:".pdf",className:"hidden",onChange:F=>y(F,w.year,"cra"),disabled:p})]})]}):e.jsxs("div",{children:[e.jsx(ee,{htmlFor:`cra-upload-${w.year}`,className:"cursor-pointer",children:e.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:bg-gray-50 transition-colors",children:p?e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(ae,{className:"w-8 h-8 animate-spin text-blue-600"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Upload CRA Federal Document"}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF only"})]})})}),e.jsx(le,{id:`cra-upload-${w.year}`,type:"file",accept:".pdf",className:"hidden",onChange:F=>y(F,w.year,"cra"),disabled:p})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h4",{className:"font-medium",children:"Quebec Provincial Document"})]}),C&&e.jsx(vs,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:"Uploaded"})]}),C?e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(xe,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:(M=w.quebecDocument)==null?void 0:M.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded ",new Date(((B=w.quebecDocument)==null?void 0:B.uploadedAt)||"").toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{size:"sm",variant:"ghost",onClick:()=>{var F;return window.open((F=w.quebecDocument)==null?void 0:F.url,"_blank")},children:e.jsx(It,{className:"w-4 h-4"})}),e.jsx(ee,{htmlFor:`quebec-replace-${w.year}`,className:"cursor-pointer",children:e.jsx(Y,{size:"sm",variant:"outline",disabled:g,asChild:!0,children:e.jsx("span",{children:g?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Replace"]})})})}),e.jsx(le,{id:`quebec-replace-${w.year}`,type:"file",accept:".pdf",className:"hidden",onChange:F=>y(F,w.year,"quebec"),disabled:g})]})]}):e.jsxs("div",{children:[e.jsx(ee,{htmlFor:`quebec-upload-${w.year}`,className:"cursor-pointer",children:e.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:bg-gray-50 transition-colors",children:g?e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(ae,{className:"w-8 h-8 animate-spin text-indigo-600"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Upload Quebec Provincial Document"}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF only (if applicable)"})]})})}),e.jsx(le,{id:`quebec-upload-${w.year}`,type:"file",accept:".pdf",className:"hidden",onChange:F=>y(F,w.year,"quebec"),disabled:g})]})]})]})]},w.year)})}),m&&e.jsx(th,{onClose:()=>d(!1),onCreate:h,existingYears:r.map(w=>w.year)})]})}function th({onClose:s,onCreate:t,existingYears:r}){const[n,a]=c.useState(new Date().getFullYear()),[i,l]=c.useState(!1),o=async()=>{if(r.includes(n)){U.error("Tax filing for this year already exists");return}l(!0);try{await t(n)}finally{l(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full m-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Create Tax Filing Folder"}),e.jsx(Y,{variant:"ghost",size:"sm",onClick:s,disabled:i,children:e.jsx(Ve,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"year",children:"Tax Year"}),e.jsx(le,{id:"year",type:"number",min:"2000",max:new Date().getFullYear()+1,value:n,onChange:m=>a(parseInt(m.target.value)),className:"mt-1"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the tax year for this filing"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," This will create a folder where you can upload the final CRA (Federal) and Quebec (Provincial) documents for this tax year."]})})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:[e.jsx(Y,{variant:"outline",onClick:s,disabled:i,children:"Cancel"}),e.jsx(Y,{onClick:o,disabled:i,className:"bg-blue-600 hover:bg-blue-700",children:i?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Create Folder"]})})]})]})})}async function rh(s){var t;try{console.log(`üîß Calling backend to fix tax filings for user ${s}...`);const r=await fetch(`https://${we}.supabase.co/functions/v1/make-server-c2a25be0/fix-tax-filings/${s}`,{method:"POST",headers:{Authorization:`Bearer ${Ie}`,"Content-Type":"application/json"}});if(!r.ok){const a=await r.json();throw new Error(((t=a.errors)==null?void 0:t[0])||"Failed to fix tax filings")}const n=await r.json();return console.log(`‚úÖ Backend fixed ${n.fixed} tax filings`),{success:n.success,fixed:n.fixed,errors:n.errors||[]}}catch(r){return console.error("‚ùå Error calling fix tax filings API:",r),{success:!1,fixed:0,errors:[r instanceof Error?r.message:String(r)]}}}function Pa(){var K;const{userId:s}=el(),t=ye(),{user:r}=Pe(),[n,a]=c.useState(null),[i,l]=c.useState(!0),[o,m]=c.useState(null),[d,p]=c.useState({}),[u,g]=c.useState({}),[x,v]=c.useState(!1),[f,b]=c.useState(null),[h,j]=c.useState([]),[y,w]=c.useState(!1),[k,P]=c.useState(""),[C,S]=c.useState(!1),[E,O]=c.useState([]),[M,B]=c.useState(!1),[F,T]=c.useState(!1),[$,L]=c.useState(!1),_=!1;c.useEffect(()=>{if(!r||!De(r.email)){t("/login");return}N(),X(),pe()},[r,s]);const N=async()=>{l(!0);try{if(!s)throw new Error("No user ID provided");const{data:D,error:I}=await te.auth.getSession();if(I||!D.session)throw new Error("Not authenticated");const q=D.session.access_token,W=await fetch(`${Ce.adminClients}/${s}`,{headers:{Authorization:`Bearer ${q}`}});if(!W.ok){const oe=await W.json();throw new Error(oe.error||"Failed to fetch client")}const ie=await W.json();console.log("Fetched client from server:",ie.client),a(ie.client)}catch(D){console.error("Error loading client:",D),U.error(`Failed to load client data: ${D instanceof Error?D.message:"Unknown error"}`)}finally{l(!1)}},A=async D=>{if(!d[D]){g(I=>({...I,[D]:!0}));try{if(!s)throw new Error("No user ID provided");const{data:I,error:q}=await te.from("kv_store_c2a25be0").select("key, value").eq("key",`user:${s}:documents:${D}`);if(q)throw console.error("Error fetching documents from KV:",q),new Error("Failed to load documents");let W=[];if(I&&I.length>0){const ie=I[0].value;Array.isArray(ie)&&(W=await Promise.all(ie.map(async oe=>{let Ye=null;if(oe.path){const{data:os}=await te.storage.from("tax-documents-c2a25be0").createSignedUrl(oe.path,3600);os&&(Ye=os.signedUrl)}return{id:oe.id||oe.path,name:oe.name||oe.fileName||"Unknown",size:oe.size||0,category:oe.category||"other",uploadedAt:oe.uploadedAt||oe.createdAt||new Date().toISOString(),path:oe.path||"",url:Ye}})))}console.log(`Loaded ${W.length} files for year ${D}`),p(ie=>({...ie,[D]:W}))}catch(I){console.error("Error loading files:",I),U.error(`Failed to load documents: ${I instanceof Error?I.message:"Unknown error"}`),p(q=>({...q,[D]:[]}))}finally{g(I=>({...I,[D]:!1}))}}},R=D=>{if(D===0)return"0 Bytes";const I=1024,q=["Bytes","KB","MB","GB"],W=Math.floor(Math.log(D)/Math.log(I));return Math.round(D/Math.pow(I,W)*100)/100+" "+q[W]},V=D=>({income:"Income Documents",deductions:"Deduction Receipts",business:"Business Documents",property:"Property & Investments",other:"Other Documents"})[D]||D,X=async()=>{w(!0);try{if(!s)throw new Error("No user ID provided");const{data:D,isMocked:I}=await Gt(`/messages?clientId=${s}`,{});j(I?D.messages||[]:D.messages||[]),console.log(`Loaded ${h.length} messages`)}catch(D){console.error("Error loading messages:",D),U.error(`Failed to load messages: ${D instanceof Error?D.message:"Unknown error"}`),j([])}finally{w(!1)}},J=async()=>{S(!0);try{if(!s||!n||!k.trim())throw new Error("Missing user, client, or message data");console.log("Sending message to client:",s);const{data:D,error:I}=await te.auth.getSession();if(I||!D.session)throw new Error("Not authenticated");const q=D.session.access_token,W=await fetch(Ce.messagesSend,{method:"POST",headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"},body:JSON.stringify({clientId:s,subject:"Admin Message",content:k})});if(!W.ok){const ie=await W.json();throw new Error(ie.error||"Failed to send message")}console.log("Message sent successfully via API"),U.success("Message sent successfully"),await X(),P("")}catch(D){console.error("Error sending message:",D);const I=D instanceof Error?D.message:"Unknown error";U.error(`Failed to send message: ${I}`)}finally{S(!1)}},ne=async(D,I)=>{if(confirm(`Are you sure you want to delete the message "${I}"?

This action cannot be undone.`))try{const{data:q}=await te.auth.getSession();if(!q.session)throw new Error("Not authenticated");const W=await fetch(`${Ce.messages(s||"")}/${D}`,{method:"DELETE",headers:{Authorization:`Bearer ${q.session.access_token}`}});if(!W.ok){const ie=await W.json();throw new Error(ie.error||"Failed to delete message")}U.success("‚úÖ Message deleted successfully"),await X()}catch(q){console.error("Delete error:",q),U.error(`Failed to delete message: ${q.message}`)}},pe=async()=>{B(!0);try{if(!s)throw new Error("No user ID provided");const{data:D,error:I}=await te.auth.getSession();if(I||!D.session)throw new Error("Not authenticated");const q=D.session.access_token,W=await fetch(`https://${we}.supabase.co/functions/v1/make-server-c2a25be0/admin/client-documents/${s}`,{headers:{Authorization:`Bearer ${q}`}});if(!W.ok){const Ye=await W.json();throw new Error(Ye.error||"Failed to load documents")}const oe=(await W.json()).documents||[];console.log(`‚úÖ Loaded ${oe.length} years with documents from backend`),O(oe)}catch(D){console.error("Error loading all documents:",D),U.error(`Failed to load all documents: ${D instanceof Error?D.message:"Unknown error"}`),O([])}finally{B(!1)}},je=async D=>{var q;const{year:I}=D;try{const{data:W}=await te.auth.getSession();if(!((q=W.session)!=null&&q.access_token))throw new Error("Please log in again");const ie=await fetch(Ce.taxFilingCreate,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W.session.access_token}`},body:JSON.stringify({userId:s,year:D.year,pricingPresetId:D.pricingPresetId,customAmount:D.customAmount,discount:D.discount,adminNotes:D.adminNotes})}),oe=await ie.json();if(!ie.ok)throw new Error(oe.error||"Failed to create tax filing");U.success(`Tax filing for ${I} created successfully`),await N()}catch(W){throw console.error("Error creating filing:",W),U.error(W.message||"Failed to create tax filing"),W}},z=async()=>{try{if(!s)throw new Error("Missing user ID");U.info("Fixing corrupted tax filings...");const D=await rh(s);if(D.success)D.fixed>0?U.success(`Fixed ${D.fixed} corrupted tax filing(s)!`):U.success("No corrupted tax filings found"),await N();else throw new Error(D.errors.join(", ")||"Unknown error")}catch(D){console.error("Error fixing tax filings:",D),U.error(`Failed to fix tax filings: ${D instanceof Error?D.message:"Unknown error"}`)}};return i?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ae,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),e.jsx("p",{className:"text-gray-600",children:"Loading client data..."})]})}):n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white border-b sticky top-0 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Y,{variant:"ghost",size:"sm",onClick:()=>t("/admin"),children:[e.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Back to Clients"]}),e.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-xl",children:n.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold text-xl",children:n.name}),e.jsx("p",{className:"text-sm text-gray-500",children:n.email})]})]}),e.jsx(vs,{variant:"outline",className:`${n.onboardingComplete?"bg-green-100 text-green-700 border-green-300":"bg-yellow-100 text-yellow-700 border-yellow-300"} border`,children:n.onboardingComplete?"Onboarded":"Pending Onboarding"})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs(se,{className:"p-6",children:[e.jsxs("h2",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[e.jsx(it,{className:"w-5 h-5 text-blue-600"}),"Personal Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),e.jsx("p",{className:"font-medium",children:n.name||"N/A"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(us,{className:"w-3 h-3"}),"Email"]}),e.jsx("p",{className:"font-medium",children:n.email})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(Ae,{className:"w-3 h-3"}),"Account Created"]}),e.jsx("p",{className:"font-medium",children:new Date(n.createdAt).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"User ID"}),e.jsx("p",{className:"font-mono text-xs text-gray-600 break-all",children:n.id})]}),e.jsx("div",{className:"border-t pt-4 mt-4"}),n.personalInfo?e.jsxs(e.Fragment,{children:[n.personalInfo.phone&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(at,{className:"w-3 h-3"}),"Phone"]}),e.jsx("p",{className:"font-medium",children:n.personalInfo.phone})]}),n.personalInfo.dateOfBirth&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(Ae,{className:"w-3 h-3"}),"Date of Birth"]}),e.jsx("p",{className:"font-medium",children:n.personalInfo.dateOfBirth})]}),n.personalInfo.sin&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"SIN"}),e.jsx("p",{className:"font-medium font-mono",children:n.personalInfo.sin})]}),n.personalInfo.address&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(dt,{className:"w-3 h-3"}),"Address"]}),e.jsx("p",{className:"font-medium",children:n.personalInfo.address}),n.personalInfo.city&&e.jsxs("p",{className:"font-medium",children:[n.personalInfo.city,", ",n.personalInfo.province," ",n.personalInfo.postalCode]})]}),n.personalInfo.maritalStatus&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Marital Status"}),e.jsx("p",{className:"font-medium capitalize",children:n.personalInfo.maritalStatus.replace("-"," ")})]}),n.personalInfo.residenceStatus&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Residence Status"}),e.jsx("p",{className:"font-medium capitalize",children:n.personalInfo.residenceStatus.replace("-"," ")})]})]}):e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(be,{className:"w-5 h-5 text-yellow-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-900 mb-1",children:"Additional Information Pending"}),e.jsx("p",{className:"text-xs text-yellow-700",children:"The client hasn't completed the onboarding process yet. Additional details like phone, address, SIN, and tax information will appear here once they complete their profile."})]})]})})]})]}),e.jsxs(se,{className:"p-6",children:[e.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Account Details"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Joined"}),e.jsx("p",{className:"font-medium",children:new Date(n.createdAt).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Total Filings"}),e.jsx("p",{className:"font-medium",children:((K=n.taxFilings)==null?void 0:K.length)||0})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs(se,{className:"p-6 mb-6",children:[e.jsxs("h2",{className:"font-semibold text-lg mb-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Mt,{className:"w-5 h-5 text-green-600"}),"All Client Documents"]}),e.jsxs(vs,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:[E.reduce((D,I)=>D+I.files.length,0)," files"]})]}),M?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ae,{className:"w-8 h-8 animate-spin text-blue-600"})}):E.length>0?e.jsx("div",{className:"space-y-4",children:E.map(D=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 px-4 py-3 border-b",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Ae,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:["Tax Year ",D.year]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[D.files.length," document",D.files.length!==1?"s":""]})]})]})})}),e.jsx("div",{className:"p-4 bg-white",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:D.files.map(I=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(xe,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate text-gray-900",children:I.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[V(I.category)," ‚Ä¢ ",R(I.size)]}),e.jsx("p",{className:"text-xs text-gray-400",children:new Date(I.uploadedAt).toLocaleDateString()})]})]}),I.url&&e.jsx(Y,{size:"sm",variant:"ghost",onClick:()=>window.open(I.url,"_blank"),className:"flex-shrink-0 hover:bg-blue-50",children:e.jsx(It,{className:"w-4 h-4 text-blue-600"})})]},I.id))})})]},D.year))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Mt,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No documents uploaded yet"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Documents will appear here once the client uploads them"})]})]}),E.map(D=>e.jsx(eh,{userId:s,clientName:n.name,clientEmail:n.email,year:D.year,onSave:N},`cra-${D.year}`)),e.jsx(sh,{userId:s,clientName:n.name}),e.jsxs(se,{className:"p-6 mt-6",children:[e.jsxs("h2",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[e.jsx(js,{className:"w-5 h-5 text-purple-600"}),"Messages"]}),e.jsx("div",{className:"mb-4 max-h-[400px] overflow-y-auto space-y-3",children:y?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ae,{className:"w-6 h-6 animate-spin text-blue-600"})}):h.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(js,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No messages yet"})]}):h.map(D=>{const I=D.senderRole==="admin",q=new Date(D.createdAt);return e.jsx("div",{className:`flex ${I?"justify-end":"justify-start"} group`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${I?"bg-blue-600 text-white":"bg-gray-100 border border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-xs font-semibold",children:I?"You":D.senderName}),e.jsxs("span",{className:`text-xs ${I?"text-blue-100":"text-gray-500"}`,children:[q.toLocaleDateString()," ‚Ä¢ ",q.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:D.content})]}),e.jsx("button",{onClick:()=>ne(D.id,D.subject),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded",title:"Delete message",children:e.jsx(be,{className:"w-4 h-4 text-red-500"})})]})},D.id)})}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(Qs,{value:k,onChange:D=>P(D.target.value),placeholder:"Type your message to the client...",className:"min-h-[100px] mb-2",onKeyDown:D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),J())}}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(Y,{onClick:J,disabled:!k.trim()||C,children:[C?e.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(_s,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})]})]})]})}),x&&f&&e.jsx(Su,{isOpen:x,onClose:()=>{v(!1),b(null)},client:{id:n.id,name:n.name,email:n.email},filingYear:f,onSuccess:N}),F&&f&&e.jsx(ku,{isOpen:F,onClose:()=>{T(!1),b(null)},clientId:n.id,clientName:n.name,year:f,onSuccess:async()=>{await pe(),f&&(p(D=>{const I={...D};return delete I[f],I}),await A(f))}}),$&&(()=>{console.log("üîç Full client.taxFilings:",n.taxFilings);const D=[];return Array.isArray(n.taxFilings)&&n.taxFilings.forEach(I=>{if(console.log("üìã Processing tax filing:",I),I&&typeof I=="object"&&"year"in I){const q=I.year;typeof q=="number"&&!isNaN(q)?D.push(q):console.warn("‚ö†Ô∏è Invalid year type:",typeof q,q)}else console.warn("‚ö†Ô∏è Invalid filing structure:",I)}),console.log("‚úÖ Final existingYears array:",D),e.jsx(Xp,{isOpen:$,onClose:()=>L(!1),onSubmit:je,existingYears:D})})(),e.jsxs(Y,{onClick:z,className:"absolute bottom-4 right-4 bg-red-500 text-white px-4 py-2 rounded",children:[e.jsx(hl,{className:"w-4 h-4 mr-2"}),"Fix Tax Filings"]})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(be,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Client not found"}),e.jsx(Y,{onClick:()=>t("/admin"),className:"mt-4",children:"Back to Clients"})]})})}function Ea(){const s=ye(),{user:t}=Pe(),{isAdmin:r,loading:n}=ji(),[a,i]=c.useState([]),[l,o]=c.useState(!0),[m,d]=c.useState(null),[p,u]=c.useState(!1),[g,x]=c.useState(!1);c.useEffect(()=>{!n&&!r()&&(U.error("Access denied. Admin permissions required."),s("/admin"))},[n,r,s]),c.useEffect(()=>{r()&&v()},[r]);const v=async()=>{try{const{data:h}=await Gt("/users/list");i(h)}catch(h){console.error("Error loading users:",h),U.error("Failed to load users")}finally{o(!1)}},f=async(h,j)=>{try{if(!(await fetch(`https://${we}.supabase.co/functions/v1/make-server-c2a25be0/users/permissions/${h}`,{method:"PUT",headers:{Authorization:`Bearer ${Ie}`,"Content-Type":"application/json"},body:JSON.stringify(j)})).ok)throw new Error("Failed to update permissions");U.success("Permissions updated successfully"),await v(),u(!1),d(null)}catch(y){console.error("Error updating permissions:",y),U.error("Failed to update permissions")}},b=h=>{switch(h){case"admin":return"bg-purple-100 text-purple-700 border-purple-200";case"accountant":return"bg-blue-100 text-blue-700 border-blue-200";case"viewer":return"bg-gray-100 text-gray-700 border-gray-200";case"client":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return n||l?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(ae,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Y,{variant:"ghost",onClick:()=>s("/admin"),className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"w-4 h-4"}),"Back to Admin Hub"]}),e.jsx("div",{className:"h-8 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:e.jsx(fe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage team members and permissions"})]})]})]}),e.jsxs(Y,{onClick:()=>x(!0),className:"bg-purple-600 hover:bg-purple-700 flex items-center gap-2",children:[e.jsx(Bs,{className:"w-4 h-4"}),"Add User"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:a.length}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.filter(h=>h.userType==="client").length," clients, ",a.filter(h=>h.userType==="staff").length," staff"]})]}),e.jsx(fe,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Users"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:a.filter(h=>h.isActive).length})]}),e.jsx(ze,{className:"w-8 h-8 text-green-500"})]})}),e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Admins"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:a.filter(h=>h.role==="admin").length})]}),e.jsx(Qe,{className:"w-8 h-8 text-purple-500"})]})})]}),e.jsx(se,{className:"overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Modules Access"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Cases"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(h=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:h.name}),e.jsx("p",{className:"text-sm text-gray-500",children:h.email})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${b(h.role)}`,children:h.role})}),e.jsx("td",{className:"px-6 py-4",children:h.isActive?e.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[e.jsx(ze,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Active"})]}):e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(Vs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Inactive"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[h.modules.slice(0,3).map(j=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-blue-50 text-blue-700 border border-blue-100",children:j},j)),h.modules.length>3&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-600",children:["+",h.modules.length-3," more"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-900",children:h.casesCount||0}),e.jsx("span",{className:"text-gray-500",children:" total"})]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>{d(h),u(!0)},className:"flex items-center gap-2",children:[e.jsx(Qr,{className:"w-3 h-3"}),"Edit"]})})]},h.userId))})]})})})]}),p&&m&&e.jsx(nh,{user:m,onClose:()=>{u(!1),d(null)},onSave:f}),g&&e.jsx(ah,{onClose:()=>x(!1),onAddUser:v})]})}function nh({user:s,onClose:t,onSave:r}){const[n,a]=c.useState(s.role),[i,l]=c.useState(s.modules),[o,m]=c.useState(s.isActive),d=[{id:"dashboard",label:"Dashboard",description:"General overview and analytics"},{id:"customers",label:"Customers",description:"Manage clients and tax filings"},{id:"bookkeeping",label:"Bookkeeping",description:"Track expenses and invoices"},{id:"financial",label:"Financial",description:"Revenue and financial reports"},{id:"marketing",label:"Marketing",description:"Marketing tools and campaigns"},{id:"users",label:"User Management",description:"Manage team and permissions (Admin only)"}],p=g=>{i.includes(g)?l(i.filter(x=>x!==g)):l([...i,g])},u=()=>{r(s.userId,{role:n,modules:i,isActive:o})};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(se,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Permissions"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[s.name," - ",s.email]})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Role"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["admin","accountant","viewer"].map(g=>e.jsx("button",{onClick:()=>a(g),className:`p-4 border-2 rounded-lg text-center transition-all ${n===g?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsx("p",{className:"font-medium text-gray-900 capitalize",children:g})},g))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Module Access"}),e.jsx("div",{className:"space-y-2",children:d.map(g=>e.jsx("button",{onClick:()=>p(g.id),disabled:n==="admin"&&g.id==="users",className:`w-full p-4 border-2 rounded-lg text-left transition-all ${i.includes(g.id)?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"} ${n==="admin"&&g.id==="users"?"opacity-50":""}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:g.label}),e.jsx("p",{className:"text-sm text-gray-600",children:g.description})]}),i.includes(g.id)&&e.jsx(ze,{className:"w-5 h-5 text-green-600"})]})},g.id))}),n==="admin"&&e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* Admin users automatically have access to all modules including User Management"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Status"}),e.jsxs("button",{onClick:()=>m(!o),className:`w-full p-4 border-2 rounded-lg flex items-center justify-between ${o?"border-green-500 bg-green-50":"border-gray-300 bg-gray-50"}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:o?"Active":"Inactive"}),e.jsx("p",{className:"text-sm text-gray-600",children:o?"User can access the system":"User is blocked from accessing"})]}),o?e.jsx(ze,{className:"w-5 h-5 text-green-600"}):e.jsx(Vs,{className:"w-5 h-5 text-gray-400"})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end",children:[e.jsx(Y,{variant:"outline",onClick:t,children:"Cancel"}),e.jsx(Y,{onClick:u,className:"bg-blue-600 hover:bg-blue-700",children:"Save Changes"})]})]})})}function ah({onClose:s,onAddUser:t}){const[r,n]=c.useState(""),[a,i]=c.useState(""),[l,o]=c.useState(""),[m,d]=c.useState("viewer"),[p,u]=c.useState(["dashboard"]),[g,x]=c.useState(!0),[v,f]=c.useState(!1),b=[{id:"dashboard",label:"Dashboard",description:"General overview and analytics"},{id:"customers",label:"Customers",description:"Manage clients and tax filings"},{id:"bookkeeping",label:"Bookkeeping",description:"Track expenses and invoices"},{id:"financial",label:"Financial",description:"Revenue and financial reports"},{id:"marketing",label:"Marketing",description:"Marketing tools and campaigns"},{id:"users",label:"User Management",description:"Manage team and permissions (Admin only)"}],h=y=>{p.includes(y)?u(p.filter(w=>w!==y)):u([...p,y])},j=async()=>{f(!0);try{if(!r||!a||!l){U.error("Please fill in all required fields"),f(!1);return}if(l.length<6){U.error("Password must be at least 6 characters"),f(!1);return}const{supabase:y}=await Ks(async()=>{const{supabase:S}=await Promise.resolve().then(()=>nc);return{supabase:S}},void 0),{data:w,error:k}=await y.auth.getSession();if(k||!w.session){U.error("Authentication error. Please log in again."),f(!1);return}const P=await fetch(`https://${we}.supabase.co/functions/v1/make-server-c2a25be0/admin/create-user`,{method:"POST",headers:{Authorization:`Bearer ${w.session.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({name:r,email:a,password:l,role:m,modules:p,isActive:g})}),C=await P.json();if(!P.ok){if(P.status===409)U.error(C.error||"A user with this email already exists"),console.log("Existing user details:",C.existingUser);else throw new Error(C.error||"Failed to add user");f(!1);return}console.log("User created successfully:",C),U.success(`User ${r} created successfully!`),t(),s()}catch(y){console.error("Error adding user:",y),U.error(y instanceof Error?y.message:"Failed to add user")}finally{f(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(se,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add User"})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Name"}),e.jsx("input",{type:"text",value:r,onChange:y=>n(y.target.value),className:"w-full p-4 border-2 rounded-lg text-left transition-all border-gray-200 hover:border-gray-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email"}),e.jsx("input",{type:"email",value:a,onChange:y=>i(y.target.value),className:"w-full p-4 border-2 rounded-lg text-left transition-all border-gray-200 hover:border-gray-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Password"}),e.jsx("input",{type:"password",value:l,onChange:y=>o(y.target.value),className:"w-full p-4 border-2 rounded-lg text-left transition-all border-gray-200 hover:border-gray-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Role"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["admin","accountant","viewer"].map(y=>e.jsx("button",{onClick:()=>d(y),className:`p-4 border-2 rounded-lg text-center transition-all ${m===y?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsx("p",{className:"font-medium text-gray-900 capitalize",children:y})},y))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Module Access"}),e.jsx("div",{className:"space-y-2",children:b.map(y=>e.jsx("button",{onClick:()=>h(y.id),disabled:m==="admin"&&y.id==="users",className:`w-full p-4 border-2 rounded-lg text-left transition-all ${p.includes(y.id)?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"} ${m==="admin"&&y.id==="users"?"opacity-50":""}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:y.label}),e.jsx("p",{className:"text-sm text-gray-600",children:y.description})]}),p.includes(y.id)&&e.jsx(ze,{className:"w-5 h-5 text-green-600"})]})},y.id))}),m==="admin"&&e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* Admin users automatically have access to all modules including User Management"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Status"}),e.jsxs("button",{onClick:()=>x(!g),className:`w-full p-4 border-2 rounded-lg flex items-center justify-between ${g?"border-green-500 bg-green-50":"border-gray-300 bg-gray-50"}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:g?"Active":"Inactive"}),e.jsx("p",{className:"text-sm text-gray-600",children:g?"User can access the system":"User is blocked from accessing"})]}),g?e.jsx(ze,{className:"w-5 h-5 text-green-600"}):e.jsx(Vs,{className:"w-5 h-5 text-gray-400"})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end",children:[e.jsx(Y,{variant:"outline",onClick:s,children:"Cancel"}),e.jsx(Y,{onClick:j,className:"bg-blue-600 hover:bg-blue-700",children:v?e.jsx(ae,{className:"w-4 h-4 animate-spin"}):"Add User"})]})]})})}const Ra="crm-leads-local",St="crm-offline-mode";function Da(){const s=ye(),{user:t,loading:r}=Pe(),[n,a]=c.useState([]),[i,l]=c.useState(null),[o,m]=c.useState(!0),[d,p]=c.useState(!1),[u,g]=c.useState(null),[x,v]=c.useState("all"),[f,b]=c.useState("all"),[h,j]=c.useState(!1),[y,w]=c.useState({name:"",email:"",phone:"",company:"",contactMethod:"email",status:"new",estimatedValue:0,notes:"",source:"",assignedTo:""});c.useEffect(()=>{!r&&t&&!De(t.email)&&(U.error("Access denied. Admin permissions required."),s("/admin"))},[r,t,s]),c.useEffect(()=>{if(t&&De(t.email)){const N=localStorage.getItem(St)==="true";j(N),S(),E()}},[t]);const k=()=>{try{const N=localStorage.getItem(Ra);return N?JSON.parse(N):[]}catch(N){return console.error("Error loading from localStorage:",N),[]}},P=N=>{try{localStorage.setItem(Ra,JSON.stringify(N))}catch(A){console.error("Error saving to localStorage:",A)}},C=N=>({total:N.length,new:N.filter(A=>A.status==="new").length,contacted:N.filter(A=>A.status==="contacted").length,quoteSent:N.filter(A=>A.status==="quote-sent").length,negotiating:N.filter(A=>A.status==="negotiating").length,won:N.filter(A=>A.status==="won").length,lost:N.filter(A=>A.status==="lost").length,conversionRate:N.length>0?Math.round(N.filter(A=>A.status==="won").length/N.length*100):0,totalValue:N.filter(A=>A.status==="won").reduce((A,R)=>A+(R.estimatedValue||0),0),estimatedPipeline:N.filter(A=>!["won","lost"].includes(A.status)).reduce((A,R)=>A+(R.estimatedValue||0),0),byContactMethod:{email:N.filter(A=>A.contactMethod==="email").length,whatsapp:N.filter(A=>A.contactMethod==="whatsapp").length,phone:N.filter(A=>A.contactMethod==="phone").length,form:N.filter(A=>A.contactMethod==="form").length,referral:N.filter(A=>A.contactMethod==="referral").length,linkedin:N.filter(A=>A.contactMethod==="linkedin").length,instagram:N.filter(A=>A.contactMethod==="instagram").length,other:N.filter(A=>A.contactMethod==="other").length}}),S=async()=>{try{if(console.log("üîÑ [CRM] Loading leads..."),h){console.log("üì¶ [CRM] Using localStorage (offline mode)");const R=k();a(R),m(!1);return}console.log("üåê [CRM] Attempting backend connection...");const N=new AbortController,A=setTimeout(()=>N.abort(),5e3);try{const R=await fetch(`https://${we}.supabase.co/functions/v1/make-server-c2a25be0/crm/leads`,{headers:{Authorization:`Bearer ${Ie}`,"Content-Type":"application/json"},signal:N.signal});if(clearTimeout(A),console.log("üì° [CRM] Response status:",R.status),!R.ok){const J=await R.text();throw console.warn("‚ö†Ô∏è [CRM] Backend returned error:",R.status,J),new Error(`Backend returned ${R.status}`)}const V=await R.json();console.log("‚úÖ [CRM] Connected to backend. Loaded",V.length||0,"leads");const X=Array.isArray(V)?V:[];a(X),P(X),localStorage.getItem(St)==="true"&&(localStorage.removeItem(St),j(!1),console.log("üîÑ [CRM] Backend is back online!"))}catch(R){throw clearTimeout(A),R.name==="AbortError"?(console.log("‚è±Ô∏è [CRM] Backend connection timeout (backend not available)"),new Error("Backend timeout")):R}}catch{console.log("üì¶ [CRM] Backend unavailable - activating offline mode"),console.log("üí° [CRM] All data will be saved locally");const A=h;localStorage.setItem(St,"true"),j(!0);const R=k();a(R),A||U.info("Working in offline mode",{description:"Your changes will be saved locally in your browser.",duration:4e3})}finally{m(!1)}},E=async()=>{try{if(h){console.log("üìä [CRM] Calculating stats from local data");const R=k(),V=C(R);l(V);return}console.log("üåê [CRM] Loading stats from backend...");const N=new AbortController,A=setTimeout(()=>N.abort(),5e3);try{const R=await fetch(`https://${we}.supabase.co/functions/v1/make-server-c2a25be0/crm/stats`,{headers:{Authorization:`Bearer ${Ie}`,"Content-Type":"application/json"},signal:N.signal});if(clearTimeout(A),!R.ok){const X=await R.text();throw console.warn("‚ö†Ô∏è [CRM] Backend stats error:",R.status,X),new Error(`Backend returned ${R.status}`)}const V=await R.json();console.log("‚úÖ [CRM] Stats loaded from backend"),l(V)}catch(R){throw clearTimeout(A),R.name==="AbortError"?(console.log("‚è±Ô∏è [CRM] Stats timeout - using local calculation"),new Error("Backend timeout")):R}}catch{console.log("üìä [CRM] Calculating stats locally");const A=k(),R=C(A);l(R)}},O=async()=>{try{if(!y.name){U.error("Name is required");return}if(h){const R=k();if(u){const V=R.map(X=>X.id===u.id?{...X,...y,estimatedValue:Number(y.estimatedValue)||0,updatedAt:new Date().toISOString()}:X);P(V),a(V)}else{const X=[{id:`lead-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,...y,estimatedValue:Number(y.estimatedValue)||0,activities:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},...R];P(X),a(X)}U.success(`Lead ${u?"updated":"created"} successfully (offline mode)`),p(!1),g(null),F(),E();return}const N=u?`https://${we}.supabase.co/functions/v1/make-server-c2a25be0/crm/leads/${u.id}`:`https://${we}.supabase.co/functions/v1/make-server-c2a25be0/crm/leads`;if(!(await fetch(N,{method:u?"PUT":"POST",headers:{Authorization:`Bearer ${Ie}`,"Content-Type":"application/json"},body:JSON.stringify({...y,estimatedValue:Number(y.estimatedValue)||0})})).ok)throw new Error("Failed to save lead");U.success(`Lead ${u?"updated":"created"} successfully`),p(!1),g(null),F(),S(),E()}catch(N){console.error("Error saving lead:",N),U.error("Failed to save lead")}},M=async N=>{if(confirm("Are you sure you want to delete this lead?"))try{if(h){const V=k().filter(X=>X.id!==N);P(V),a(V),U.success("Lead deleted successfully (offline mode)"),E();return}if(!(await fetch(`https://${we}.supabase.co/functions/v1/make-server-c2a25be0/crm/leads/${N}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ie}`}})).ok)throw new Error("Failed to delete lead");U.success("Lead deleted successfully"),S(),E()}catch(A){console.error("Error deleting lead:",A),U.error("Failed to delete lead")}},B=N=>{g(N),w({name:N.name,email:N.email||"",phone:N.phone||"",company:N.company||"",contactMethod:N.contactMethod,status:N.status,estimatedValue:N.estimatedValue||0,notes:N.notes||"",source:N.source||"",assignedTo:N.assignedTo||""}),p(!0)},F=()=>{w({name:"",email:"",phone:"",company:"",contactMethod:"email",status:"new",estimatedValue:0,notes:"",source:"",assignedTo:""})},T=N=>{switch(N){case"new":return"bg-blue-100 text-blue-700 border-blue-200";case"contacted":return"bg-purple-100 text-purple-700 border-purple-200";case"quote-sent":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"negotiating":return"bg-orange-100 text-orange-700 border-orange-200";case"won":return"bg-green-100 text-green-700 border-green-200";case"lost":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},$=N=>{switch(N){case"email":return e.jsx(us,{className:"w-4 h-4"});case"whatsapp":return e.jsx(qt,{className:"w-4 h-4"});case"phone":return e.jsx(at,{className:"w-4 h-4"});case"form":return e.jsx(xe,{className:"w-4 h-4"});case"linkedin":return e.jsx(fl,{className:"w-4 h-4"});case"instagram":return e.jsx(gl,{className:"w-4 h-4"});default:return e.jsx(fe,{className:"w-4 h-4"})}},_=n.filter(N=>!(x!=="all"&&N.status!==x||f!=="all"&&N.contactMethod!==f));return r||o?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(ae,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Y,{variant:"ghost",onClick:()=>s("/admin"),className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"w-4 h-4"}),"Back to Admin Hub"]}),e.jsx("div",{className:"h-8 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:e.jsx(Yr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"CRM - Lead Management"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Track contacts, quotes, and conversions"})]})]})]}),e.jsxs(Y,{onClick:()=>{F(),g(null),p(!0)},className:"bg-blue-600 hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(Ua,{className:"w-4 h-4"}),"Add Lead"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Leads"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:i.total})]}),e.jsx(fe,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Won Deals"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:i.won})]}),e.jsx(La,{className:"w-8 h-8 text-green-500"})]})}),e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Conversion Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:[i.conversionRate,"%"]})]}),e.jsx(ys,{className:"w-8 h-8 text-purple-500"})]})}),e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Value Won"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:["$",i.totalValue.toLocaleString()]})]}),e.jsx(me,{className:"w-8 h-8 text-blue-500"})]})})]}),i&&e.jsxs(se,{className:"p-6 mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales Pipeline"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.new}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"New"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:i.contacted}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Contacted"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:i.quoteSent}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Quote Sent"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:i.negotiating}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Negotiating"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.won}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Won"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:i.lost}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Lost"})]})]})]}),e.jsx(se,{className:"p-4 mb-6",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx(za,{className:"w-5 h-5 text-gray-500"}),e.jsxs("select",{value:x,onChange:N=>v(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"contacted",children:"Contacted"}),e.jsx("option",{value:"quote-sent",children:"Quote Sent"}),e.jsx("option",{value:"negotiating",children:"Negotiating"}),e.jsx("option",{value:"won",children:"Won"}),e.jsx("option",{value:"lost",children:"Lost"})]}),e.jsxs("select",{value:f,onChange:N=>b(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"All Contact Methods"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"whatsapp",children:"WhatsApp"}),e.jsx("option",{value:"phone",children:"Phone"}),e.jsx("option",{value:"form",children:"Contact Form"}),e.jsx("option",{value:"referral",children:"Referral"}),e.jsx("option",{value:"linkedin",children:"LinkedIn"}),e.jsx("option",{value:"instagram",children:"Instagram"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:["Showing ",_.length," of ",n.length," leads"]})]})}),d&&e.jsxs(se,{className:"p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:u?"Edit Lead":"New Lead"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),e.jsx("input",{type:"text",value:y.name,onChange:N=>w({...y,name:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:y.email,onChange:N=>w({...y,email:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"john@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:y.phone,onChange:N=>w({...y,phone:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"+1 (555) 000-0000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),e.jsx("input",{type:"text",value:y.company,onChange:N=>w({...y,company:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Company Name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Method"}),e.jsxs("select",{value:y.contactMethod,onChange:N=>w({...y,contactMethod:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"whatsapp",children:"WhatsApp"}),e.jsx("option",{value:"phone",children:"Phone"}),e.jsx("option",{value:"form",children:"Contact Form"}),e.jsx("option",{value:"referral",children:"Referral"}),e.jsx("option",{value:"linkedin",children:"LinkedIn"}),e.jsx("option",{value:"instagram",children:"Instagram"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:y.status,onChange:N=>w({...y,status:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"contacted",children:"Contacted"}),e.jsx("option",{value:"quote-sent",children:"Quote Sent"}),e.jsx("option",{value:"negotiating",children:"Negotiating"}),e.jsx("option",{value:"won",children:"Won"}),e.jsx("option",{value:"lost",children:"Lost"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Value ($)"}),e.jsx("input",{type:"number",value:y.estimatedValue,onChange:N=>w({...y,estimatedValue:Number(N.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),e.jsx("input",{type:"text",value:y.source,onChange:N=>w({...y,source:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Google Ads, Facebook, etc."})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{value:y.notes,onChange:N=>w({...y,notes:N.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Additional information..."})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t",children:[e.jsx(Y,{variant:"outline",onClick:()=>{p(!1),g(null),F()},children:"Cancel"}),e.jsx(Y,{onClick:O,className:"bg-blue-600 hover:bg-blue-700",children:u?"Update Lead":"Create Lead"})]})]}),e.jsx(se,{className:"overflow-hidden",children:_.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(fe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No leads found"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Lead"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Method"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Value"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(N=>{var A;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:N.name}),N.company&&e.jsx("p",{className:"text-sm text-gray-500",children:N.company})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm",children:[N.email&&e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(us,{className:"w-3 h-3"}),e.jsx("span",{children:N.email})]}),N.phone&&e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(at,{className:"w-3 h-3"}),e.jsx("span",{children:N.phone})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[$(N.contactMethod),e.jsx("span",{className:"text-sm text-gray-600 capitalize",children:N.contactMethod.replace("-"," ")})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${T(N.status)}`,children:[N.status==="won"&&e.jsx(ze,{className:"w-3 h-3 mr-1"}),N.status==="lost"&&e.jsx(Vs,{className:"w-3 h-3 mr-1"}),N.status==="quote-sent"&&e.jsx(_s,{className:"w-3 h-3 mr-1"}),N.status.replace("-"," ").toUpperCase()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",((A=N.estimatedValue)==null?void 0:A.toLocaleString())||0]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(mt,{className:"w-3 h-3"}),e.jsx("span",{children:new Date(N.createdAt).toLocaleDateString()})]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>B(N),className:"flex items-center gap-1",children:[e.jsx(Qr,{className:"w-3 h-3"}),"Edit"]}),e.jsx(Y,{variant:"outline",size:"sm",onClick:()=>M(N.id),className:"flex items-center gap-1 text-red-600 hover:text-red-700",children:e.jsx(Us,{className:"w-3 h-3"})})]})})]},N.id)})})]})})})]})]})}const kt=[{id:"1",name:"Veronica Prass",email:"veprass@gmail.com",color:"bg-blue-100 text-blue-700 border-blue-300"},{id:"2",name:"Jamila Azevedo",email:"jamila.coura15@gmail.com",color:"bg-purple-100 text-purple-700 border-purple-300"},{id:"3",name:"Germana Azevedo",email:"germana.canada@gmail.com",color:"bg-green-100 text-green-700 border-green-300"}];function Fa(){const s=ye(),{user:t}=Pe(),[r,n]=c.useState([]),[a,i]=c.useState(!0),[l,o]=c.useState(!1),[m,d]=c.useState(null),[p,u]=c.useState("all"),[g,x]=c.useState("all"),[v,f]=c.useState("checking"),b="admin-hub-tasks",[h,j]=c.useState({title:"",description:"",assignedTo:"all",status:"todo",priority:"medium",dueDate:""});c.useEffect(()=>{De(t==null?void 0:t.email)||s("/dashboard")},[t,s]);const y=async()=>{console.log("üì¶ [Team Activities] DEMO MODE: Loading from localStorage..."),i(!0);try{const T=localStorage.getItem(b);if(T){const $=JSON.parse(T),L=Array.isArray($)?$:$.tasks||[];n(L),console.log(`‚úÖ [Team Activities] Loaded ${L.length} activities from localStorage`)}else n([]),console.log("üì≠ [Team Activities] No activities found - starting fresh")}catch(T){console.error("‚ùå [Team Activities] Error loading from localStorage:",T),n([])}f("online"),i(!1)};c.useEffect(()=>{y()},[]);const w=async()=>{if(console.log("üíæ [Team Activities] Starting save...",h),!h.title.trim()){console.error("‚ùå [Team Activities] Title is required"),alert("Please enter a title");return}const T=m?{...m,...h}:{id:Date.now().toString(),...h,createdAt:new Date().toISOString(),createdBy:(t==null?void 0:t.email)||"Unknown"};console.log("üì¶ [Team Activities] Activity object created:",T);try{console.log("üì° [Team Activities] Getting session...");const{data:$,error:L}=await te.auth.getSession();if(L||!$.session){console.error("‚ùå [Team Activities] No session found:",L),alert("Not authenticated. Please log in again.");return}console.log("‚úÖ [Team Activities] Session found, sending POST request..."),console.log("üîó [Team Activities] URL:",Ce.teamActivities);const _=new AbortController,N=setTimeout(()=>{console.error("‚è±Ô∏è [Team Activities] Request timeout after 30 seconds!"),_.abort()},3e4);try{console.log("üöÄ [Team Activities] Initiating fetch...");const A=await fetch(Ce.teamActivities,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$.session.access_token}`},body:JSON.stringify({activity:T}),signal:_.signal});if(clearTimeout(N),console.log("üì° [Team Activities] ‚ú® RESPONSE RECEIVED!"),console.log("üì° [Team Activities] Response status:",A.status),console.log("üì° [Team Activities] Response ok?:",A.ok),!A.ok){const V=await A.json().catch(()=>({error:"Unknown error"}));console.error("‚ùå [Team Activities] API Error:",V),alert(`Failed to save: ${V.error||"Unknown error"}`);return}const R=await A.json();console.log("‚úÖ [Team Activities] Save successful:",R),await y(),P(),o(!1),d(null),alert(m?"Activity updated successfully! üéâ":"Activity created successfully! üéâ")}catch(A){throw clearTimeout(N),A.name==="AbortError"?(console.error("‚ùå [Team Activities] Request was aborted due to timeout"),alert("Request timeout. The server is taking too long to respond. Please check your connection and try again.")):(console.error("‚ùå [Team Activities] FETCH ERROR:",A),console.error("‚ùå [Team Activities] Error name:",A.name),console.error("‚ùå [Team Activities] Error message:",A.message),alert(`Network error: ${A.message||"Failed to connect to server"}. Please try again.`)),A}}catch($){console.error("‚ùå [Team Activities] Error saving activity:",$)}},k=async T=>{if(confirm("Are you sure you want to delete this activity?"))try{const{data:$}=await te.auth.getSession();if(!$.session){alert("Not authenticated");return}const L=await fetch(Ce.teamActivityDelete(T),{method:"DELETE",headers:{Authorization:`Bearer ${$.session.access_token}`,"Content-Type":"application/json"}});if(L.ok)await y(),alert("Activity deleted successfully");else{const _=await L.json();alert(`Failed to delete: ${_.error||"Unknown error"}`)}}catch($){console.error("Error deleting activity:",$),alert("Failed to delete activity")}},P=()=>{j({title:"",description:"",assignedTo:"all",status:"todo",priority:"medium",dueDate:""})},C=T=>{d(T),j({title:T.title,description:T.description,assignedTo:T.assignedTo,status:T.status,priority:T.priority,dueDate:T.dueDate}),o(!0)},S=T=>kt.find($=>$.id===T),E=T=>{switch(T){case"todo":return e.jsx(mt,{className:"w-4 h-4"});case"in-progress":return e.jsx(be,{className:"w-4 h-4"});case"completed":return e.jsx(H,{className:"w-4 h-4"})}},O=T=>{switch(T){case"todo":return"bg-gray-100 text-gray-700 border-gray-300";case"in-progress":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"completed":return"bg-green-100 text-green-700 border-green-300"}},M=T=>{switch(T){case"low":return"bg-blue-100 text-blue-700 border-blue-300";case"medium":return"bg-orange-100 text-orange-700 border-orange-300";case"high":return"bg-red-100 text-red-700 border-red-300"}},B=r.filter(T=>{const $=p==="all"||T.assignedTo===p||T.assignedTo==="all",L=g==="all"||T.status===g;return $&&L}),F=T=>r.filter($=>$.assignedTo===T&&$.status!=="completed").length;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v==="offline"&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(be,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-red-900 mb-2",children:"‚ö†Ô∏è Edge Function Not Deployed"}),e.jsxs("p",{className:"text-red-800 mb-4",children:["The Supabase Edge Function ",e.jsx("code",{className:"bg-red-100 px-2 py-1 rounded",children:"make-server-c2a25be0"})," is not responding. This means it hasn't been deployed yet."]}),e.jsxs("div",{className:"space-y-2 text-sm text-red-900",children:[e.jsx("p",{className:"font-semibold",children:"Quick Fix:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4",children:[e.jsxs("li",{children:["Go to:"," ",e.jsx("a",{href:"https://supabase.com/dashboard/project/pwlacumydrxvshklvttp/functions",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-red-700 font-medium",children:"Supabase Functions Dashboard"})]}),e.jsxs("li",{children:['Click "Create a new function" ‚Üí Name it: ',e.jsx("code",{className:"bg-red-100 px-1 rounded",children:"make-server-c2a25be0"})]}),e.jsxs("li",{children:["Copy the code from ",e.jsx("code",{className:"bg-red-100 px-1 rounded",children:"/supabase/functions/make-server-c2a25be0/index.ts"})]}),e.jsx("li",{children:"Deploy and wait 10-30 seconds"}),e.jsx("li",{children:"Reload this page"})]}),e.jsxs("p",{className:"mt-3",children:["üìÑ"," ",e.jsx("a",{href:"/test-server.html",target:"_blank",className:"underline hover:text-red-700 font-medium",children:"Open Server Test Page"})," ","to verify the deployment"]})]})]})]})})}),v==="online"&&e.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(H,{className:"w-5 h-5 text-green-600"}),e.jsx("p",{className:"text-green-900 font-medium",children:"‚úÖ Edge Function is online and responding"})]})})}),e.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>s("/admin/control-panel"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[e.jsx(Hs,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Back to Control Panel"})]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Team Activity Manager"})]}),e.jsxs("button",{onClick:()=>{P(),d(null),o(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ua,{className:"w-5 h-5"}),"New Activity"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:kt.map(T=>e.jsxs("div",{className:`${T.color} border rounded-lg p-4`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(it,{className:"w-5 h-5"}),e.jsx("h3",{className:"font-semibold",children:T.name})]}),e.jsx("span",{className:"text-2xl font-bold",children:F(T.id)})]}),e.jsx("p",{className:"text-sm opacity-75",children:T.email}),e.jsx("p",{className:"text-xs mt-1 opacity-60",children:"Active tasks"})]},T.id))}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(za,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Team Member:"}),e.jsxs("select",{value:p,onChange:T=>u(T.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Team Members"}),kt.map(T=>e.jsx("option",{value:T.id,children:T.name},T.id))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status:"}),e.jsxs("select",{value:g,onChange:T=>x(T.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"todo",children:"To Do"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"})]})]})]})}),a?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading activities..."})]}):B.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[e.jsx(Ae,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No activities found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first activity to get started"}),e.jsx("button",{onClick:()=>o(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Activity"})]}):e.jsx("div",{className:"space-y-4",children:B.map(T=>{const $=S(T.assignedTo);return e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:T.title}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${O(T.status)} flex items-center gap-1`,children:[E(T.status),T.status.replace("-"," ").toUpperCase()]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${M(T.priority)}`,children:T.priority.toUpperCase()})]}),T.description&&e.jsx("p",{className:"text-gray-600 mb-3",children:T.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(it,{className:"w-4 h-4"}),e.jsx("span",{children:T.assignedTo==="all"?"All Team Members":($==null?void 0:$.name)||"Unknown"})]}),T.dueDate&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ae,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(T.dueDate).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("button",{onClick:()=>C(T),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(Qr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(T.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(Us,{className:"w-4 h-4"})})]})]})},T.id)})})]}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:m?"Edit Activity":"New Activity"}),e.jsx("button",{onClick:()=>{o(!1),d(null),P()},className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ve,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),e.jsx("input",{type:"text",value:h.title,onChange:T=>j({...h,title:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Activity title..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:h.description,onChange:T=>j({...h,description:T.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Activity description..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign To"}),e.jsxs("select",{value:h.assignedTo,onChange:T=>j({...h,assignedTo:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Team Members"}),kt.map(T=>e.jsx("option",{value:T.id,children:T.name},T.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:h.status,onChange:T=>j({...h,status:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"todo",children:"To Do"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),e.jsxs("select",{value:h.priority,onChange:T=>j({...h,priority:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),e.jsx("input",{type:"date",value:h.dueDate,onChange:T=>j({...h,dueDate:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 flex items-center justify-end gap-3 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{o(!1),d(null),P()},className:"px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ba,{className:"w-4 h-4"}),m?"Update Activity":"Create Activity"]})]})]})})]})}const ih=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-lg flex items-center justify-center mx-auto mb-4 animate-pulse",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:"DP"})}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),ts=({children:s,requireAdmin:t=!1})=>{const{user:r,isAdmin:n,loading:a}=Pe();return a?e.jsx(ih,{}):r?t&&!n?(ge.warn("ProtectedRoute: User not admin, redirecting to dashboard"),e.jsx(wr,{to:"/dashboard",replace:!0})):e.jsx(e.Fragment,{children:s}):(ge.warn("ProtectedRoute: User not authenticated, redirecting to login"),e.jsx(wr,{to:"/login",replace:!0}))},oh=()=>(Object.entries({HomePage:On,LoginPage:In,DashboardPage:Mn,AuthDebugPage:$n,QuickAdminSetup:_n,QuickCreateAdminPage:Bn,SimpleResetPasswordPage:Un,DirectResetPasswordPage:zn,ResetAdminPasswordsPage:Vn,SupabaseAuthManager:Ln,AdminDiagnosticPage:qn,SystemStatusPage:Wn,AdminControlPanelPage:Qn,AdminHubPage:Jn,AdminClientsPage:da,AdminClientDetailPage:Pa,AdminUsersPage:Ea,AdminCRMPage:Da,AdminTeamActivityPage:Fa}).forEach(([t,r])=>{if(!r)throw console.error(`‚ùå ${t} is undefined!`),new Error(`${t} component failed to load`)}),console.log("‚úÖ All page components loaded successfully"),e.jsx(ic,{children:e.jsx(Xa,{children:e.jsx(tc,{children:e.jsx(ac,{children:e.jsxs(sl,{children:[e.jsxs(qs,{children:[e.jsx("title",{children:"DuoPro Services - Canadian Tax Services"}),e.jsx("meta",{name:"description",content:"Professional Canadian tax services for individuals, newcomers, and small businesses."})]}),e.jsxs(tl,{children:[e.jsx(he,{path:"/",element:e.jsx(On,{})}),e.jsx(he,{path:"/login",element:e.jsx(In,{})}),e.jsx(he,{path:"/setup",element:e.jsx(_n,{})}),e.jsx(he,{path:"/quick-setup",element:e.jsx(Bn,{})}),e.jsx(he,{path:"/simple-reset",element:e.jsx(Un,{})}),e.jsx(he,{path:"/direct-reset",element:e.jsx(zn,{})}),e.jsx(he,{path:"/reset-passwords",element:e.jsx(Vn,{})}),e.jsx(he,{path:"/admin-diagnostic",element:e.jsx(qn,{})}),e.jsx(he,{path:"/auth-debug",element:e.jsx(Ln,{})}),e.jsx(he,{path:"/auth-debug-old",element:e.jsx($n,{})}),e.jsx(he,{path:"/system-status",element:e.jsx(Wn,{})}),e.jsx(he,{path:"/admin-check",element:e.jsx(jd,{})}),e.jsx(he,{path:"/dashboard",element:e.jsx(ts,{children:e.jsx(Mn,{})})}),e.jsx(he,{path:"/admin",element:e.jsx(ts,{requireAdmin:!0,children:e.jsx(wd,{})})}),e.jsx(he,{path:"/admin/control-panel",element:e.jsx(ts,{requireAdmin:!0,children:e.jsx(Qn,{})})}),e.jsx(he,{path:"/admin/hub",element:e.jsx(ts,{requireAdmin:!0,children:e.jsx(Jn,{})})}),e.jsx(he,{path:"/admin/clients",element:e.jsx(ts,{requireAdmin:!0,children:e.jsx(da,{})})}),e.jsx(he,{path:"/admin/clients/:clientId",element:e.jsx(ts,{requireAdmin:!0,children:e.jsx(Pa,{})})}),e.jsx(he,{path:"/admin/users",element:e.jsx(ts,{requireAdmin:!0,children:e.jsx(Ea,{})})}),e.jsx(he,{path:"/admin/crm",element:e.jsx(ts,{requireAdmin:!0,children:e.jsx(Da,{})})}),e.jsx(he,{path:"/admin/team-activity",element:e.jsx(ts,{requireAdmin:!0,children:e.jsx(Fa,{})})}),e.jsx(he,{path:"*",element:e.jsx(wr,{to:"/",replace:!0})})]}),e.jsx(bl,{position:"top-right",richColors:!0,closeButton:!0})]})})})})}));Sr.createRoot(document.getElementById("root")).render(e.jsx(ke.StrictMode,{children:e.jsx(oh,{})}));export{Ce as A,e as j,te as s};
