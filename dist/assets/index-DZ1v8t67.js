const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FinancialModule-DvgU7-HS.js","assets/localApiMock-dgIox5FE.js","assets/ProjectsModuleNew-BvCShOC5.js","assets/chevron-left-DJ7p48l8.js","assets/SocialCalendarModule-COVR27xo.js"])))=>i.map(i=>d[i]);
var hw=Object.defineProperty;var mw=(e,t,s)=>t in e?hw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ds=(e,t,s)=>mw(e,typeof t!="symbol"?t+"":t,s);function fw(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();function Ui(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lg={exports:{}},Zl={},Mg={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bi=Symbol.for("react.element"),pw=Symbol.for("react.portal"),gw=Symbol.for("react.fragment"),xw=Symbol.for("react.strict_mode"),vw=Symbol.for("react.profiler"),yw=Symbol.for("react.provider"),bw=Symbol.for("react.context"),ww=Symbol.for("react.forward_ref"),jw=Symbol.for("react.suspense"),Nw=Symbol.for("react.memo"),Sw=Symbol.for("react.lazy"),zm=Symbol.iterator;function kw(e){return e===null||typeof e!="object"?null:(e=zm&&e[zm]||e["@@iterator"],typeof e=="function"?e:null)}var Ug={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bg=Object.assign,zg={};function va(e,t,s){this.props=e,this.context=t,this.refs=zg,this.updater=s||Ug}va.prototype.isReactComponent={};va.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};va.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vg(){}Vg.prototype=va.prototype;function ch(e,t,s){this.props=e,this.context=t,this.refs=zg,this.updater=s||Ug}var dh=ch.prototype=new Vg;dh.constructor=ch;Bg(dh,va.prototype);dh.isPureReactComponent=!0;var Vm=Array.isArray,Hg=Object.prototype.hasOwnProperty,uh={current:null},Wg={key:!0,ref:!0,__self:!0,__source:!0};function qg(e,t,s){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Hg.call(t,n)&&!Wg.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Bi,type:e,key:i,ref:o,props:a,_owner:uh.current}}function Cw(e,t){return{$$typeof:Bi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bi}function Ew(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Hm=/\/+/g;function Mc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ew(""+e.key):t.toString(36)}function Uo(e,t,s,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Bi:case pw:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Mc(o,0):n,Vm(a)?(s="",e!=null&&(s=e.replace(Hm,"$&/")+"/"),Uo(a,t,s,"",function(d){return d})):a!=null&&(hh(a)&&(a=Cw(a,s+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Hm,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Vm(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Mc(i,l);o+=Uo(i,t,s,c,a)}else if(c=kw(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Mc(i,l++),o+=Uo(i,t,s,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function so(e,t,s){if(e==null)return e;var n=[],a=0;return Uo(e,n,"","",function(i){return t.call(s,i,a++)}),n}function Tw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},Bo={transition:null},_w={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:Bo,ReactCurrentOwner:uh};function Kg(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:so,forEach:function(e,t,s){so(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return so(e,function(){t++}),t},toArray:function(e){return so(e,function(t){return t})||[]},only:function(e){if(!hh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=va;pe.Fragment=gw;pe.Profiler=vw;pe.PureComponent=ch;pe.StrictMode=xw;pe.Suspense=jw;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_w;pe.act=Kg;pe.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Bg({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=uh.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Hg.call(t,c)&&!Wg.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Bi,type:e.type,key:a,ref:i,props:n,_owner:o}};pe.createContext=function(e){return e={$$typeof:bw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yw,_context:e},e.Consumer=e};pe.createElement=qg;pe.createFactory=function(e){var t=qg.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:ww,render:e}};pe.isValidElement=hh;pe.lazy=function(e){return{$$typeof:Sw,_payload:{_status:-1,_result:e},_init:Tw}};pe.memo=function(e,t){return{$$typeof:Nw,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=Bo.transition;Bo.transition={};try{e()}finally{Bo.transition=t}};pe.unstable_act=Kg;pe.useCallback=function(e,t){return vt.current.useCallback(e,t)};pe.useContext=function(e){return vt.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};pe.useEffect=function(e,t){return vt.current.useEffect(e,t)};pe.useId=function(){return vt.current.useId()};pe.useImperativeHandle=function(e,t,s){return vt.current.useImperativeHandle(e,t,s)};pe.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return vt.current.useMemo(e,t)};pe.useReducer=function(e,t,s){return vt.current.useReducer(e,t,s)};pe.useRef=function(e){return vt.current.useRef(e)};pe.useState=function(e){return vt.current.useState(e)};pe.useSyncExternalStore=function(e,t,s){return vt.current.useSyncExternalStore(e,t,s)};pe.useTransition=function(){return vt.current.useTransition()};pe.version="18.3.1";Mg.exports=pe;var p=Mg.exports;const F=Ui(p),mh=fw({__proto__:null,default:F},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw=p,Pw=Symbol.for("react.element"),Rw=Symbol.for("react.fragment"),Ow=Object.prototype.hasOwnProperty,Iw=Aw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dw={key:!0,ref:!0,__self:!0,__source:!0};function Gg(e,t,s){var n,a={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Ow.call(t,n)&&!Dw.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Pw,type:e,key:i,ref:o,props:a,_owner:Iw.current}}Zl.Fragment=Rw;Zl.jsx=Gg;Zl.jsxs=Gg;Lg.exports=Zl;var r=Lg.exports,$d={},Yg={exports:{}},Lt={},Jg={exports:{}},Qg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,A){var P=S.length;S.push(A);e:for(;0<P;){var q=P-1>>>1,J=S[q];if(0<a(J,A))S[q]=A,S[P]=J,P=q;else break e}}function s(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var A=S[0],P=S.pop();if(P!==A){S[0]=P;e:for(var q=0,J=S.length,z=J>>>1;q<z;){var ne=2*(q+1)-1,le=S[ne],fe=ne+1,W=S[fe];if(0>a(le,P))fe<J&&0>a(W,le)?(S[q]=W,S[fe]=P,q=fe):(S[q]=le,S[ne]=P,q=ne);else if(fe<J&&0>a(W,P))S[q]=W,S[fe]=P,q=fe;else break e}}return A}function a(S,A){var P=S.sortIndex-A.sortIndex;return P!==0?P:S.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,u=null,f=3,x=!1,b=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(S){for(var A=s(d);A!==null;){if(A.callback===null)n(d);else if(A.startTime<=S)n(d),A.sortIndex=A.expirationTime,t(c,A);else break;A=s(d)}}function j(S){if(y=!1,g(S),!b)if(s(c)!==null)b=!0,D(k);else{var A=s(d);A!==null&&L(j,A.startTime-S)}}function k(S,A){b=!1,y&&(y=!1,m(C),C=-1),x=!0;var P=f;try{for(g(A),u=s(c);u!==null&&(!(u.expirationTime>A)||S&&!$());){var q=u.callback;if(typeof q=="function"){u.callback=null,f=u.priorityLevel;var J=q(u.expirationTime<=A);A=e.unstable_now(),typeof J=="function"?u.callback=J:u===s(c)&&n(c),g(A)}else n(c);u=s(c)}if(u!==null)var z=!0;else{var ne=s(d);ne!==null&&L(j,ne.startTime-A),z=!1}return z}finally{u=null,f=P,x=!1}}var E=!1,N=null,C=-1,T=5,R=-1;function $(){return!(e.unstable_now()-R<T)}function H(){if(N!==null){var S=e.unstable_now();R=S;var A=!0;try{A=N(!0,S)}finally{A?O():(E=!1,N=null)}}else E=!1}var O;if(typeof v=="function")O=function(){v(H)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,U=_.port2;_.port1.onmessage=H,O=function(){U.postMessage(null)}}else O=function(){w(H,0)};function D(S){N=S,E||(E=!0,O())}function L(S,A){C=w(function(){S(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,D(k))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(S){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var P=f;f=A;try{return S()}finally{f=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,A){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var P=f;f=S;try{return A()}finally{f=P}},e.unstable_scheduleCallback=function(S,A,P){var q=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?q+P:q):P=q,S){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=P+J,S={id:h++,callback:A,priorityLevel:S,startTime:P,expirationTime:J,sortIndex:-1},P>q?(S.sortIndex=P,t(d,S),s(c)===null&&S===s(d)&&(y?(m(C),C=-1):y=!0,L(j,P-q))):(S.sortIndex=J,t(c,S),b||x||(b=!0,D(k))),S},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(S){var A=f;return function(){var P=f;f=A;try{return S.apply(this,arguments)}finally{f=P}}}})(Qg);Jg.exports=Qg;var $w=Jg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw=p,Ft=$w;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xg=new Set,hi={};function mr(e,t){ra(e,t),ra(e+"Capture",t)}function ra(e,t){for(hi[e]=t,e=0;e<t.length;e++)Xg.add(t[e])}var Hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fd=Object.prototype.hasOwnProperty,Lw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wm={},qm={};function Mw(e){return Fd.call(qm,e)?!0:Fd.call(Wm,e)?!1:Lw.test(e)?qm[e]=!0:(Wm[e]=!0,!1)}function Uw(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bw(e,t,s,n){if(t===null||typeof t>"u"||Uw(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yt(e,t,s,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ot[e]=new yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ot[t]=new yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ot[e]=new yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ot[e]=new yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ot[e]=new yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ot[e]=new yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ot[e]=new yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ot[e]=new yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ot[e]=new yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var fh=/[\-:]([a-z])/g;function ph(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fh,ph);ot[t]=new yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fh,ph);ot[t]=new yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fh,ph);ot[t]=new yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ot[e]=new yt(e,1,!1,e.toLowerCase(),null,!1,!1)});ot.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ot[e]=new yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function gh(e,t,s,n){var a=ot.hasOwnProperty(t)?ot[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bw(t,s,a,n)&&(s=null),n||a===null?Mw(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var Qs=Fw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,no=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Or=Symbol.for("react.fragment"),xh=Symbol.for("react.strict_mode"),Ld=Symbol.for("react.profiler"),Zg=Symbol.for("react.provider"),ex=Symbol.for("react.context"),vh=Symbol.for("react.forward_ref"),Md=Symbol.for("react.suspense"),Ud=Symbol.for("react.suspense_list"),yh=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),tx=Symbol.for("react.offscreen"),Km=Symbol.iterator;function Da(e){return e===null||typeof e!="object"?null:(e=Km&&e[Km]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,Uc;function Ga(e){if(Uc===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Uc=t&&t[1]||""}return`
`+Uc+e}var Bc=!1;function zc(e,t){if(!e||Bc)return"";Bc=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Bc=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ga(e):""}function zw(e){switch(e.tag){case 5:return Ga(e.type);case 16:return Ga("Lazy");case 13:return Ga("Suspense");case 19:return Ga("SuspenseList");case 0:case 2:case 15:return e=zc(e.type,!1),e;case 11:return e=zc(e.type.render,!1),e;case 1:return e=zc(e.type,!0),e;default:return""}}function Bd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Or:return"Fragment";case Rr:return"Portal";case Ld:return"Profiler";case xh:return"StrictMode";case Md:return"Suspense";case Ud:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ex:return(e.displayName||"Context")+".Consumer";case Zg:return(e._context.displayName||"Context")+".Provider";case vh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yh:return t=e.displayName||null,t!==null?t:Bd(e.type)||"Memo";case nn:t=e._payload,e=e._init;try{return Bd(e(t))}catch{}}return null}function Vw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bd(t);case 8:return t===xh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hw(e){var t=sx(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ro(e){e._valueTracker||(e._valueTracker=Hw(e))}function nx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=sx(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zd(e,t){var s=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Gm(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Nn(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rx(e,t){t=t.checked,t!=null&&gh(e,"checked",t,!1)}function Vd(e,t){rx(e,t);var s=Nn(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hd(e,t.type,s):t.hasOwnProperty("defaultValue")&&Hd(e,t.type,Nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ym(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Hd(e,t,s){(t!=="number"||cl(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Ya=Array.isArray;function Hr(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Nn(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Wd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jm(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(B(92));if(Ya(s)){if(1<s.length)throw Error(B(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Nn(s)}}function ax(e,t){var s=Nn(t.value),n=Nn(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function Qm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ix(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ix(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ao,ox=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ao=ao||document.createElement("div"),ao.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ao.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mi(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ww=["Webkit","ms","Moz","O"];Object.keys(ni).forEach(function(e){Ww.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ni[t]=ni[e]})});function lx(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||ni.hasOwnProperty(e)&&ni[e]?(""+t).trim():t+"px"}function cx(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=lx(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var qw=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kd(e,t){if(t){if(qw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Gd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yd=null;function bh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jd=null,Wr=null,qr=null;function Xm(e){if(e=Hi(e)){if(typeof Jd!="function")throw Error(B(280));var t=e.stateNode;t&&(t=rc(t),Jd(e.stateNode,e.type,t))}}function dx(e){Wr?qr?qr.push(e):qr=[e]:Wr=e}function ux(){if(Wr){var e=Wr,t=qr;if(qr=Wr=null,Xm(e),t)for(e=0;e<t.length;e++)Xm(t[e])}}function hx(e,t){return e(t)}function mx(){}var Vc=!1;function fx(e,t,s){if(Vc)return e(t,s);Vc=!0;try{return hx(e,t,s)}finally{Vc=!1,(Wr!==null||qr!==null)&&(mx(),ux())}}function fi(e,t){var s=e.stateNode;if(s===null)return null;var n=rc(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(B(231,t,typeof s));return s}var Qd=!1;if(Hs)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Qd=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{Qd=!1}function Kw(e,t,s,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(h){this.onError(h)}}var ri=!1,dl=null,ul=!1,Xd=null,Gw={onError:function(e){ri=!0,dl=e}};function Yw(e,t,s,n,a,i,o,l,c){ri=!1,dl=null,Kw.apply(Gw,arguments)}function Jw(e,t,s,n,a,i,o,l,c){if(Yw.apply(this,arguments),ri){if(ri){var d=dl;ri=!1,dl=null}else throw Error(B(198));ul||(ul=!0,Xd=d)}}function fr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function px(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zm(e){if(fr(e)!==e)throw Error(B(188))}function Qw(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(B(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return Zm(a),e;if(i===n)return Zm(a),t;i=i.sibling}throw Error(B(188))}if(s.return!==n.return)s=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===s){o=!0,s=a,n=i;break}if(l===n){o=!0,n=a,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,n=a;break}if(l===n){o=!0,n=i,s=a;break}l=l.sibling}if(!o)throw Error(B(189))}}if(s.alternate!==n)throw Error(B(190))}if(s.tag!==3)throw Error(B(188));return s.stateNode.current===s?e:t}function gx(e){return e=Qw(e),e!==null?xx(e):null}function xx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xx(e);if(t!==null)return t;e=e.sibling}return null}var vx=Ft.unstable_scheduleCallback,ef=Ft.unstable_cancelCallback,Xw=Ft.unstable_shouldYield,Zw=Ft.unstable_requestPaint,Me=Ft.unstable_now,ej=Ft.unstable_getCurrentPriorityLevel,wh=Ft.unstable_ImmediatePriority,yx=Ft.unstable_UserBlockingPriority,hl=Ft.unstable_NormalPriority,tj=Ft.unstable_LowPriority,bx=Ft.unstable_IdlePriority,ec=null,_s=null;function sj(e){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(ec,e,void 0,(e.current.flags&128)===128)}catch{}}var hs=Math.clz32?Math.clz32:aj,nj=Math.log,rj=Math.LN2;function aj(e){return e>>>=0,e===0?32:31-(nj(e)/rj|0)|0}var io=64,oo=4194304;function Ja(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ml(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~a;l!==0?n=Ja(l):(i&=o,i!==0&&(n=Ja(i)))}else o=s&~a,o!==0?n=Ja(o):i!==0&&(n=Ja(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-hs(t),a=1<<s,n|=e[s],t&=~a;return n}function ij(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oj(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-hs(i),l=1<<o,c=a[o];c===-1?(!(l&s)||l&n)&&(a[o]=ij(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Zd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wx(){var e=io;return io<<=1,!(io&4194240)&&(io=64),e}function Hc(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function zi(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hs(t),e[t]=s}function lj(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-hs(s),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~i}}function jh(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-hs(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var we=0;function jx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Nx,Nh,Sx,kx,Cx,eu=!1,lo=[],pn=null,gn=null,xn=null,pi=new Map,gi=new Map,ln=[],cj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tf(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gi.delete(t.pointerId)}}function Fa(e,t,s,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Hi(t),t!==null&&Nh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function dj(e,t,s,n,a){switch(t){case"focusin":return pn=Fa(pn,e,t,s,n,a),!0;case"dragenter":return gn=Fa(gn,e,t,s,n,a),!0;case"mouseover":return xn=Fa(xn,e,t,s,n,a),!0;case"pointerover":var i=a.pointerId;return pi.set(i,Fa(pi.get(i)||null,e,t,s,n,a)),!0;case"gotpointercapture":return i=a.pointerId,gi.set(i,Fa(gi.get(i)||null,e,t,s,n,a)),!0}return!1}function Ex(e){var t=Hn(e.target);if(t!==null){var s=fr(t);if(s!==null){if(t=s.tag,t===13){if(t=px(s),t!==null){e.blockedOn=t,Cx(e.priority,function(){Sx(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=tu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);Yd=n,s.target.dispatchEvent(n),Yd=null}else return t=Hi(s),t!==null&&Nh(t),e.blockedOn=s,!1;t.shift()}return!0}function sf(e,t,s){zo(e)&&s.delete(t)}function uj(){eu=!1,pn!==null&&zo(pn)&&(pn=null),gn!==null&&zo(gn)&&(gn=null),xn!==null&&zo(xn)&&(xn=null),pi.forEach(sf),gi.forEach(sf)}function La(e,t){e.blockedOn===t&&(e.blockedOn=null,eu||(eu=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,uj)))}function xi(e){function t(a){return La(a,e)}if(0<lo.length){La(lo[0],e);for(var s=1;s<lo.length;s++){var n=lo[s];n.blockedOn===e&&(n.blockedOn=null)}}for(pn!==null&&La(pn,e),gn!==null&&La(gn,e),xn!==null&&La(xn,e),pi.forEach(t),gi.forEach(t),s=0;s<ln.length;s++)n=ln[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<ln.length&&(s=ln[0],s.blockedOn===null);)Ex(s),s.blockedOn===null&&ln.shift()}var Kr=Qs.ReactCurrentBatchConfig,fl=!0;function hj(e,t,s,n){var a=we,i=Kr.transition;Kr.transition=null;try{we=1,Sh(e,t,s,n)}finally{we=a,Kr.transition=i}}function mj(e,t,s,n){var a=we,i=Kr.transition;Kr.transition=null;try{we=4,Sh(e,t,s,n)}finally{we=a,Kr.transition=i}}function Sh(e,t,s,n){if(fl){var a=tu(e,t,s,n);if(a===null)ed(e,t,n,pl,s),tf(e,n);else if(dj(a,e,t,s,n))n.stopPropagation();else if(tf(e,n),t&4&&-1<cj.indexOf(e)){for(;a!==null;){var i=Hi(a);if(i!==null&&Nx(i),i=tu(e,t,s,n),i===null&&ed(e,t,n,pl,s),i===a)break;a=i}a!==null&&n.stopPropagation()}else ed(e,t,n,null,s)}}var pl=null;function tu(e,t,s,n){if(pl=null,e=bh(n),e=Hn(e),e!==null)if(t=fr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=px(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pl=e,null}function Tx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ej()){case wh:return 1;case yx:return 4;case hl:case tj:return 16;case bx:return 536870912;default:return 16}default:return 16}}var hn=null,kh=null,Vo=null;function _x(){if(Vo)return Vo;var e,t=kh,s=t.length,n,a="value"in hn?hn.value:hn.textContent,i=a.length;for(e=0;e<s&&t[e]===a[e];e++);var o=s-e;for(n=1;n<=o&&t[s-n]===a[i-n];n++);return Vo=a.slice(e,1<n?1-n:void 0)}function Ho(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function co(){return!0}function nf(){return!1}function Mt(e){function t(s,n,a,i,o){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?co:nf,this.isPropagationStopped=nf,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=co)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=co)},persist:function(){},isPersistent:co}),t}var ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ch=Mt(ya),Vi=Ie({},ya,{view:0,detail:0}),fj=Mt(Vi),Wc,qc,Ma,tc=Ie({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ma&&(Ma&&e.type==="mousemove"?(Wc=e.screenX-Ma.screenX,qc=e.screenY-Ma.screenY):qc=Wc=0,Ma=e),Wc)},movementY:function(e){return"movementY"in e?e.movementY:qc}}),rf=Mt(tc),pj=Ie({},tc,{dataTransfer:0}),gj=Mt(pj),xj=Ie({},Vi,{relatedTarget:0}),Kc=Mt(xj),vj=Ie({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),yj=Mt(vj),bj=Ie({},ya,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wj=Mt(bj),jj=Ie({},ya,{data:0}),af=Mt(jj),Nj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kj[e])?!!t[e]:!1}function Eh(){return Cj}var Ej=Ie({},Vi,{key:function(e){if(e.key){var t=Nj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eh,charCode:function(e){return e.type==="keypress"?Ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tj=Mt(Ej),_j=Ie({},tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),of=Mt(_j),Aj=Ie({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eh}),Pj=Mt(Aj),Rj=Ie({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oj=Mt(Rj),Ij=Ie({},tc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dj=Mt(Ij),$j=[9,13,27,32],Th=Hs&&"CompositionEvent"in window,ai=null;Hs&&"documentMode"in document&&(ai=document.documentMode);var Fj=Hs&&"TextEvent"in window&&!ai,Ax=Hs&&(!Th||ai&&8<ai&&11>=ai),lf=" ",cf=!1;function Px(e,t){switch(e){case"keyup":return $j.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ir=!1;function Lj(e,t){switch(e){case"compositionend":return Rx(t);case"keypress":return t.which!==32?null:(cf=!0,lf);case"textInput":return e=t.data,e===lf&&cf?null:e;default:return null}}function Mj(e,t){if(Ir)return e==="compositionend"||!Th&&Px(e,t)?(e=_x(),Vo=kh=hn=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ax&&t.locale!=="ko"?null:t.data;default:return null}}var Uj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uj[e.type]:t==="textarea"}function Ox(e,t,s,n){dx(n),t=gl(t,"onChange"),0<t.length&&(s=new Ch("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var ii=null,vi=null;function Bj(e){Hx(e,0)}function sc(e){var t=Fr(e);if(nx(t))return e}function zj(e,t){if(e==="change")return t}var Ix=!1;if(Hs){var Gc;if(Hs){var Yc="oninput"in document;if(!Yc){var uf=document.createElement("div");uf.setAttribute("oninput","return;"),Yc=typeof uf.oninput=="function"}Gc=Yc}else Gc=!1;Ix=Gc&&(!document.documentMode||9<document.documentMode)}function hf(){ii&&(ii.detachEvent("onpropertychange",Dx),vi=ii=null)}function Dx(e){if(e.propertyName==="value"&&sc(vi)){var t=[];Ox(t,vi,e,bh(e)),fx(Bj,t)}}function Vj(e,t,s){e==="focusin"?(hf(),ii=t,vi=s,ii.attachEvent("onpropertychange",Dx)):e==="focusout"&&hf()}function Hj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sc(vi)}function Wj(e,t){if(e==="click")return sc(t)}function qj(e,t){if(e==="input"||e==="change")return sc(t)}function Kj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ps=typeof Object.is=="function"?Object.is:Kj;function yi(e,t){if(ps(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!Fd.call(t,a)||!ps(e[a],t[a]))return!1}return!0}function mf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ff(e,t){var s=mf(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=mf(s)}}function $x(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$x(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fx(){for(var e=window,t=cl();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=cl(e.document)}return t}function _h(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gj(e){var t=Fx(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&$x(s.ownerDocument.documentElement,s)){if(n!==null&&_h(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=ff(s,i);var o=ff(s,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yj=Hs&&"documentMode"in document&&11>=document.documentMode,Dr=null,su=null,oi=null,nu=!1;function pf(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;nu||Dr==null||Dr!==cl(n)||(n=Dr,"selectionStart"in n&&_h(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),oi&&yi(oi,n)||(oi=n,n=gl(su,"onSelect"),0<n.length&&(t=new Ch("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=Dr)))}function uo(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var $r={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionend:uo("Transition","TransitionEnd")},Jc={},Lx={};Hs&&(Lx=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function nc(e){if(Jc[e])return Jc[e];if(!$r[e])return e;var t=$r[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Lx)return Jc[e]=t[s];return e}var Mx=nc("animationend"),Ux=nc("animationiteration"),Bx=nc("animationstart"),zx=nc("transitionend"),Vx=new Map,gf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){Vx.set(e,t),mr(t,[e])}for(var Qc=0;Qc<gf.length;Qc++){var Xc=gf[Qc],Jj=Xc.toLowerCase(),Qj=Xc[0].toUpperCase()+Xc.slice(1);Tn(Jj,"on"+Qj)}Tn(Mx,"onAnimationEnd");Tn(Ux,"onAnimationIteration");Tn(Bx,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(zx,"onTransitionEnd");ra("onMouseEnter",["mouseout","mouseover"]);ra("onMouseLeave",["mouseout","mouseover"]);ra("onPointerEnter",["pointerout","pointerover"]);ra("onPointerLeave",["pointerout","pointerover"]);mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function xf(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,Jw(n,t,void 0,e),e.currentTarget=null}function Hx(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;xf(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;xf(a,l,d),i=c}}}if(ul)throw e=Xd,ul=!1,Xd=null,e}function ke(e,t){var s=t[lu];s===void 0&&(s=t[lu]=new Set);var n=e+"__bubble";s.has(n)||(Wx(t,e,2,!1),s.add(n))}function Zc(e,t,s){var n=0;t&&(n|=4),Wx(s,e,n,t)}var ho="_reactListening"+Math.random().toString(36).slice(2);function bi(e){if(!e[ho]){e[ho]=!0,Xg.forEach(function(s){s!=="selectionchange"&&(Xj.has(s)||Zc(s,!1,e),Zc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ho]||(t[ho]=!0,Zc("selectionchange",!1,t))}}function Wx(e,t,s,n){switch(Tx(t)){case 1:var a=hj;break;case 4:a=mj;break;default:a=Sh}s=a.bind(null,t,s,e),a=void 0,!Qd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function ed(e,t,s,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Hn(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}fx(function(){var d=i,h=bh(s),u=[];e:{var f=Vx.get(e);if(f!==void 0){var x=Ch,b=e;switch(e){case"keypress":if(Ho(s)===0)break e;case"keydown":case"keyup":x=Tj;break;case"focusin":b="focus",x=Kc;break;case"focusout":b="blur",x=Kc;break;case"beforeblur":case"afterblur":x=Kc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=gj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Pj;break;case Mx:case Ux:case Bx:x=yj;break;case zx:x=Oj;break;case"scroll":x=fj;break;case"wheel":x=Dj;break;case"copy":case"cut":case"paste":x=wj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=of}var y=(t&4)!==0,w=!y&&e==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var v=d,g;v!==null;){g=v;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,m!==null&&(j=fi(v,m),j!=null&&y.push(wi(v,j,g)))),w)break;v=v.return}0<y.length&&(f=new x(f,b,null,s,h),u.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",f&&s!==Yd&&(b=s.relatedTarget||s.fromElement)&&(Hn(b)||b[Ws]))break e;if((x||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,x?(b=s.relatedTarget||s.toElement,x=d,b=b?Hn(b):null,b!==null&&(w=fr(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=d),x!==b)){if(y=rf,j="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=of,j="onPointerLeave",m="onPointerEnter",v="pointer"),w=x==null?f:Fr(x),g=b==null?f:Fr(b),f=new y(j,v+"leave",x,s,h),f.target=w,f.relatedTarget=g,j=null,Hn(h)===d&&(y=new y(m,v+"enter",b,s,h),y.target=g,y.relatedTarget=w,j=y),w=j,x&&b)t:{for(y=x,m=b,v=0,g=y;g;g=yr(g))v++;for(g=0,j=m;j;j=yr(j))g++;for(;0<v-g;)y=yr(y),v--;for(;0<g-v;)m=yr(m),g--;for(;v--;){if(y===m||m!==null&&y===m.alternate)break t;y=yr(y),m=yr(m)}y=null}else y=null;x!==null&&vf(u,f,x,y,!1),b!==null&&w!==null&&vf(u,w,b,y,!0)}}e:{if(f=d?Fr(d):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var k=zj;else if(df(f))if(Ix)k=qj;else{k=Hj;var E=Vj}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Wj);if(k&&(k=k(e,d))){Ox(u,k,s,h);break e}E&&E(e,f,d),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Hd(f,"number",f.value)}switch(E=d?Fr(d):window,e){case"focusin":(df(E)||E.contentEditable==="true")&&(Dr=E,su=d,oi=null);break;case"focusout":oi=su=Dr=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,pf(u,s,h);break;case"selectionchange":if(Yj)break;case"keydown":case"keyup":pf(u,s,h)}var N;if(Th)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ir?Px(e,s)&&(C="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(C="onCompositionStart");C&&(Ax&&s.locale!=="ko"&&(Ir||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ir&&(N=_x()):(hn=h,kh="value"in hn?hn.value:hn.textContent,Ir=!0)),E=gl(d,C),0<E.length&&(C=new af(C,e,null,s,h),u.push({event:C,listeners:E}),N?C.data=N:(N=Rx(s),N!==null&&(C.data=N)))),(N=Fj?Lj(e,s):Mj(e,s))&&(d=gl(d,"onBeforeInput"),0<d.length&&(h=new af("onBeforeInput","beforeinput",null,s,h),u.push({event:h,listeners:d}),h.data=N))}Hx(u,t)})}function wi(e,t,s){return{instance:e,listener:t,currentTarget:s}}function gl(e,t){for(var s=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=fi(e,s),i!=null&&n.unshift(wi(e,i,a)),i=fi(e,t),i!=null&&n.push(wi(e,i,a))),e=e.return}return n}function yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vf(e,t,s,n,a){for(var i=t._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=fi(s,i),c!=null&&o.unshift(wi(s,c,l))):a||(c=fi(s,i),c!=null&&o.push(wi(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var Zj=/\r\n?/g,eN=/\u0000|\uFFFD/g;function yf(e){return(typeof e=="string"?e:""+e).replace(Zj,`
`).replace(eN,"")}function mo(e,t,s){if(t=yf(t),yf(e)!==t&&s)throw Error(B(425))}function xl(){}var ru=null,au=null;function iu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ou=typeof setTimeout=="function"?setTimeout:void 0,tN=typeof clearTimeout=="function"?clearTimeout:void 0,bf=typeof Promise=="function"?Promise:void 0,sN=typeof queueMicrotask=="function"?queueMicrotask:typeof bf<"u"?function(e){return bf.resolve(null).then(e).catch(nN)}:ou;function nN(e){setTimeout(function(){throw e})}function td(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),xi(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);xi(t)}function vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var ba=Math.random().toString(36).slice(2),Cs="__reactFiber$"+ba,ji="__reactProps$"+ba,Ws="__reactContainer$"+ba,lu="__reactEvents$"+ba,rN="__reactListeners$"+ba,aN="__reactHandles$"+ba;function Hn(e){var t=e[Cs];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Ws]||s[Cs]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=wf(e);e!==null;){if(s=e[Cs])return s;e=wf(e)}return t}e=s,s=e.parentNode}return null}function Hi(e){return e=e[Cs]||e[Ws],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function rc(e){return e[ji]||null}var cu=[],Lr=-1;function _n(e){return{current:e}}function Ee(e){0>Lr||(e.current=cu[Lr],cu[Lr]=null,Lr--)}function Ne(e,t){Lr++,cu[Lr]=e.current,e.current=t}var Sn={},ft=_n(Sn),kt=_n(!1),er=Sn;function aa(e,t){var s=e.type.contextTypes;if(!s)return Sn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ct(e){return e=e.childContextTypes,e!=null}function vl(){Ee(kt),Ee(ft)}function jf(e,t,s){if(ft.current!==Sn)throw Error(B(168));Ne(ft,t),Ne(kt,s)}function qx(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(B(108,Vw(e)||"Unknown",a));return Ie({},s,n)}function yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,er=ft.current,Ne(ft,e),Ne(kt,kt.current),!0}function Nf(e,t,s){var n=e.stateNode;if(!n)throw Error(B(169));s?(e=qx(e,t,er),n.__reactInternalMemoizedMergedChildContext=e,Ee(kt),Ee(ft),Ne(ft,e)):Ee(kt),Ne(kt,s)}var Ls=null,ac=!1,sd=!1;function Kx(e){Ls===null?Ls=[e]:Ls.push(e)}function iN(e){ac=!0,Kx(e)}function An(){if(!sd&&Ls!==null){sd=!0;var e=0,t=we;try{var s=Ls;for(we=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}Ls=null,ac=!1}catch(a){throw Ls!==null&&(Ls=Ls.slice(e+1)),vx(wh,An),a}finally{we=t,sd=!1}}return null}var Mr=[],Ur=0,bl=null,wl=0,Ht=[],Wt=0,tr=null,Us=1,Bs="";function Ln(e,t){Mr[Ur++]=wl,Mr[Ur++]=bl,bl=e,wl=t}function Gx(e,t,s){Ht[Wt++]=Us,Ht[Wt++]=Bs,Ht[Wt++]=tr,tr=e;var n=Us;e=Bs;var a=32-hs(n)-1;n&=~(1<<a),s+=1;var i=32-hs(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Us=1<<32-hs(t)+a|s<<a|n,Bs=i+e}else Us=1<<i|s<<a|n,Bs=e}function Ah(e){e.return!==null&&(Ln(e,1),Gx(e,1,0))}function Ph(e){for(;e===bl;)bl=Mr[--Ur],Mr[Ur]=null,wl=Mr[--Ur],Mr[Ur]=null;for(;e===tr;)tr=Ht[--Wt],Ht[Wt]=null,Bs=Ht[--Wt],Ht[Wt]=null,Us=Ht[--Wt],Ht[Wt]=null}var It=null,Ot=null,_e=!1,cs=null;function Yx(e,t){var s=Kt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Sf(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,It=e,Ot=vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,It=e,Ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=tr!==null?{id:Us,overflow:Bs}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Kt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,It=e,Ot=null,!0):!1;default:return!1}}function du(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uu(e){if(_e){var t=Ot;if(t){var s=t;if(!Sf(e,t)){if(du(e))throw Error(B(418));t=vn(s.nextSibling);var n=It;t&&Sf(e,t)?Yx(n,s):(e.flags=e.flags&-4097|2,_e=!1,It=e)}}else{if(du(e))throw Error(B(418));e.flags=e.flags&-4097|2,_e=!1,It=e}}}function kf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;It=e}function fo(e){if(e!==It)return!1;if(!_e)return kf(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!iu(e.type,e.memoizedProps)),t&&(t=Ot)){if(du(e))throw Jx(),Error(B(418));for(;t;)Yx(e,t),t=vn(t.nextSibling)}if(kf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Ot=vn(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Ot=null}}else Ot=It?vn(e.stateNode.nextSibling):null;return!0}function Jx(){for(var e=Ot;e;)e=vn(e.nextSibling)}function ia(){Ot=It=null,_e=!1}function Rh(e){cs===null?cs=[e]:cs.push(e)}var oN=Qs.ReactCurrentBatchConfig;function Ua(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(B(309));var n=s.stateNode}if(!n)throw Error(B(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(B(284));if(!s._owner)throw Error(B(290,e))}return e}function po(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cf(e){var t=e._init;return t(e._payload)}function Qx(e){function t(m,v){if(e){var g=m.deletions;g===null?(m.deletions=[v],m.flags|=16):g.push(v)}}function s(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function n(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function a(m,v){return m=jn(m,v),m.index=0,m.sibling=null,m}function i(m,v,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<v?(m.flags|=2,v):g):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,v,g,j){return v===null||v.tag!==6?(v=cd(g,m.mode,j),v.return=m,v):(v=a(v,g),v.return=m,v)}function c(m,v,g,j){var k=g.type;return k===Or?h(m,v,g.props.children,j,g.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===nn&&Cf(k)===v.type)?(j=a(v,g.props),j.ref=Ua(m,v,g),j.return=m,j):(j=Qo(g.type,g.key,g.props,null,m.mode,j),j.ref=Ua(m,v,g),j.return=m,j)}function d(m,v,g,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=dd(g,m.mode,j),v.return=m,v):(v=a(v,g.children||[]),v.return=m,v)}function h(m,v,g,j,k){return v===null||v.tag!==7?(v=Xn(g,m.mode,j,k),v.return=m,v):(v=a(v,g),v.return=m,v)}function u(m,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=cd(""+v,m.mode,g),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case no:return g=Qo(v.type,v.key,v.props,null,m.mode,g),g.ref=Ua(m,null,v),g.return=m,g;case Rr:return v=dd(v,m.mode,g),v.return=m,v;case nn:var j=v._init;return u(m,j(v._payload),g)}if(Ya(v)||Da(v))return v=Xn(v,m.mode,g,null),v.return=m,v;po(m,v)}return null}function f(m,v,g,j){var k=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:l(m,v,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case no:return g.key===k?c(m,v,g,j):null;case Rr:return g.key===k?d(m,v,g,j):null;case nn:return k=g._init,f(m,v,k(g._payload),j)}if(Ya(g)||Da(g))return k!==null?null:h(m,v,g,j,null);po(m,g)}return null}function x(m,v,g,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return m=m.get(g)||null,l(v,m,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case no:return m=m.get(j.key===null?g:j.key)||null,c(v,m,j,k);case Rr:return m=m.get(j.key===null?g:j.key)||null,d(v,m,j,k);case nn:var E=j._init;return x(m,v,g,E(j._payload),k)}if(Ya(j)||Da(j))return m=m.get(g)||null,h(v,m,j,k,null);po(v,j)}return null}function b(m,v,g,j){for(var k=null,E=null,N=v,C=v=0,T=null;N!==null&&C<g.length;C++){N.index>C?(T=N,N=null):T=N.sibling;var R=f(m,N,g[C],j);if(R===null){N===null&&(N=T);break}e&&N&&R.alternate===null&&t(m,N),v=i(R,v,C),E===null?k=R:E.sibling=R,E=R,N=T}if(C===g.length)return s(m,N),_e&&Ln(m,C),k;if(N===null){for(;C<g.length;C++)N=u(m,g[C],j),N!==null&&(v=i(N,v,C),E===null?k=N:E.sibling=N,E=N);return _e&&Ln(m,C),k}for(N=n(m,N);C<g.length;C++)T=x(N,m,C,g[C],j),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?C:T.key),v=i(T,v,C),E===null?k=T:E.sibling=T,E=T);return e&&N.forEach(function($){return t(m,$)}),_e&&Ln(m,C),k}function y(m,v,g,j){var k=Da(g);if(typeof k!="function")throw Error(B(150));if(g=k.call(g),g==null)throw Error(B(151));for(var E=k=null,N=v,C=v=0,T=null,R=g.next();N!==null&&!R.done;C++,R=g.next()){N.index>C?(T=N,N=null):T=N.sibling;var $=f(m,N,R.value,j);if($===null){N===null&&(N=T);break}e&&N&&$.alternate===null&&t(m,N),v=i($,v,C),E===null?k=$:E.sibling=$,E=$,N=T}if(R.done)return s(m,N),_e&&Ln(m,C),k;if(N===null){for(;!R.done;C++,R=g.next())R=u(m,R.value,j),R!==null&&(v=i(R,v,C),E===null?k=R:E.sibling=R,E=R);return _e&&Ln(m,C),k}for(N=n(m,N);!R.done;C++,R=g.next())R=x(N,m,C,R.value,j),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?C:R.key),v=i(R,v,C),E===null?k=R:E.sibling=R,E=R);return e&&N.forEach(function(H){return t(m,H)}),_e&&Ln(m,C),k}function w(m,v,g,j){if(typeof g=="object"&&g!==null&&g.type===Or&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case no:e:{for(var k=g.key,E=v;E!==null;){if(E.key===k){if(k=g.type,k===Or){if(E.tag===7){s(m,E.sibling),v=a(E,g.props.children),v.return=m,m=v;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===nn&&Cf(k)===E.type){s(m,E.sibling),v=a(E,g.props),v.ref=Ua(m,E,g),v.return=m,m=v;break e}s(m,E);break}else t(m,E);E=E.sibling}g.type===Or?(v=Xn(g.props.children,m.mode,j,g.key),v.return=m,m=v):(j=Qo(g.type,g.key,g.props,null,m.mode,j),j.ref=Ua(m,v,g),j.return=m,m=j)}return o(m);case Rr:e:{for(E=g.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){s(m,v.sibling),v=a(v,g.children||[]),v.return=m,m=v;break e}else{s(m,v);break}else t(m,v);v=v.sibling}v=dd(g,m.mode,j),v.return=m,m=v}return o(m);case nn:return E=g._init,w(m,v,E(g._payload),j)}if(Ya(g))return b(m,v,g,j);if(Da(g))return y(m,v,g,j);po(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(s(m,v.sibling),v=a(v,g),v.return=m,m=v):(s(m,v),v=cd(g,m.mode,j),v.return=m,m=v),o(m)):s(m,v)}return w}var oa=Qx(!0),Xx=Qx(!1),jl=_n(null),Nl=null,Br=null,Oh=null;function Ih(){Oh=Br=Nl=null}function Dh(e){var t=jl.current;Ee(jl),e._currentValue=t}function hu(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function Gr(e,t){Nl=e,Oh=Br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(St=!0),e.firstContext=null)}function Yt(e){var t=e._currentValue;if(Oh!==e)if(e={context:e,memoizedValue:t,next:null},Br===null){if(Nl===null)throw Error(B(308));Br=e,Nl.dependencies={lanes:0,firstContext:e}}else Br=Br.next=e;return t}var Wn=null;function $h(e){Wn===null?Wn=[e]:Wn.push(e)}function Zx(e,t,s,n){var a=t.interleaved;return a===null?(s.next=s,$h(t)):(s.next=a.next,a.next=s),t.interleaved=s,qs(e,n)}function qs(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var rn=!1;function Fh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yn(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ye&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,qs(e,s)}return a=n.interleaved,a===null?(t.next=t,$h(n)):(t.next=a.next,a.next=t),n.interleaved=t,qs(e,s)}function Wo(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,jh(e,s)}}function Ef(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=o:i=i.next=o,s=s.next}while(s!==null);i===null?a=i=t:i=i.next=t}else a=i=t;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Sl(e,t,s,n){var a=e.updateQueue;rn=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var u=a.baseState;o=0,h=d=c=null,l=i;do{var f=l.lane,x=l.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,y=l;switch(f=t,x=s,y.tag){case 1:if(b=y.payload,typeof b=="function"){u=b.call(x,u,f);break e}u=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,f=typeof b=="function"?b.call(x,u,f):b,f==null)break e;u=Ie({},u,f);break e;case 2:rn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else x={eventTime:x,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=x,c=u):h=h.next=x,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(h===null&&(c=u),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);nr|=o,e.lanes=o,e.memoizedState=u}}function Tf(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(B(191,a));a.call(n)}}}var Wi={},As=_n(Wi),Ni=_n(Wi),Si=_n(Wi);function qn(e){if(e===Wi)throw Error(B(174));return e}function Lh(e,t){switch(Ne(Si,t),Ne(Ni,e),Ne(As,Wi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qd(t,e)}Ee(As),Ne(As,t)}function la(){Ee(As),Ee(Ni),Ee(Si)}function t0(e){qn(Si.current);var t=qn(As.current),s=qd(t,e.type);t!==s&&(Ne(Ni,e),Ne(As,s))}function Mh(e){Ni.current===e&&(Ee(As),Ee(Ni))}var Re=_n(0);function kl(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nd=[];function Uh(){for(var e=0;e<nd.length;e++)nd[e]._workInProgressVersionPrimary=null;nd.length=0}var qo=Qs.ReactCurrentDispatcher,rd=Qs.ReactCurrentBatchConfig,sr=0,Oe=null,qe=null,Xe=null,Cl=!1,li=!1,ki=0,lN=0;function dt(){throw Error(B(321))}function Bh(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ps(e[s],t[s]))return!1;return!0}function zh(e,t,s,n,a,i){if(sr=i,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qo.current=e===null||e.memoizedState===null?hN:mN,e=s(n,a),li){i=0;do{if(li=!1,ki=0,25<=i)throw Error(B(301));i+=1,Xe=qe=null,t.updateQueue=null,qo.current=fN,e=s(n,a)}while(li)}if(qo.current=El,t=qe!==null&&qe.next!==null,sr=0,Xe=qe=Oe=null,Cl=!1,t)throw Error(B(300));return e}function Vh(){var e=ki!==0;return ki=0,e}function Ss(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Oe.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Jt(){if(qe===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Xe===null?Oe.memoizedState:Xe.next;if(t!==null)Xe=t,qe=e;else{if(e===null)throw Error(B(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Xe===null?Oe.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Ci(e,t){return typeof t=="function"?t(e):t}function ad(e){var t=Jt(),s=t.queue;if(s===null)throw Error(B(311));s.lastRenderedReducer=e;var n=qe,a=n.baseQueue,i=s.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var h=d.lane;if((sr&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var u={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=u,o=n):c=c.next=u,Oe.lanes|=h,nr|=h}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,ps(n,t.memoizedState)||(St=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do i=a.lane,Oe.lanes|=i,nr|=i,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function id(e){var t=Jt(),s=t.queue;if(s===null)throw Error(B(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,i=t.memoizedState;if(a!==null){s.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ps(i,t.memoizedState)||(St=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,n]}function s0(){}function n0(e,t){var s=Oe,n=Jt(),a=t(),i=!ps(n.memoizedState,a);if(i&&(n.memoizedState=a,St=!0),n=n.queue,Hh(i0.bind(null,s,n,e),[e]),n.getSnapshot!==t||i||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,Ei(9,a0.bind(null,s,n,a,t),void 0,null),et===null)throw Error(B(349));sr&30||r0(s,t,a)}return a}function r0(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function a0(e,t,s,n){t.value=s,t.getSnapshot=n,o0(t)&&l0(e)}function i0(e,t,s){return s(function(){o0(t)&&l0(e)})}function o0(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ps(e,s)}catch{return!0}}function l0(e){var t=qs(e,1);t!==null&&ms(t,e,1,-1)}function _f(e){var t=Ss();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},t.queue=e,e=e.dispatch=uN.bind(null,Oe,e),[t.memoizedState,e]}function Ei(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function c0(){return Jt().memoizedState}function Ko(e,t,s,n){var a=Ss();Oe.flags|=e,a.memoizedState=Ei(1|t,s,void 0,n===void 0?null:n)}function ic(e,t,s,n){var a=Jt();n=n===void 0?null:n;var i=void 0;if(qe!==null){var o=qe.memoizedState;if(i=o.destroy,n!==null&&Bh(n,o.deps)){a.memoizedState=Ei(t,s,i,n);return}}Oe.flags|=e,a.memoizedState=Ei(1|t,s,i,n)}function Af(e,t){return Ko(8390656,8,e,t)}function Hh(e,t){return ic(2048,8,e,t)}function d0(e,t){return ic(4,2,e,t)}function u0(e,t){return ic(4,4,e,t)}function h0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function m0(e,t,s){return s=s!=null?s.concat([e]):null,ic(4,4,h0.bind(null,t,e),s)}function Wh(){}function f0(e,t){var s=Jt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Bh(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function p0(e,t){var s=Jt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Bh(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function g0(e,t,s){return sr&21?(ps(s,t)||(s=wx(),Oe.lanes|=s,nr|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=s)}function cN(e,t){var s=we;we=s!==0&&4>s?s:4,e(!0);var n=rd.transition;rd.transition={};try{e(!1),t()}finally{we=s,rd.transition=n}}function x0(){return Jt().memoizedState}function dN(e,t,s){var n=wn(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},v0(e))y0(t,s);else if(s=Zx(e,t,s,n),s!==null){var a=xt();ms(s,e,n,a),b0(s,t,n)}}function uN(e,t,s){var n=wn(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(v0(e))y0(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,s);if(a.hasEagerState=!0,a.eagerState=l,ps(l,o)){var c=t.interleaved;c===null?(a.next=a,$h(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=Zx(e,t,a,n),s!==null&&(a=xt(),ms(s,e,n,a),b0(s,t,n))}}function v0(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function y0(e,t){li=Cl=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function b0(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,jh(e,s)}}var El={readContext:Yt,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},hN={readContext:Yt,useCallback:function(e,t){return Ss().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:Af,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ko(4194308,4,h0.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ko(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ko(4,2,e,t)},useMemo:function(e,t){var s=Ss();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=Ss();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dN.bind(null,Oe,e),[n.memoizedState,e]},useRef:function(e){var t=Ss();return e={current:e},t.memoizedState=e},useState:_f,useDebugValue:Wh,useDeferredValue:function(e){return Ss().memoizedState=e},useTransition:function(){var e=_f(!1),t=e[0];return e=cN.bind(null,e[1]),Ss().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=Oe,a=Ss();if(_e){if(s===void 0)throw Error(B(407));s=s()}else{if(s=t(),et===null)throw Error(B(349));sr&30||r0(n,t,s)}a.memoizedState=s;var i={value:s,getSnapshot:t};return a.queue=i,Af(i0.bind(null,n,i,e),[e]),n.flags|=2048,Ei(9,a0.bind(null,n,i,s,t),void 0,null),s},useId:function(){var e=Ss(),t=et.identifierPrefix;if(_e){var s=Bs,n=Us;s=(n&~(1<<32-hs(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=ki++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=lN++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mN={readContext:Yt,useCallback:f0,useContext:Yt,useEffect:Hh,useImperativeHandle:m0,useInsertionEffect:d0,useLayoutEffect:u0,useMemo:p0,useReducer:ad,useRef:c0,useState:function(){return ad(Ci)},useDebugValue:Wh,useDeferredValue:function(e){var t=Jt();return g0(t,qe.memoizedState,e)},useTransition:function(){var e=ad(Ci)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:s0,useSyncExternalStore:n0,useId:x0,unstable_isNewReconciler:!1},fN={readContext:Yt,useCallback:f0,useContext:Yt,useEffect:Hh,useImperativeHandle:m0,useInsertionEffect:d0,useLayoutEffect:u0,useMemo:p0,useReducer:id,useRef:c0,useState:function(){return id(Ci)},useDebugValue:Wh,useDeferredValue:function(e){var t=Jt();return qe===null?t.memoizedState=e:g0(t,qe.memoizedState,e)},useTransition:function(){var e=id(Ci)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:s0,useSyncExternalStore:n0,useId:x0,unstable_isNewReconciler:!1};function as(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function mu(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:Ie({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var oc={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=xt(),a=wn(e),i=zs(n,a);i.payload=t,s!=null&&(i.callback=s),t=yn(e,i,a),t!==null&&(ms(t,e,a,n),Wo(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=xt(),a=wn(e),i=zs(n,a);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=yn(e,i,a),t!==null&&(ms(t,e,a,n),Wo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=xt(),n=wn(e),a=zs(s,n);a.tag=2,t!=null&&(a.callback=t),t=yn(e,a,n),t!==null&&(ms(t,e,n,s),Wo(t,e,n))}};function Pf(e,t,s,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!yi(s,n)||!yi(a,i):!0}function w0(e,t,s){var n=!1,a=Sn,i=t.contextType;return typeof i=="object"&&i!==null?i=Yt(i):(a=Ct(t)?er:ft.current,n=t.contextTypes,i=(n=n!=null)?aa(e,a):Sn),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Rf(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&oc.enqueueReplaceState(t,t.state,null)}function fu(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Fh(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Yt(i):(i=Ct(t)?er:ft.current,a.context=aa(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(mu(e,t,i,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&oc.enqueueReplaceState(a,a.state,null),Sl(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ca(e,t){try{var s="",n=t;do s+=zw(n),n=n.return;while(n);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function od(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function pu(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var pN=typeof WeakMap=="function"?WeakMap:Map;function j0(e,t,s){s=zs(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){_l||(_l=!0,ku=n),pu(e,t)},s}function N0(e,t,s){s=zs(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){pu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){pu(e,t),typeof n!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function Of(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new pN;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=_N.bind(null,e,t,s),t.then(e,e))}function If(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Df(e,t,s,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=zs(-1,1),t.tag=2,yn(s,t,1))),s.lanes|=1),e)}var gN=Qs.ReactCurrentOwner,St=!1;function gt(e,t,s,n){t.child=e===null?Xx(t,null,s,n):oa(t,e.child,s,n)}function $f(e,t,s,n,a){s=s.render;var i=t.ref;return Gr(t,a),n=zh(e,t,s,n,i,a),s=Vh(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ks(e,t,a)):(_e&&s&&Ah(t),t.flags|=1,gt(e,t,n,a),t.child)}function Ff(e,t,s,n,a){if(e===null){var i=s.type;return typeof i=="function"&&!Zh(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,S0(e,t,i,n,a)):(e=Qo(s.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(s=s.compare,s=s!==null?s:yi,s(o,n)&&e.ref===t.ref)return Ks(e,t,a)}return t.flags|=1,e=jn(i,n),e.ref=t.ref,e.return=t,t.child=e}function S0(e,t,s,n,a){if(e!==null){var i=e.memoizedProps;if(yi(i,n)&&e.ref===t.ref)if(St=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(St=!0);else return t.lanes=e.lanes,Ks(e,t,a)}return gu(e,t,s,n,a)}function k0(e,t,s){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Vr,Pt),Pt|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(Vr,Pt),Pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:s,Ne(Vr,Pt),Pt|=n}else i!==null?(n=i.baseLanes|s,t.memoizedState=null):n=s,Ne(Vr,Pt),Pt|=n;return gt(e,t,a,s),t.child}function C0(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function gu(e,t,s,n,a){var i=Ct(s)?er:ft.current;return i=aa(t,i),Gr(t,a),s=zh(e,t,s,n,i,a),n=Vh(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ks(e,t,a)):(_e&&n&&Ah(t),t.flags|=1,gt(e,t,s,a),t.child)}function Lf(e,t,s,n,a){if(Ct(s)){var i=!0;yl(t)}else i=!1;if(Gr(t,a),t.stateNode===null)Go(e,t),w0(t,s,n),fu(t,s,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=Yt(d):(d=Ct(s)?er:ft.current,d=aa(t,d));var h=s.getDerivedStateFromProps,u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Rf(t,o,n,d),rn=!1;var f=t.memoizedState;o.state=f,Sl(t,n,o,a),c=t.memoizedState,l!==n||f!==c||kt.current||rn?(typeof h=="function"&&(mu(t,s,h,n),c=t.memoizedState),(l=rn||Pf(t,s,l,n,f,c,d))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,e0(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:as(t.type,l),o.props=d,u=t.pendingProps,f=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=Yt(c):(c=Ct(s)?er:ft.current,c=aa(t,c));var x=s.getDerivedStateFromProps;(h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||f!==c)&&Rf(t,o,n,c),rn=!1,f=t.memoizedState,o.state=f,Sl(t,n,o,a);var b=t.memoizedState;l!==u||f!==b||kt.current||rn?(typeof x=="function"&&(mu(t,s,x,n),b=t.memoizedState),(d=rn||Pf(t,s,d,n,f,b,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return xu(e,t,s,n,i,a)}function xu(e,t,s,n,a,i){C0(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Nf(t,s,!1),Ks(e,t,i);n=t.stateNode,gN.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=oa(t,e.child,null,i),t.child=oa(t,null,l,i)):gt(e,t,l,i),t.memoizedState=n.state,a&&Nf(t,s,!0),t.child}function E0(e){var t=e.stateNode;t.pendingContext?jf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jf(e,t.context,!1),Lh(e,t.containerInfo)}function Mf(e,t,s,n,a){return ia(),Rh(a),t.flags|=256,gt(e,t,s,n),t.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function yu(e){return{baseLanes:e,cachePool:null,transitions:null}}function T0(e,t,s){var n=t.pendingProps,a=Re.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ne(Re,a&1),e===null)return uu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=dc(o,n,0,null),e=Xn(e,n,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=yu(s),t.memoizedState=vu,e):qh(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return xN(e,t,o,n,l,a,s);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=jn(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=jn(l,i):(i=Xn(i,o,s,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?yu(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=vu,n}return i=e.child,e=i.sibling,n=jn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function qh(e,t){return t=dc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function go(e,t,s,n){return n!==null&&Rh(n),oa(t,e.child,null,s),e=qh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xN(e,t,s,n,a,i,o){if(s)return t.flags&256?(t.flags&=-257,n=od(Error(B(422))),go(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=dc({mode:"visible",children:n.children},a,0,null),i=Xn(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&oa(t,e.child,null,o),t.child.memoizedState=yu(o),t.memoizedState=vu,i);if(!(t.mode&1))return go(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(B(419)),n=od(i,n,void 0),go(e,t,o,n)}if(l=(o&e.childLanes)!==0,St||l){if(n=et,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,qs(e,a),ms(n,e,a,-1))}return Xh(),n=od(Error(B(421))),go(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=AN.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ot=vn(a.nextSibling),It=t,_e=!0,cs=null,e!==null&&(Ht[Wt++]=Us,Ht[Wt++]=Bs,Ht[Wt++]=tr,Us=e.id,Bs=e.overflow,tr=t),t=qh(t,n.children),t.flags|=4096,t)}function Uf(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),hu(e.return,t,s)}function ld(e,t,s,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=s,i.tailMode=a)}function _0(e,t,s){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(gt(e,t,n.children,s),n=Re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uf(e,s,t);else if(e.tag===19)Uf(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ne(Re,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&kl(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),ld(t,!1,a,s,i);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&kl(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}ld(t,!0,s,null,i);break;case"together":ld(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),nr|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,s=jn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=jn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function vN(e,t,s){switch(t.tag){case 3:E0(t),ia();break;case 5:t0(t);break;case 1:Ct(t.type)&&yl(t);break;case 4:Lh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ne(jl,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ne(Re,Re.current&1),t.flags|=128,null):s&t.child.childLanes?T0(e,t,s):(Ne(Re,Re.current&1),e=Ks(e,t,s),e!==null?e.sibling:null);Ne(Re,Re.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return _0(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ne(Re,Re.current),n)break;return null;case 22:case 23:return t.lanes=0,k0(e,t,s)}return Ks(e,t,s)}var A0,bu,P0,R0;A0=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};bu=function(){};P0=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,qn(As.current);var i=null;switch(s){case"input":a=zd(e,a),n=zd(e,n),i=[];break;case"select":a=Ie({},a,{value:void 0}),n=Ie({},n,{value:void 0}),i=[];break;case"textarea":a=Wd(e,a),n=Wd(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=xl)}Kd(s,n);var o;s=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(hi.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(i||(i=[]),i.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(hi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ke("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};R0=function(e,t,s,n){s!==n&&(t.flags|=4)};function Ba(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function yN(e,t,s){var n=t.pendingProps;switch(Ph(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return Ct(t.type)&&vl(),ut(t),null;case 3:return n=t.stateNode,la(),Ee(kt),Ee(ft),Uh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cs!==null&&(Tu(cs),cs=null))),bu(e,t),ut(t),null;case 5:Mh(t);var a=qn(Si.current);if(s=t.type,e!==null&&t.stateNode!=null)P0(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(B(166));return ut(t),null}if(e=qn(As.current),fo(t)){n=t.stateNode,s=t.type;var i=t.memoizedProps;switch(n[Cs]=t,n[ji]=i,e=(t.mode&1)!==0,s){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(a=0;a<Qa.length;a++)ke(Qa[a],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":Gm(n,i),ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ke("invalid",n);break;case"textarea":Jm(n,i),ke("invalid",n)}Kd(s,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&mo(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&mo(n.textContent,l,e),a=["children",""+l]):hi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ke("scroll",n)}switch(s){case"input":ro(n),Ym(n,i,!0);break;case"textarea":ro(n),Qm(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xl)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ix(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),s==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[Cs]=t,e[ji]=n,A0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Gd(s,n),s){case"dialog":ke("cancel",e),ke("close",e),a=n;break;case"iframe":case"object":case"embed":ke("load",e),a=n;break;case"video":case"audio":for(a=0;a<Qa.length;a++)ke(Qa[a],e);a=n;break;case"source":ke("error",e),a=n;break;case"img":case"image":case"link":ke("error",e),ke("load",e),a=n;break;case"details":ke("toggle",e),a=n;break;case"input":Gm(e,n),a=zd(e,n),ke("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ie({},n,{value:void 0}),ke("invalid",e);break;case"textarea":Jm(e,n),a=Wd(e,n),ke("invalid",e);break;default:a=n}Kd(s,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?cx(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ox(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&mi(e,c):typeof c=="number"&&mi(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ke("scroll",e):c!=null&&gh(e,i,c,o))}switch(s){case"input":ro(e),Ym(e,n,!1);break;case"textarea":ro(e),Qm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Hr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Hr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=xl)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)R0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(B(166));if(s=qn(Si.current),qn(As.current),fo(t)){if(n=t.stateNode,s=t.memoizedProps,n[Cs]=t,(i=n.nodeValue!==s)&&(e=It,e!==null))switch(e.tag){case 3:mo(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mo(n.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[Cs]=t,t.stateNode=n}return ut(t),null;case 13:if(Ee(Re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&Ot!==null&&t.mode&1&&!(t.flags&128))Jx(),ia(),t.flags|=98560,i=!1;else if(i=fo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(B(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Cs]=t}else ia(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),i=!1}else cs!==null&&(Tu(cs),cs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?Ge===0&&(Ge=3):Xh())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return la(),bu(e,t),e===null&&bi(t.stateNode.containerInfo),ut(t),null;case 10:return Dh(t.type._context),ut(t),null;case 17:return Ct(t.type)&&vl(),ut(t),null;case 19:if(Ee(Re),i=t.memoizedState,i===null)return ut(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Ba(i,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=kl(e),o!==null){for(t.flags|=128,Ba(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)i=s,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ne(Re,Re.current&1|2),t.child}e=e.sibling}i.tail!==null&&Me()>da&&(t.flags|=128,n=!0,Ba(i,!1),t.lanes=4194304)}else{if(!n)if(e=kl(o),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Ba(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!_e)return ut(t),null}else 2*Me()-i.renderingStartTime>da&&s!==1073741824&&(t.flags|=128,n=!0,Ba(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(s=i.last,s!==null?s.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Me(),t.sibling=null,s=Re.current,Ne(Re,n?s&1|2:s&1),t):(ut(t),null);case 22:case 23:return Qh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Pt&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function bN(e,t){switch(Ph(t),t.tag){case 1:return Ct(t.type)&&vl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return la(),Ee(kt),Ee(ft),Uh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mh(t),null;case 13:if(Ee(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Re),null;case 4:return la(),null;case 10:return Dh(t.type._context),null;case 22:case 23:return Qh(),null;case 24:return null;default:return null}}var xo=!1,ht=!1,wN=typeof WeakSet=="function"?WeakSet:Set,X=null;function zr(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Fe(e,t,n)}else s.current=null}function wu(e,t,s){try{s()}catch(n){Fe(e,t,n)}}var Bf=!1;function jN(e,t){if(ru=fl,e=Fx(),_h(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,h=0,u=e,f=null;t:for(;;){for(var x;u!==s||a!==0&&u.nodeType!==3||(l=o+a),u!==i||n!==0&&u.nodeType!==3||(c=o+n),u.nodeType===3&&(o+=u.nodeValue.length),(x=u.firstChild)!==null;)f=u,u=x;for(;;){if(u===e)break t;if(f===s&&++d===a&&(l=o),f===i&&++h===n&&(c=o),(x=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=x}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(au={focusedElem:e,selectionRange:s},fl=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,w=b.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:as(t.type,y),w);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(j){Fe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return b=Bf,Bf=!1,b}function ci(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&wu(t,s,i)}a=a.next}while(a!==n)}}function lc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function ju(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function O0(e){var t=e.alternate;t!==null&&(e.alternate=null,O0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cs],delete t[ji],delete t[lu],delete t[rN],delete t[aN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function I0(e){return e.tag===5||e.tag===3||e.tag===4}function zf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||I0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nu(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=xl));else if(n!==4&&(e=e.child,e!==null))for(Nu(e,t,s),e=e.sibling;e!==null;)Nu(e,t,s),e=e.sibling}function Su(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Su(e,t,s),e=e.sibling;e!==null;)Su(e,t,s),e=e.sibling}var at=null,os=!1;function Zs(e,t,s){for(s=s.child;s!==null;)D0(e,t,s),s=s.sibling}function D0(e,t,s){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(ec,s)}catch{}switch(s.tag){case 5:ht||zr(s,t);case 6:var n=at,a=os;at=null,Zs(e,t,s),at=n,os=a,at!==null&&(os?(e=at,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):at.removeChild(s.stateNode));break;case 18:at!==null&&(os?(e=at,s=s.stateNode,e.nodeType===8?td(e.parentNode,s):e.nodeType===1&&td(e,s),xi(e)):td(at,s.stateNode));break;case 4:n=at,a=os,at=s.stateNode.containerInfo,os=!0,Zs(e,t,s),at=n,os=a;break;case 0:case 11:case 14:case 15:if(!ht&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&wu(s,t,o),a=a.next}while(a!==n)}Zs(e,t,s);break;case 1:if(!ht&&(zr(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){Fe(s,t,l)}Zs(e,t,s);break;case 21:Zs(e,t,s);break;case 22:s.mode&1?(ht=(n=ht)||s.memoizedState!==null,Zs(e,t,s),ht=n):Zs(e,t,s);break;default:Zs(e,t,s)}}function Vf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new wN),t.forEach(function(n){var a=PN.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function ss(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:at=l.stateNode,os=!1;break e;case 3:at=l.stateNode.containerInfo,os=!0;break e;case 4:at=l.stateNode.containerInfo,os=!0;break e}l=l.return}if(at===null)throw Error(B(160));D0(i,o,a),at=null,os=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Fe(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$0(t,e),t=t.sibling}function $0(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ss(t,e),js(e),n&4){try{ci(3,e,e.return),lc(3,e)}catch(y){Fe(e,e.return,y)}try{ci(5,e,e.return)}catch(y){Fe(e,e.return,y)}}break;case 1:ss(t,e),js(e),n&512&&s!==null&&zr(s,s.return);break;case 5:if(ss(t,e),js(e),n&512&&s!==null&&zr(s,s.return),e.flags&32){var a=e.stateNode;try{mi(a,"")}catch(y){Fe(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=s!==null?s.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&rx(a,i),Gd(l,o);var d=Gd(l,i);for(o=0;o<c.length;o+=2){var h=c[o],u=c[o+1];h==="style"?cx(a,u):h==="dangerouslySetInnerHTML"?ox(a,u):h==="children"?mi(a,u):gh(a,h,u,d)}switch(l){case"input":Vd(a,i);break;case"textarea":ax(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Hr(a,!!i.multiple,x,!1):f!==!!i.multiple&&(i.defaultValue!=null?Hr(a,!!i.multiple,i.defaultValue,!0):Hr(a,!!i.multiple,i.multiple?[]:"",!1))}a[ji]=i}catch(y){Fe(e,e.return,y)}}break;case 6:if(ss(t,e),js(e),n&4){if(e.stateNode===null)throw Error(B(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){Fe(e,e.return,y)}}break;case 3:if(ss(t,e),js(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{xi(t.containerInfo)}catch(y){Fe(e,e.return,y)}break;case 4:ss(t,e),js(e);break;case 13:ss(t,e),js(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Yh=Me())),n&4&&Vf(e);break;case 22:if(h=s!==null&&s.memoizedState!==null,e.mode&1?(ht=(d=ht)||h,ss(t,e),ht=d):ss(t,e),js(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(X=e,h=e.child;h!==null;){for(u=X=h;X!==null;){switch(f=X,x=f.child,f.tag){case 0:case 11:case 14:case 15:ci(4,f,f.return);break;case 1:zr(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){n=f,s=f.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(y){Fe(n,s,y)}}break;case 5:zr(f,f.return);break;case 22:if(f.memoizedState!==null){Wf(u);continue}}x!==null?(x.return=f,X=x):Wf(u)}h=h.sibling}e:for(h=null,u=e;;){if(u.tag===5){if(h===null){h=u;try{a=u.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=lx("display",o))}catch(y){Fe(e,e.return,y)}}}else if(u.tag===6){if(h===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(y){Fe(e,e.return,y)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:ss(t,e),js(e),n&4&&Vf(e);break;case 21:break;default:ss(t,e),js(e)}}function js(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(I0(s)){var n=s;break e}s=s.return}throw Error(B(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(mi(a,""),n.flags&=-33);var i=zf(e);Su(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=zf(e);Nu(e,l,o);break;default:throw Error(B(161))}}catch(c){Fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NN(e,t,s){X=e,F0(e)}function F0(e,t,s){for(var n=(e.mode&1)!==0;X!==null;){var a=X,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||xo;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ht;l=xo;var d=ht;if(xo=o,(ht=c)&&!d)for(X=a;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?qf(a):c!==null?(c.return=o,X=c):qf(a);for(;i!==null;)X=i,F0(i),i=i.sibling;X=a,xo=l,ht=d}Hf(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,X=i):Hf(e)}}function Hf(e){for(;X!==null;){var t=X;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ht||lc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ht)if(s===null)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:as(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Tf(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Tf(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var u=h.dehydrated;u!==null&&xi(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ht||t.flags&512&&ju(t)}catch(f){Fe(t,t.return,f)}}if(t===e){X=null;break}if(s=t.sibling,s!==null){s.return=t.return,X=s;break}X=t.return}}function Wf(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var s=t.sibling;if(s!==null){s.return=t.return,X=s;break}X=t.return}}function qf(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{lc(4,t)}catch(c){Fe(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Fe(t,a,c)}}var i=t.return;try{ju(t)}catch(c){Fe(t,i,c)}break;case 5:var o=t.return;try{ju(t)}catch(c){Fe(t,o,c)}}}catch(c){Fe(t,t.return,c)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var SN=Math.ceil,Tl=Qs.ReactCurrentDispatcher,Kh=Qs.ReactCurrentOwner,Gt=Qs.ReactCurrentBatchConfig,ye=0,et=null,Ve=null,it=0,Pt=0,Vr=_n(0),Ge=0,Ti=null,nr=0,cc=0,Gh=0,di=null,Nt=null,Yh=0,da=1/0,Fs=null,_l=!1,ku=null,bn=null,vo=!1,mn=null,Al=0,ui=0,Cu=null,Yo=-1,Jo=0;function xt(){return ye&6?Me():Yo!==-1?Yo:Yo=Me()}function wn(e){return e.mode&1?ye&2&&it!==0?it&-it:oN.transition!==null?(Jo===0&&(Jo=wx()),Jo):(e=we,e!==0||(e=window.event,e=e===void 0?16:Tx(e.type)),e):1}function ms(e,t,s,n){if(50<ui)throw ui=0,Cu=null,Error(B(185));zi(e,s,n),(!(ye&2)||e!==et)&&(e===et&&(!(ye&2)&&(cc|=s),Ge===4&&cn(e,it)),Et(e,n),s===1&&ye===0&&!(t.mode&1)&&(da=Me()+500,ac&&An()))}function Et(e,t){var s=e.callbackNode;oj(e,t);var n=ml(e,e===et?it:0);if(n===0)s!==null&&ef(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&ef(s),t===1)e.tag===0?iN(Kf.bind(null,e)):Kx(Kf.bind(null,e)),sN(function(){!(ye&6)&&An()}),s=null;else{switch(jx(n)){case 1:s=wh;break;case 4:s=yx;break;case 16:s=hl;break;case 536870912:s=bx;break;default:s=hl}s=W0(s,L0.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function L0(e,t){if(Yo=-1,Jo=0,ye&6)throw Error(B(327));var s=e.callbackNode;if(Yr()&&e.callbackNode!==s)return null;var n=ml(e,e===et?it:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Pl(e,n);else{t=n;var a=ye;ye|=2;var i=U0();(et!==e||it!==t)&&(Fs=null,da=Me()+500,Qn(e,t));do try{EN();break}catch(l){M0(e,l)}while(!0);Ih(),Tl.current=i,ye=a,Ve!==null?t=0:(et=null,it=0,t=Ge)}if(t!==0){if(t===2&&(a=Zd(e),a!==0&&(n=a,t=Eu(e,a))),t===1)throw s=Ti,Qn(e,0),cn(e,n),Et(e,Me()),s;if(t===6)cn(e,n);else{if(a=e.current.alternate,!(n&30)&&!kN(a)&&(t=Pl(e,n),t===2&&(i=Zd(e),i!==0&&(n=i,t=Eu(e,i))),t===1))throw s=Ti,Qn(e,0),cn(e,n),Et(e,Me()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(B(345));case 2:Mn(e,Nt,Fs);break;case 3:if(cn(e,n),(n&130023424)===n&&(t=Yh+500-Me(),10<t)){if(ml(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){xt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ou(Mn.bind(null,e,Nt,Fs),t);break}Mn(e,Nt,Fs);break;case 4:if(cn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-hs(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Me()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*SN(n/1960))-n,10<n){e.timeoutHandle=ou(Mn.bind(null,e,Nt,Fs),n);break}Mn(e,Nt,Fs);break;case 5:Mn(e,Nt,Fs);break;default:throw Error(B(329))}}}return Et(e,Me()),e.callbackNode===s?L0.bind(null,e):null}function Eu(e,t){var s=di;return e.current.memoizedState.isDehydrated&&(Qn(e,t).flags|=256),e=Pl(e,t),e!==2&&(t=Nt,Nt=s,t!==null&&Tu(t)),e}function Tu(e){Nt===null?Nt=e:Nt.push.apply(Nt,e)}function kN(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],i=a.getSnapshot;a=a.value;try{if(!ps(i(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~Gh,t&=~cc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-hs(t),n=1<<s;e[s]=-1,t&=~n}}function Kf(e){if(ye&6)throw Error(B(327));Yr();var t=ml(e,0);if(!(t&1))return Et(e,Me()),null;var s=Pl(e,t);if(e.tag!==0&&s===2){var n=Zd(e);n!==0&&(t=n,s=Eu(e,n))}if(s===1)throw s=Ti,Qn(e,0),cn(e,t),Et(e,Me()),s;if(s===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mn(e,Nt,Fs),Et(e,Me()),null}function Jh(e,t){var s=ye;ye|=1;try{return e(t)}finally{ye=s,ye===0&&(da=Me()+500,ac&&An())}}function rr(e){mn!==null&&mn.tag===0&&!(ye&6)&&Yr();var t=ye;ye|=1;var s=Gt.transition,n=we;try{if(Gt.transition=null,we=1,e)return e()}finally{we=n,Gt.transition=s,ye=t,!(ye&6)&&An()}}function Qh(){Pt=Vr.current,Ee(Vr)}function Qn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,tN(s)),Ve!==null)for(s=Ve.return;s!==null;){var n=s;switch(Ph(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vl();break;case 3:la(),Ee(kt),Ee(ft),Uh();break;case 5:Mh(n);break;case 4:la();break;case 13:Ee(Re);break;case 19:Ee(Re);break;case 10:Dh(n.type._context);break;case 22:case 23:Qh()}s=s.return}if(et=e,Ve=e=jn(e.current,null),it=Pt=t,Ge=0,Ti=null,Gh=cc=nr=0,Nt=di=null,Wn!==null){for(t=0;t<Wn.length;t++)if(s=Wn[t],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,i=s.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}s.pending=n}Wn=null}return e}function M0(e,t){do{var s=Ve;try{if(Ih(),qo.current=El,Cl){for(var n=Oe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Cl=!1}if(sr=0,Xe=qe=Oe=null,li=!1,ki=0,Kh.current=null,s===null||s.return===null){Ge=1,Ti=t,Ve=null;break}e:{var i=e,o=s.return,l=s,c=t;if(t=it,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,u=h.tag;if(!(h.mode&1)&&(u===0||u===11||u===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=If(o);if(x!==null){x.flags&=-257,Df(x,o,l,i,t),x.mode&1&&Of(i,d,t),t=x,c=d;var b=t.updateQueue;if(b===null){var y=new Set;y.add(c),t.updateQueue=y}else b.add(c);break e}else{if(!(t&1)){Of(i,d,t),Xh();break e}c=Error(B(426))}}else if(_e&&l.mode&1){var w=If(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Df(w,o,l,i,t),Rh(ca(c,l));break e}}i=c=ca(c,l),Ge!==4&&(Ge=2),di===null?di=[i]:di.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=j0(i,c,t);Ef(i,m);break e;case 1:l=c;var v=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(bn===null||!bn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=N0(i,l,t);Ef(i,j);break e}}i=i.return}while(i!==null)}z0(s)}catch(k){t=k,Ve===s&&s!==null&&(Ve=s=s.return);continue}break}while(!0)}function U0(){var e=Tl.current;return Tl.current=El,e===null?El:e}function Xh(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),et===null||!(nr&268435455)&&!(cc&268435455)||cn(et,it)}function Pl(e,t){var s=ye;ye|=2;var n=U0();(et!==e||it!==t)&&(Fs=null,Qn(e,t));do try{CN();break}catch(a){M0(e,a)}while(!0);if(Ih(),ye=s,Tl.current=n,Ve!==null)throw Error(B(261));return et=null,it=0,Ge}function CN(){for(;Ve!==null;)B0(Ve)}function EN(){for(;Ve!==null&&!Xw();)B0(Ve)}function B0(e){var t=H0(e.alternate,e,Pt);e.memoizedProps=e.pendingProps,t===null?z0(e):Ve=t,Kh.current=null}function z0(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=bN(s,t),s!==null){s.flags&=32767,Ve=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,Ve=null;return}}else if(s=yN(s,t,Pt),s!==null){Ve=s;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Ge===0&&(Ge=5)}function Mn(e,t,s){var n=we,a=Gt.transition;try{Gt.transition=null,we=1,TN(e,t,s,n)}finally{Gt.transition=a,we=n}return null}function TN(e,t,s,n){do Yr();while(mn!==null);if(ye&6)throw Error(B(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(lj(e,i),e===et&&(Ve=et=null,it=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vo||(vo=!0,W0(hl,function(){return Yr(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=Gt.transition,Gt.transition=null;var o=we;we=1;var l=ye;ye|=4,Kh.current=null,jN(e,s),$0(s,e),Gj(au),fl=!!ru,au=ru=null,e.current=s,NN(s),Zw(),ye=l,we=o,Gt.transition=i}else e.current=s;if(vo&&(vo=!1,mn=e,Al=a),i=e.pendingLanes,i===0&&(bn=null),sj(s.stateNode),Et(e,Me()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(_l)throw _l=!1,e=ku,ku=null,e;return Al&1&&e.tag!==0&&Yr(),i=e.pendingLanes,i&1?e===Cu?ui++:(ui=0,Cu=e):ui=0,An(),null}function Yr(){if(mn!==null){var e=jx(Al),t=Gt.transition,s=we;try{if(Gt.transition=null,we=16>e?16:e,mn===null)var n=!1;else{if(e=mn,mn=null,Al=0,ye&6)throw Error(B(331));var a=ye;for(ye|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(X=d;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:ci(8,h,i)}var u=h.child;if(u!==null)u.return=h,X=u;else for(;X!==null;){h=X;var f=h.sibling,x=h.return;if(O0(h),h===d){X=null;break}if(f!==null){f.return=x,X=f;break}X=x}}}var b=i.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ci(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,X=m;break e}X=i.return}}var v=e.current;for(X=v;X!==null;){o=X;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,X=g;else e:for(o=v;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lc(9,l)}}catch(k){Fe(l,l.return,k)}if(l===o){X=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,X=j;break e}X=l.return}}if(ye=a,An(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(ec,e)}catch{}n=!0}return n}finally{we=s,Gt.transition=t}}return!1}function Gf(e,t,s){t=ca(s,t),t=j0(e,t,1),e=yn(e,t,1),t=xt(),e!==null&&(zi(e,1,t),Et(e,t))}function Fe(e,t,s){if(e.tag===3)Gf(e,e,s);else for(;t!==null;){if(t.tag===3){Gf(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bn===null||!bn.has(n))){e=ca(s,e),e=N0(t,e,1),t=yn(t,e,1),e=xt(),t!==null&&(zi(t,1,e),Et(t,e));break}}t=t.return}}function _N(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=xt(),e.pingedLanes|=e.suspendedLanes&s,et===e&&(it&s)===s&&(Ge===4||Ge===3&&(it&130023424)===it&&500>Me()-Yh?Qn(e,0):Gh|=s),Et(e,t)}function V0(e,t){t===0&&(e.mode&1?(t=oo,oo<<=1,!(oo&130023424)&&(oo=4194304)):t=1);var s=xt();e=qs(e,t),e!==null&&(zi(e,t,s),Et(e,s))}function AN(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),V0(e,s)}function PN(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(t),V0(e,s)}var H0;H0=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||kt.current)St=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return St=!1,vN(e,t,s);St=!!(e.flags&131072)}else St=!1,_e&&t.flags&1048576&&Gx(t,wl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Go(e,t),e=t.pendingProps;var a=aa(t,ft.current);Gr(t,s),a=zh(null,t,n,e,a,s);var i=Vh();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ct(n)?(i=!0,yl(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Fh(t),a.updater=oc,t.stateNode=a,a._reactInternals=t,fu(t,n,e,s),t=xu(null,t,n,!0,i,s)):(t.tag=0,_e&&i&&Ah(t),gt(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=ON(n),e=as(n,e),a){case 0:t=gu(null,t,n,e,s);break e;case 1:t=Lf(null,t,n,e,s);break e;case 11:t=$f(null,t,n,e,s);break e;case 14:t=Ff(null,t,n,as(n.type,e),s);break e}throw Error(B(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:as(n,a),gu(e,t,n,a,s);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:as(n,a),Lf(e,t,n,a,s);case 3:e:{if(E0(t),e===null)throw Error(B(387));n=t.pendingProps,i=t.memoizedState,a=i.element,e0(e,t),Sl(t,n,null,s);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ca(Error(B(423)),t),t=Mf(e,t,n,s,a);break e}else if(n!==a){a=ca(Error(B(424)),t),t=Mf(e,t,n,s,a);break e}else for(Ot=vn(t.stateNode.containerInfo.firstChild),It=t,_e=!0,cs=null,s=Xx(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ia(),n===a){t=Ks(e,t,s);break e}gt(e,t,n,s)}t=t.child}return t;case 5:return t0(t),e===null&&uu(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,iu(n,a)?o=null:i!==null&&iu(n,i)&&(t.flags|=32),C0(e,t),gt(e,t,o,s),t.child;case 6:return e===null&&uu(t),null;case 13:return T0(e,t,s);case 4:return Lh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=oa(t,null,n,s):gt(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:as(n,a),$f(e,t,n,a,s);case 7:return gt(e,t,t.pendingProps,s),t.child;case 8:return gt(e,t,t.pendingProps.children,s),t.child;case 12:return gt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Ne(jl,n._currentValue),n._currentValue=o,i!==null)if(ps(i.value,o)){if(i.children===a.children&&!kt.current){t=Ks(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=zs(-1,s&-s),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),hu(i.return,s,t),l.lanes|=s;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),hu(o,s,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}gt(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Gr(t,s),a=Yt(a),n=n(a),t.flags|=1,gt(e,t,n,s),t.child;case 14:return n=t.type,a=as(n,t.pendingProps),a=as(n.type,a),Ff(e,t,n,a,s);case 15:return S0(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:as(n,a),Go(e,t),t.tag=1,Ct(n)?(e=!0,yl(t)):e=!1,Gr(t,s),w0(t,n,a),fu(t,n,a,s),xu(null,t,n,!0,e,s);case 19:return _0(e,t,s);case 22:return k0(e,t,s)}throw Error(B(156,t.tag))};function W0(e,t){return vx(e,t)}function RN(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,t,s,n){return new RN(e,t,s,n)}function Zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ON(e){if(typeof e=="function")return Zh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vh)return 11;if(e===yh)return 14}return 2}function jn(e,t){var s=e.alternate;return s===null?(s=Kt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Qo(e,t,s,n,a,i){var o=2;if(n=e,typeof e=="function")Zh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Or:return Xn(s.children,a,i,t);case xh:o=8,a|=8;break;case Ld:return e=Kt(12,s,t,a|2),e.elementType=Ld,e.lanes=i,e;case Md:return e=Kt(13,s,t,a),e.elementType=Md,e.lanes=i,e;case Ud:return e=Kt(19,s,t,a),e.elementType=Ud,e.lanes=i,e;case tx:return dc(s,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zg:o=10;break e;case ex:o=9;break e;case vh:o=11;break e;case yh:o=14;break e;case nn:o=16,n=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=Kt(o,s,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Xn(e,t,s,n){return e=Kt(7,e,n,t),e.lanes=s,e}function dc(e,t,s,n){return e=Kt(22,e,n,t),e.elementType=tx,e.lanes=s,e.stateNode={isHidden:!1},e}function cd(e,t,s){return e=Kt(6,e,null,t),e.lanes=s,e}function dd(e,t,s){return t=Kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function IN(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hc(0),this.expirationTimes=Hc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hc(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function em(e,t,s,n,a,i,o,l,c){return e=new IN(e,t,s,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Kt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fh(i),e}function DN(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function q0(e){if(!e)return Sn;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var s=e.type;if(Ct(s))return qx(e,s,t)}return t}function K0(e,t,s,n,a,i,o,l,c){return e=em(s,n,!0,e,a,i,o,l,c),e.context=q0(null),s=e.current,n=xt(),a=wn(s),i=zs(n,a),i.callback=t??null,yn(s,i,a),e.current.lanes=a,zi(e,a,n),Et(e,n),e}function uc(e,t,s,n){var a=t.current,i=xt(),o=wn(a);return s=q0(s),t.context===null?t.context=s:t.pendingContext=s,t=zs(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=yn(a,t,o),e!==null&&(ms(e,a,o,i),Wo(e,a,o)),o}function Rl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function tm(e,t){Yf(e,t),(e=e.alternate)&&Yf(e,t)}function $N(){return null}var G0=typeof reportError=="function"?reportError:function(e){console.error(e)};function sm(e){this._internalRoot=e}hc.prototype.render=sm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));uc(e,t,null,null)};hc.prototype.unmount=sm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rr(function(){uc(null,e,null,null)}),t[Ws]=null}};function hc(e){this._internalRoot=e}hc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kx();e={blockedOn:null,target:e,priority:t};for(var s=0;s<ln.length&&t!==0&&t<ln[s].priority;s++);ln.splice(s,0,e),s===0&&Ex(e)}};function nm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jf(){}function FN(e,t,s,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Rl(o);i.call(d)}}var o=K0(t,n,e,0,null,!1,!1,"",Jf);return e._reactRootContainer=o,e[Ws]=o.current,bi(e.nodeType===8?e.parentNode:e),rr(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Rl(c);l.call(d)}}var c=em(e,0,!1,null,null,!1,!1,"",Jf);return e._reactRootContainer=c,e[Ws]=c.current,bi(e.nodeType===8?e.parentNode:e),rr(function(){uc(t,c,s,n)}),c}function fc(e,t,s,n,a){var i=s._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Rl(o);l.call(c)}}uc(t,o,e,a)}else o=FN(s,t,e,a,n);return Rl(o)}Nx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Ja(t.pendingLanes);s!==0&&(jh(t,s|1),Et(t,Me()),!(ye&6)&&(da=Me()+500,An()))}break;case 13:rr(function(){var n=qs(e,1);if(n!==null){var a=xt();ms(n,e,1,a)}}),tm(e,1)}};Nh=function(e){if(e.tag===13){var t=qs(e,134217728);if(t!==null){var s=xt();ms(t,e,134217728,s)}tm(e,134217728)}};Sx=function(e){if(e.tag===13){var t=wn(e),s=qs(e,t);if(s!==null){var n=xt();ms(s,e,t,n)}tm(e,t)}};kx=function(){return we};Cx=function(e,t){var s=we;try{return we=e,t()}finally{we=s}};Jd=function(e,t,s){switch(t){case"input":if(Vd(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=rc(n);if(!a)throw Error(B(90));nx(n),Vd(n,a)}}}break;case"textarea":ax(e,s);break;case"select":t=s.value,t!=null&&Hr(e,!!s.multiple,t,!1)}};hx=Jh;mx=rr;var LN={usingClientEntryPoint:!1,Events:[Hi,Fr,rc,dx,ux,Jh]},za={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MN={bundleType:za.bundleType,version:za.version,rendererPackageName:za.rendererPackageName,rendererConfig:za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gx(e),e===null?null:e.stateNode},findFiberByHostInstance:za.findFiberByHostInstance||$N,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yo.isDisabled&&yo.supportsFiber)try{ec=yo.inject(MN),_s=yo}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LN;Lt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nm(t))throw Error(B(200));return DN(e,t,null,s)};Lt.createRoot=function(e,t){if(!nm(e))throw Error(B(299));var s=!1,n="",a=G0;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=em(e,1,!1,null,null,s,!1,n,a),e[Ws]=t.current,bi(e.nodeType===8?e.parentNode:e),new sm(t)};Lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=gx(t),e=e===null?null:e.stateNode,e};Lt.flushSync=function(e){return rr(e)};Lt.hydrate=function(e,t,s){if(!mc(t))throw Error(B(200));return fc(null,e,t,!0,s)};Lt.hydrateRoot=function(e,t,s){if(!nm(e))throw Error(B(405));var n=s!=null&&s.hydratedSources||null,a=!1,i="",o=G0;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=K0(t,null,e,1,s??null,a,!1,i,o),e[Ws]=t.current,bi(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new hc(t)};Lt.render=function(e,t,s){if(!mc(t))throw Error(B(200));return fc(null,e,t,!1,s)};Lt.unmountComponentAtNode=function(e){if(!mc(e))throw Error(B(40));return e._reactRootContainer?(rr(function(){fc(null,null,e,!1,function(){e._reactRootContainer=null,e[Ws]=null})}),!0):!1};Lt.unstable_batchedUpdates=Jh;Lt.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!mc(s))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return fc(e,t,s,!1,n)};Lt.version="18.3.1-next-f1338f8080-20240426";function Y0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y0)}catch(e){console.error(e)}}Y0(),Yg.exports=Lt;var wa=Yg.exports;const J0=Ui(wa);var Qf=wa;$d.createRoot=Qf.createRoot,$d.hydrateRoot=Qf.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xf="popstate";function UN(e={}){function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return _u("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:_i(a)}return zN(t,s,null,e)}function Ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BN(){return Math.random().toString(36).substring(2,10)}function Zf(e,t){return{usr:e.state,key:e.key,idx:t}}function _u(e,t,s=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ja(t):t,state:s,key:t&&t.key||n||BN()}}function _i({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ja(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function zN(e,t,s,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function u(){l="POP";let w=h(),m=w==null?null:w-d;d=w,c&&c({action:l,location:y.location,delta:m})}function f(w,m){l="PUSH";let v=_u(y.location,w,m);d=h()+1;let g=Zf(v,d),j=y.createHref(v);try{o.pushState(g,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(j)}i&&c&&c({action:l,location:y.location,delta:1})}function x(w,m){l="REPLACE";let v=_u(y.location,w,m);d=h();let g=Zf(v,d),j=y.createHref(v);o.replaceState(g,"",j),i&&c&&c({action:l,location:y.location,delta:0})}function b(w){return VN(w)}let y={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Xf,u),c=w,()=>{a.removeEventListener(Xf,u),c=null}},createHref(w){return t(a,w)},createURL:b,encodeLocation(w){let m=b(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:x,go(w){return o.go(w)}};return y}function VN(e,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ae(s,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:_i(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=s+n),new URL(n,s)}function Q0(e,t,s="/"){return HN(e,t,s,!1)}function HN(e,t,s,n){let a=typeof t=="string"?ja(t):t,i=Gs(a.pathname||"/",s);if(i==null)return null;let o=X0(e);WN(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=sS(i);l=eS(o[c],d,n)}return l}function X0(e,t=[],s=[],n="",a=!1){let i=(o,l,c=a,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&c)return;Ae(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let u=Vs([n,h.relativePath]),f=s.concat(h);o.children&&o.children.length>0&&(Ae(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),X0(o.children,t,f,u,c)),!(o.path==null&&!o.index)&&t.push({path:u,score:XN(u,o.index),routesMeta:f})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of Z0(o.path))i(o,l,!0,d)}),t}function Z0(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Z0(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function WN(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:ZN(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}var qN=/^:[\w-]+$/,KN=3,GN=2,YN=1,JN=10,QN=-2,ep=e=>e==="*";function XN(e,t){let s=e.split("/"),n=s.length;return s.some(ep)&&(n+=QN),t&&(n+=GN),s.filter(a=>!ep(a)).reduce((a,i)=>a+(qN.test(i)?KN:i===""?YN:JN),n)}function ZN(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function eS(e,t,s=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",u=Ol({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),f=c.route;if(!u&&d&&s&&!n[n.length-1].route.index&&(u=Ol({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:Vs([i,u.pathname]),pathnameBase:iS(Vs([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=Vs([i,u.pathnameBase]))}return o}function Ol(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=tS(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,{paramName:h,isOptional:u},f)=>{if(h==="*"){let b=l[f]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=l[f];return u&&!x?d[h]=void 0:d[h]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function tS(e,t=!1,s=!0){gs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function sS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Gs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}var nS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function rS(e,t="/"){let{pathname:s,search:n="",hash:a=""}=typeof e=="string"?ja(e):e,i;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?i=tp(s.substring(1),"/"):i=tp(s,t)):i=t,{pathname:i,search:oS(n),hash:lS(a)}}function tp(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function ud(e,t,s,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aS(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function rm(e){let t=aS(e);return t.map((s,n)=>n===t.length-1?s.pathname:s.pathnameBase)}function am(e,t,s,n=!1){let a;typeof e=="string"?a=ja(e):(a={...e},Ae(!a.pathname||!a.pathname.includes("?"),ud("?","pathname","search",a)),Ae(!a.pathname||!a.pathname.includes("#"),ud("#","pathname","hash",a)),Ae(!a.search||!a.search.includes("#"),ud("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=s;else{let u=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),u-=1;a.pathname=f.join("/")}l=u>=0?t[u]:"/"}let c=rS(a,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var Vs=e=>e.join("/").replace(/\/\/+/g,"/"),iS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,cS=class{constructor(e,t,s,n=!1){this.status=e,this.statusText=t||"",this.internal=n,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function dS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function uS(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ev=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tv(e,t){let s=e;if(typeof s!="string"||!nS.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let n=s,a=!1;if(ev)try{let i=new URL(window.location.href),o=s.startsWith("//")?new URL(i.protocol+s):new URL(s),l=Gs(o.pathname,t);o.origin===i.origin&&l!=null?s=l+o.search+o.hash:a=!0}catch{gs(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sv=["POST","PUT","PATCH","DELETE"];new Set(sv);var hS=["GET",...sv];new Set(hS);var Na=p.createContext(null);Na.displayName="DataRouter";var pc=p.createContext(null);pc.displayName="DataRouterState";var mS=p.createContext(!1),nv=p.createContext({isTransitioning:!1});nv.displayName="ViewTransition";var fS=p.createContext(new Map);fS.displayName="Fetchers";var pS=p.createContext(null);pS.displayName="Await";var Ut=p.createContext(null);Ut.displayName="Navigation";var qi=p.createContext(null);qi.displayName="Location";var bs=p.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var im=p.createContext(null);im.displayName="RouteError";var rv="REACT_ROUTER_ERROR",gS="REDIRECT",xS="ROUTE_ERROR_RESPONSE";function vS(e){if(e.startsWith(`${rv}:${gS}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function yS(e){if(e.startsWith(`${rv}:${xS}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new cS(t.status,t.statusText,t.data)}catch{}}function bS(e,{relative:t}={}){Ae(Sa(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=p.useContext(Ut),{hash:a,pathname:i,search:o}=Ki(e,{relative:t}),l=i;return s!=="/"&&(l=i==="/"?s:Vs([s,i])),n.createHref({pathname:l,search:o,hash:a})}function Sa(){return p.useContext(qi)!=null}function Pn(){return Ae(Sa(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(qi).location}var av="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iv(e){p.useContext(Ut).static||p.useLayoutEffect(e)}function Be(){let{isDataRoute:e}=p.useContext(bs);return e?IS():wS()}function wS(){Ae(Sa(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(Na),{basename:t,navigator:s}=p.useContext(Ut),{matches:n}=p.useContext(bs),{pathname:a}=Pn(),i=JSON.stringify(rm(n)),o=p.useRef(!1);return iv(()=>{o.current=!0}),p.useCallback((c,d={})=>{if(gs(o.current,av),!o.current)return;if(typeof c=="number"){s.go(c);return}let h=am(c,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Vs([t,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[t,s,i,a,e])}p.createContext(null);function jS(){let{matches:e}=p.useContext(bs),t=e[e.length-1];return t?t.params:{}}function Ki(e,{relative:t}={}){let{matches:s}=p.useContext(bs),{pathname:n}=Pn(),a=JSON.stringify(rm(s));return p.useMemo(()=>am(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function NS(e,t){return ov(e,t)}function ov(e,t,s,n,a){var v;Ae(Sa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=p.useContext(Ut),{matches:o}=p.useContext(bs),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",u=l&&l.route;{let g=u&&u.path||"";cv(d,!u||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let f=Pn(),x;if(t){let g=typeof t=="string"?ja(t):t;Ae(h==="/"||((v=g.pathname)==null?void 0:v.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${g.pathname}" was given in the \`location\` prop.`),x=g}else x=f;let b=x.pathname||"/",y=b;if(h!=="/"){let g=h.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(g.length).join("/")}let w=Q0(e,{pathname:y});gs(u||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),gs(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=TS(w&&w.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:Vs([h,i.encodeLocation?i.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?h:Vs([h,i.encodeLocation?i.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),o,s,n,a);return t&&m?p.createElement(qi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},m):m}function SS(){let e=OS(),t=dS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:i},"ErrorBoundary")," or"," ",p.createElement("code",{style:i},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),s?p.createElement("pre",{style:a},s):null,o)}var kS=p.createElement(SS,null),lv=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const s=yS(e.digest);s&&(e=s)}let t=e!==void 0?p.createElement(bs.Provider,{value:this.props.routeContext},p.createElement(im.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?p.createElement(CS,{error:e},t):t}};lv.contextType=mS;var hd=new WeakMap;function CS({children:e,error:t}){let{basename:s}=p.useContext(Ut);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=vS(t.digest);if(n){let a=hd.get(t);if(a)throw a;let i=tv(n.location,s);if(ev&&!hd.get(t))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw hd.set(t,o),o}return p.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function ES({routeContext:e,match:t,children:s}){let n=p.useContext(Na);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(bs.Provider,{value:e},s)}function TS(e,t=[],s=null,n=null,a=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,o=s==null?void 0:s.errors;if(o!=null){let h=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);Ae(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(s)for(let h=0;h<i.length;h++){let u=i[h];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=h),u.route.id){let{loaderData:f,errors:x}=s,b=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!x||x[u.route.id]===void 0);if(u.route.lazy||b){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let d=s&&n?(h,u)=>{var f,x;n(h,{location:s.location,params:((x=(f=s.matches)==null?void 0:f[0])==null?void 0:x.params)??{},unstable_pattern:uS(s.matches),errorInfo:u})}:void 0;return i.reduceRight((h,u,f)=>{let x,b=!1,y=null,w=null;s&&(x=o&&u.route.id?o[u.route.id]:void 0,y=u.route.errorElement||kS,l&&(c<0&&f===0?(cv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):c===f&&(b=!0,w=u.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,f+1)),v=()=>{let g;return x?g=y:b?g=w:u.route.Component?g=p.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=h,p.createElement(ES,{match:u,routeContext:{outlet:h,matches:m,isDataRoute:s!=null},children:g})};return s&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?p.createElement(lv,{location:s.location,revalidation:s.revalidation,component:y,error:x,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:d}):v()},null)}function om(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _S(e){let t=p.useContext(Na);return Ae(t,om(e)),t}function AS(e){let t=p.useContext(pc);return Ae(t,om(e)),t}function PS(e){let t=p.useContext(bs);return Ae(t,om(e)),t}function lm(e){let t=PS(e),s=t.matches[t.matches.length-1];return Ae(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function RS(){return lm("useRouteId")}function OS(){var n;let e=p.useContext(im),t=AS("useRouteError"),s=lm("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function IS(){let{router:e}=_S("useNavigate"),t=lm("useNavigate"),s=p.useRef(!1);return iv(()=>{s.current=!0}),p.useCallback(async(a,i={})=>{gs(s.current,av),s.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var sp={};function cv(e,t,s){!t&&!sp[e]&&(sp[e]=!0,gs(!1,s))}p.memo(DS);function DS({routes:e,future:t,state:s,onError:n}){return ov(e,void 0,s,n,t)}function Au({to:e,replace:t,state:s,relative:n}){Ae(Sa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=p.useContext(Ut);gs(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=p.useContext(bs),{pathname:o}=Pn(),l=Be(),c=am(e,rm(i),o,n==="path"),d=JSON.stringify(c);return p.useEffect(()=>{l(JSON.parse(d),{replace:t,state:s,relative:n})},[l,d,n,t,s]),null}function De(e){Ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $S({basename:e="/",children:t=null,location:s,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){Ae(!Sa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[l,a,i,o]);typeof s=="string"&&(s=ja(s));let{pathname:d="/",search:h="",hash:u="",state:f=null,key:x="default"}=s,b=p.useMemo(()=>{let y=Gs(d,l);return y==null?null:{location:{pathname:y,search:h,hash:u,state:f,key:x},navigationType:n}},[l,d,h,u,f,x,n]);return gs(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${u}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:p.createElement(Ut.Provider,{value:c},p.createElement(qi.Provider,{children:t,value:b}))}function FS({children:e,location:t}){return NS(Pu(e),t)}function Pu(e,t=[]){let s=[];return p.Children.forEach(e,(n,a)=>{if(!p.isValidElement(n))return;let i=[...t,a];if(n.type===p.Fragment){s.push.apply(s,Pu(n.props.children,i));return}Ae(n.type===De,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ae(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Pu(n.props.children,i)),s.push(o)}),s}var Xo="get",Zo="application/x-www-form-urlencoded";function gc(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function LS(e){return gc(e)&&e.tagName.toLowerCase()==="button"}function MS(e){return gc(e)&&e.tagName.toLowerCase()==="form"}function US(e){return gc(e)&&e.tagName.toLowerCase()==="input"}function BS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zS(e,t){return e.button===0&&(!t||t==="_self")&&!BS(e)}var bo=null;function VS(){if(bo===null)try{new FormData(document.createElement("form"),0),bo=!1}catch{bo=!0}return bo}var HS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function md(e){return e!=null&&!HS.has(e)?(gs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zo}"`),null):e}function WS(e,t){let s,n,a,i,o;if(MS(e)){let l=e.getAttribute("action");n=l?Gs(l,t):null,s=e.getAttribute("method")||Xo,a=md(e.getAttribute("enctype"))||Zo,i=new FormData(e)}else if(LS(e)||US(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Gs(c,t):null,s=e.getAttribute("formmethod")||l.getAttribute("method")||Xo,a=md(e.getAttribute("formenctype"))||md(l.getAttribute("enctype"))||Zo,i=new FormData(l,e),!VS()){let{name:d,type:h,value:u}=e;if(h==="image"){let f=d?`${d}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else d&&i.append(d,u)}}else{if(gc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Xo,n=null,a=Zo,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:s.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cm(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qS(e,t,s,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&Gs(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function KS(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GS(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function YS(e,t,s){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await KS(i,s);return o.links?o.links():[]}return[]}));return ZS(n.flat(1).filter(GS).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function np(e,t,s,n,a,i){let o=(c,d)=>s[d]?c.route.id!==s[d].route.id:!0,l=(c,d)=>{var h;return s[d].pathname!==c.pathname||((h=s[d].route.path)==null?void 0:h.endsWith("*"))&&s[d].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?t.filter((c,d)=>{var u;let h=n.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((u=s[0])==null?void 0:u.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function JS(e,t,{includeHydrateFallback:s}={}){return QS(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),s&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function QS(e){return[...new Set(e)]}function XS(e){let t={},s=Object.keys(e).sort();for(let n of s)t[n]=e[n];return t}function ZS(e,t){let s=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(XS(a));return s.has(i)||(s.add(i),n.push({key:i,link:a})),n},[])}function dv(){let e=p.useContext(Na);return cm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function e1(){let e=p.useContext(pc);return cm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var dm=p.createContext(void 0);dm.displayName="FrameworkContext";function uv(){let e=p.useContext(dm);return cm(e,"You must render this element inside a <HydratedRouter> element"),e}function t1(e,t){let s=p.useContext(dm),[n,a]=p.useState(!1),[i,o]=p.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:u}=t,f=p.useRef(null);p.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=m=>{m.forEach(v=>{o(v.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return f.current&&w.observe(f.current),()=>{w.disconnect()}}},[e]),p.useEffect(()=>{if(n){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[n]);let x=()=>{a(!0)},b=()=>{a(!1),o(!1)};return s?e!=="intent"?[i,f,{}]:[i,f,{onFocus:Va(l,x),onBlur:Va(c,b),onMouseEnter:Va(d,x),onMouseLeave:Va(h,b),onTouchStart:Va(u,x)}]:[!1,f,{}]}function Va(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function s1({page:e,...t}){let{router:s}=dv(),n=p.useMemo(()=>Q0(s.routes,e,s.basename),[s.routes,e,s.basename]);return n?p.createElement(r1,{page:e,matches:n,...t}):null}function n1(e){let{manifest:t,routeModules:s}=uv(),[n,a]=p.useState([]);return p.useEffect(()=>{let i=!1;return YS(e,t,s).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,s]),n}function r1({page:e,matches:t,...s}){let n=Pn(),{future:a,manifest:i,routeModules:o}=uv(),{basename:l}=dv(),{loaderData:c,matches:d}=e1(),h=p.useMemo(()=>np(e,t,d,i,n,"data"),[e,t,d,i,n]),u=p.useMemo(()=>np(e,t,d,i,n,"assets"),[e,t,d,i,n]),f=p.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,w=!1;if(t.forEach(v=>{var j;let g=i.routes[v.route.id];!g||!g.hasLoader||(!h.some(k=>k.route.id===v.route.id)&&v.route.id in c&&((j=o[v.route.id])!=null&&j.shouldRevalidate)||g.hasClientLoader?w=!0:y.add(v.route.id))}),y.size===0)return[];let m=qS(e,l,a.unstable_trailingSlashAwareDataRequests,"data");return w&&y.size>0&&m.searchParams.set("_routes",t.filter(v=>y.has(v.route.id)).map(v=>v.route.id).join(",")),[m.pathname+m.search]},[l,a.unstable_trailingSlashAwareDataRequests,c,n,i,h,t,e,o]),x=p.useMemo(()=>JS(u,i),[u,i]),b=n1(u);return p.createElement(p.Fragment,null,f.map(y=>p.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...s})),x.map(y=>p.createElement("link",{key:y,rel:"modulepreload",href:y,...s})),b.map(({key:y,link:w})=>p.createElement("link",{key:y,nonce:s.nonce,...w,crossOrigin:w.crossOrigin??s.crossOrigin})))}function a1(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var i1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i1&&(window.__reactRouterVersion="7.13.0")}catch{}function o1({basename:e,children:t,unstable_useTransitions:s,window:n}){let a=p.useRef();a.current==null&&(a.current=UN({window:n,v5Compat:!0}));let i=a.current,[o,l]=p.useState({action:i.action,location:i.location}),c=p.useCallback(d=>{s===!1?l(d):p.startTransition(()=>l(d))},[s]);return p.useLayoutEffect(()=>i.listen(c),[i,c]),p.createElement($S,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:s})}var hv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,um=p.forwardRef(function({onClick:t,discover:s="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:u,unstable_defaultShouldRevalidate:f,...x},b){let{basename:y,unstable_useTransitions:w}=p.useContext(Ut),m=typeof d=="string"&&hv.test(d),v=tv(d,y);d=v.to;let g=bS(d,{relative:a}),[j,k,E]=t1(n,x),N=u1(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:w});function C(R){t&&t(R),R.defaultPrevented||N(R)}let T=p.createElement("a",{...x,...E,href:v.absoluteURL||g,onClick:v.isExternal||i?t:C,ref:a1(b,k),target:c,"data-discover":!m&&s==="render"?"true":void 0});return j&&!m?p.createElement(p.Fragment,null,T,p.createElement(s1,{page:g})):T});um.displayName="Link";var l1=p.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...d},h){let u=Ki(o,{relative:d.relative}),f=Pn(),x=p.useContext(pc),{navigator:b,basename:y}=p.useContext(Ut),w=x!=null&&g1(u)&&l===!0,m=b.encodeLocation?b.encodeLocation(u).pathname:u.pathname,v=f.pathname,g=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(v=v.toLowerCase(),g=g?g.toLowerCase():null,m=m.toLowerCase()),g&&y&&(g=Gs(g,y)||g);const j=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let k=v===m||!a&&v.startsWith(m)&&v.charAt(j)==="/",E=g!=null&&(g===m||!a&&g.startsWith(m)&&g.charAt(m.length)==="/"),N={isActive:k,isPending:E,isTransitioning:w},C=k?t:void 0,T;typeof n=="function"?T=n(N):T=[n,k?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(N):i;return p.createElement(um,{...d,"aria-current":C,className:T,ref:h,style:R,to:o,viewTransition:l},typeof c=="function"?c(N):c)});l1.displayName="NavLink";var c1=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:s,reloadDocument:n,replace:a,state:i,method:o=Xo,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:u,unstable_defaultShouldRevalidate:f,...x},b)=>{let{unstable_useTransitions:y}=p.useContext(Ut),w=f1(),m=p1(l,{relative:d}),v=o.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&hv.test(l),j=k=>{if(c&&c(k),k.defaultPrevented)return;k.preventDefault();let E=k.nativeEvent.submitter,N=(E==null?void 0:E.getAttribute("formmethod"))||o,C=()=>w(E||k.currentTarget,{fetcherKey:t,method:N,navigate:s,replace:a,state:i,relative:d,preventScrollReset:h,viewTransition:u,unstable_defaultShouldRevalidate:f});y&&s!==!1?p.startTransition(()=>C()):C()};return p.createElement("form",{ref:b,method:v,action:m,onSubmit:n?c:j,...x,"data-discover":!g&&e==="render"?"true":void 0})});c1.displayName="Form";function d1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mv(e){let t=p.useContext(Na);return Ae(t,d1(e)),t}function u1(e,{target:t,replace:s,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let d=Be(),h=Pn(),u=Ki(e,{relative:i});return p.useCallback(f=>{if(zS(f,t)){f.preventDefault();let x=s!==void 0?s:_i(h)===_i(u),b=()=>d(e,{replace:x,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l});c?p.startTransition(()=>b()):b()}},[h,d,u,s,n,t,e,a,i,o,l,c])}var h1=0,m1=()=>`__${String(++h1)}__`;function f1(){let{router:e}=mv("useSubmit"),{basename:t}=p.useContext(Ut),s=RS(),n=e.fetch,a=e.navigate;return p.useCallback(async(i,o={})=>{let{action:l,method:c,encType:d,formData:h,body:u}=WS(i,t);if(o.navigate===!1){let f=o.fetcherKey||m1();await n(f,s,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:u,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await a(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:u,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,a,t,s])}function p1(e,{relative:t}={}){let{basename:s}=p.useContext(Ut),n=p.useContext(bs);Ae(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Ki(e||".",{relative:t})},o=Pn();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(u=>u).forEach(u=>l.append("index",u));let h=l.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(i.pathname=i.pathname==="/"?s:Vs([s,i.pathname])),_i(i)}function g1(e,{relative:t}={}){let s=p.useContext(nv);Ae(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=mv("useViewTransitionState"),a=Ki(e,{relative:t});if(!s.isTransitioning)return!1;let i=Gs(s.currentLocation.pathname,n)||s.currentLocation.pathname,o=Gs(s.nextLocation.pathname,n)||s.nextLocation.pathname;return Ol(a.pathname,o)!=null||Ol(a.pathname,i)!=null}var x1=typeof Element<"u",v1=typeof Map=="function",y1=typeof Set=="function",b1=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function el(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var s,n,a;if(Array.isArray(e)){if(s=e.length,s!=t.length)return!1;for(n=s;n--!==0;)if(!el(e[n],t[n]))return!1;return!0}var i;if(v1&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!el(n.value[1],t.get(n.value[0])))return!1;return!0}if(y1&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(b1&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(s=e.length,s!=t.length)return!1;for(n=s;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(x1&&e instanceof Element)return!1;for(n=s;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!el(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var w1=function(t,s){try{return el(t,s)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const j1=Ui(w1);var N1=function(e,t,s,n,a,i,o,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[s,n,a,i,o,l],h=0;c=new Error(t.replace(/%s/g,function(){return d[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},S1=N1;const rp=Ui(S1);var k1=function(t,s,n,a){var i=n?n.call(a,t,s):void 0;if(i!==void 0)return!!i;if(t===s)return!0;if(typeof t!="object"||!t||typeof s!="object"||!s)return!1;var o=Object.keys(t),l=Object.keys(s);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(s),d=0;d<o.length;d++){var h=o[d];if(!c(h))return!1;var u=t[h],f=s[h];if(i=n?n.call(a,u,f,h):void 0,i===!1||i===void 0&&u!==f)return!1}return!0};const C1=Ui(k1);var fv=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(fv||{}),fd={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},ap=Object.values(fv),hm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},E1=Object.entries(hm).reduce((e,[t,s])=>(e[s]=t,e),{}),ds="data-rh",Jr={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Qr=(e,t)=>{for(let s=e.length-1;s>=0;s-=1){const n=e[s];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},T1=e=>{let t=Qr(e,"title");const s=Qr(e,Jr.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),s&&t)return s.replace(/%s/g,()=>t);const n=Qr(e,Jr.DEFAULT_TITLE);return t||n||void 0},_1=e=>Qr(e,Jr.ON_CHANGE_CLIENT_STATE)||(()=>{}),pd=(e,t)=>t.filter(s=>typeof s[e]<"u").map(s=>s[e]).reduce((s,n)=>({...s,...n}),{}),A1=(e,t)=>t.filter(s=>typeof s.base<"u").map(s=>s.base).reverse().reduce((s,n)=>{if(!s.length){const a=Object.keys(n);for(let i=0;i<a.length;i+=1){const l=a[i].toLowerCase();if(e.indexOf(l)!==-1&&n[l])return s.concat(n)}}return s},[]),P1=e=>console&&typeof console.warn=="function"&&console.warn(e),Ha=(e,t,s)=>{const n={};return s.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&P1(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,i)=>{const o={};i.filter(c=>{let d;const h=Object.keys(c);for(let f=0;f<h.length;f+=1){const x=h[f],b=x.toLowerCase();t.indexOf(b)!==-1&&!(d==="rel"&&c[d].toLowerCase()==="canonical")&&!(b==="rel"&&c[b].toLowerCase()==="stylesheet")&&(d=b),t.indexOf(x)!==-1&&(x==="innerHTML"||x==="cssText"||x==="itemprop")&&(d=x)}if(!d||!c[d])return!1;const u=c[d].toLowerCase();return n[d]||(n[d]={}),o[d]||(o[d]={}),n[d][u]?!1:(o[d][u]=!0,!0)}).reverse().forEach(c=>a.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const d=l[c],h={...n[d],...o[d]};n[d]=h}return a},[]).reverse()},R1=(e,t)=>{if(Array.isArray(e)&&e.length){for(let s=0;s<e.length;s+=1)if(e[s][t])return!0}return!1},O1=e=>({baseTag:A1(["href"],e),bodyAttributes:pd("bodyAttributes",e),defer:Qr(e,Jr.DEFER),encode:Qr(e,Jr.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:pd("htmlAttributes",e),linkTags:Ha("link",["rel","href"],e),metaTags:Ha("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Ha("noscript",["innerHTML"],e),onChangeClientState:_1(e),scriptTags:Ha("script",["src","innerHTML"],e),styleTags:Ha("style",["cssText"],e),title:T1(e),titleAttributes:pd("titleAttributes",e),prioritizeSeoTags:R1(e,Jr.PRIORITIZE_SEO_TAGS)}),pv=e=>Array.isArray(e)?e.join(""):e,I1=(e,t)=>{const s=Object.keys(e);for(let n=0;n<s.length;n+=1)if(t[s[n]]&&t[s[n]].includes(e[s[n]]))return!0;return!1},gd=(e,t)=>Array.isArray(e)?e.reduce((s,n)=>(I1(n,t)?s.priority.push(n):s.default.push(n),s),{priority:[],default:[]}):{default:e,priority:[]},ip=(e,t)=>({...e,[t]:void 0}),D1=["noscript","script","style"],Ru=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),gv=e=>Object.keys(e).reduce((t,s)=>{const n=typeof e[s]<"u"?`${s}="${e[s]}"`:`${s}`;return t?`${t} ${n}`:n},""),$1=(e,t,s,n)=>{const a=gv(s),i=pv(t);return a?`<${e} ${ds}="true" ${a}>${Ru(i,n)}</${e}>`:`<${e} ${ds}="true">${Ru(i,n)}</${e}>`},F1=(e,t,s=!0)=>t.reduce((n,a)=>{const i=a,o=Object.keys(i).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,h)=>{const u=typeof i[h]>"u"?h:`${h}="${Ru(i[h],s)}"`;return d?`${d} ${u}`:u},""),l=i.innerHTML||i.cssText||"",c=D1.indexOf(e)===-1;return`${n}<${e} ${ds}="true" ${o}${c?"/>":`>${l}</${e}>`}`},""),xv=(e,t={})=>Object.keys(e).reduce((s,n)=>{const a=hm[n];return s[a||n]=e[n],s},t),L1=(e,t,s)=>{const n={key:t,[ds]:!0},a=xv(s,n);return[F.createElement("title",a,t)]},tl=(e,t)=>t.map((s,n)=>{const a={key:n,[ds]:!0};return Object.keys(s).forEach(i=>{const l=hm[i]||i;if(l==="innerHTML"||l==="cssText"){const c=s.innerHTML||s.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[l]=s[i]}),F.createElement(e,a)}),Vt=(e,t,s=!0)=>{switch(e){case"title":return{toComponent:()=>L1(e,t.title,t.titleAttributes),toString:()=>$1(e,t.title,t.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>xv(t),toString:()=>gv(t)};default:return{toComponent:()=>tl(e,t),toString:()=>F1(e,t,s)}}},M1=({metaTags:e,linkTags:t,scriptTags:s,encode:n})=>{const a=gd(e,fd.meta),i=gd(t,fd.link),o=gd(s,fd.script);return{priorityMethods:{toComponent:()=>[...tl("meta",a.priority),...tl("link",i.priority),...tl("script",o.priority)],toString:()=>`${Vt("meta",a.priority,n)} ${Vt("link",i.priority,n)} ${Vt("script",o.priority,n)}`},metaTags:a.default,linkTags:i.default,scriptTags:o.default}},U1=e=>{const{baseTag:t,bodyAttributes:s,encode:n=!0,htmlAttributes:a,noscriptTags:i,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:d}=e;let{linkTags:h,metaTags:u,scriptTags:f}=e,x={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:x,linkTags:h,metaTags:u,scriptTags:f}=M1(e)),{priority:x,base:Vt("base",t,n),bodyAttributes:Vt("bodyAttributes",s,n),htmlAttributes:Vt("htmlAttributes",a,n),link:Vt("link",h,n),meta:Vt("meta",u,n),noscript:Vt("noscript",i,n),script:Vt("script",f,n),style:Vt("style",o,n),title:Vt("title",{title:l,titleAttributes:c},n)}},Ou=U1,wo=[],vv=!!(typeof window<"u"&&window.document&&window.document.createElement),Iu=class{constructor(e,t){Ds(this,"instances",[]);Ds(this,"canUseDOM",vv);Ds(this,"context");Ds(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?wo:this.instances,add:e=>{(this.canUseDOM?wo:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?wo:this.instances).indexOf(e);(this.canUseDOM?wo:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Ou({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},B1={},yv=F.createContext(B1),Jn,bv=(Jn=class extends p.Component{constructor(s){super(s);Ds(this,"helmetData");this.helmetData=new Iu(this.props.context||{},Jn.canUseDOM)}render(){return F.createElement(yv.Provider,{value:this.helmetData.value},this.props.children)}},Ds(Jn,"canUseDOM",vv),Jn),br=(e,t)=>{const s=document.head||document.querySelector("head"),n=s.querySelectorAll(`${e}[${ds}]`),a=[].slice.call(n),i=[];let o;return t&&t.length&&t.forEach(l=>{const c=document.createElement(e);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d))if(d==="innerHTML")c.innerHTML=l.innerHTML;else if(d==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const h=d,u=typeof l[h]>"u"?"":l[h];c.setAttribute(d,u)}c.setAttribute(ds,"true"),a.some((d,h)=>(o=h,c.isEqualNode(d)))?a.splice(o,1):i.push(c)}),a.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),i.forEach(l=>s.appendChild(l)),{oldTags:a,newTags:i}},Du=(e,t)=>{const s=document.getElementsByTagName(e)[0];if(!s)return;const n=s.getAttribute(ds),a=n?n.split(","):[],i=[...a],o=Object.keys(t);for(const l of o){const c=t[l]||"";s.getAttribute(l)!==c&&s.setAttribute(l,c),a.indexOf(l)===-1&&a.push(l);const d=i.indexOf(l);d!==-1&&i.splice(d,1)}for(let l=i.length-1;l>=0;l-=1)s.removeAttribute(i[l]);a.length===i.length?s.removeAttribute(ds):s.getAttribute(ds)!==o.join(",")&&s.setAttribute(ds,o.join(","))},z1=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=pv(e)),Du("title",t)},op=(e,t)=>{const{baseTag:s,bodyAttributes:n,htmlAttributes:a,linkTags:i,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:d,styleTags:h,title:u,titleAttributes:f}=e;Du("body",n),Du("html",a),z1(u,f);const x={baseTag:br("base",s),linkTags:br("link",i),metaTags:br("meta",o),noscriptTags:br("noscript",l),scriptTags:br("script",d),styleTags:br("style",h)},b={},y={};Object.keys(x).forEach(w=>{const{newTags:m,oldTags:v}=x[w];m.length&&(b[w]=m),v.length&&(y[w]=x[w].oldTags)}),t&&t(),c(e,b,y)},Wa=null,V1=e=>{Wa&&cancelAnimationFrame(Wa),e.defer?Wa=requestAnimationFrame(()=>{op(e,()=>{Wa=null})}):(op(e),Wa=null)},H1=V1,lp=class extends p.Component{constructor(){super(...arguments);Ds(this,"rendered",!1)}shouldComponentUpdate(t){return!C1(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:s}=this.props.context;let n=null;const a=O1(t.get().map(i=>{const o={...i.props};return delete o.context,o}));bv.canUseDOM?H1(a):Ou&&(n=Ou(a)),s(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Dd,Gi=(Dd=class extends p.Component{shouldComponentUpdate(e){return!j1(ip(this.props,"helmetData"),ip(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,s,n){return{...t,[e.type]:[...t[e.type]||[],{...s,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,s,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...s}};case"body":return{...t,bodyAttributes:{...s}};case"html":return{...t,htmlAttributes:{...s}};default:return{...t,[e.type]:{...s}}}}mapArrayTypeChildrenToProps(e,t){let s={...t};return Object.keys(e).forEach(n=>{s={...s,[n]:e[n]}}),s}warnOnInvalidChildren(e,t){return rp(ap.some(s=>e.type===s),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${ap.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),rp(!t||typeof t=="string"||Array.isArray(t)&&!t.some(s=>typeof s!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let s={};return F.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:a,...i}=n.props,o=Object.keys(i).reduce((c,d)=>(c[E1[d]||d]=i[d],c),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,a),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(n,s,o,a);break;default:t=this.mapObjectTypeChildren(n,t,o,a);break}}),this.mapArrayTypeChildrenToProps(s,t)}render(){const{children:e,...t}=this.props;let s={...t},{helmetData:n}=t;if(e&&(s=this.mapChildrenToProps(e,s)),n&&!(n instanceof Iu)){const a=n;n=new Iu(a.context,!0),delete s.helmetData}return n?F.createElement(lp,{...s,context:n.value}):F.createElement(yv.Consumer,null,a=>F.createElement(lp,{...s,context:a}))}},Ds(Dd,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Dd);const wv=p.createContext(void 0),W1={en:{"nav.home":"Home","nav.services":"Services","nav.about":"About","nav.contact":"Contact","nav.login":"Client Portal","header.about":"About","header.services":"Services","header.pricing":"Pricing","header.process":"Process","header.faq":"FAQ","header.schedule":"Schedule","header.contact":"Contact","header.getStarted":"Get Started","header.brandName":"Canadian Tax Pro","header.brandTagline":"Professional Tax Services","hero.badge":"Trusted Canadian Tax Professional","hero.title":"Complete Financial & Tax Solutions for Canadians","hero.subtitle":"Expert services in tax preparation, bookkeeping, and financial reporting for individuals, newcomers, and small businesses across Canada. Your partner in financial compliance and growth.","hero.description":"Expert services in tax preparation, bookkeeping, and financial reporting for individuals, newcomers, and small businesses across Canada. Your partner in financial compliance and growth.","hero.cta":"Get Started Today","hero.ctaPrimary":"Get Started Today","hero.ctaSecondary":"View Services","hero.learn":"Learn More","hero.expertiseLabel":"Expertise in","hero.expertiseValue":"T1 Personal Returns","hero.supportingLabel":"Supporting","hero.supportingValue":"Small Businesses","hero.service1Title":"Personal Tax","hero.service1Desc":"T1 returns for individuals & newcomers","hero.service2Title":"Small Business","hero.service2Desc":"Complete tax solutions for entrepreneurs","hero.service3Title":"Bookkeeping","hero.service3Desc":"Professional accounting services","hero.service4Title":"Financial Reports","hero.service4Desc":"Detailed analysis & insights","about.section":"About Us","about.title":"Your Trusted Partner in Canadian Tax Compliance","about.p1":"As a dedicated Canadian tax professional, I specialize in helping individuals, newcomers, and small business owners navigate the complexities of the Canadian tax system with confidence.","about.p2":"Whether you're filing your first T1 personal tax return in Canada, managing a small business, or seeking guidance on tax compliance, I provide personalized service that puts your needs first. My commitment is to ensure accuracy, maximize your eligible deductions, and keep you fully compliant with CRA requirements.","about.value1Title":"Compliance & Accuracy","about.value1Desc":"Ensuring full compliance with CRA regulations and accurate tax filings every time.","about.value2Title":"Professional Excellence","about.value2Desc":"Years of experience in Canadian tax law and dedication to staying current with regulations.","about.value3Title":"Client-Focused Service","about.value3Desc":"Personalized attention and support tailored to your unique tax situation.","about.craCompliant":"CRA Compliant Services","about.craCompliantDesc":"All services are designed to meet and exceed Canada Revenue Agency standards and requirements.","about.teamSection":"Who We Are","about.teamTitle":"Meet Your Tax Professionals","about.team1Name":"Veronica Prass","about.team1Title":"Founder & Tax Professional","about.team1Bio":"Specialized in personal and small business tax returns with a focus on helping newcomers navigate the Canadian tax system.","about.team2Name":"Germana Azevedo","about.team2Title":"Senior Tax Consultant","about.team2Bio":"Expert in tax compliance and planning with extensive experience serving diverse Canadian clients.","about.viewLinkedIn":"View LinkedIn Profile","services.section":"Services","services.title":"Comprehensive Financial Services for Every Need","services.description":"From personal tax returns to full bookkeeping and financial reporting, we offer complete solutions designed to meet your Canadian financial obligations with accuracy and efficiency.","services.personal":"Personal Tax Returns","services.personal.desc":"Complete tax preparation and filing for individuals and newcomers to Canada","services.business":"Small Business Tax","services.business.desc":"Comprehensive tax solutions for entrepreneurs and small business owners","services.newcomer":"Newcomer Services","services.newcomer.desc":"Specialized support for new immigrants navigating Canadian taxes for the first time","services.main1Title":"Personal Tax","services.main1Desc":"Complete tax preparation and filing services for individuals and newcomers to Canada.","services.main2Title":"Small Business","services.main2Desc":"Comprehensive tax and compliance services for sole proprietors and small business owners.","services.main3Title":"Bookkeeping","services.main3Desc":"Professional bookkeeping and financial record management for your business.","services.main4Title":"Financial Reports & Management","services.main4Desc":"Management reports, financial analysis, and controller services for business insights.","services.personal1Title":"T1 Personal Tax Returns","services.personal1Desc":"Complete preparation and filing of individual income tax returns.","services.personal1Feature1":"Employment income (T4 slips)","services.personal1Feature2":"Investment income and capital gains","services.personal1Feature3":"RRSP contributions and deductions","services.personal1Feature4":"Medical expenses and credits","services.personal2Title":"Newcomer Tax Services","services.personal2Desc":"Specialized support for new immigrants navigating Canadian taxes.","services.personal2Feature1":"First-time tax filer assistance","services.personal2Feature2":"Residency status determination","services.personal2Feature3":"Foreign income reporting","services.personal2Feature4":"Tax treaty benefits","services.personal3Title":"Tax Compliance & Review","services.personal3Desc":"Ensuring your tax filings meet all CRA requirements.","services.personal3Feature1":"Prior year tax review","services.personal3Feature2":"Notice of Assessment review","services.personal3Feature3":"Missing slips and documentation","services.personal3Feature4":"Amendment requests (T1-ADJ)","services.business1Title":"Business Tax Filings","services.business1Desc":"Essential tax services for sole proprietors and small businesses.","services.business1Feature1":"T2125 Statement of Business Activities","services.business1Feature2":"Business expense optimization","services.business1Feature3":"Home office deductions","services.business1Feature4":"Quarterly tax planning","services.business2Title":"GST/HST Returns","services.business2Desc":"Complete GST/HST registration, filing, and compliance services.","services.business2Feature1":"GST/HST registration","services.business2Feature2":"Monthly/quarterly return preparation","services.business2Feature3":"Input tax credit optimization","services.business2Feature4":"GST/HST compliance review","services.business3Title":"Business Planning","services.business3Desc":"Strategic business and tax planning for growth.","services.business3Feature1":"Business structure consultation","services.business3Feature2":"Tax-efficient compensation planning","services.business3Feature3":"Incorporation advice","services.business3Feature4":"Growth strategy tax planning","services.bookkeeping1Title":"Monthly Bookkeeping","services.bookkeeping1Desc":"Professional monthly bookkeeping and reconciliation services.","services.bookkeeping1Feature1":"Bank reconciliation","services.bookkeeping1Feature2":"Accounts payable/receivable","services.bookkeeping1Feature3":"Financial statements preparation","services.bookkeeping1Feature4":"Monthly financial reports","services.bookkeeping2Title":"Expense Tracking","services.bookkeeping2Desc":"Comprehensive expense categorization and tracking.","services.bookkeeping2Feature1":"Receipt management","services.bookkeeping2Feature2":"Expense categorization","services.bookkeeping2Feature3":"Vendor payment tracking","services.bookkeeping2Feature4":"Tax-deductible expense identification","services.bookkeeping3Title":"Financial Records","services.bookkeeping3Desc":"Complete financial record organization and management.","services.bookkeeping3Feature1":"Document organization","services.bookkeeping3Feature2":"Digital record keeping","services.bookkeeping3Feature3":"Audit-ready documentation","services.bookkeeping3Feature4":"Year-end preparation","services.reports1Title":"Management Reports","services.reports1Desc":"Comprehensive management reports for informed decision-making.","services.reports1Feature1":"Profit & Loss statements","services.reports1Feature2":"Cash flow reports","services.reports1Feature3":"Budget vs Actual analysis","services.reports1Feature4":"Custom management dashboards","services.reports2Title":"Financial Analysis","services.reports2Desc":"In-depth financial analysis to drive business performance.","services.reports2Feature1":"Financial ratio analysis","services.reports2Feature2":"Profitability analysis","services.reports2Feature3":"Cost structure analysis","services.reports2Feature4":"Trend and variance analysis","services.reports3Title":"Controller Services","services.reports3Desc":"Strategic controller services for financial oversight and planning.","services.reports3Feature1":"KPI tracking and reporting","services.reports3Feature2":"Performance metrics","services.reports3Feature3":"Financial planning & forecasting","services.reports3Feature4":"Strategic business insights","services.notSureTitle":"Not Sure Which Service You Need?","services.notSureDesc":"Contact us for a free consultation to discuss your specific financial and tax situation.","process.section":"How It Works","process.title":"A Simple, Transparent Process","process.description":"From initial consultation to final filing, every step is designed to be clear, efficient, and stress-free.","process.tabPersonal":"Personal Tax","process.tabBusiness":"Business Services","process.step1Title":"Initial Payment ($50)","process.step1Desc":"Pay a small deposit of $50 CAD to start your tax filing. The remaining balance is due after we complete your return.","process.step1Time":"2 minutes","process.step2Title":"Document Upload","process.step2Desc":"Upload your tax documents (T4s, receipts, slips, etc.) through our secure portal with automatic OCR extraction.","process.step2Time":"15-30 minutes","process.step3Title":"Tax Calculation & Review","process.step3Desc":"We analyze your documents, calculate your refund/owing, and prepare your complete tax return.","process.step3Time":"3-5 business days","process.step4Title":"Final Payment & Approval","process.step4Desc":"Review your completed return, pay the remaining balance, and approve for CRA submission.","process.step4Time":"30 minutes","process.step5Title":"Filed with CRA","process.step5Desc":"Your tax return is electronically filed with the CRA. You'll receive your refund in 2-3 weeks!","process.step5Time":"Same day","process.business1Title":"Free Initial Consultation","process.business1Desc":"Schedule a complimentary consultation to discuss your business needs and scope of work.","process.business1Time":"30-45 minutes","process.business2Title":"Proposal & Scope Review","process.business2Desc":"Receive a detailed proposal with pricing, timeline, and customized service plan.","process.business2Time":"1-2 days","process.business3Title":"Onboarding & Setup","process.business3Desc":"Complete onboarding, documentation, and initial setup of your business accounts.","process.business3Time":"3-5 days","process.business4Title":"Ongoing Service Delivery","process.business4Desc":"Regular service delivery with monthly reports, continuous support, and strategic guidance.","process.business4Time":"Ongoing","process.businessBannerTitle":" First Consultation is FREE!","process.businessBannerDesc":"For Small Business, Bookkeeping, and Financial Reports services, we start with a complimentary consultation to understand your needs and provide a customized proposal.","process.businessBannerButton":"Schedule Free Consultation","process.turnaroundTitle":"Average Turnaround Time: 5-7 Business Days","process.turnaroundDesc":"From document submission to final filing. Rush service available for urgent situations.","process.benefit1":"Free initial consultation","process.benefit2":"Secure document handling","process.benefit3":"Electronic CRA filing","faq.section":"Frequently Asked Questions","faq.title":"Common Questions About Canadian Tax Services","faq.description":"Find answers to the most common questions about tax filing, compliance, and working with a tax professional in Canada.","faq.stillHaveTitle":"Still Have Questions?","faq.stillHaveDesc":"Don't hesitate to reach out. I'm here to help clarify any aspect of your Canadian tax obligations.","faq.contactLink":"Contact me today","contact.section":"Get In Touch","contact.title":"Ready to Get Started?","contact.description":"Contact me today for a free consultation. I'm here to answer your questions and help you navigate your Canadian tax obligations with confidence.","contact.infoTitle":"Contact Information","contact.locationLabel":"Location","contact.hoursLabel":"Hours","contact.locationValue":"Serving clients across Canada","contact.hoursValue":"Mon-Fri: 9am-6pm EST","contact.taxSeasonTitle":"Tax Season Hours","contact.taxSeasonDesc":"During tax season (February - April), extended hours are available including evenings and weekends by appointment.","contact.virtualDesc":"Virtual consultations available for clients across all Canadian provinces and territories.","contact.formTitle":"Send Me a Message","contact.nameLabel":"Full Name","contact.emailLabel":"Email Address","contact.phoneLabel":"Phone Number","contact.whatsappLabel":"WhatsApp","contact.subjectLabel":"Subject","contact.messageLabel":"Message","contact.namePlaceholder":"John Smith","contact.emailPlaceholder":"john@example.com","contact.phonePlaceholder":"(555) 123-4567","contact.subjectPlaceholder":"T1 Personal Tax Return","contact.messagePlaceholder":"Please describe your tax situation and how I can help you...","contact.privacyTitle":"Privacy Notice:","contact.privacyText":"Your information is kept strictly confidential and will only be used to respond to your inquiry.","contact.consentText":"By submitting this form, you agree to be contacted regarding your tax service inquiry.","contact.submitButton":"Send Message","contact.scheduleTitle":"Schedule a Free Consultation","contact.scheduleDesc":"Book a convenient time to discuss your tax and financial needs.","scheduling.section":"Book Appointment","scheduling.title":"Schedule Your Free Consultation","scheduling.description":"Select a date and time that works best for you. I'll confirm your appointment within 24 hours.","scheduling.selectDate":"Select a Date","scheduling.selectTime":"Select a Time","scheduling.noTimesAvailable":"No times available for this date","scheduling.bookingDetails":"Booking Details","scheduling.selectedDate":"Selected Date","scheduling.selectedTime":"Selected Time","scheduling.fullName":"Full Name","scheduling.email":"Email Address","scheduling.phone":"Phone Number","scheduling.serviceType":"Service Type","scheduling.selectService":"Select a service","scheduling.servicePersonal":"T1 Personal Tax Return","scheduling.serviceNewcomer":"Newcomer Tax Services","scheduling.serviceSmallBusiness":"Small Business Filing","scheduling.serviceCompliance":"Tax Compliance & Review","scheduling.servicePlanning":"Tax Planning & Advice","scheduling.serviceRepresentation":"CRA Representation","scheduling.additionalNotes":"Additional Notes (Optional)","scheduling.notesPlaceholder":"Please share any specific questions or concerns...","scheduling.confirmBooking":"Confirm Booking","scheduling.morning":"Morning","scheduling.afternoon":"Afternoon","scheduling.evening":"Evening","scheduling.virtualMeeting":"This will be a virtual consultation via video call.","scheduling.bookingSuccess":"Booking request submitted! You'll receive a confirmation email shortly.","clientPortal.title":"Client Portal","clientPortal.subtitle":"Manage your tax documents securely","clientPortal.login":"Client Login","clientPortal.signup":"Create Account","clientPortal.email":"Email","clientPortal.password":"Password","clientPortal.name":"Full Name","clientPortal.signInButton":"Sign In","clientPortal.signUpButton":"Create Account","clientPortal.alreadyHaveAccount":"Already have an account?","clientPortal.noAccount":"Don't have an account?","clientPortal.signInHere":"Sign in here","clientPortal.signUpHere":"Sign up here","clientPortal.welcomeBack":"Welcome back","clientPortal.logout":"Logout","clientPortal.uploadDocuments":"Upload Documents","clientPortal.myDocuments":"My Documents","clientPortal.noDocuments":"No documents uploaded yet","clientPortal.uploadNew":"Upload New Document","clientPortal.selectCategory":"Select Document Category","clientPortal.description":"Description (optional)","clientPortal.chooseFile":"Choose File","clientPortal.uploadButton":"Upload Document","clientPortal.uploading":"Uploading...","clientPortal.cancel":"Cancel","clientPortal.delete":"Delete","clientPortal.uploadedOn":"Uploaded on","clientPortal.fileSize":"Size","clientPortal.category":"Category","clientPortal.forgotPassword":"Forgot password?","forgotPassword.title":"Reset Password","forgotPassword.subtitle":"Enter your email and we'll send you a link to reset your password","forgotPassword.emailHint":"We'll send a password reset link to this email address","forgotPassword.sendButton":"Send Reset Link","forgotPassword.successTitle":"Check Your Email","forgotPassword.successMessage":"We've sent a password reset link to your email address. Click the link in the email to reset your password.","forgotPassword.checkSpam":"If you don't see the email, check your spam folder.","forgotPassword.backToLogin":"Back to login","resetPassword.title":"Create New Password","resetPassword.subtitle":"Enter your new password below","resetPassword.newPassword":"New Password","resetPassword.confirmPassword":"Confirm Password","resetPassword.passwordHint":"Must be at least 6 characters","resetPassword.updateButton":"Update Password","docCategory.t4":"T4 - Employment Income","docCategory.t4e":"T4E - Employment Insurance","docCategory.t4a":"T4A - Pension, Retirement, Scholarships","docCategory.t5":"T5 - Investment Income","docCategory.t5008":"T5008 - Securities Transactions","docCategory.rl1":"RL-1 - Quebec Employment Income","docCategory.rl2":"RL-2 - Quebec Retirement Income","docCategory.rental":"Rental Income","docCategory.selfEmployed":"Self-Employment / Freelance","docCategory.foreign":"Foreign Income","docCategory.medical":"Medical Expenses","docCategory.education":"Education (T2202/RL-8)","docCategory.homeOffice":"Home Office Expenses (T2200)","docCategory.rrsp":"RRSP Contributions","docCategory.charity":"Charitable Donations","docCategory.childcare":"Childcare Expenses","docCategory.property":"Property Tax","docCategory.other":"Other Documents","messages.title":"Messages","messages.noMessages":"No messages yet","messages.writeMessage":"Write a message...","messages.send":"Send","messages.you":"You","messages.admin":"Tax Advisor","messages.today":"Today","messages.yesterday":"Yesterday","messages.sending":"Sending...","messages.loadMore":"Load more messages","portal.documents":"Documents","portal.payments":"Payments","portal.messages":"Messages","portal.status":"Status","onboarding.title":"Complete Your Profile","onboarding.subtitle":"Let's get your account set up","onboarding.step":"Step","onboarding.of":"of","onboarding.step1Title":"Basic Information","onboarding.step1Desc":"Tell us about yourself","onboarding.step2Title":"Service Type","onboarding.step2Desc":"What service do you need?","onboarding.step3Title":"Tax Return Details","onboarding.step3Desc":"Additional information for your tax return","onboarding.fullName":"Full Name","onboarding.fullNamePlaceholder":"John Doe","onboarding.phone":"Phone Number","onboarding.email":"Email","onboarding.address":"Street Address","onboarding.addressPlaceholder":"123 Main Street","onboarding.city":"City","onboarding.cityPlaceholder":"Toronto","onboarding.province":"Province","onboarding.selectProvince":"Select province","onboarding.postalCode":"Postal Code","onboarding.serviceCategory":"Which service do you need?","onboarding.personal":"Personal Tax","onboarding.personalDesc":"T1 personal tax returns for individuals and newcomers","onboarding.smallBusiness":"Small Business","onboarding.smallBusinessDesc":"Business tax filings, GST/HST returns, and planning","onboarding.bookkeeping":"Bookkeeping","onboarding.bookkeepingDesc":"Monthly bookkeeping, expense tracking, and financial records","onboarding.financialReports":"Financial Reports & Management","onboarding.financialReportsDesc":"Management reports, financial analysis, and controller services","onboarding.personalInfo":"Personal Information","onboarding.dateOfBirth":"Date of Birth","onboarding.sin":"Social Insurance Number (SIN)","onboarding.statusInfo":"Status Information","onboarding.maritalStatus":"Marital Status","onboarding.selectMaritalStatus":"Select status","onboarding.single":"Single","onboarding.married":"Married","onboarding.commonLaw":"Common-law","onboarding.divorced":"Divorced","onboarding.widowed":"Widowed","onboarding.numberOfDependents":"Number of Dependents","onboarding.firstTimeInCanada":"First time filing in Canada?","onboarding.selectYesNo":"Select yes or no","onboarding.yes":"Yes","onboarding.no":"No","onboarding.residencyStatus":"Residency Status","onboarding.selectResidencyStatus":"Select status","onboarding.resident":"Resident","onboarding.nonResident":"Non-resident","onboarding.deemedResident":"Deemed Resident","onboarding.incomeInfo":"Employment & Income","onboarding.incomeType":"Income Type","onboarding.selectIncomeType":"Select type","onboarding.employment":"Employment","onboarding.selfEmployed":"Self-Employed","onboarding.both":"Both","onboarding.other":"Other","onboarding.workProvince":"Work Province","onboarding.back":"Back","onboarding.continue":"Continue","onboarding.complete":"Complete Setup","onboarding.saving":"Saving...","onboarding.saveProgress":"Save Progress & Continue Later","onboarding.fillAllFields":"Please fill in all required fields","onboarding.selectServiceCategory":"Please select a service category","onboarding.profileCompleted":"Profile completed! Welcome to your dashboard.","onboarding.progressSaved":"Progress saved successfully","onboarding.saveFailed":"Failed to save profile","onboardingSuccess.title":"Registration Complete!","onboardingSuccess.subtitle":"Your profile has been successfully set up.","onboardingSuccess.description":"You now have access to your client portal.","onboardingSuccess.nextSteps":"You can now upload documents, track your service progress, and communicate with us directly through your portal.","onboardingSuccess.accessPortal":"Access Client Portal","onboardingSuccess.contact":"Need help? Contact us anytime.","footer.description":"Expert Canadian tax services for individuals, newcomers, and small businesses. Ensuring compliance and maximizing your returns.","footer.quickLinks":"Quick Links","footer.services":"Services","footer.contact":"Contact","footer.service1":"T1 Personal Returns","footer.service2":"Newcomer Services","footer.service3":"Small Business Filing","footer.service4":"Tax Compliance","footer.service5":"CRA Representation","footer.copyright":"Canadian Tax Pro. All rights reserved.","footer.privacy":"Privacy Policy","footer.terms":"Terms of Service","footer.disclaimer":"This website is for informational purposes. Tax advice is provided on a case-by-case basis during consultations. All services comply with Canada Revenue Agency regulations.","admin.panel":"Admin Panel","admin.welcomeBack":"Welcome back","admin.clientPortal":"Client Portal","admin.signOut":"Sign Out","admin.adminHub":"Admin Hub","admin.selectModule":"Select a module below to get started","admin.clientsTitle":"Customer Dashboard","admin.clientsDesc":"Manage all customers, view details, documents, and filing status","admin.bookkeepingTitle":"Bookkeeping Dashboard","admin.bookkeepingDesc":"Track expenses, manage invoices, and handle day-to-day accounting","admin.financialTitle":"Financial Dashboard","admin.financialDesc":"View KPIs, revenue analytics, and comprehensive financial reports","admin.generalDashboardTitle":"General Dashboard","admin.generalDashboardDesc":"Overview of all system operations and quick access to key functions","admin.marketingTitle":"Marketing Dashboard","admin.marketingDesc":"Create professional marketing images and manage campaigns","admin.customerDashboard":"Customer Dashboard","admin.customersTotal":"customers total","admin.customer":"customer","admin.customers":"customers","admin.viewProfile":"View Profile","admin.pending":"Pending","admin.active":"Active","admin.completed":"Completed","admin.searchCustomers":"Search customers...","admin.filterAll":"All","admin.filterPersonal":"Personal Tax","admin.filterBusiness":"Small Business","admin.filterBookkeeping":"Bookkeeping","admin.filterReports":"Financial Reports","admin.noCustomers":"No customers found","admin.backToHub":"Back to Hub","taxFiling.overview":"Overview","taxFiling.documents":"Documents","taxFiling.messages":"Messages","taxFiling.taxYear":"Tax Year","taxFiling.filingType":"Filing Type","taxFiling.status":"Status","taxFiling.created":"Created","taxFiling.lastUpdated":"Last Updated","taxFiling.statusPending":"Pending Payment","taxFiling.statusDocuments":"Documents Upload","taxFiling.statusReview":"Under Review","taxFiling.statusReady":"Ready for Payment","taxFiling.statusCompleted":"Completed","taxFiling.paymentTimeline":"Payment Timeline","taxFiling.step1":"Initial Payment","taxFiling.step1Desc":"Pay $50 CAD deposit to start","taxFiling.step2":"Upload Documents","taxFiling.step2Desc":"Upload your tax documents","taxFiling.step3":"We Prepare","taxFiling.step3Desc":"We calculate and prepare your return","taxFiling.step4":"Final Payment","taxFiling.step4Desc":"Pay remaining balance","taxFiling.step5":"Filed","taxFiling.step5Desc":"Submitted to CRA","taxFiling.payInitial":"Pay $50 Initial Deposit","taxFiling.uploadDocuments":"Upload Documents","taxFiling.viewReport":"View Tax Report","taxFiling.payFinal":"Pay Final Balance","taxFiling.downloadReceipt":"Download Receipt","taxFiling.initialPaymentPaid":"Initial Payment Paid","taxFiling.finalPaymentPaid":"Final Payment Paid","taxFiling.paidOn":"Paid on","taxFiling.amount":"Amount","taxFiling.refundAmount":"Estimated Refund","taxFiling.owingAmount":"Amount Owing to CRA","taxFiling.finalPrice":"Final Service Price","taxFiling.backToDashboard":"Back to Dashboard"},fr:{"nav.home":"Accueil","nav.services":"Services","nav.about":" propos","nav.contact":"Contact","nav.login":"Portail Client","header.about":" propos","header.services":"Services","header.pricing":"Tarifs","header.process":"Processus","header.faq":"FAQ","header.schedule":"Programme","header.contact":"Contact","header.getStarted":"Commencer","header.brandName":"Fiscaliste Canadien","header.brandTagline":"Services Fiscaux Professionnels","hero.badge":"Fiscaliste Canadien de Confiance","hero.title":"Solutions Financires et Fiscales Compltes pour les Canadiens","hero.subtitle":"Services experts en prparation fiscale, comptabilit et rapports financiers pour particuliers, nouveaux arrivants et petites entreprises partout au Canada. Votre partenaire en conformit financire et croissance.","hero.description":"Services experts en prparation fiscale, comptabilit et rapports financiers pour particuliers, nouveaux arrivants et petites entreprises partout au Canada. Votre partenaire en conformit financire et croissance.","hero.cta":"Commencer Aujourd'hui","hero.ctaPrimary":"Commencer Aujourd'hui","hero.ctaSecondary":"Voir les Services","hero.learn":"En Savoir Plus","hero.expertiseLabel":"Expertise en","hero.expertiseValue":"Dclarations T1 Personnelles","hero.supportingLabel":"Soutien aux","hero.supportingValue":"Petites Entreprises","hero.service1Title":"Impt Personnel","hero.service1Desc":"Dclarations T1 pour particuliers et nouveaux arrivants","hero.service2Title":"Petite Entreprise","hero.service2Desc":"Solutions fiscales compltes pour entrepreneurs","hero.service3Title":"Comptabilit","hero.service3Desc":"Services comptables professionnels","hero.service4Title":"Rapports Financiers","hero.service4Desc":"Analyse et perspectives dtailles","about.section":" Propos","about.title":"Votre Partenaire de Confiance en Conformit Fiscale Canadienne","about.p1":"En tant que fiscaliste canadien dvou, je me spcialise dans l'aide aux particuliers, nouveaux arrivants et propritaires de petites entreprises pour naviguer les complexits du systme fiscal canadien avec confiance.","about.p2":"Que vous produisiez votre premire dclaration T1 au Canada, que vous griez une petite entreprise ou que vous cherchiez des conseils sur la conformit fiscale, je fournis un service personnalis qui place vos besoins en premier. Mon engagement est d'assurer l'exactitude, de maximiser vos dductions admissibles et de vous maintenir en pleine conformit avec les exigences de l'ARC.","about.value1Title":"Conformit et Prcision","about.value1Desc":"Assurer la pleine conformit aux rglementations de l'ARC et des dclarations fiscales exactes  chaque fois.","about.value2Title":"Excellence Professionnelle","about.value2Desc":"Des annes d'exprience en droit fiscal canadien et un engagement  rester  jour avec les rglementations.","about.value3Title":"Service Centr sur le Client","about.value3Desc":"Attention personnalise et soutien adapt  votre situation fiscale unique.","about.craCompliant":"Services Conformes  l'ARC","about.craCompliantDesc":"Tous les services sont conus pour respecter et dpasser les normes et exigences de l'Agence du revenu du Canada.","about.teamSection":"Qui Sommes-Nous","about.teamTitle":"Rencontrez Vos Fiscalistes","about.team1Name":"Veronica Prass","about.team1Title":"Fondatrice et Fiscaliste","about.team1Bio":"Spcialise dans les dclarations fiscales personnelles et de petites entreprises, avec un accent sur l'aide aux nouveaux arrivants pour naviguer le systme fiscal canadien.","about.team2Name":"Germana Azevedo","about.team2Title":"Consultante Fiscale Senior","about.team2Bio":"Experte en conformit et planification fiscale avec une vaste exprience au service de clients canadiens diversifis.","about.viewLinkedIn":"Voir le Profil LinkedIn","services.section":"Services","services.title":"Services Financiers Complets pour Tous les Besoins","services.description":"Des dclarations fiscales personnelles  la comptabilit complte et aux rapports financiers, nous offrons des solutions compltes conues pour rpondre  vos obligations financires canadiennes avec prcision et efficacit.","services.personal":"Dclarations d'Impt Personnel","services.personal.desc":"Prparation et production compltes de dclarations fiscales pour particuliers et nouveaux arrivants au Canada","services.business":"Impt des Petites Entreprises","services.business.desc":"Solutions fiscales compltes pour entrepreneurs et propritaires de petites entreprises","services.newcomer":"Services pour Nouveaux Arrivants","services.newcomer.desc":"Soutien spcialis pour les nouveaux immigrants qui naviguent le systme fiscal canadien pour la premire fois","services.main1Title":"Impt Personnel","services.main1Desc":"Services complets de prparation et de production de dclarations fiscales pour particuliers et nouveaux arrivants au Canada.","services.main2Title":"Petite Entreprise","services.main2Desc":"Services fiscaux et de conformit complets pour travailleurs autonomes et propritaires de petites entreprises.","services.main3Title":"Comptabilit","services.main3Desc":"Comptabilit professionnelle et gestion des dossiers financiers pour votre entreprise.","services.main4Title":"Rapports Financiers et Gestion","services.main4Desc":"Rapports de gestion, analyse financire et services de contrleur pour des perspectives commerciales.","services.personal1Title":"Dclarations T1 d'Impt Personnel","services.personal1Desc":"Prparation et production compltes de dclarations de revenus des particuliers.","services.personal1Feature1":"Revenu d'emploi (feuillets T4)","services.personal1Feature2":"Revenu de placements et gains en capital","services.personal1Feature3":"Cotisations REER et dductions","services.personal1Feature4":"Frais mdicaux et crdits","services.personal2Title":"Services Fiscaux pour Nouveaux Arrivants","services.personal2Desc":"Soutien spcialis pour les nouveaux immigrants qui naviguent les impts canadiens.","services.personal2Feature1":"Aide pour les premiers dclarants","services.personal2Feature2":"Dtermination du statut de rsidence","services.personal2Feature3":"Dclaration de revenus trangers","services.personal2Feature4":"Avantages des conventions fiscales","services.personal3Title":"Conformit et Rvision Fiscale","services.personal3Desc":"S'assurer que vos dclarations fiscales rpondent  toutes les exigences de l'ARC.","services.personal3Feature1":"Rvision des annes antrieures","services.personal3Feature2":"Rvision de l'avis de cotisation","services.personal3Feature3":"Feuillets et documentation manquants","services.personal3Feature4":"Demandes de modification (T1-ADJ)","services.business1Title":"Dclarations Fiscales d'Entreprise","services.business1Desc":"Services fiscaux essentiels pour travailleurs autonomes et petites entreprises.","services.business1Feature1":"T2125 tat des activits d'une entreprise","services.business1Feature2":"Optimisation des dpenses d'entreprise","services.business1Feature3":"Dductions pour bureau  domicile","services.business1Feature4":"Planification fiscale trimestrielle","services.business2Title":"Dclarations TPS/TVH","services.business2Desc":"Services complets d'inscription, de production et de conformit TPS/TVH.","services.business2Feature1":"Inscription TPS/TVH","services.business2Feature2":"Prparation de dclarations mensuelles/trimestrielles","services.business2Feature3":"Optimisation des crdits de taxe sur intrants","services.business2Feature4":"Rvision de conformit TPS/TVH","services.business3Title":"Planification d'Entreprise","services.business3Desc":"Planification stratgique d'entreprise et fiscale pour la croissance.","services.business3Feature1":"Consultation sur la structure d'entreprise","services.business3Feature2":"Planification de rmunration fiscalement avantageuse","services.business3Feature3":"Conseils sur l'incorporation","services.business3Feature4":"Planification fiscale de stratgie de croissance","services.bookkeeping1Title":"Comptabilit Mensuelle","services.bookkeeping1Desc":"Services professionnels de comptabilit et de rapprochement mensuels.","services.bookkeeping1Feature1":"Rapprochement bancaire","services.bookkeeping1Feature2":"Comptes crditeurs/dbiteurs","services.bookkeeping1Feature3":"Prparation d'tats financiers","services.bookkeeping1Feature4":"Rapports financiers mensuels","services.bookkeeping2Title":"Suivi des Dpenses","services.bookkeeping2Desc":"Catgorisation et suivi complets des dpenses.","services.bookkeeping2Feature1":"Gestion des reus","services.bookkeeping2Feature2":"Catgorisation des dpenses","services.bookkeeping2Feature3":"Suivi des paiements aux fournisseurs","services.bookkeeping2Feature4":"Identification des dpenses dductibles d'impt","services.bookkeeping3Title":"Dossiers Financiers","services.bookkeeping3Desc":"Organisation et gestion compltes des dossiers financiers.","services.bookkeeping3Feature1":"Organisation de documents","services.bookkeeping3Feature2":"Tenue de dossiers numriques","services.bookkeeping3Feature3":"Documentation prte pour audit","services.bookkeeping3Feature4":"Prparation de fin d'anne","services.reports1Title":"Rapports de Gestion","services.reports1Desc":"Rapports de gestion complets pour une prise de dcision claire.","services.reports1Feature1":"tats des profits et pertes","services.reports1Feature2":"Rapports de flux de trsorerie","services.reports1Feature3":"Analyse budget vs rel","services.reports1Feature4":"Tableaux de bord de gestion personnaliss","services.reports2Title":"Analyse Financire","services.reports2Desc":"Analyse financire approfondie pour stimuler la performance de l'entreprise.","services.reports2Feature1":"Analyse des ratios financiers","services.reports2Feature2":"Analyse de rentabilit","services.reports2Feature3":"Analyse de structure de cots","services.reports2Feature4":"Analyse des tendances et carts","services.reports3Title":"Services de Contrleur","services.reports3Desc":"Services stratgiques de contrleur pour la surveillance et la planification financires.","services.reports3Feature1":"Suivi et rapports des KPI","services.reports3Feature2":"Mtriques de performance","services.reports3Feature3":"Planification et prvisions financires","services.reports3Feature4":"Perspectives commerciales stratgiques","services.notSureTitle":"Pas Sr du Service Dont Vous Avez Besoin?","services.notSureDesc":"Contactez-nous pour une consultation gratuite afin de discuter de votre situation financire et fiscale spcifique.","process.section":"Comment a Marche","process.title":"Un Processus Simple et Transparent","process.description":"De la consultation initiale au dpt final, chaque tape est conue pour tre claire, efficace et sans stress.","process.tabPersonal":"Impt Personnel","process.tabBusiness":"Services Entreprise","process.step1Title":"Paiement Initial (50$)","process.step1Desc":"Payez un petit dpt de 50$ CAD pour commencer votre dclaration. Le solde restant est d aprs avoir termin.","process.step1Time":"2 minutes","process.step2Title":"Tlchargement de Documents","process.step2Desc":"Tlchargez vos documents fiscaux (T4, reus, feuillets, etc.) via notre portail scuris avec extraction OCR automatique.","process.step2Time":"15-30 minutes","process.step3Title":"Calcul et Rvision Fiscale","process.step3Desc":"Nous analysons vos documents, calculons votre remboursement/montant d et prparons votre dclaration complte.","process.step3Time":"3-5 jours ouvrables","process.step4Title":"Paiement Final et Approbation","process.step4Desc":"Rvisez votre dclaration termine, payez le solde restant et approuvez pour soumission  l'ARC.","process.step4Time":"30 minutes","process.step5Title":"Dpos  l'ARC","process.step5Desc":"Votre dclaration est dpose lectroniquement  l'ARC. Vous recevrez votre remboursement dans 2-3 semaines!","process.step5Time":"Jour mme","process.business1Title":"Consultation Initiale Gratuite","process.business1Desc":"Planifiez une consultation gratuite pour discuter de vos besoins d'entreprise et de la porte des travaux.","process.business1Time":"30-45 minutes","process.business2Title":"Proposition et Rvision de la Porte","process.business2Desc":"Recevez une proposition dtaille avec tarification, calendrier et plan de service personnalis.","process.business2Time":"1-2 jours","process.business3Title":"Intgration et Configuration","process.business3Desc":"Compltez l'intgration, la documentation et la configuration initiale de vos comptes d'entreprise.","process.business3Time":"3-5 jours","process.business4Title":"Prestation de Services Continue","process.business4Desc":"Prestation rgulire de services avec rapports mensuels, soutien continu et conseils stratgiques.","process.business4Time":"Continu","process.businessBannerTitle":" Premire Consultation GRATUITE!","process.businessBannerDesc":"Pour les services de Petites Entreprises, Comptabilit et Rapports Financiers, nous commenons par une consultation gratuite pour comprendre vos besoins et fournir une proposition personnalise.","process.businessBannerButton":"Planifier une Consultation Gratuite","process.turnaroundTitle":"Temps de Traitement Moyen: 5-7 Jours Ouvrables","process.turnaroundDesc":"De la soumission des documents au dpt final. Service acclr disponible pour les situations urgentes.","process.benefit1":"Consultation initiale gratuite","process.benefit2":"Traitement scuris des documents","process.benefit3":"Dpt lectronique  l'ARC","faq.section":"Questions Frquemment Poses","faq.title":"Questions Courantes sur les Services Fiscaux Canadiens","faq.description":"Trouvez des rponses aux questions les plus courantes sur la dclaration fiscale, la conformit et le travail avec un fiscaliste au Canada.","faq.stillHaveTitle":"Vous Avez Encore des Questions?","faq.stillHaveDesc":"N'hsitez pas  nous contacter. Je suis l pour clarifier tout aspect de vos obligations fiscales canadiennes.","faq.contactLink":"Contactez-moi aujourd'hui","contact.section":"Contactez-Nous","contact.title":"Prt  Commencer?","contact.description":"Contactez-moi aujourd'hui pour une consultation gratuite. Je suis l pour rpondre  vos questions et vous aider  naviguer vos obligations fiscales canadiennes en toute confiance.","contact.infoTitle":"Informations de Contact","contact.locationLabel":"Emplacement","contact.hoursLabel":"Heures","contact.locationValue":"Service aux clients partout au Canada","contact.hoursValue":"Lun-Ven: 9h-18h HNE","contact.taxSeasonTitle":"Heures de la Saison des Impts","contact.taxSeasonDesc":"Pendant la saison des impts (fvrier - avril), des heures prolonges sont disponibles, y compris les soirs et week-ends sur rendez-vous.","contact.virtualDesc":"Consultations virtuelles disponibles pour les clients de toutes les provinces et territoires canadiens.","contact.formTitle":"Envoyez-Moi un Message","contact.nameLabel":"Nom Complet","contact.emailLabel":"Adresse Email","contact.phoneLabel":"Numro de Tlphone","contact.whatsappLabel":"WhatsApp","contact.subjectLabel":"Sujet","contact.messageLabel":"Message","contact.namePlaceholder":"Jean Dupont","contact.emailPlaceholder":"jean@exemple.com","contact.phonePlaceholder":"(555) 123-4567","contact.subjectPlaceholder":"Dclaration T1 d'Impt Personnel","contact.messagePlaceholder":"Veuillez dcrire votre situation fiscale et comment je peux vous aider...","contact.privacyTitle":"Avis de Confidentialit:","contact.privacyText":"Vos informations sont gardes strictement confidentielles et ne seront utilises que pour rpondre  votre demande.","contact.consentText":"En soumettant ce formulaire, vous acceptez d'tre contact concernant votre demande de service fiscal.","contact.submitButton":"Envoyer le Message","contact.scheduleTitle":"Planifier une Consultation Gratuite","contact.scheduleDesc":"Rservez un moment convenable pour discuter de vos besoins fiscaux et financiers.","scheduling.section":"Prendre Rendez-Vous","scheduling.title":"Planifiez Votre Consultation Gratuite","scheduling.description":"Slectionnez une date et une heure qui vous conviennent le mieux. Je confirmerai votre rendez-vous dans les 24 heures.","scheduling.selectDate":"Slectionner une Date","scheduling.selectTime":"Slectionner une Heure","scheduling.noTimesAvailable":"Aucune heure disponible pour cette date","scheduling.bookingDetails":"Dtails de la Rservation","scheduling.selectedDate":"Date Slectionne","scheduling.selectedTime":"Heure Slectionne","scheduling.fullName":"Nom Complet","scheduling.email":"Adresse Email","scheduling.phone":"Numro de Tlphone","scheduling.serviceType":"Type de Service","scheduling.selectService":"Slectionner un service","scheduling.servicePersonal":"Dclaration T1 d'Impt Personnel","scheduling.serviceNewcomer":"Services Fiscaux pour Nouveaux Arrivants","scheduling.serviceSmallBusiness":"Dclaration de Petite Entreprise","scheduling.serviceCompliance":"Conformit et Rvision Fiscale","scheduling.servicePlanning":"Planification et Conseils Fiscaux","scheduling.serviceRepresentation":"Reprsentation Auprs de l'ARC","scheduling.additionalNotes":"Notes Supplmentaires (Optionnel)","scheduling.notesPlaceholder":"Veuillez partager toute question ou proccupation spcifique...","scheduling.confirmBooking":"Confirmer la Rservation","scheduling.morning":"Matin","scheduling.afternoon":"Aprs-midi","scheduling.evening":"Soir","scheduling.virtualMeeting":"Ce sera une consultation virtuelle par appel vido.","scheduling.bookingSuccess":"Demande de rservation soumise! Vous recevrez un email de confirmation sous peu.","clientPortal.title":"Portail Client","clientPortal.subtitle":"Grez vos documents fiscaux en toute scurit","clientPortal.login":"Connexion Client","clientPortal.signup":"Crer un Compte","clientPortal.email":"Email","clientPortal.password":"Mot de Passe","clientPortal.name":"Nom Complet","clientPortal.signInButton":"Se Connecter","clientPortal.signUpButton":"Crer un Compte","clientPortal.alreadyHaveAccount":"Vous avez dj un compte?","clientPortal.noAccount":"Vous n'avez pas de compte?","clientPortal.signInHere":"Connectez-vous ici","clientPortal.signUpHere":"Inscrivez-vous ici","clientPortal.welcomeBack":"Bon retour","clientPortal.logout":"Dconnexion","clientPortal.uploadDocuments":"Tlcharger des Documents","clientPortal.myDocuments":"Mes Documents","clientPortal.noDocuments":"Aucun document tlcharg pour le moment","clientPortal.uploadNew":"Tlcharger un Nouveau Document","clientPortal.selectCategory":"Slectionner la Catgorie de Document","clientPortal.description":"Description (optionnel)","clientPortal.chooseFile":"Choisir un Fichier","clientPortal.uploadButton":"Tlcharger le Document","clientPortal.uploading":"Tlchargement...","clientPortal.cancel":"Annuler","clientPortal.delete":"Supprimer","clientPortal.uploadedOn":"Tlcharg le","clientPortal.fileSize":"Taille","clientPortal.category":"Catgorie","clientPortal.forgotPassword":"Mot de passe oubli?","forgotPassword.title":"Rinitialiser le Mot de Passe","forgotPassword.subtitle":"Entrez votre email et nous vous enverrons un lien pour rinitialiser votre mot de passe","forgotPassword.emailHint":"Nous enverrons un lien de rinitialisation  cette adresse email","forgotPassword.sendButton":"Envoyer le Lien de Rinitialisation","forgotPassword.successTitle":"Vrifiez Votre Email","forgotPassword.successMessage":"Nous avons envoy un lien de rinitialisation  votre adresse email. Cliquez sur le lien dans l'email pour rinitialiser votre mot de passe.","forgotPassword.checkSpam":"Si vous ne voyez pas l'email, vrifiez votre dossier spam.","forgotPassword.backToLogin":"Retour  la connexion","resetPassword.title":"Crer un Nouveau Mot de Passe","resetPassword.subtitle":"Entrez votre nouveau mot de passe ci-dessous","resetPassword.newPassword":"Nouveau Mot de Passe","resetPassword.confirmPassword":"Confirmer le Mot de Passe","resetPassword.passwordHint":"Doit comporter au moins 6 caractres","resetPassword.updateButton":"Mettre  Jour le Mot de Passe","docCategory.t4":"T4 - Revenu d'Emploi","docCategory.t4e":"T4E - Assurance-Emploi","docCategory.t4a":"T4A - Pension, Retraite, Bourses","docCategory.t5":"T5 - Revenu de Placements","docCategory.t5008":"T5008 - Transactions de Titres","docCategory.rl1":"RL-1 - Revenu d'Emploi Qubec","docCategory.rl2":"RL-2 - Revenu de Retraite Qubec","docCategory.rental":"Revenu de Location","docCategory.selfEmployed":"Travail Autonome / Freelance","docCategory.foreign":"Revenu tranger","docCategory.medical":"Frais Mdicaux","docCategory.education":"ducation (T2202/RL-8)","docCategory.homeOffice":"Frais de Bureau  Domicile (T2200)","docCategory.rrsp":"Cotisations REER","docCategory.charity":"Dons de Charit","docCategory.childcare":"Frais de Garde d'Enfants","docCategory.property":"Taxe Foncire","docCategory.other":"Autres Documents","messages.title":"Messages","messages.noMessages":"Aucun message pour le moment","messages.writeMessage":"crire un message...","messages.send":"Envoyer","messages.you":"Vous","messages.admin":"Conseiller Fiscal","messages.today":"Aujourd'hui","messages.yesterday":"Hier","messages.sending":"Envoi...","messages.loadMore":"Charger plus de messages","portal.documents":"Documents","portal.payments":"Paiements","portal.messages":"Messages","portal.status":"Statut","onboarding.title":"Compltez Votre Profil","onboarding.subtitle":"Configurons votre compte","onboarding.step":"tape","onboarding.of":"de","onboarding.step1Title":"Informations de Base","onboarding.step1Desc":"Parlez-nous de vous","onboarding.step2Title":"Type de Service","onboarding.step2Desc":"De quel service avez-vous besoin?","onboarding.step3Title":"Dtails de la Dclaration Fiscale","onboarding.step3Desc":"Informations supplmentaires pour votre dclaration fiscale","onboarding.fullName":"Nom Complet","onboarding.fullNamePlaceholder":"Jean Dupont","onboarding.phone":"Numro de Tlphone","onboarding.email":"Email","onboarding.address":"Adresse","onboarding.addressPlaceholder":"123 Rue Principale","onboarding.city":"Ville","onboarding.cityPlaceholder":"Toronto","onboarding.province":"Province","onboarding.selectProvince":"Slectionner la province","onboarding.postalCode":"Code Postal","onboarding.serviceCategory":"De quel service avez-vous besoin?","onboarding.personal":"Impt Personnel","onboarding.personalDesc":"Dclarations T1 d'impt personnel pour particuliers et nouveaux arrivants","onboarding.smallBusiness":"Petite Entreprise","onboarding.smallBusinessDesc":"Dclarations fiscales d'entreprise, dclarations TPS/TVH et planification","onboarding.bookkeeping":"Comptabilit","onboarding.bookkeepingDesc":"Comptabilit mensuelle, suivi des dpenses et dossiers financiers","onboarding.financialReports":"Rapports Financiers et Gestion","onboarding.financialReportsDesc":"Rapports de gestion, analyse financire et services de contrleur","onboarding.personalInfo":"Informations Personnelles","onboarding.dateOfBirth":"Date de Naissance","onboarding.sin":"Numro d'Assurance Sociale (NAS)","onboarding.statusInfo":"Informations de Statut","onboarding.maritalStatus":"tat Civil","onboarding.selectMaritalStatus":"Slectionner le statut","onboarding.single":"Clibataire","onboarding.married":"Mari(e)","onboarding.commonLaw":"Union de Fait","onboarding.divorced":"Divorc(e)","onboarding.widowed":"Veuf/Veuve","onboarding.numberOfDependents":"Nombre de Personnes  Charge","onboarding.firstTimeInCanada":"Premire dclaration au Canada?","onboarding.selectYesNo":"Slectionner oui ou non","onboarding.yes":"Oui","onboarding.no":"Non","onboarding.residencyStatus":"Statut de Rsidence","onboarding.selectResidencyStatus":"Slectionner le statut","onboarding.resident":"Rsident","onboarding.nonResident":"Non-rsident","onboarding.deemedResident":"Rsident Rput","onboarding.incomeInfo":"Emploi et Revenu","onboarding.incomeType":"Type de Revenu","onboarding.selectIncomeType":"Slectionner le type","onboarding.employment":"Emploi","onboarding.selfEmployed":"Travailleur Autonome","onboarding.both":"Les Deux","onboarding.other":"Autre","onboarding.workProvince":"Province de Travail","onboarding.back":"Retour","onboarding.continue":"Continuer","onboarding.complete":"Terminer la Configuration","onboarding.saving":"Enregistrement...","onboarding.saveProgress":"Enregistrer la Progression et Continuer Plus Tard","onboarding.fillAllFields":"Veuillez remplir tous les champs requis","onboarding.selectServiceCategory":"Veuillez slectionner une catgorie de service","onboarding.profileCompleted":"Profil complt! Bienvenue dans votre tableau de bord.","onboarding.progressSaved":"Progression enregistre avec succs","onboarding.saveFailed":"chec de l'enregistrement du profil","onboardingSuccess.title":"Inscription Complte!","onboardingSuccess.subtitle":"Votre profil a t configur avec succs.","onboardingSuccess.description":"Vous avez maintenant accs  votre portail client.","onboardingSuccess.nextSteps":"Vous pouvez maintenant tlcharger des documents, suivre l'avancement de votre service et communiquer directement avec nous via votre portail.","onboardingSuccess.accessPortal":"Accder au Portail Client","onboardingSuccess.contact":"Besoin d'aide? Contactez-nous  tout moment.","footer.description":"Services fiscaux canadiens experts pour particuliers, nouveaux arrivants et petites entreprises. Assurer la conformit et maximiser vos rendements.","footer.quickLinks":"Liens Rapides","footer.services":"Services","footer.contact":"Contact","footer.service1":"Dclarations T1 Personnelles","footer.service2":"Services pour Nouveaux Arrivants","footer.service3":"Dclarations de Petite Entreprise","footer.service4":"Conformit Fiscale","footer.service5":"Reprsentation Auprs de l'ARC","footer.copyright":"Fiscaliste Canadien. Tous droits rservs.","footer.privacy":"Politique de Confidentialit","footer.terms":"Conditions d'Utilisation","footer.disclaimer":"Ce site web est  des fins informatives. Les conseils fiscaux sont fournis au cas par cas lors des consultations. Tous les services sont conformes aux rglementations de l'Agence du revenu du Canada.","admin.panel":"Panneau Admin","admin.welcomeBack":"Bon retour","admin.clientPortal":"Portail Client","admin.signOut":"Dconnexion","admin.adminHub":"Centre Admin","admin.selectModule":"Slectionnez un module ci-dessous pour commencer","admin.clientsTitle":"Tableau de Bord Client","admin.clientsDesc":"Grer tous les clients, voir les dtails, documents et statut de dclaration","admin.bookkeepingTitle":"Tableau de Bord Comptabilit","admin.bookkeepingDesc":"Suivre les dpenses, grer les factures et grer la comptabilit quotidienne","admin.financialTitle":"Tableau de Bord Financier","admin.financialDesc":"Voir les KPI, analyses de revenus et rapports financiers complets","admin.generalDashboardTitle":"Tableau de Bord Gnral","admin.generalDashboardDesc":"Aperu de toutes les oprations systme et accs rapide aux fonctions cls","admin.marketingTitle":"Tableau de Bord Marketing","admin.marketingDesc":"Crer des images marketing professionnelles et grer les campagnes","admin.customerDashboard":"Tableau de Bord Client","admin.customersTotal":"clients au total","admin.customer":"client","admin.customers":"clients","admin.viewProfile":"Voir le Profil","admin.pending":"En Attente","admin.active":"Actif","admin.completed":"Complt","admin.searchCustomers":"Rechercher des clients...","admin.filterAll":"Tous","admin.filterPersonal":"Impt Personnel","admin.filterBusiness":"Petite Entreprise","admin.filterBookkeeping":"Comptabilit","admin.filterReports":"Rapports Financiers","admin.noCustomers":"Aucun client trouv","admin.backToHub":"Retour au Centre","taxFiling.overview":"Aperu","taxFiling.documents":"Documents","taxFiling.messages":"Messages","taxFiling.taxYear":"Anne Fiscale","taxFiling.filingType":"Type de Dclaration","taxFiling.status":"Statut","taxFiling.created":"Cr","taxFiling.lastUpdated":"Dernire Mise  Jour","taxFiling.statusPending":"Paiement en Attente","taxFiling.statusDocuments":"Tlchargement de Documents","taxFiling.statusReview":"En Rvision","taxFiling.statusReady":"Prt pour Paiement","taxFiling.statusCompleted":"Complt","taxFiling.paymentTimeline":"Calendrier de Paiement","taxFiling.step1":"Paiement Initial","taxFiling.step1Desc":"Payer un dpt de 50$ CAD pour commencer","taxFiling.step2":"Tlcharger les Documents","taxFiling.step2Desc":"Tlchargez vos documents fiscaux","taxFiling.step3":"Nous Prparons","taxFiling.step3Desc":"Nous calculons et prparons votre dclaration","taxFiling.step4":"Paiement Final","taxFiling.step4Desc":"Payer le solde restant","taxFiling.step5":"Dpos","taxFiling.step5Desc":"Soumis  l'ARC","taxFiling.payInitial":"Payer le Dpt Initial de 50$","taxFiling.uploadDocuments":"Tlcharger les Documents","taxFiling.viewReport":"Voir le Rapport Fiscal","taxFiling.payFinal":"Payer le Solde Final","taxFiling.downloadReceipt":"Tlcharger le Reu","taxFiling.initialPaymentPaid":"Paiement Initial Pay","taxFiling.finalPaymentPaid":"Paiement Final Pay","taxFiling.paidOn":"Pay le","taxFiling.amount":"Montant","taxFiling.refundAmount":"Remboursement Estim","taxFiling.owingAmount":"Montant D  l'ARC","taxFiling.finalPrice":"Prix Final du Service","taxFiling.backToDashboard":"Retour au Tableau de Bord"}};function q1({children:e}){const[t,s]=p.useState("en"),n=p.useCallback(i=>W1[t][i]||i,[t]),a=p.useMemo(()=>({language:t,setLanguage:s,t:n}),[t,n]);return r.jsx(wv.Provider,{value:a,children:e})}function Qt(){const e=p.useContext(wv);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}var Es=function(){return Es=Object.assign||function(t){for(var s,n=1,a=arguments.length;n<a;n++){s=arguments[n];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},Es.apply(this,arguments)};function ka(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]]);return s}function K1(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{d(n.next(h))}catch(u){o(u)}}function c(h){try{d(n.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((n=n.apply(e,t||[])).next())})}function G1(e,t,s){if(s||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const Y1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class xc extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class jv extends xc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $u extends xc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Fu extends xc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Il;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Il||(Il={}));class J1{constructor(t,{headers:s={},customFetch:n,region:a=Il.Any}={}){this.url=t,this.headers=s,this.region=a,this.fetch=Y1(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return K1(this,arguments,void 0,function*(s,n={}){var a;let i,o;try{const{headers:l,method:c,body:d,signal:h,timeout:u}=n;let f={},{region:x}=n;x||(x=this.region);const b=new URL(`${this.url}/${s}`);x&&x!=="any"&&(f["x-region"]=x,b.searchParams.set("forceFunctionRegion",x));let y;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(f["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(f["Content-Type"]="application/json",y=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?y=JSON.stringify(d):y=d;let w=h;u&&(o=new AbortController,i=setTimeout(()=>o.abort(),u),h?(w=o.signal,h.addEventListener("abort",()=>o.abort())):w=o.signal);const m=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:y,signal:w}).catch(k=>{throw new jv(k)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new $u(m);if(!m.ok)throw new Fu(m);let g=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return g==="application/json"?j=yield m.json():g==="application/octet-stream"||g==="application/pdf"?j=yield m.blob():g==="text/event-stream"?j=m:g==="multipart/form-data"?j=yield m.formData():j=yield m.text(),{data:j,error:null,response:m}}catch(l){return{data:null,error:l,response:l instanceof Fu||l instanceof $u?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Nv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Q1=class{constructor(e){var t,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,d=i.status,h=i.statusText;if(i.ok){var u,f;if(s.method!=="HEAD"){var x;const m=await i.text();m===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((x=s.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?l=m:l=JSON.parse(m))}const y=(u=s.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),w=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&w&&w.length>1&&(c=parseInt(w[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,d=406,h="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const y=await i.text();try{o=JSON.parse(y),Array.isArray(o)&&i.status===404&&(l=[],o=null,d=200,h="OK")}catch{i.status===404&&y===""?(d=204,h="No Content"):o={message:y}}if(o&&s.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,d=200,h="OK"),o&&s.shouldThrowOnError)throw new Nv(o)}return{error:o,data:l,count:c,status:d,statusText:h}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var d,h,u,f;const b=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",y=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";l=`${(u=i==null?void 0:i.name)!==null&&u!==void 0?u:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${b}`,y&&(l+=` (${y})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var x;l=(x=i==null?void 0:i.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},X1=class extends Q1{select(e){let t=!1;const s=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:n=s}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,s?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const cp=new RegExp("[,()]");var _r=class extends X1{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map(n=>typeof n=="string"&&cp.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}notIn(e,t){const s=Array.from(new Set(t)).map(n=>typeof n=="string"&&cp.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${s})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}},Z1=class{constructor(e,{headers:t={},schema:s,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=s,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:s=!1,count:n}=t??{},a=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(d=>/\s/.test(d)&&!i?"":(d==='"'&&(i=!i),d)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new _r({method:a,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:s=!0}={}){var n;const a="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),s||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);i.searchParams.set("columns",c.join(","))}}return new _r({method:a,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((h,u)=>h.concat(Object.keys(u)),[]);if(d.length>0){const h=[...new Set(d)].map(u=>`"${u}"`);l.searchParams.set("columns",h.join(","))}}return new _r({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var s;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new _r({method:n,url:a,headers:i,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var t;const s="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new _r({method:s,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},ek=class Sv{constructor(t,{headers:s={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(s),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Z1(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Sv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;const h=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(h)),u=n&&Object.values(s).some(h);u?(l="POST",d=s):n||a?(l=n?"HEAD":"GET",Object.entries(s).filter(([x,b])=>b!==void 0).map(([x,b])=>[x,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([x,b])=>{c.searchParams.append(x,b)})):(l="POST",d=s);const f=new Headers(this.headers);return u?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new _r({method:l,url:c,headers:f,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class kv{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const n=s.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const n=this.getWebSocketConstructor();return new n(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const tk="2.93.1",sk=`realtime-js/${tk}`,nk="1.0.0",Cv="2.0.0",dp=Cv,Lu=1e4,rk=1e3,ak=100;var an;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(an||(an={}));var We;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(We||(We={}));var ls;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ls||(ls={}));var Mu;(function(e){e.websocket="websocket"})(Mu||(Mu={}));var Vn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vn||(Vn={}));class ik{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,n;const a=(n=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var s,n;const a=(n=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,s,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",d=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},u=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`metadata length ${u.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+d.length+u.length,x=new ArrayBuffer(this.HEADER_LENGTH+f);let b=new DataView(x),y=0;b.setUint8(y++,this.KINDS.userBroadcastPush),b.setUint8(y++,c.length),b.setUint8(y++,l.length),b.setUint8(y++,o.length),b.setUint8(y++,d.length),b.setUint8(y++,u.length),b.setUint8(y++,s),Array.from(c,m=>b.setUint8(y++,m.charCodeAt(0))),Array.from(l,m=>b.setUint8(y++,m.charCodeAt(0))),Array.from(o,m=>b.setUint8(y++,m.charCodeAt(0))),Array.from(d,m=>b.setUint8(y++,m.charCodeAt(0))),Array.from(u,m=>b.setUint8(y++,m.charCodeAt(0)));var w=new Uint8Array(x.byteLength+n.byteLength);return w.set(new Uint8Array(x),0),w.set(new Uint8Array(n),x.byteLength),w.buffer}decode(t,s){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return s(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return s({join_ref:a,ref:i,topic:o,event:l,payload:c})}return s({})}_binaryDecode(t){const s=new DataView(t),n=s.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,a)}}_decodeUserBroadcast(t,s,n){const a=s.getUint8(1),i=s.getUint8(2),o=s.getUint8(3),l=s.getUint8(4);let c=this.HEADER_LENGTH+4;const d=n.decode(t.slice(c,c+a));c=c+a;const h=n.decode(t.slice(c,c+i));c=c+i;const u=n.decode(t.slice(c,c+o));c=c+o;const f=t.slice(c,t.byteLength),x=l===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,b={type:this.BROADCAST_EVENT,event:h,payload:x};return o>0&&(b.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>s.includes(n)))}}class Ev{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(je||(je={}));const up=(e,t,s={})=>{var n;const a=(n=s.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=ok(o,e,t,a),i),{}):{}},ok=(e,t,s,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=s[e];return i&&!n.includes(i)?Tv(i,o):Uu(o)},Tv=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return uk(t,s)}switch(e){case je.bool:return lk(t);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return ck(t);case je.json:case je.jsonb:return dk(t);case je.timestamp:return hk(t);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return Uu(t);default:return Uu(t)}},Uu=e=>e,lk=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ck=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},dk=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},uk=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Tv(t,l))}return e},hk=e=>typeof e=="string"?e.replace(" ","T"):e,_v=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class xd{constructor(t,s,n={},a=Lu){this.channel=t,this.event=s,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Bu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Bu||(Bu={}));class Xr{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xr.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Xr.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Xr.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,a){const i=this.cloneDeep(t),o=this.transformState(s),l={},c={};return this.map(i,(d,h)=>{o[d]||(c[d]=h)}),this.map(o,(d,h)=>{const u=i[d];if(u){const f=h.map(w=>w.presence_ref),x=u.map(w=>w.presence_ref),b=h.filter(w=>x.indexOf(w.presence_ref)<0),y=u.filter(w=>f.indexOf(w.presence_ref)<0);b.length>0&&(l[d]=b),y.length>0&&(c[d]=y)}else l[d]=h}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,s,n,a){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),h.length>0){const u=t[l].map(x=>x.presence_ref),f=h.filter(x=>u.indexOf(x.presence_ref)<0);t[l].unshift(...f)}n(l,h,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const h=c.map(u=>u.presence_ref);d=d.filter(u=>h.indexOf(u.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const a=t[n];return"metas"in a?s[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=a,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zu||(zu={}));var Zr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zr||(Zr={}));var ks;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ks||(ks={}));class Kn{constructor(t,s={config:{}},n){var a,i;if(this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new xd(this,ls.join,this.params,this.timeout),this.rejoinTimer=new Ev(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ls.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Xr(this),this.broadcastEndpointURL=_v(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&a!==void 0?a:[],h=!!this.bindings[Zr.PRESENCE]&&this.bindings[Zr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,u={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(ks.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(ks.CLOSED)),this.updateJoinPayload(Object.assign({config:f},u)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:x})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t==null||t(ks.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(b=y==null?void 0:y.length)!==null&&b!==void 0?b:0,m=[];for(let v=0;v<w;v++){const g=y[v],{filter:{event:j,schema:k,table:E,filter:N}}=g,C=x&&x[v];if(C&&C.event===j&&Kn.isFilterValueEqual(C.schema,k)&&Kn.isFilterValueEqual(C.table,E)&&Kn.isFilterValueEqual(C.filter,N))m.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),this.state=We.errored,t==null||t(ks.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(ks.SUBSCRIBED);return}}).receive("error",x=>{this.state=We.errored,t==null||t(ks.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ks.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this.state===We.joined&&t===Zr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,n)}async httpSend(t,s,n={}){var a;if(s==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,s={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=We.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ls.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new xd(this,ls.leave,{},t),n.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(t,s,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(i),o}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new xd(this,t,s,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ak){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:h}=ls;if(n&&[l,c,d,h].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var b,y,w;return((b=x.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(y=x.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(x=>x.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(x=>{var b,y,w,m,v,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const j=x.id,k=(b=x.filter)===null||b===void 0?void 0:b.event;return j&&((y=s.ids)===null||y===void 0?void 0:y.includes(j))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=s.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(m=x==null?void 0:x.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((g=s==null?void 0:s.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:y,table:w,commit_timestamp:m,type:v,errors:g}=b;f=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:m,eventType:v,new:{},old:{},errors:g}),this._getPayloadRecords(b))}x.callback(f,n)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const a=t.toLocaleLowerCase(),i={type:a,filter:s,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Kn.isEqual(a.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ls.close,{},t)}_onError(t){this._on(ls.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=up(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=up(t.columns,t.old_record)),s}}const vd=()=>{},jo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},mk=[1e3,2e3,5e3,1e4],fk=1e4,pk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Av{constructor(t,s){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lu,this.transport=null,this.heartbeatIntervalMs=jo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vd,this.ref=0,this.reconnectTimer=null,this.vsn=dp,this.logger=vd,this.conn=null,this.sendBuffer=[],this.serializer=new ik,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=s==null?void 0:s.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${Mu.websocket}`,this.httpEndpoint=_v(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kv.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case an.connecting:return Vn.Connecting;case an.open:return Vn.Open;case an.closing:return Vn.Closing;default:return Vn.Closed}}isConnected(){return this.connectionState()===Vn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Kn(`realtime:${t}`,s,this);return this.channels.push(i),i}}push(t){const{topic:s,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(rk,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},jo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",d)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:o}=s,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===an.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===an.open||this.conn.readyState===an.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ls.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${t}${n}${a}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([pk],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,n=!1;if(t)s=t,n=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),s=this.accessTokenValue}else s=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const i={access_token:s,version:sk};s&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(ls.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(s)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ev(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,n,a,i,o,l,c,d,h,u,f,x;switch(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Lu,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:jo.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:vd,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:dp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:b=>mk[b-1]||fk,this.vsn){case nk:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(b,y)=>y(JSON.stringify(b)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:(b,y)=>y(JSON.parse(b));break;case Cv:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ai=class extends Error{constructor(e,t){var s;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((s=t.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function gk(e,t,s){const n=new URL(t,e);if(s)for(const[a,i]of Object.entries(s))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function xk(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function vk(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:s,path:n,query:a,body:i,headers:o}){const l=gk(e.baseUrl,n,a),c=await xk(e.auth),d=await t(l,{method:s,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),h=await d.text(),u=(d.headers.get("content-type")||"").includes("application/json"),f=u&&h?JSON.parse(h):h;if(!d.ok){const x=u?f:void 0,b=x==null?void 0:x.error;throw new Ai((b==null?void 0:b.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:x})}return{status:d.status,headers:d.headers,data:f}}}}function No(e){return e.join("")}var yk=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:No(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const s={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${No(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${No(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${No(e.namespace)}`}),!0}catch(t){if(t instanceof Ai&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(s){if(s instanceof Ai&&s.status===409)return;throw s}}};function wr(e){return e.join("")}var bk=class{constructor(e,t="",s){this.client=e,this.prefix=t,this.accessDelegation=s}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wr(e.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(e,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(s){if(s instanceof Ai&&s.status===404)return!1;throw s}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(s){if(s instanceof Ai&&s.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw s}}},wk=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const s=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=vk({baseUrl:s,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new yk(this.client,t),this.tableOps=new bk(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},vc=class extends Error{constructor(e,t="storage",s,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=n}};function yc(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var So=class extends vc{constructor(e,t,s,n="storage"){super(e,n,t,s),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Pv=class extends vc{constructor(e,t,s="storage"){super(e,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const jk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Nk=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Vu=e=>{if(Array.isArray(e))return e.map(s=>Vu(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const a=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Vu(n)}),t},Sk=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Pi(e){"@babel/helpers - typeof";return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(e)}function kk(e,t){if(Pi(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,t);if(Pi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ck(e){var t=kk(e,"string");return Pi(t)=="symbol"?t:t+""}function Ek(e,t,s){return(t=Ck(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function hp(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,n)}return s}function oe(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?hp(Object(s),!0).forEach(function(n){Ek(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):hp(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}const mp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Tk=async(e,t,s,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(s!=null&&s.noResolveJson)){const a=e,i=a.status||500;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new So(mp(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new So(a.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new So(a.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new So(a.statusText||`HTTP ${i} error`,i,o,n))}}else t(new Pv(mp(e),e,n))},_k=(e,t,s,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?oe(oe({},a),s):(Nk(n)?(a.headers=oe({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),oe(oe({},a),s))};async function qa(e,t,s,n,a,i,o){return new Promise((l,c)=>{e(s,_k(t,n,a,i)).then(d=>{if(!d.ok)throw d;if(n!=null&&n.noResolveJson)return d;if(o==="vectors"){const h=d.headers.get("content-type");if(!h||!h.includes("application/json"))return{}}return d.json()}).then(d=>l(d)).catch(d=>Tk(d,c,n,o))})}function Ak(e="storage"){return{get:async(t,s,n,a)=>qa(t,"GET",s,n,a,void 0,e),post:async(t,s,n,a,i)=>qa(t,"POST",s,a,i,n,e),put:async(t,s,n,a,i)=>qa(t,"PUT",s,a,i,n,e),head:async(t,s,n,a)=>qa(t,"HEAD",s,oe(oe({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,s,n,a,i)=>qa(t,"DELETE",s,a,i,n,e)}}const Pk=Ak("storage"),{get:Ri,post:Te,put:Hu,head:Rk,remove:mm}=Pk;var Ca=class{constructor(e,t={},s,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=jk(s),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(yc(s))return{data:null,error:s};throw s}}},Ok=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yc(t))return{data:null,error:t};throw t}}};let Rv;Rv=Symbol.toStringTag;var Ik=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Rv]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ok(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yc(t))return{data:null,error:t};throw t}}};const Dk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var $k=class extends Ca{constructor(e,t={},s,n){super(e,t,n,"storage"),this.bucketId=s}async uploadOrUpdate(e,t,s,n){var a=this;return a.handleOperation(async()=>{let i;const o=oe(oe({},fp),n);let l=oe(oe({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=oe(oe({},l),n.headers));const d=a._removeEmptyFolders(t),h=a._getFinalPath(d),u=await(e=="PUT"?Hu:Te)(a.fetch,`${a.url}/object/${h}`,i,oe({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:d,id:u.Id,fullPath:u.Key}})}async upload(e,t,s){return this.uploadOrUpdate("POST",e,t,s)}async uploadToSignedUrl(e,t,s,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),a.handleOperation(async()=>{let c;const d=oe({upsert:fp.upsert},n),h=oe(oe({},a.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType),{path:i,fullPath:(await Hu(a.fetch,l.toString(),c,{headers:h})).Key}})}async createSignedUploadUrl(e,t){var s=this;return s.handleOperation(async()=>{let n=s._getFinalPath(e);const a=oe({},s.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Te(s.fetch,`${s.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(s.url+i.url),l=o.searchParams.get("token");if(!l)throw new vc("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,s){return this.uploadOrUpdate("PUT",e,t,s)}async move(e,t,s){var n=this;return n.handleOperation(async()=>await Te(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:n.headers}))}async copy(e,t,s){var n=this;return n.handleOperation(async()=>({path:(await Te(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,s){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),i=await Te(n.fetch,`${n.url}/object/sign/${a}`,oe({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:n.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,s){var n=this;return n.handleOperation(async()=>{const a=await Te(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a.map(o=>oe(oe({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Ri(this.fetch,`${this.url}/${s}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new Ik(o,this.shouldThrowOnError)}async info(e){var t=this;const s=t._getFinalPath(e);return t.handleOperation(async()=>Vu(await Ri(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})))}async exists(e){var t=this;const s=t._getFinalPath(e);try{return await Rk(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yc(n)&&n instanceof Pv){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const s=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${s}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await mm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,s){var n=this;return n.handleOperation(async()=>{const a=oe(oe(oe({},Dk),t),{},{prefix:e||""});return await Te(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},s)})}async listV2(e,t){var s=this;return s.handleOperation(async()=>{const n=oe({},e);return await Te(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,n,{headers:s.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Fk="2.93.1",Yi={"X-Client-Info":`storage-js/${Fk}`};var Lk=class extends Ca{constructor(e,t={},s,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const i=a.href.replace(/\/$/,""),o=oe(oe({},Yi),t);super(i,o,s,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const s=t.listBucketOptionsToQueryString(e);return await Ri(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ri(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var s=this;return s.handleOperation(async()=>await Te(s.fetch,`${s.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async updateBucket(e,t){var s=this;return s.handleOperation(async()=>await Hu(s.fetch,`${s.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Te(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await mm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Mk=class extends Ca{constructor(e,t={},s){const n=e.replace(/\/$/,""),a=oe(oe({},Yi),t);super(n,a,s,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Te(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const s=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&s.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&s.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&s.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&s.set("sortOrder",e.sortOrder),e!=null&&e.search&&s.set("search",e.search);const n=s.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Ri(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await mm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Sk(e))throw new vc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new wk({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(s,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},Uk=class extends Ca{constructor(e,t={},s){const n=e.replace(/\/$/,""),a=oe(oe({},Yi),{},{"Content-Type":"application/json"},t);super(n,a,s,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Te(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var s=this;return s.handleOperation(async()=>await Te(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:s.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Te(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var s=this;return s.handleOperation(async()=>await Te(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:s.headers})||{})}},Bk=class extends Ca{constructor(e,t={},s){const n=e.replace(/\/$/,""),a=oe(oe({},Yi),{},{"Content-Type":"application/json"},t);super(n,a,s,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Te(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Te(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Te(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Te(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Te(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},zk=class extends Ca{constructor(e,t={},s){const n=e.replace(/\/$/,""),a=oe(oe({},Yi),{},{"Content-Type":"application/json"},t);super(n,a,s,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Te(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Te(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Te(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Te(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Vk=class extends zk{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Hk(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,s=this;return t().call(s,e)}async getBucket(e){var t=()=>super.getBucket,s=this;return t().call(s,e)}async listBuckets(e={}){var t=()=>super.listBuckets,s=this;return t().call(s,e)}async deleteBucket(e){var t=()=>super.deleteBucket,s=this;return t().call(s,e)}},Hk=class extends Uk{constructor(e,t,s,n){super(e,t,n),this.vectorBucketName=s}async createIndex(e){var t=()=>super.createIndex,s=this;return t().call(s,oe(oe({},e),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,s=this;return t().call(s,oe(oe({},e),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,e)}index(e){return new Wk(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Wk=class extends Bk{constructor(e,t,s,n,a){super(e,t,a),this.vectorBucketName=s,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,s=this;return t().call(s,oe(oe({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(e){var t=()=>super.getVectors,s=this;return t().call(s,oe(oe({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,s=this;return t().call(s,oe(oe({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,s=this;return t().call(s,oe(oe({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,s=this;return t().call(s,oe(oe({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},qk=class extends Lk{constructor(e,t={},s,n){super(e,t,s,n)}from(e){return new $k(this.url,this.headers,e,this.fetch)}get vectors(){return new Vk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Mk(this.url+"/iceberg",this.headers,this.fetch)}};const Ov="2.93.1",Ar=30*1e3,Wu=3,yd=Wu*Ar,Kk="http://localhost:9999",Gk="supabase.auth.token",Yk={"X-Client-Info":`gotrue-js/${Ov}`},qu="X-Supabase-Api-Version",Iv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qk=10*60*1e3;class ua extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Dv extends ua{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function $v(e){return re(e)&&e.name==="AuthApiError"}class dn extends ua{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Os extends ua{constructor(t,s,n,a){super(t,n,a),this.name=s,this.status=n}}class wt extends Os{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sl(e){return re(e)&&e.name==="AuthSessionMissingError"}class Un extends Os{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xa extends Os{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Za extends Os{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fv(e){return re(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ku extends Os{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lv extends Os{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Dl extends Os{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function nl(e){return re(e)&&e.name==="AuthRetryableFetchError"}class Gu extends Os{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class $l extends Os{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pp=` 	
\r=`.split(""),Xk=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<pp.length;t+=1)e[pp[t].charCodeAt(0)]=-2;for(let t=0;t<Fl.length;t+=1)e[Fl[t].charCodeAt(0)]=t;return e})();function gp(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(Fl[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(Fl[n]),t.queuedBits-=6}}function Mv(e,t,s){const n=Xk[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function xp(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{tC(o,n,s)};for(let o=0;o<e.length;o+=1)Mv(e.charCodeAt(o),a,i);return t.join("")}function Zk(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function eC(e,t){for(let s=0;s<e.length;s+=1){let n=e.charCodeAt(s);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}Zk(n,t)}}function tC(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function ea(e){const t=[],s={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Mv(e.charCodeAt(a),s,n);return new Uint8Array(t)}function sC(e){const t=[];return eC(e,s=>t.push(s)),new Uint8Array(t)}function Gn(e){const t=[],s={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>gp(a,s,n)),gp(null,s,n),t.join("")}function nC(e){return Math.round(Date.now()/1e3)+e}function rC(){return Symbol("auth-callback")}const rt=()=>typeof window<"u"&&typeof document<"u",Dn={tested:!1,writable:!1},Uv=()=>{if(!rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dn.tested)return Dn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Dn.tested=!0,Dn.writable=!0}catch{Dn.tested=!0,Dn.writable=!1}return Dn.writable};function aC(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return s.searchParams.forEach((n,a)=>{t[a]=n}),t}const Bv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pr=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},$n=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},nt=async(e,t)=>{await e.removeItem(t)};class bc{constructor(){this.promise=new bc.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}bc.promiseConstructor=Promise;function ko(e){const t=e.split(".");if(t.length!==3)throw new $l("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Jk.test(t[n]))throw new $l("JWT not in base64url format");return{header:JSON.parse(xp(t[0])),payload:JSON.parse(xp(t[1])),signature:ea(t[2]),raw:{header:t[0],payload:t[1]}}}async function oC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function lC(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function cC(e){return("0"+e.toString(16)).substr(-2)}function dC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let a="";for(let i=0;i<56;i++)a+=s.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,cC).join("")}async function uC(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function hC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await uC(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jr(e,t,s=!1){const n=dC();let a=n;s&&(a+="/PASSWORD_RECOVERY"),await Pr(e,`${t}-code-verifier`,a);const i=await hC(n);return[i,n===i?"plain":"s256"]}const mC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fC(e){const t=e.headers.get(qu);if(!t||!t.match(mC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function pC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function gC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nr(e){if(!xC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bd(){const e={};return new Proxy(e,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vC(e,t){return new Proxy(e,{get:(s,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,n,a)}})}function vp(e){return JSON.parse(JSON.stringify(e))}const Bn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yC=[502,503,504];async function yp(e){var t;if(!iC(e))throw new Dl(Bn(e),0);if(yC.includes(e.status))throw new Dl(Bn(e),e.status);let s;try{s=await e.json()}catch(i){throw new dn(Bn(i),i)}let n;const a=fC(e);if(a&&a.getTime()>=Iv["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Gu(Bn(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new wt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Gu(Bn(s),e.status,s.weak_password.reasons);throw new Dv(Bn(s),e.status||500,n)}const bC=(e,t,s,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),s))};async function ae(e,t,s,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[qu]||(i[qu]=Iv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await wC(e,t,s+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function wC(e,t,s,n,a,i){const o=bC(t,n,a,i);let l;try{l=await e(s,Object.assign({},o))}catch(c){throw console.error(c),new Dl(Bn(c),0)}if(l.ok||await yp(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await yp(c)}}function ns(e){var t;let s=null;SC(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=nC(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function bp(e){const t=ns(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function un(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function jC(e){return{data:e,error:null}}function NC(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:a,verification_type:i}=e,o=ka(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:s,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function wp(e){return e}function SC(e){return e.access_token&&e.refresh_token&&e.expires_in}const rl=["global","local","others"];class zv{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=Bv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=rl[0]){if(rl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rl.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:un})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=ka(t,["options"]),a=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:NC,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(re(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:un})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},h=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:wp});if(h.error)throw h.error;const u=await h.json(),f=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);d[`${w}Page`]=y}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},u),d),error:null}}catch(d){if(re(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Nr(t);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:un})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Nr(t);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:un})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){Nr(t);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:un})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Nr(t.userId);try{const{data:s,error:n}=await ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:n}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Nr(t.userId),Nr(t.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},h=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:wp});if(h.error)throw h.error;const u=await h.json(),f=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);d[`${w}Page`]=y}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},u),d),error:null}}catch(d){if(re(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}}function jp(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}const zn={debug:!!(globalThis&&Uv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Hv extends Vv{}async function Wv(e,t,s){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),zn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await s()}finally{zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Hv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function kC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qv(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function CC(e){return parseInt(e,16)}function EC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function TC(e){var t;const{chainId:s,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:h,uri:u,version:f}=e;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=qv(e.address),b=h?`${h}://${n}`:n,y=e.statement?`${e.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${x}

${y}`;let m=`URI: ${u}
Version: ${f}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(m+=`
Expiration Time: ${a.toISOString()}`),l&&(m+=`
Not Before: ${l.toISOString()}`),c&&(m+=`
Request ID: ${c}`),d){let v=`
Resources:`;for(const g of d){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);v+=`
- ${g}`}m+=v}return`${w}
${m}`}class ze extends Error{constructor({message:t,code:s,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=s}}class Ll extends ze{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function _C({error:e,options:t}){var s,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ze({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Kv(o)){if(i.rp.id!==o)return new ze({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function AC({error:e,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ze({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Kv(n)){if(s.rpId!==n)return new ze({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class PC{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const RC=new PC;function OC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:s,excludeCredentials:n}=e,a=ka(e,["challenge","user","excludeCredentials"]),i=ea(t).buffer,o=Object.assign(Object.assign({},s),{id:ea(s.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:ea(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function IC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:s}=e,n=ka(e,["challenge","allowCredentials"]),a=ea(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(s&&s.length>0){i.allowCredentials=new Array(s.length);for(let o=0;o<s.length;o++){const l=s[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:ea(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function DC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const s=e;return{id:e.id,rawId:e.id,response:{attestationObject:Gn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Gn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $C(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const s=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Gn(new Uint8Array(a.authenticatorData)),clientDataJSON:Gn(new Uint8Array(a.clientDataJSON)),signature:Gn(new Uint8Array(a.signature)),userHandle:a.userHandle?Gn(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Kv(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Np(){var e,t;return!!(rt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function FC(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ll("Browser returned unexpected credential type",t)}:{data:null,error:new Ll("Empty credential response",t)}}catch(t){return{data:null,error:_C({error:t,options:e})}}}async function LC(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ll("Browser returned unexpected credential type",t)}:{data:null,error:new Ll("Empty credential response",t)}}catch(t){return{data:null,error:AC({error:t,options:e})}}}const MC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},UC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ml(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),s=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(s(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Ml(l,o):n[i]=Ml(o)}else n[i]=o}return n}function BC(e,t){return Ml(MC,e,t||{})}function zC(e,t){return Ml(UC,e,t||{})}class VC{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!o)return{data:null,error:l};const c=a??RC.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=BC(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:u}=await FC({publicKey:d,signal:c});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:u}}case"request":{const d=zC(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:u}=await LC(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:u}}}}catch(o){return re(o)?{data:null,error:o}:{data:null,error:new dn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:s,webauthn:n}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!s)return{data:null,error:new ua("rpId is required for WebAuthn authentication")};try{if(!Np())return{data:null,error:new dn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:s,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return re(o)?{data:null,error:o}:{data:null,error:new dn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!s)return{data:null,error:new ua("rpId is required for WebAuthn registration")};try{if(!Np())return{data:null,error:new dn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var u;return(u=h.data)===null||u===void 0?void 0:u.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:s,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:s,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return re(o)?{data:null,error:o}:{data:null,error:new dn("Unexpected error in register",o)}}}}kC();const HC={url:Kk,storageKey:Gk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Sp(e,t,s){return await s()}const Sr={};class ha{get jwks(){var t,s;return(s=(t=Sr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Sr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{cachedAt:t})}constructor(t){var s,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},HC),t);if(this.storageKey=i.storageKey,this.instanceID=(s=ha.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,ha.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&rt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new zv({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Bv(i.fetch),this.lock=i.lock||Sp,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&rt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Wv:this.lock=Sp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new VC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Uv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jp(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=jp(this.memoryStorage)),rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ov}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},n="none";if(rt()&&(s=aC(window.location.href),this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce")),rt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Fv(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return re(s)?this._returnResult({error:s}):this._returnResult({error:new dn("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,a;try{const i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ns}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var s,n,a;try{let i;if("email"in t){const{email:h,password:u,options:f}=t;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await jr(this.storage,this.storageKey)),i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:u,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:x,code_challenge_method:b},xform:ns})}else if("phone"in t){const{phone:h,password:u,options:f}=t;i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:u,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ns})}else throw new Xa("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await nt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(await nt(this.storage,`${this.storageKey}-code-verifier`),re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:l}=t;s=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bp})}else if("phone"in t){const{phone:i,password:o,options:l}=t;s=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bp})}else throw new Xa("You must provide either an email or phone number and a password");const{data:n,error:a}=s;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Un;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,n,a,i,o,l,c,d,h,u,f;let x,b;if("message"in t)x=t.message,b=t.signature;else{const{chain:y,wallet:w,statement:m,options:v}=t;let g;if(rt())if(typeof w=="object")g=w;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")g=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=w}const j=new URL((s=v==null?void 0:v.url)!==null&&s!==void 0?s:window.location.href),k=await g.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=qv(k[0]);let N=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const T=await g.request({method:"eth_chainId"});N=CC(T)}const C={domain:j.host,address:E,statement:m,uri:j.href,version:"1",chainId:N,nonce:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=v==null?void 0:v.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=TC(C),b=await g.request({method:"personal_sign",params:[EC(x),E]})}try{const{data:y,error:w}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:b},!((u=t.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ns});if(w)throw w;if(!y||!y.session||!y.user){const m=new Un;return this._returnResult({data:{user:null,session:null},error:m})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(re(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var s,n,a,i,o,l,c,d,h,u,f,x;let b,y;if("message"in t)b=t.message,y=t.signature;else{const{chain:w,wallet:m,statement:v,options:g}=t;let j;if(rt())if(typeof m=="object")j=m;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))j=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=m}const k=new URL((s=g==null?void 0:g.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in j&&j.signIn){const E=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),v?{statement:v}:null));let N;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")N=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)N=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)b=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),y=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${k.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(a=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((d=g==null?void 0:g.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((u=(h=g==null?void 0:g.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||u===void 0)&&u.length?["Resources",...g.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const E=await j.signMessage(new TextEncoder().encode(b),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:w,error:m}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Gn(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ns});if(m)throw m;if(!w||!w.session||!w.user){const v=new Un;return this._returnResult({data:{user:null,session:null},error:v})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:m})}catch(w){if(re(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const s=await $n(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(s??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Lv;const{data:i,error:o}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ns});if(await nt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Un;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await nt(this.storage,`${this.storageKey}-code-verifier`),re(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:s,provider:n,token:a,access_token:i,nonce:o}=t,l=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ns}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const h=new Un;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await jr(this.storage,this.storageKey));const{error:u}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:h}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h})}throw new Xa("You must provide either an email or phone number.")}catch(l){if(await nt(this.storage,`${this.storageKey}-code-verifier`),re(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var s,n;try{let a,i;"options"in t&&(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ns});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var s,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await jr(this.storage,this.storageKey));const d=await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:jC});return!((i=d.data)===null||i===void 0)&&i.url&&rt()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await nt(this.storage,`${this.storageKey}-code-verifier`),re(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new wt;const{error:a}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(re(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await ae(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await ae(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Xa("You must provide either an email or phone number and a type")}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await $n(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<yd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await $n(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=bd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=vC(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:un}):await this._useSession(async s=>{var n,a,i;const{data:o,error:l}=s;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wt}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:un})})}catch(s){if(re(s))return sl(s)&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new wt;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await jr(this.storage,this.storageKey));const{data:d,error:h}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:un});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await nt(this.storage,`${this.storageKey}-code-verifier`),re(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wt;const s=Date.now()/1e3;let n=s,a=!0,i=null;const{payload:o}=ko(t.access_token);if(o.exp&&(n=o.exp,a=n<=s),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(s){if(re(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:o,error:l}=s;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new wt;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!rt())throw new Za("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Za(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ku("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Za("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ku("No code detected.");const{data:v,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Za("No session defined in URL");const h=Math.round(Date.now()/1e3),u=parseInt(l);let f=h+u;c&&(f=parseInt(c));const x=f-h;x*1e3<=Ar&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${u}s`);const b=f-u;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,h);const{data:y,error:w}=await this._getUser(i);if(w)throw w;const m={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:u,expires_at:f,refresh_token:o,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:t.type},error:null})}catch(n){if(re(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await $n(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:a,error:i}=s;if(i&&!sl(i))return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!($v(l)&&(l.status===404||l.status===401||l.status===403)||sl(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=rC(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,a;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await jr(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(await nt(this.storage,`${this.storageKey}-code-verifier`),re(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,h;const{data:u,error:f}=i;if(f)throw f;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(d=u.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return rt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(re(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var n;try{const{error:a,data:{session:i}}=s;if(a)throw a;const{options:o,provider:l,token:c,access_token:d,nonce:h}=t,u=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ns}),{data:f,error:x}=u;return x?this._returnResult({data:{user:null,session:null},error:x}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Un}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:x}))}catch(a){if(await nt(this.storage,`${this.storageKey}-code-verifier`),re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,a;const{data:i,error:o}=s;if(o)throw o;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await lC(async a=>(a>0&&await oC(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ns})),(a,i)=>{const o=200*Math.pow(2,a);return i&&nl(i)&&Date.now()+o-n<Ar})}catch(n){if(this._debug(s,"error",n),re(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),rt()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await $n(this.storage,this.storageKey);if(a&&this.userStorage){let o=await $n(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Pr(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:bd()}else if(a&&!a.user&&!a.user){const o=await $n(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await nt(this.storage,this.storageKey+"-user"),await Pr(this.storage,this.storageKey,a)):a.user=bd()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<yd;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${yd}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),nl(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new bc;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new wt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),re(i)){const o={data:null,error:i};return nl(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,s,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,s)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await nt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await Pr(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const i=vp(a);await Pr(this.storage,this.storageKey,i)}else{const a=vp(s);await Pr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nt(this.storage,this.storageKey),await nt(this.storage,this.storageKey+"-code-verifier"),await nt(this.storage,this.storageKey+"-user"),this.userStorage&&await nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ar);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Ar);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ar}ms, refresh threshold is ${Wu} ticks`),a<=Wu&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Vv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const a=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await jr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:a,error:i}=s;return i?this._returnResult({data:null,error:i}):await ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,a;const{data:i,error:o}=s;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var n;const{data:a,error:i}=s;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?DC(t.webauthn.credential_response):$C(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var n;const{data:a,error:i}=s;if(i)return this._returnResult({data:null,error:i});const o=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:OC(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:IC(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=s==null?void 0:s.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var s,n,a,i;if(t)try{const{payload:x}=ko(t);let b=null;x.aal&&(b=x.aal);let y=b;const{data:{user:w},error:m}=await this.getUser(t);if(m)return this._returnResult({data:null,error:m});((n=(s=w==null?void 0:w.factors)===null||s===void 0?void 0:s.filter(j=>j.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(y="aal2");const g=x.amr||[];return{data:{currentLevel:b,nextLevel:y,currentAuthenticationMethods:g},error:null}}catch(x){if(re(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=ko(o.access_token);let d=null;c.aal&&(d=c.aal);let h=d;((i=(a=o.user.factors)===null||a===void 0?void 0:a.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const f=c.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:n},error:a}=s;return a?this._returnResult({data:null,error:a}):n?await ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new wt})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new wt});const o=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&rt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,s){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new wt});const o=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&rt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;return n?this._returnResult({data:null,error:n}):s?await ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new wt})})}catch(t){if(re(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:n},error:a}=s;return a?this._returnResult({data:null,error:a}):n?(await ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wt})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let n=s.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Qk>a)return n;const{data:i,error:o}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,s={}){try{let n=t;if(!n){const{data:x,error:b}=await this.getSession();if(b||!x.session)return this._returnResult({data:null,error:b});n=x.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=ko(n);s!=null&&s.allowExpired||pC(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!d){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:i,header:a,signature:o},error:null}}const h=gC(a.alg),u=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,u,o,sC(`${l}.${c}`)))throw new $l("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}}ha.nextInstanceID={};const Gv=ha,WC="2.93.1";let ei="";typeof Deno<"u"?ei="deno":typeof document<"u"?ei="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ei="react-native":ei="node";function qC(){const e=globalThis.process;if(e&&e.platform){const t=e.platform;if(t==="darwin")return"macOS";if(t==="win32")return"Windows";if(t==="linux")return"Linux";if(t==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const t=navigator.userAgentData.platform;if(t==="macOS")return"macOS";if(t==="Windows")return"Windows";if(t==="Linux")return"Linux";if(t==="Android")return"Android";if(t==="iOS")return"iOS"}return null}function KC(){const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node&&typeof window>"u")try{const s=globalThis.require;if(s)return s("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function GC(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return"node"}return null}function YC(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return t.node}return null}function JC(){const e={"X-Client-Info":`supabase-js-${ei}/${WC}`},t=qC();t&&(e["X-Supabase-Client-Platform"]=t);const s=KC();s&&(e["X-Supabase-Client-Platform-Version"]=s);const n=GC();n&&(e["X-Supabase-Client-Runtime"]=n);const a=YC();return a&&(e["X-Supabase-Client-Runtime-Version"]=a),e}const QC=JC(),XC={headers:QC},ZC={schema:"public"},e2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t2={};function Oi(e){"@babel/helpers - typeof";return Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oi(e)}function s2(e,t){if(Oi(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,t);if(Oi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n2(e){var t=s2(e,"string");return Oi(t)=="symbol"?t:t+""}function r2(e,t,s){return(t=n2(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function kp(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,n)}return s}function $e(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?kp(Object(s),!0).forEach(function(n){r2(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):kp(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}const a2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),i2=()=>Headers,o2=(e,t,s)=>{const n=a2(s),a=i2();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,$e($e({},o),{},{headers:d}))}};function l2(e){return e.endsWith("/")?e:e+"/"}function c2(e,t){var s,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:h,global:u}=t,f={db:$e($e({},c),a),auth:$e($e({},d),i),realtime:$e($e({},h),o),storage:{},global:$e($e($e({},u),l),{},{headers:$e($e({},(s=u==null?void 0:u.headers)!==null&&s!==void 0?s:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function d2(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(l2(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var u2=class extends Gv{constructor(e){super(e)}},Yv=class{constructor(e,t,s){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=d2(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:ZC,realtime:t2,auth:$e($e({},e2),{},{storageKey:o}),global:XC},c=c2(s??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,u)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(u)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=c.auth)!==null&&d!==void 0?d:{},this.headers,c.global.fetch)}this.fetch=o2(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient($e({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new ek(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new qk(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new J1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,s;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(s=n.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:d},h,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u2({url:this.authUrl.href,headers:$e($e({},f),h),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:d,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Av(this.realtimeUrl.href,$e($e({},e),{},{params:$e($e({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Jv=(e,t,s)=>new Yv(e,t,s);function h2(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const s=t.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}h2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const m2=Object.freeze(Object.defineProperty({__proto__:null,AuthApiError:Dv,AuthClient:Gv,AuthError:ua,AuthImplicitGrantRedirectError:Za,AuthInvalidCredentialsError:Xa,AuthInvalidJwtError:$l,AuthInvalidTokenResponseError:Un,AuthPKCECodeVerifierMissingError:Lv,AuthPKCEGrantCodeExchangeError:Ku,AuthRetryableFetchError:Dl,AuthSessionMissingError:wt,AuthUnknownError:dn,AuthWeakPasswordError:Gu,CustomAuthError:Os,get FunctionRegion(){return Il},FunctionsError:xc,FunctionsFetchError:jv,FunctionsHttpError:Fu,FunctionsRelayError:$u,GoTrueAdminApi:zv,GoTrueClient:ha,NavigatorLockAcquireTimeoutError:Hv,PostgrestError:Nv,get REALTIME_LISTEN_TYPES(){return Zr},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return zu},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Bu},get REALTIME_SUBSCRIBE_STATES(){return ks},RealtimeChannel:Kn,RealtimeClient:Av,RealtimePresence:Xr,SIGN_OUT_SCOPES:rl,SupabaseClient:Yv,WebSocketFactory:kv,createClient:Jv,isAuthApiError:$v,isAuthError:re,isAuthImplicitGrantRedirectError:Fv,isAuthRetryableFetchError:nl,isAuthSessionMissingError:sl,lockInternals:zn,navigatorLock:Wv},Symbol.toStringTag,{value:"Module"})),Ke="pwlacumydrxvshklvttp",us="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB3bGFjdW15ZHJ4dnNoa2x2dHRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNjM3MTQsImV4cCI6MjA4MTczOTcxNH0.uj1rVapx5bBzp6YVFbcOwxCDZftpLzjwfMJ4aCy_B_A",f2=`https://${Ke}.supabase.co`,ue=Jv(f2,us),p2=Object.freeze(Object.defineProperty({__proto__:null,supabase:ue},Symbol.toStringTag,{value:"Module"})),Cp={error:"background: #ef4444; color: white; padding: 2px 8px; border-radius: 4px; font-weight: bold"},Qe={success(e,t="API",s){},error(e,t="API",s){s?console.error(`%c ${e}`,Cp.error,s):console.error(`%c ${e}`,Cp.error)},warning(e,t="API",s){},info(e,t="API",s){},demo(e,t="API"){},debug(e,t){},group(e,t){}},fn=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"];function xs(e){if(console.log(" [isAdminEmail] Checking email:",e),console.log(" [isAdminEmail] Admin emails list:",fn),!e)return console.log(" [isAdminEmail] Email is undefined/null"),!1;const t=e.toLowerCase(),s=fn.includes(t);return console.log(" [isAdminEmail] Normalized email:",t),console.log(" [isAdminEmail] Is admin?",s),s}const Qv=p.createContext(void 0);function g2({children:e}){const[t,s]=p.useState(null),[n,a]=p.useState(!0);p.useEffect(()=>{let f=!0;return(async()=>{var b,y;try{const{data:w,error:m}=await ue.auth.getSession();if(m&&m.name==="AbortError")return;if(m)throw m;f&&w.session&&w.session.user&&s({id:w.session.user.id,email:w.session.user.email,name:((b=w.session.user.user_metadata)==null?void 0:b.name)||w.session.user.email})}catch(w){if((w==null?void 0:w.name)==="AbortError"||(y=w==null?void 0:w.message)!=null&&y.includes("abort"))return;Qe.error("Error checking session","AUTH",w)}finally{f&&a(!1)}})(),()=>{f=!1}},[]);const i=p.useCallback(async(f,x)=>{var b;try{console.log(" [SignIn] Attempting login for:",f);const{data:y,error:w}=await ue.auth.signInWithPassword({email:f,password:x});if(w)throw w;if(y.user){const m={id:y.user.id,email:y.user.email,name:((b=y.user.user_metadata)==null?void 0:b.name)||f};console.log(" [SignIn] User authenticated:",m),console.log(" [SignIn] Checking admin status for:",m.email),console.log(" [SignIn] Is admin?",xs(m.email)),s(m)}}catch(y){throw Qe.error("Sign in error","AUTH",y),new Error(y.message||"Failed to sign in")}},[]),o=p.useCallback(async(f,x,b)=>{var y,w;try{Qe.info(`Starting signup process for: ${f}`,"AUTH");const m="https://undefined.supabase.co/functions/v1/make-server-c2a25be0/auth/signup";Qe.debug(`Server URL: ${m}`);const v=await fetch(m,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify({email:f,password:x,name:b})}),g=await v.json();if(!v.ok||g.error)throw Qe.error(`Signup error from server: ${g.error}`,"AUTH"),new Error(g.error||"Failed to create account");Qe.success("User created successfully","AUTH");const{data:j,error:k}=await ue.auth.signInWithPassword({email:f,password:x});if(k)throw Qe.error("Sign in error after signup","AUTH",k),k;Qe.success("User signed in successfully","AUTH"),s({id:j.user.id,email:j.user.email,name:((y=j.user.user_metadata)==null?void 0:y.name)||b});try{Qe.info("Creating user permissions in KV store","AUTH"),(await fetch("https://undefined.supabase.co/functions/v1/make-server-c2a25be0/kv/set",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j.session.access_token}`},body:JSON.stringify({key:`user-permissions:${j.user.id}`,value:{userId:j.user.id,email:j.user.email,name:((w=j.user.user_metadata)==null?void 0:w.name)||b,role:"client",modules:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}})})).ok?Qe.success("User permissions created in KV store","AUTH"):Qe.warning("Failed to create permissions in KV store","AUTH")}catch(E){Qe.warning("Error creating permissions in KV","AUTH",E)}return Qe.success("Signup process completed successfully!","AUTH"),j}catch(m){throw Qe.error("Sign up error","AUTH",m),m}},[]),l=p.useCallback(async()=>{try{await ue.auth.signOut(),s(null)}catch(f){throw Qe.error("Sign out error","AUTH",f),f}},[]),c=p.useCallback(async f=>{try{const{error:x}=await ue.auth.resetPasswordForEmail(f,{redirectTo:`${window.location.origin}/reset-password`});if(x)throw x}catch(x){throw Qe.error("Reset password error","AUTH",x),new Error(x.message||"Failed to send reset email")}},[]),d=p.useCallback(async f=>{try{const{error:x}=await ue.auth.updateUser({password:f});if(x)throw x}catch(x){throw Qe.error("Update password error","AUTH",x),new Error(x.message||"Failed to update password")}},[]),h=p.useMemo(()=>{const f=t?xs(t.email):!1;return console.log(" [AuthContext] Admin status calculated:",{userEmail:t==null?void 0:t.email,isAdmin:f}),f},[t]),u=p.useMemo(()=>({user:t,loading:n,isAdmin:h,signIn:i,signUp:o,signOut:l,resetPassword:c,updatePassword:d}),[t,n,h,i,o,l,c,d]);return r.jsx(Qv.Provider,{value:u,children:e})}function Tt(){const e=p.useContext(Qv);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function x2(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const v2=e=>{switch(e){case"success":return w2;case"info":return N2;case"warning":return j2;case"error":return S2;default:return null}},y2=Array(12).fill(0),b2=({visible:e,className:t})=>F.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},F.createElement("div",{className:"sonner-spinner"},y2.map((s,n)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),w2=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),j2=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),N2=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),S2=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),k2=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),C2=()=>{const[e,t]=F.useState(document.hidden);return F.useEffect(()=>{const s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e};let Yu=1;class E2{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const{message:n,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:Yu++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(n=>n({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let n;s.loading!==void 0&&(n=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const l=a.then(async d=>{if(o=["resolve",d],F.isValidElement(d))i=!1,this.create({id:n,type:"default",message:d});else if(_2(d)&&!d.ok){i=!1;const u=typeof s.error=="function"?await s.error(`HTTP error! status: ${d.status}`):s.error,f=typeof s.description=="function"?await s.description(`HTTP error! status: ${d.status}`):s.description,b=typeof u=="object"&&!F.isValidElement(u)?u:{message:u};this.create({id:n,type:"error",description:f,...b})}else if(d instanceof Error){i=!1;const u=typeof s.error=="function"?await s.error(d):s.error,f=typeof s.description=="function"?await s.description(d):s.description,b=typeof u=="object"&&!F.isValidElement(u)?u:{message:u};this.create({id:n,type:"error",description:f,...b})}else if(s.success!==void 0){i=!1;const u=typeof s.success=="function"?await s.success(d):s.success,f=typeof s.description=="function"?await s.description(d):s.description,b=typeof u=="object"&&!F.isValidElement(u)?u:{message:u};this.create({id:n,type:"success",description:f,...b})}}).catch(async d=>{if(o=["reject",d],s.error!==void 0){i=!1;const h=typeof s.error=="function"?await s.error(d):s.error,u=typeof s.description=="function"?await s.description(d):s.description,x=typeof h=="object"&&!F.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:u,...x})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),s.finally==null||s.finally.call(s)}),c=()=>new Promise((d,h)=>l.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,s)=>{const n=(s==null?void 0:s.id)||Yu++;return this.create({jsx:t(n),id:n,...s}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const jt=new E2,T2=(e,t)=>{const s=(t==null?void 0:t.id)||Yu++;return jt.addToast({title:e,...t,id:s}),s},_2=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",A2=T2,P2=()=>jt.toasts,R2=()=>jt.getActiveToasts(),G=Object.assign(A2,{success:jt.success,info:jt.info,warning:jt.warning,error:jt.error,custom:jt.custom,message:jt.message,promise:jt.promise,dismiss:jt.dismiss,loading:jt.loading},{getHistory:P2,getToasts:R2});x2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Co(e){return e.label!==void 0}const O2=3,I2="24px",D2="16px",Ep=4e3,$2=356,F2=14,L2=45,M2=200;function Ns(...e){return e.filter(Boolean).join(" ")}function U2(e){const[t,s]=e.split("-"),n=[];return t&&n.push(t),s&&n.push(s),n}const B2=e=>{var t,s,n,a,i,o,l,c,d;const{invert:h,toast:u,unstyled:f,interacting:x,setHeights:b,visibleToasts:y,heights:w,index:m,toasts:v,expanded:g,removeToast:j,defaultRichColors:k,closeButton:E,style:N,cancelButtonStyle:C,actionButtonStyle:T,className:R="",descriptionClassName:$="",duration:H,position:O,gap:_,expandByDefault:U,classNames:D,icons:L,closeButtonAriaLabel:S="Close toast"}=e,[A,P]=F.useState(null),[q,J]=F.useState(null),[z,ne]=F.useState(!1),[le,fe]=F.useState(!1),[W,V]=F.useState(!1),[I,M]=F.useState(!1),[Y,K]=F.useState(!1),[ge,xe]=F.useState(0),[Bt,Xt]=F.useState(0),Zt=F.useRef(u.duration||H||Ep),Xi=F.useRef(null),bt=F.useRef(null),sw=m===0,nw=m+1<=y,_t=u.type,gr=u.dismissible!==!1,rw=u.className||"",aw=u.descriptionClassName||"",Zi=F.useMemo(()=>w.findIndex(he=>he.toastId===u.id)||0,[w,u.id]),iw=F.useMemo(()=>{var he;return(he=u.closeButton)!=null?he:E},[u.closeButton,E]),Dm=F.useMemo(()=>u.duration||H||Ep,[u.duration,H]),Fc=F.useRef(0),xr=F.useRef(0),$m=F.useRef(0),vr=F.useRef(null),[ow,lw]=O.split("-"),Fm=F.useMemo(()=>w.reduce((he,Je,ct)=>ct>=Zi?he:he+Je.height,0),[w,Zi]),Lm=C2(),cw=u.invert||h,Lc=_t==="loading";xr.current=F.useMemo(()=>Zi*_+Fm,[Zi,Fm]),F.useEffect(()=>{Zt.current=Dm},[Dm]),F.useEffect(()=>{ne(!0)},[]),F.useEffect(()=>{const he=bt.current;if(he){const Je=he.getBoundingClientRect().height;return Xt(Je),b(ct=>[{toastId:u.id,height:Je,position:u.position},...ct]),()=>b(ct=>ct.filter(At=>At.toastId!==u.id))}},[b,u.id]),F.useLayoutEffect(()=>{if(!z)return;const he=bt.current,Je=he.style.height;he.style.height="auto";const ct=he.getBoundingClientRect().height;he.style.height=Je,Xt(ct),b(At=>At.find(st=>st.toastId===u.id)?At.map(st=>st.toastId===u.id?{...st,height:ct}:st):[{toastId:u.id,height:ct,position:u.position},...At])},[z,u.title,u.description,b,u.id,u.jsx,u.action,u.cancel]);const Xs=F.useCallback(()=>{fe(!0),xe(xr.current),b(he=>he.filter(Je=>Je.toastId!==u.id)),setTimeout(()=>{j(u)},M2)},[u,j,b,xr]);F.useEffect(()=>{if(u.promise&&_t==="loading"||u.duration===1/0||u.type==="loading")return;let he;return g||x||Lm?(()=>{if($m.current<Fc.current){const At=new Date().getTime()-Fc.current;Zt.current=Zt.current-At}$m.current=new Date().getTime()})():(()=>{Zt.current!==1/0&&(Fc.current=new Date().getTime(),he=setTimeout(()=>{u.onAutoClose==null||u.onAutoClose.call(u,u),Xs()},Zt.current))})(),()=>clearTimeout(he)},[g,x,u,_t,Lm,Xs]),F.useEffect(()=>{u.delete&&(Xs(),u.onDismiss==null||u.onDismiss.call(u,u))},[Xs,u.delete]);function dw(){var he;if(L!=null&&L.loading){var Je;return F.createElement("div",{className:Ns(D==null?void 0:D.loader,u==null||(Je=u.classNames)==null?void 0:Je.loader,"sonner-loader"),"data-visible":_t==="loading"},L.loading)}return F.createElement(b2,{className:Ns(D==null?void 0:D.loader,u==null||(he=u.classNames)==null?void 0:he.loader),visible:_t==="loading"})}const uw=u.icon||(L==null?void 0:L[_t])||v2(_t);var Mm,Um;return F.createElement("li",{tabIndex:0,ref:bt,className:Ns(R,rw,D==null?void 0:D.toast,u==null||(t=u.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[_t],u==null||(s=u.classNames)==null?void 0:s[_t]),"data-sonner-toast":"","data-rich-colors":(Mm=u.richColors)!=null?Mm:k,"data-styled":!(u.jsx||u.unstyled||f),"data-mounted":z,"data-promise":!!u.promise,"data-swiped":Y,"data-removed":le,"data-visible":nw,"data-y-position":ow,"data-x-position":lw,"data-index":m,"data-front":sw,"data-swiping":W,"data-dismissible":gr,"data-type":_t,"data-invert":cw,"data-swipe-out":I,"data-swipe-direction":q,"data-expanded":!!(g||U&&z),"data-testid":u.testId,style:{"--index":m,"--toasts-before":m,"--z-index":v.length-m,"--offset":`${le?ge:xr.current}px`,"--initial-height":U?"auto":`${Bt}px`,...N,...u.style},onDragEnd:()=>{V(!1),P(null),vr.current=null},onPointerDown:he=>{he.button!==2&&(Lc||!gr||(Xi.current=new Date,xe(xr.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&(V(!0),vr.current={x:he.clientX,y:he.clientY})))},onPointerUp:()=>{var he,Je,ct;if(I||!gr)return;vr.current=null;const At=Number(((he=bt.current)==null?void 0:he.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),eo=Number(((Je=bt.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),st=new Date().getTime()-((ct=Xi.current)==null?void 0:ct.getTime()),zt=A==="x"?At:eo,to=Math.abs(zt)/st;if(Math.abs(zt)>=L2||to>.11){xe(xr.current),u.onDismiss==null||u.onDismiss.call(u,u),J(A==="x"?At>0?"right":"left":eo>0?"down":"up"),Xs(),M(!0);return}else{var es,ts;(es=bt.current)==null||es.style.setProperty("--swipe-amount-x","0px"),(ts=bt.current)==null||ts.style.setProperty("--swipe-amount-y","0px")}K(!1),V(!1),P(null)},onPointerMove:he=>{var Je,ct,At;if(!vr.current||!gr||((Je=window.getSelection())==null?void 0:Je.toString().length)>0)return;const st=he.clientY-vr.current.y,zt=he.clientX-vr.current.x;var to;const es=(to=e.swipeDirections)!=null?to:U2(O);!A&&(Math.abs(zt)>1||Math.abs(st)>1)&&P(Math.abs(zt)>Math.abs(st)?"x":"y");let ts={x:0,y:0};const Bm=In=>1/(1.5+Math.abs(In)/20);if(A==="y"){if(es.includes("top")||es.includes("bottom"))if(es.includes("top")&&st<0||es.includes("bottom")&&st>0)ts.y=st;else{const In=st*Bm(st);ts.y=Math.abs(In)<Math.abs(st)?In:st}}else if(A==="x"&&(es.includes("left")||es.includes("right")))if(es.includes("left")&&zt<0||es.includes("right")&&zt>0)ts.x=zt;else{const In=zt*Bm(zt);ts.x=Math.abs(In)<Math.abs(zt)?In:zt}(Math.abs(ts.x)>0||Math.abs(ts.y)>0)&&K(!0),(ct=bt.current)==null||ct.style.setProperty("--swipe-amount-x",`${ts.x}px`),(At=bt.current)==null||At.style.setProperty("--swipe-amount-y",`${ts.y}px`)}},iw&&!u.jsx&&_t!=="loading"?F.createElement("button",{"aria-label":S,"data-disabled":Lc,"data-close-button":!0,onClick:Lc||!gr?()=>{}:()=>{Xs(),u.onDismiss==null||u.onDismiss.call(u,u)},className:Ns(D==null?void 0:D.closeButton,u==null||(n=u.classNames)==null?void 0:n.closeButton)},(Um=L==null?void 0:L.close)!=null?Um:k2):null,(_t||u.icon||u.promise)&&u.icon!==null&&((L==null?void 0:L[_t])!==null||u.icon)?F.createElement("div",{"data-icon":"",className:Ns(D==null?void 0:D.icon,u==null||(a=u.classNames)==null?void 0:a.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||dw():null,u.type!=="loading"?uw:null):null,F.createElement("div",{"data-content":"",className:Ns(D==null?void 0:D.content,u==null||(i=u.classNames)==null?void 0:i.content)},F.createElement("div",{"data-title":"",className:Ns(D==null?void 0:D.title,u==null||(o=u.classNames)==null?void 0:o.title)},u.jsx?u.jsx:typeof u.title=="function"?u.title():u.title),u.description?F.createElement("div",{"data-description":"",className:Ns($,aw,D==null?void 0:D.description,u==null||(l=u.classNames)==null?void 0:l.description)},typeof u.description=="function"?u.description():u.description):null),F.isValidElement(u.cancel)?u.cancel:u.cancel&&Co(u.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||C,onClick:he=>{Co(u.cancel)&&gr&&(u.cancel.onClick==null||u.cancel.onClick.call(u.cancel,he),Xs())},className:Ns(D==null?void 0:D.cancelButton,u==null||(c=u.classNames)==null?void 0:c.cancelButton)},u.cancel.label):null,F.isValidElement(u.action)?u.action:u.action&&Co(u.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||T,onClick:he=>{Co(u.action)&&(u.action.onClick==null||u.action.onClick.call(u.action,he),!he.defaultPrevented&&Xs())},className:Ns(D==null?void 0:D.actionButton,u==null||(d=u.classNames)==null?void 0:d.actionButton)},u.action.label):null)};function Tp(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function z2(e,t){const s={};return[e,t].forEach((n,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",l=i?D2:I2;function c(d){["top","right","bottom","left"].forEach(h=>{s[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?s[`${o}-${d}`]=l:s[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),s}const V2=F.forwardRef(function(t,s){const{id:n,invert:a,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:d,offset:h,mobileOffset:u,theme:f="light",richColors:x,duration:b,style:y,visibleToasts:w=O2,toastOptions:m,dir:v=Tp(),gap:g=F2,icons:j,containerAriaLabel:k="Notifications"}=t,[E,N]=F.useState([]),C=F.useMemo(()=>n?E.filter(z=>z.toasterId===n):E.filter(z=>!z.toasterId),[E,n]),T=F.useMemo(()=>Array.from(new Set([i].concat(C.filter(z=>z.position).map(z=>z.position)))),[C,i]),[R,$]=F.useState([]),[H,O]=F.useState(!1),[_,U]=F.useState(!1),[D,L]=F.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),S=F.useRef(null),A=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=F.useRef(null),q=F.useRef(!1),J=F.useCallback(z=>{N(ne=>{var le;return(le=ne.find(fe=>fe.id===z.id))!=null&&le.delete||jt.dismiss(z.id),ne.filter(({id:fe})=>fe!==z.id)})},[]);return F.useEffect(()=>jt.subscribe(z=>{if(z.dismiss){requestAnimationFrame(()=>{N(ne=>ne.map(le=>le.id===z.id?{...le,delete:!0}:le))});return}setTimeout(()=>{J0.flushSync(()=>{N(ne=>{const le=ne.findIndex(fe=>fe.id===z.id);return le!==-1?[...ne.slice(0,le),{...ne[le],...z},...ne.slice(le+1)]:[z,...ne]})})})}),[E]),F.useEffect(()=>{if(f!=="system"){L(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;const z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:ne})=>{L(ne?"dark":"light")})}catch{z.addListener(({matches:le})=>{try{L(le?"dark":"light")}catch(fe){console.error(fe)}})}},[f]),F.useEffect(()=>{E.length<=1&&O(!1)},[E]),F.useEffect(()=>{const z=ne=>{var le;if(o.every(V=>ne[V]||ne.code===V)){var W;O(!0),(W=S.current)==null||W.focus()}ne.code==="Escape"&&(document.activeElement===S.current||(le=S.current)!=null&&le.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[o]),F.useEffect(()=>{if(S.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,q.current=!1)}},[S.current]),F.createElement("section",{ref:s,"aria-label":`${k} ${A}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((z,ne)=>{var le;const[fe,W]=z.split("-");return C.length?F.createElement("ol",{key:z,dir:v==="auto"?Tp():v,tabIndex:-1,ref:S,className:d,"data-sonner-toaster":!0,"data-sonner-theme":D,"data-y-position":fe,"data-x-position":W,style:{"--front-toast-height":`${((le=R[0])==null?void 0:le.height)||0}px`,"--width":`${$2}px`,"--gap":`${g}px`,...y,...z2(h,u)},onBlur:V=>{q.current&&!V.currentTarget.contains(V.relatedTarget)&&(q.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||q.current||(q.current=!0,P.current=V.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{_||O(!1)},onDragEnd:()=>O(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},C.filter(V=>!V.position&&ne===0||V.position===z).map((V,I)=>{var M,Y;return F.createElement(B2,{key:V.id,icons:j,index:I,toast:V,defaultRichColors:x,duration:(M=m==null?void 0:m.duration)!=null?M:b,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:a,visibleToasts:w,closeButton:(Y=m==null?void 0:m.closeButton)!=null?Y:c,interacting:_,position:z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,closeButtonAriaLabel:m==null?void 0:m.closeButtonAriaLabel,removeToast:J,toasts:C.filter(K=>K.position==V.position),heights:R.filter(K=>K.position==V.position),setHeights:$,expandByDefault:l,gap:g,expanded:H,swipeDirections:t.swipeDirections})})):null}))});class H2 extends p.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,s){console.error(" ErrorBoundary caught an error:",t,s),this.setState({error:t,errorInfo:s})}render(){return this.state.hasError?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-lg p-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-red-600 text-3xl",children:""})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),r.jsx("p",{className:"text-gray-600",children:"The application encountered an error."})]}),this.state.error&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[r.jsx("h2",{className:"font-semibold text-red-900 mb-2",children:"Error:"}),r.jsx("pre",{className:"text-sm text-red-800 overflow-auto",children:this.state.error.toString()})]}),this.state.errorInfo&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:[r.jsx("h2",{className:"font-semibold text-gray-900 mb-2",children:"Stack Trace:"}),r.jsx("pre",{className:"text-xs text-gray-700 overflow-auto max-h-64",children:this.state.errorInfo.componentStack})]}),r.jsx("div",{className:"text-center",children:r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})})]})}):this.props.children}}/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var W2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(e,t)=>{const s=p.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},h)=>p.createElement("svg",{ref:h,...W2,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${q2(e)}`,l].join(" "),...d},[...t.map(([u,f])=>p.createElement(u,f)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=te("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=te("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=te("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=te("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=te("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=te("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=te("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=te("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=te("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=te("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=te("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=te("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=te("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=te("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=te("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=te("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=te("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=te("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=te("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=te("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wd="2.0.0",Eo="app_version";function iE(){const[e,t]=p.useState(!1);p.useEffect(()=>{const n=localStorage.getItem(Eo);(!n||n!==wd)&&(console.log(` Version mismatch! Stored: ${n}, Current: ${wd}`),t(!0),localStorage.setItem(Eo,wd))},[]);const s=()=>{typeof window<"u"&&"caches"in window&&caches.keys().then(n=>{n.forEach(a=>caches.delete(a))}).catch(()=>{});try{const n=localStorage.getItem(Eo);localStorage.clear(),n&&localStorage.setItem(Eo,n)}catch{}window.location.reload()};return e?r.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-yellow-500 text-white p-4 shadow-lg",children:r.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(fm,{className:"w-6 h-6 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold",children:" Nova verso disponvel!"}),r.jsx("p",{className:"text-sm opacity-90",children:"Recarregue a pgina para garantir que est usando a verso mais recente."})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:s,className:"px-4 py-2 bg-white text-yellow-600 rounded-lg font-semibold hover:bg-yellow-50 transition-colors",children:" Recarregar Agora"}),r.jsx("button",{onClick:()=>t(!1),className:"px-4 py-2 bg-yellow-600 text-white rounded-lg font-semibold hover:bg-yellow-700 transition-colors",children:"Dispensar"})]})]})}):null}function oy(){const{language:e,setLanguage:t,t:s}=Qt();return r.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:r.jsx("div",{className:"container mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(um,{to:"/",className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"DP"})}),r.jsx("span",{className:"text-gray-900 font-semibold text-xl",children:"DuoPro Services"})]}),r.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[r.jsx("a",{href:"#about",className:"text-gray-700 hover:text-blue-600 transition-colors",children:s("header.about")}),r.jsx("a",{href:"#services",className:"text-gray-700 hover:text-blue-600 transition-colors",children:s("header.services")}),r.jsx("a",{href:"#pricing",className:"text-gray-700 hover:text-blue-600 transition-colors",children:s("header.pricing")}),r.jsx("a",{href:"#process",className:"text-gray-700 hover:text-blue-600 transition-colors",children:s("header.process")}),r.jsx("a",{href:"#contact",className:"text-gray-700 hover:text-blue-600 transition-colors",children:s("header.contact")})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("button",{onClick:()=>t(e==="en"?"fr":"en"),className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-300 hover:border-blue-600 hover:bg-blue-50 transition-colors",children:[r.jsx(ty,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:e==="en"?"FR":"EN"})]})})]})})})}function oE(){const{t:e}=Qt(),t=new Date().getFullYear();return r.jsx("footer",{className:"bg-gray-900 text-white",children:r.jsxs("div",{className:"container mx-auto px-4 py-12",children:[r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center gap-2 mb-4",children:r.jsx("h2",{className:"text-xl font-bold",children:"DuoPro Services"})}),r.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Professional Canadian tax services for individuals, newcomers, and small businesses."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Quick Links"}),r.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"#services",className:"hover:text-white transition-colors",children:"Services"})}),r.jsx("li",{children:r.jsx("a",{href:"#about",className:"hover:text-white transition-colors",children:"About Us"})}),r.jsx("li",{children:r.jsx("a",{href:"#contact",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Contact Us"}),r.jsxs("ul",{className:"space-y-3 text-gray-400 text-sm",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(ir,{className:"w-4 h-4"}),r.jsx("a",{href:"mailto:duopro@duoproservices.ca",className:"hover:text-white transition-colors",children:"duopro@duoproservices.ca"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Di,{className:"w-4 h-4"}),r.jsx("a",{href:"tel:+15145627838",className:"hover:text-white transition-colors",children:"+1 (514) 562-7838"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Sc,{className:"w-4 h-4"}),r.jsx("a",{href:"https://wa.me/15794211620",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"WhatsApp: +1 (579) 421-1620"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Nc,{className:"w-4 h-4 mt-0.5"}),r.jsx("span",{children:"Canada"})]})]})]})]}),r.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400 text-sm",children:r.jsxs("p",{children:[" ",t," DuoPro Services. All rights reserved."]})})]})})}function lE(){const{language:e}=Qt(),s="https://wa.me/15794211620",n={en:"Chat on WhatsApp",fr:"Discuter sur WhatsApp"};return r.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 bg-green-500 hover:bg-green-600 text-white rounded-full p-4 shadow-lg transition-all duration-300 hover:scale-110 group","aria-label":n[e],children:[r.jsx(Sc,{className:"w-6 h-6"}),r.jsx("span",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-slate-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:n[e]}),r.jsx("span",{className:"absolute inset-0 rounded-full bg-green-500 animate-ping opacity-75"})]})}function Ap(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ea(...e){return t=>{let s=!1;const n=e.map(a=>{const i=Ap(a,t);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Ap(e[a],null)}}}}function Ue(...e){return p.useCallback(Ea(...e),e)}var cE=Symbol.for("react.lazy"),Wl=mh[" use ".trim().toString()];function dE(e){return typeof e=="object"&&e!==null&&"then"in e}function ly(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===cE&&"_payload"in e&&dE(e._payload)}function cy(e){const t=uE(e),s=p.forwardRef((n,a)=>{let{children:i,...o}=n;ly(i)&&typeof Wl=="function"&&(i=Wl(i._payload));const l=p.Children.toArray(i),c=l.find(mE);if(c){const d=c.props.children,h=l.map(u=>u===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:u);return r.jsx(t,{...o,ref:a,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return r.jsx(t,{...o,ref:a,children:i})});return s.displayName=`${e}.Slot`,s}var dy=cy("Slot");function uE(e){const t=p.forwardRef((s,n)=>{let{children:a,...i}=s;if(ly(a)&&typeof Wl=="function"&&(a=Wl(a._payload)),p.isValidElement(a)){const o=pE(a),l=fE(i,a.props);return a.type!==p.Fragment&&(l.ref=n?Ea(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hE=Symbol("radix.slottable");function mE(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hE}function fE(e,t){const s={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?s[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(s[n]=a):n==="style"?s[n]={...a,...i}:n==="className"&&(s[n]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function pE(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function uy(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=uy(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function hy(){for(var e,t,s=0,n="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=uy(e))&&(n&&(n+=" "),n+=t);return n}const Pp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Rp=hy,my=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return Rp(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const h=s==null?void 0:s[d],u=i==null?void 0:i[d];if(h===null)return null;const f=Pp(h)||Pp(u);return a[d][f]}),l=s&&Object.entries(s).reduce((d,h)=>{let[u,f]=h;return f===void 0||(d[u]=f),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,h)=>{let{class:u,className:f,...x}=h;return Object.entries(x).every(b=>{let[y,w]=b;return Array.isArray(w)?w.includes({...i,...l}[y]):{...i,...l}[y]===w})?[...d,u,f]:d},[]);return Rp(e,o,c,s==null?void 0:s.class,s==null?void 0:s.className)},gE=(e,t)=>{const s=new Array(e.length+t.length);for(let n=0;n<e.length;n++)s[n]=e[n];for(let n=0;n<t.length;n++)s[e.length+n]=t[n];return s},xE=(e,t)=>({classGroupId:e,validator:t}),fy=(e=new Map,t=null,s)=>({nextPart:e,validators:t,classGroupId:s}),ql="-",Op=[],vE="arbitrary..",yE=e=>{const t=wE(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return bE(o);const l=o.split(ql),c=l[0]===""&&l.length>1?1:0;return py(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=n[o],d=s[o];return c?d?gE(d,c):c:d||Op}return s[o]||Op}}},py=(e,t,s)=>{if(e.length-t===0)return s.classGroupId;const a=e[t],i=s.nextPart.get(a);if(i){const d=py(e,t+1,i);if(d)return d}const o=s.validators;if(o===null)return;const l=t===0?e.join(ql):e.slice(t).join(ql),c=o.length;for(let d=0;d<c;d++){const h=o[d];if(h.validator(l))return h.classGroupId}},bE=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),s=t.indexOf(":"),n=t.slice(0,s);return n?vE+n:void 0})(),wE=e=>{const{theme:t,classGroups:s}=e;return jE(s,t)},jE=(e,t)=>{const s=fy();for(const n in e){const a=e[n];vm(a,s,n,t)}return s},vm=(e,t,s,n)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];NE(o,t,s,n)}},NE=(e,t,s,n)=>{if(typeof e=="string"){SE(e,t,s);return}if(typeof e=="function"){kE(e,t,s,n);return}CE(e,t,s,n)},SE=(e,t,s)=>{const n=e===""?t:gy(t,e);n.classGroupId=s},kE=(e,t,s,n)=>{if(EE(e)){vm(e(n),t,s,n);return}t.validators===null&&(t.validators=[]),t.validators.push(xE(s,e))},CE=(e,t,s,n)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[l,c]=a[o];vm(c,gy(t,l),s,n)}},gy=(e,t)=>{let s=e;const n=t.split(ql),a=n.length;for(let i=0;i<a;i++){const o=n[i];let l=s.nextPart.get(o);l||(l=fy(),s.nextPart.set(o,l)),s=l}return s},EE=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,TE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=Object.create(null),n=Object.create(null);const a=(i,o)=>{s[i]=o,t++,t>e&&(t=0,n=s,s=Object.create(null))};return{get(i){let o=s[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in s?s[i]=o:a(i,o)}}},Qu="!",Ip=":",_E=[],Dp=(e,t,s,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:s,maybePostfixModifierPosition:n,isExternal:a}),AE=e=>{const{prefix:t,experimentalParseClassName:s}=e;let n=a=>{const i=[];let o=0,l=0,c=0,d;const h=a.length;for(let y=0;y<h;y++){const w=a[y];if(o===0&&l===0){if(w===Ip){i.push(a.slice(c,y)),c=y+1;continue}if(w==="/"){d=y;continue}}w==="["?o++:w==="]"?o--:w==="("?l++:w===")"&&l--}const u=i.length===0?a:a.slice(c);let f=u,x=!1;u.endsWith(Qu)?(f=u.slice(0,-1),x=!0):u.startsWith(Qu)&&(f=u.slice(1),x=!0);const b=d&&d>c?d-c:void 0;return Dp(i,x,f,b)};if(t){const a=t+Ip,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):Dp(_E,!1,o,void 0,!0)}if(s){const a=n;n=i=>s({className:i,parseClassName:a})}return n},PE=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((s,n)=>{t.set(s,1e6+n)}),s=>{const n=[];let a=[];for(let i=0;i<s.length;i++){const o=s[i],l=o[0]==="[",c=t.has(o);l||c?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},RE=e=>({cache:TE(e.cacheSize),parseClassName:AE(e),sortModifiers:PE(e),...yE(e)}),OE=/\s+/,IE=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(OE);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:u,modifiers:f,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:y}=s(h);if(u){c=h+(c.length>0?" "+c:c);continue}let w=!!y,m=n(w?b.substring(0,y):b);if(!m){if(!w){c=h+(c.length>0?" "+c:c);continue}if(m=n(b),!m){c=h+(c.length>0?" "+c:c);continue}w=!1}const v=f.length===0?"":f.length===1?f[0]:i(f).join(":"),g=x?v+Qu:v,j=g+m;if(o.indexOf(j)>-1)continue;o.push(j);const k=a(m,w);for(let E=0;E<k.length;++E){const N=k[E];o.push(g+N)}c=h+(c.length>0?" "+c:c)}return c},DE=(...e)=>{let t=0,s,n,a="";for(;t<e.length;)(s=e[t++])&&(n=xy(s))&&(a&&(a+=" "),a+=n);return a},xy=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=xy(e[n]))&&(s&&(s+=" "),s+=t);return s},$E=(e,...t)=>{let s,n,a,i;const o=c=>{const d=t.reduce((h,u)=>u(h),e());return s=RE(d),n=s.cache.get,a=s.cache.set,i=l,l(c)},l=c=>{const d=n(c);if(d)return d;const h=IE(c,s);return a(c,h),h};return i=o,(...c)=>i(DE(...c))},FE=[],He=e=>{const t=s=>s[e]||FE;return t.isThemeGetter=!0,t},vy=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,yy=/^\((?:(\w[\w-]*):)?(.+)\)$/i,LE=/^\d+\/\d+$/,ME=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kr=e=>LE.test(e),me=e=>!!e&&!Number.isNaN(Number(e)),en=e=>!!e&&Number.isInteger(Number(e)),jd=e=>e.endsWith("%")&&me(e.slice(0,-1)),$s=e=>ME.test(e),HE=()=>!0,WE=e=>UE.test(e)&&!BE.test(e),by=()=>!1,qE=e=>zE.test(e),KE=e=>VE.test(e),GE=e=>!Z(e)&&!ee(e),YE=e=>Ta(e,Ny,by),Z=e=>vy.test(e),Fn=e=>Ta(e,Sy,WE),Nd=e=>Ta(e,eT,me),$p=e=>Ta(e,wy,by),JE=e=>Ta(e,jy,KE),To=e=>Ta(e,ky,qE),ee=e=>yy.test(e),Ka=e=>_a(e,Sy),QE=e=>_a(e,tT),Fp=e=>_a(e,wy),XE=e=>_a(e,Ny),ZE=e=>_a(e,jy),_o=e=>_a(e,ky,!0),Ta=(e,t,s)=>{const n=vy.exec(e);return n?n[1]?t(n[1]):s(n[2]):!1},_a=(e,t,s=!1)=>{const n=yy.exec(e);return n?n[1]?t(n[1]):s:!1},wy=e=>e==="position"||e==="percentage",jy=e=>e==="image"||e==="url",Ny=e=>e==="length"||e==="size"||e==="bg-size",Sy=e=>e==="length",eT=e=>e==="number",tT=e=>e==="family-name",ky=e=>e==="shadow",sT=()=>{const e=He("color"),t=He("font"),s=He("text"),n=He("font-weight"),a=He("tracking"),i=He("leading"),o=He("breakpoint"),l=He("container"),c=He("spacing"),d=He("radius"),h=He("shadow"),u=He("inset-shadow"),f=He("text-shadow"),x=He("drop-shadow"),b=He("blur"),y=He("perspective"),w=He("aspect"),m=He("ease"),v=He("animate"),g=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...j(),ee,Z],E=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],C=()=>[ee,Z,c],T=()=>[kr,"full","auto",...C()],R=()=>[en,"none","subgrid",ee,Z],$=()=>["auto",{span:["full",en,ee,Z]},en,ee,Z],H=()=>[en,"auto",ee,Z],O=()=>["auto","min","max","fr",ee,Z],_=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],U=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...C()],L=()=>[kr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],S=()=>[e,ee,Z],A=()=>[...j(),Fp,$p,{position:[ee,Z]}],P=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",XE,YE,{size:[ee,Z]}],J=()=>[jd,Ka,Fn],z=()=>["","none","full",d,ee,Z],ne=()=>["",me,Ka,Fn],le=()=>["solid","dashed","dotted","double"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>[me,jd,Fp,$p],V=()=>["","none",b,ee,Z],I=()=>["none",me,ee,Z],M=()=>["none",me,ee,Z],Y=()=>[me,ee,Z],K=()=>[kr,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$s],breakpoint:[$s],color:[HE],container:[$s],"drop-shadow":[$s],ease:["in","out","in-out"],font:[GE],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$s],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$s],shadow:[$s],spacing:["px",me],text:[$s],"text-shadow":[$s],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",kr,Z,ee,w]}],container:["container"],columns:[{columns:[me,Z,ee,l]}],"break-after":[{"break-after":g()}],"break-before":[{"break-before":g()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[en,"auto",ee,Z]}],basis:[{basis:[kr,"full","auto",l,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[me,kr,"auto","initial","none",Z]}],grow:[{grow:["",me,ee,Z]}],shrink:[{shrink:["",me,ee,Z]}],order:[{order:[en,"first","last","none",ee,Z]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[..._(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",..._()]}],"align-items":[{items:[...U(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...U(),{baseline:["","last"]}]}],"place-content":[{"place-content":_()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[l,"screen",...L()]}],"min-w":[{"min-w":[l,"screen","none",...L()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",s,Ka,Fn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ee,Nd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",jd,Z]}],"font-family":[{font:[QE,Z,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ee,Z]}],"line-clamp":[{"line-clamp":[me,"none",ee,Nd]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",ee,Z]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ee,Z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:S()}],"text-color":[{text:S()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:[me,"from-font","auto",ee,Fn]}],"text-decoration-color":[{decoration:S()}],"underline-offset":[{"underline-offset":[me,"auto",ee,Z]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee,Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee,Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:A()}],"bg-repeat":[{bg:P()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},en,ee,Z],radial:["",ee,Z],conic:[en,ee,Z]},ZE,JE]}],"bg-color":[{bg:S()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:S()}],"gradient-via":[{via:S()}],"gradient-to":[{to:S()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...le(),"hidden","none"]}],"divide-style":[{divide:[...le(),"hidden","none"]}],"border-color":[{border:S()}],"border-color-x":[{"border-x":S()}],"border-color-y":[{"border-y":S()}],"border-color-s":[{"border-s":S()}],"border-color-e":[{"border-e":S()}],"border-color-t":[{"border-t":S()}],"border-color-r":[{"border-r":S()}],"border-color-b":[{"border-b":S()}],"border-color-l":[{"border-l":S()}],"divide-color":[{divide:S()}],"outline-style":[{outline:[...le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[me,ee,Z]}],"outline-w":[{outline:["",me,Ka,Fn]}],"outline-color":[{outline:S()}],shadow:[{shadow:["","none",h,_o,To]}],"shadow-color":[{shadow:S()}],"inset-shadow":[{"inset-shadow":["none",u,_o,To]}],"inset-shadow-color":[{"inset-shadow":S()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:S()}],"ring-offset-w":[{"ring-offset":[me,Fn]}],"ring-offset-color":[{"ring-offset":S()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":S()}],"text-shadow":[{"text-shadow":["none",f,_o,To]}],"text-shadow-color":[{"text-shadow":S()}],opacity:[{opacity:[me,ee,Z]}],"mix-blend":[{"mix-blend":[...fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":fe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[me]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":S()}],"mask-image-linear-to-color":[{"mask-linear-to":S()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":S()}],"mask-image-t-to-color":[{"mask-t-to":S()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":S()}],"mask-image-r-to-color":[{"mask-r-to":S()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":S()}],"mask-image-b-to-color":[{"mask-b-to":S()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":S()}],"mask-image-l-to-color":[{"mask-l-to":S()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":S()}],"mask-image-x-to-color":[{"mask-x-to":S()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":S()}],"mask-image-y-to-color":[{"mask-y-to":S()}],"mask-image-radial":[{"mask-radial":[ee,Z]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":S()}],"mask-image-radial-to-color":[{"mask-radial-to":S()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[me]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":S()}],"mask-image-conic-to-color":[{"mask-conic-to":S()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:A()}],"mask-repeat":[{mask:P()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ee,Z]}],filter:[{filter:["","none",ee,Z]}],blur:[{blur:V()}],brightness:[{brightness:[me,ee,Z]}],contrast:[{contrast:[me,ee,Z]}],"drop-shadow":[{"drop-shadow":["","none",x,_o,To]}],"drop-shadow-color":[{"drop-shadow":S()}],grayscale:[{grayscale:["",me,ee,Z]}],"hue-rotate":[{"hue-rotate":[me,ee,Z]}],invert:[{invert:["",me,ee,Z]}],saturate:[{saturate:[me,ee,Z]}],sepia:[{sepia:["",me,ee,Z]}],"backdrop-filter":[{"backdrop-filter":["","none",ee,Z]}],"backdrop-blur":[{"backdrop-blur":V()}],"backdrop-brightness":[{"backdrop-brightness":[me,ee,Z]}],"backdrop-contrast":[{"backdrop-contrast":[me,ee,Z]}],"backdrop-grayscale":[{"backdrop-grayscale":["",me,ee,Z]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[me,ee,Z]}],"backdrop-invert":[{"backdrop-invert":["",me,ee,Z]}],"backdrop-opacity":[{"backdrop-opacity":[me,ee,Z]}],"backdrop-saturate":[{"backdrop-saturate":[me,ee,Z]}],"backdrop-sepia":[{"backdrop-sepia":["",me,ee,Z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ee,Z]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[me,"initial",ee,Z]}],ease:[{ease:["linear","initial",m,ee,Z]}],delay:[{delay:[me,ee,Z]}],animate:[{animate:["none",v,ee,Z]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,ee,Z]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:I()}],"rotate-x":[{"rotate-x":I()}],"rotate-y":[{"rotate-y":I()}],"rotate-z":[{"rotate-z":I()}],scale:[{scale:M()}],"scale-x":[{"scale-x":M()}],"scale-y":[{"scale-y":M()}],"scale-z":[{"scale-z":M()}],"scale-3d":["scale-3d"],skew:[{skew:Y()}],"skew-x":[{"skew-x":Y()}],"skew-y":[{"skew-y":Y()}],transform:[{transform:[ee,Z,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:K()}],"translate-x":[{"translate-x":K()}],"translate-y":[{"translate-y":K()}],"translate-z":[{"translate-z":K()}],"translate-none":["translate-none"],accent:[{accent:S()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:S()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee,Z]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee,Z]}],fill:[{fill:["none",...S()]}],"stroke-w":[{stroke:[me,Ka,Fn,Nd]}],stroke:[{stroke:["none",...S()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nT=$E(sT);function lt(...e){return nT(hy(e))}const rT=my("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function se({className:e,variant:t,size:s,asChild:n=!1,...a}){const i=n?dy:"button";return r.jsx(i,{"data-slot":"button",className:lt(rT({variant:t,size:s,className:e})),...a})}function be({className:e,type:t,...s}){return r.jsx("input",{type:t,"data-slot":"input",className:lt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}function Aa({className:e,...t}){return r.jsx("textarea",{"data-slot":"textarea",className:lt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var aT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],iT=aT.reduce((e,t)=>{const s=cy(`Primitive.${t}`),n=p.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),oT="Label",Cy=p.forwardRef((e,t)=>r.jsx(iT.label,{...e,ref:t,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Cy.displayName=oT;var lT=Cy;function ce({className:e,...t}){return r.jsx(lT,{"data-slot":"label",className:lt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const ie=`https://${Ke}.supabase.co/functions/v1/make-server-c2a25be0`,mt={signup:`${ie}/auth/signup`,session:`${ie}/auth/session`,personalInfo:`${ie}/personal-info`,documentsUpload:`${ie}/documents/upload`,documents:`${ie}/documents`,documentDelete:e=>`${ie}/documents/${e}`,messages:e=>`${ie}/messages/${e}`,messagesSend:`${ie}/messages/send`,messagesUnreadCount:e=>`${ie}/messages/${e}/unread-count`,messagesMarkRead:e=>`${ie}/messages/${e}/read`,adminClients:`${ie}/admin/clients`,adminClient:e=>`${ie}/admin/clients/${e}`,adminClientFiles:(e,t)=>`${ie}/admin/clients/${e}/files/${t}`,adminFilingStatus:(e,t)=>`${ie}/admin/clients/${e}/filings/${t}/status`,adminFinancials:`${ie}/admin/financials`,adminNotifications:`${ie}/admin/notifications/send`,adminCreateBuckets:`${ie}/admin/create-buckets`,adminSetupPolicies:`${ie}/admin/setup-storage-policies`,adminTaxDocumentNotify:`${ie}/admin/tax-document/notify`,adminCraAssessmentSend:`${ie}/admin/cra-assessment/send`,adminInvoices:`${ie}/admin/invoices`,taxFilingCreate:`${ie}/tax-filing/create`,taxFilingSubmitReport:`${ie}/tax-filing/submit-report`,taxFilingApproveReport:`${ie}/tax-filing/approve-report`,taxFilingRejectReport:`${ie}/tax-filing/reject-report`,taxDocumentsParse:`${ie}/tax-documents/parse`,taxDocumentsGet:e=>`${ie}/tax-documents/${e}`,taxPreviewSave:`${ie}/tax-preview/save`,taxPreviewGet:(e,t)=>`${ie}/tax-preview/${e}/${t}`,createInitialPaymentInvoice:`${ie}/payment/initial-invoice`,invoices:`${ie}/payment/invoices`,invoice:e=>`${ie}/payment/invoice/${e}`,invoicePdf:e=>`${ie}/payment/invoice/${e}/pdf`,invoiceMarkPaid:e=>`${ie}/payment/invoice/${e}/paid`,paymentVerify:`${ie}/payment/verify`,stripeWebhook:`${ie}/stripe/webhook`,bookkeepingSummary:`${ie}/bookkeeping/summary`,bookkeepingExpenses:`${ie}/bookkeeping/expenses`,bookkeepingExpense:e=>`${ie}/bookkeeping/expenses/${e}`,bookkeepingInvoices:`${ie}/bookkeeping/invoices`,bookkeepingInvoiceDelete:e=>`${ie}/bookkeeping/invoices/${e}`,adminHubTasks:`${ie}/admin-hub/tasks`,adminHubTaskDelete:e=>`${ie}/admin-hub/tasks/${e}`,adminHubSocialPosts:`${ie}/admin-hub/social-posts`,adminHubSocialPostDelete:e=>`${ie}/admin-hub/social-posts/${e}`,teamActivities:`${ie}/admin-hub/activities`,teamActivityDelete:e=>`${ie}/admin-hub/activities/${e}`,contactSend:`${ie}/contact/send`,health:`${ie}/health`},cT=p.memo(function(){const{t,language:s}=Qt(),[n,a]=p.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,o]=p.useState(!1),l=!1,c=async u=>{u.preventDefault(),o(!0);try{console.log(" [Contact Form] Submitting form data:",{name:n.name,email:n.email,subject:n.subject,hasMessage:!!n.message,method:l?"Backend (Resend)":"Formspree"});let f;if(l||(console.log(" [Contact Form] Using Formspree..."),f=await fetch("https://formspree.io/f/xbddrodk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})),console.log(" [Contact Form] Response status:",f.status),console.log(" [Contact Form] Response ok:",f.ok),f.ok){const x=await f.json();console.log(" [Contact Form] Success! Response:",x);const b={en:"Thank you for your inquiry! We'll get back to you soon.",fr:"Merci pour votre demande! Nous vous rpondrons bientt.",pt:"Obrigado pela sua consulta! Entraremos em contato em breve."};G.success(b[s]),a({name:"",email:"",phone:"",subject:"",message:""})}else{const x=await f.text();throw console.error(" [Contact Form] Failed:",f.status,x),new Error(`Failed to send message: ${f.status}`)}}catch(f){console.error(" [Contact Form] Error:",f);const x={en:"Failed to send message. Please try again or email us directly at duopro@duoproservices.ca",fr:"chec de l'envoi du message. Veuillez ressayer ou nous envoyer un e-mail directement  duopro@duoproservices.ca",pt:"Falha ao enviar mensagem. Tente novamente ou envie-nos um e-mail diretamente para duopro@duoproservices.ca"};G.error(x[s])}finally{o(!1)}},d=u=>{a({...n,[u.target.name]:u.target.value})},h=[{icon:ir,labelKey:"contact.emailLabel",value:"duopro@duoproservices.ca",link:"mailto:duopro@duoproservices.ca"},{icon:Di,labelKey:"contact.phoneLabel",value:"+514 562 7838",link:"tel:+15145627838"},{icon:Sc,labelKey:"contact.whatsappLabel",value:"+1 579 421 1620",link:"https://wa.me/15794211620"},{icon:Nc,labelKey:"contact.locationLabel",value:"Serving clients across Canada",link:null},{icon:jc,labelKey:"contact.hoursLabel",value:"Mon-Fri: 9am-6pm EST",link:null}];return r.jsx("section",{id:"contact",className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[r.jsx("div",{className:"text-blue-600 uppercase tracking-wide mb-3",children:t("contact.section")}),r.jsx("h2",{className:"text-4xl text-slate-900 mb-4",children:t("contact.title")}),r.jsx("p",{className:"text-lg text-slate-600",children:t("contact.description")})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[r.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl text-slate-900 mb-6",children:t("contact.infoTitle")}),r.jsx("div",{className:"space-y-6",children:h.map(u=>{const f=u.labelKey==="contact.whatsappLabel",x=f?"bg-green-100":"bg-blue-100",b=f?"text-green-600":"text-blue-600",y=f?"hover:text-green-600":"hover:text-blue-600";return r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`w-12 h-12 ${x} rounded-lg flex items-center justify-center flex-shrink-0`,children:r.jsx(u.icon,{className:`w-6 h-6 ${b}`})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-slate-500 mb-1",children:t(u.labelKey)}),u.link?r.jsx("a",{href:u.link,target:f?"_blank":void 0,rel:f?"noopener noreferrer":void 0,className:`text-slate-900 ${y} transition-colors`,children:u.value}):r.jsx("div",{className:"text-slate-900",children:u.valueKey?t(u.valueKey):u.value})]})]},u.labelKey)})})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-slate-50 border border-blue-100 rounded-lg p-6",children:[r.jsx("h4",{className:"text-slate-900 mb-2",children:t("contact.taxSeasonTitle")}),r.jsx("p",{className:"text-sm text-slate-600 mb-3",children:t("contact.taxSeasonDesc")}),r.jsx("p",{className:"text-sm text-slate-600",children:t("contact.virtualDesc")})]})]}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-8",children:[r.jsx("h3",{className:"text-2xl text-slate-900 mb-6",children:t("contact.formTitle")}),r.jsxs("form",{onSubmit:c,className:"space-y-6",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{htmlFor:"name",children:[t("contact.nameLabel")," *"]}),r.jsx(be,{id:"name",name:"name",type:"text",required:!0,value:n.name,onChange:d,placeholder:t("contact.namePlaceholder"),className:"bg-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{htmlFor:"email",children:[t("contact.emailLabel")," *"]}),r.jsx(be,{id:"email",name:"email",type:"email",required:!0,value:n.email,onChange:d,placeholder:t("contact.emailPlaceholder"),className:"bg-white"})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"phone",children:t("contact.phoneLabel")}),r.jsx(be,{id:"phone",name:"phone",type:"tel",value:n.phone,onChange:d,placeholder:t("contact.phonePlaceholder"),className:"bg-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{htmlFor:"subject",children:[t("contact.subjectLabel")," *"]}),r.jsx(be,{id:"subject",name:"subject",type:"text",required:!0,value:n.subject,onChange:d,placeholder:t("contact.subjectPlaceholder"),className:"bg-white"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{htmlFor:"message",children:[t("contact.messageLabel")," *"]}),r.jsx(Aa,{id:"message",name:"message",required:!0,value:n.message,onChange:d,placeholder:t("contact.messagePlaceholder"),rows:6,className:"bg-white resize-none"})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm text-slate-600",children:[r.jsxs("p",{className:"mb-2",children:[r.jsx("strong",{className:"text-slate-900",children:t("contact.privacyTitle")})," ",t("contact.privacyText")]}),r.jsx("p",{children:t("contact.consentText")})]}),r.jsxs(se,{type:"submit",size:"lg",className:"w-full md:w-auto bg-blue-600 hover:bg-blue-700",disabled:i,children:[r.jsx(fa,{className:"w-4 h-4 mr-2"}),i?"Sending...":t("contact.submitButton")]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 rounded-2xl p-8 mt-8",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx("div",{className:"w-14 h-14 bg-green-100 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(Dt,{className:"w-7 h-7 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl text-slate-900 mb-2",children:t("contact.scheduleTitle")}),r.jsx("p",{className:"text-slate-600",children:t("contact.scheduleDesc")})]})]}),r.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm",children:r.jsx("iframe",{src:"https://calendly.com/duoproservices-info",width:"100%",height:"700",frameBorder:"0",title:"Schedule Consultation",className:"rounded-xl"})})]})]})]})]})})}),dT=p.memo(function(){const{t,language:s}=Qt(),a={en:{personal:{simple:{min:80,max:120,desc:"Simple T1 (T4 only)"},investments:{min:150,max:200,desc:"With investments / capital gains"},rental:{min:180,max:250,desc:"With rental income"},complex:{min:200,max:null,desc:"Multiple slips / complex deductions"}},newcomer:{firstTime:{min:150,max:220,desc:"First-time filer + tax residency"},foreign:{min:220,max:300,desc:"Foreign income + treaty"},complete:{min:250,max:350,desc:"Complete package (GST/HST + CCB + foreign income)"}},business:{simple:{min:250,max:350,desc:"Simple T2125 (few expenses)"},withDeductions:{min:400,max:600,desc:"With home office + expense optimization + GST/HST"},withBookkeeping:{min:600,max:700,desc:"With basic bookkeeping + quarterly planning"}},gst:{simple:{min:80,max:150,desc:"Simple filing"},reconciliation:{min:150,max:250,desc:"With reconciliation and adjustments"}},compliance:{review:{min:120,max:250,desc:"Prior year review"},noa:{min:100,max:180,desc:"Notice of Assessment review"},adjustment:{min:80,max:150,desc:"T1-ADJ (amendment) per year"},missing:{min:200,max:400,desc:"Missing slips / compliance review"}},planning:{hourly:{min:120,max:200,desc:"Hourly consultation"},annual:{min:250,max:500,desc:"Annual personal planning"},retirement:{min:400,max:800,desc:"Retirement / investment planning"}},representation:{simple:{min:150,max:300,desc:"Simple CRA response"},reassessment:{min:300,max:600,desc:"Reassessment request"},payment:{min:200,max:400,desc:"Payment arrangement"},penalty:{min:400,max:800,desc:"Penalty & interest relief"},complex:{min:1e3,max:1500,desc:"Complex cases / audit"}},packages:{personal:{price:{min:80,max:200},items:["T1 filing","NOA review"]},newcomer:{price:{min:150,max:350},items:["First T1","Foreign income","Benefits application"]},selfEmployed:{price:{min:250,max:700},items:["T1 filing","T2125 business","GST/HST returns"]}}},fr:{personal:{simple:{min:80,max:120,desc:"T1 simple (T4 seulement)"},investments:{min:150,max:200,desc:"Avec investissements / gains en capital"},rental:{min:180,max:250,desc:"Avec revenus de location"},complex:{min:200,max:null,desc:"Multiples feuillets / dductions complexes"}},newcomer:{firstTime:{min:150,max:220,desc:"Premier dclarant + rsidence fiscale"},foreign:{min:220,max:300,desc:"Revenus trangers + convention"},complete:{min:250,max:350,desc:"Forfait complet (TPS/TVH + ACE + revenus trangers)"}},business:{simple:{min:250,max:350,desc:"T2125 simple (peu de dpenses)"},withDeductions:{min:400,max:600,desc:"Avec bureau  domicile + optimisation + TPS/TVH"},withBookkeeping:{min:600,max:700,desc:"Avec comptabilit de base + planification trimestrielle"}},gst:{simple:{min:80,max:150,desc:"Dclaration simple"},reconciliation:{min:150,max:250,desc:"Avec rconciliation et ajustements"}},compliance:{review:{min:120,max:250,desc:"Rvision annes antrieures"},noa:{min:100,max:180,desc:"Rvision avis de cotisation"},adjustment:{min:80,max:150,desc:"T1-ADJ (modification) par anne"},missing:{min:200,max:400,desc:"Feuillets manquants / rvision conformit"}},planning:{hourly:{min:120,max:200,desc:"Consultation horaire"},annual:{min:250,max:500,desc:"Planification annuelle personnelle"},retirement:{min:400,max:800,desc:"Planification retraite / investissements"}},representation:{simple:{min:150,max:300,desc:"Rponse simple  l'ARC"},reassessment:{min:300,max:600,desc:"Demande de nouvelle cotisation"},payment:{min:200,max:400,desc:"Arrangement de paiement"},penalty:{min:400,max:800,desc:"Allgement pnalits et intrts"},complex:{min:1e3,max:1500,desc:"Cas complexes / vrification"}},packages:{personal:{price:{min:80,max:200},items:["Dclaration T1","Rvision avis"]},newcomer:{price:{min:150,max:350},items:["Premier T1","Revenus trangers","Demande prestations"]},selfEmployed:{price:{min:250,max:700},items:["Dclaration T1","Entreprise T2125","Dclarations TPS/TVH"]}}}}[s],i=(c,d)=>d===null?`CAD $${c}+`:`CAD $${c} - $${d}`,l={en:{section:"Pricing",title:"Transparent Pricing for Canadian Tax Services",description:"Clear, upfront pricing with no hidden fees. Pricing based on complexity and your specific needs.",personal:"T1  Personal Tax Returns",personalDesc:"Individual income tax filing",newcomer:"Newcomer Tax Services",newcomerDesc:"Specialized support for new Canadian residents",business:"Small Business / Self-Employed",businessDesc:"T2125 and business tax services",gst:"GST / HST Returns",gstDesc:"Sales tax filing",compliance:"Tax Compliance & Review",complianceDesc:"Reviews and amendments",planning:"Tax Planning & Advice",planningDesc:"Strategic tax consultation",representation:"CRA Representation",representationDesc:"Professional CRA support",packages:"Popular Service Packages",packagesDesc:"Bundled services at great value",personalPackage:"Personal Tax Package",newcomerPackage:"Newcomer Package",businessPackage:"Self-Employed Package",note:"Important Note",noteText:"Most professionals use a base price + additional fees based on complexity. Final pricing determined after initial consultation.",cta:"Get a Free Quote"},fr:{section:"Tarifs",title:"Tarification Transparente pour Services Fiscaux Canadiens",description:"Tarification claire et transparente sans frais cachs. Prix bas sur la complexit et vos besoins spcifiques.",personal:"T1  Dclarations de Revenus Personnelles",personalDesc:"Dclaration d'impt individuelle",newcomer:"Services Fiscaux Nouveaux Arrivants",newcomerDesc:"Soutien spcialis pour nouveaux rsidents",business:"Petite Entreprise / Travailleur Autonome",businessDesc:"Services fiscaux T2125 et entreprise",gst:"Dclarations TPS / TVH",gstDesc:"Dclaration de taxes de vente",compliance:"Conformit et Rvision Fiscales",complianceDesc:"Rvisions et modifications",planning:"Planification et Conseils Fiscaux",planningDesc:"Consultation fiscale stratgique",representation:"Reprsentation auprs de l'ARC",representationDesc:"Soutien professionnel avec l'ARC",packages:"Forfaits de Services Populaires",packagesDesc:"Services groups  excellent rapport qualit-prix",personalPackage:"Forfait Impt Personnel",newcomerPackage:"Forfait Nouveaux Arrivants",businessPackage:"Forfait Travailleur Autonome",note:"Note Importante",noteText:"La plupart des professionnels utilisent un prix de base + frais supplmentaires selon la complexit. Tarification finale dtermine aprs consultation initiale.",cta:"Obtenir un Devis Gratuit"}}[s];return r.jsx("section",{id:"pricing",className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[r.jsx("div",{className:"text-blue-600 uppercase tracking-wide mb-3",children:l.section}),r.jsx("h2",{className:"text-4xl text-slate-900 mb-4",children:l.title}),r.jsx("p",{className:"text-lg text-slate-600",children:l.description})]}),r.jsxs("div",{className:"mb-20",children:[r.jsx("h3",{className:"text-2xl text-slate-900 mb-2 text-center",children:l.packages}),r.jsx("p",{className:"text-slate-600 mb-8 text-center",children:l.packagesDesc}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white border-2 border-blue-200 rounded-2xl p-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h4",{className:"text-xl text-slate-900 mb-2",children:l.personalPackage}),r.jsx("div",{className:"text-3xl text-blue-600 mb-1",children:i(a.packages.personal.price.min,a.packages.personal.price.max)})]}),r.jsx("ul",{className:"space-y-3",children:a.packages.personal.items.map((c,d)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(al,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-slate-700",children:c})]},d))})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-white border-2 border-green-300 rounded-2xl p-6 transform scale-105 shadow-lg",children:[r.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:r.jsx("span",{className:"bg-green-600 text-white px-4 py-1 rounded-full text-sm",children:s==="en"?"Most Popular":"Le Plus Populaire"})}),r.jsxs("div",{className:"text-center mb-6 mt-4",children:[r.jsx("h4",{className:"text-xl text-slate-900 mb-2",children:l.newcomerPackage}),r.jsx("div",{className:"text-3xl text-green-600 mb-1",children:i(a.packages.newcomer.price.min,a.packages.newcomer.price.max)})]}),r.jsx("ul",{className:"space-y-3",children:a.packages.newcomer.items.map((c,d)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(al,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-slate-700",children:c})]},d))})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-white border-2 border-purple-200 rounded-2xl p-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h4",{className:"text-xl text-slate-900 mb-2",children:l.businessPackage}),r.jsx("div",{className:"text-3xl text-purple-600 mb-1",children:i(a.packages.selfEmployed.price.min,a.packages.selfEmployed.price.max)})]}),r.jsx("ul",{className:"space-y-3",children:a.packages.selfEmployed.items.map((c,d)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(al,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-slate-700",children:c})]},d))})]})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:[r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[r.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:l.personal}),r.jsx("p",{className:"text-sm text-slate-600 mb-4",children:l.personalDesc}),r.jsx("div",{className:"space-y-3",children:Object.values(a.personal).map((c,d)=>r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("span",{className:"text-sm text-slate-700",children:c.desc}),r.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(c.min,c.max)})]},d))})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[r.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:l.newcomer}),r.jsx("p",{className:"text-sm text-slate-600 mb-4",children:l.newcomerDesc}),r.jsx("div",{className:"space-y-3",children:Object.values(a.newcomer).map((c,d)=>r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("span",{className:"text-sm text-slate-700",children:c.desc}),r.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(c.min,c.max)})]},d))})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[r.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:l.business}),r.jsx("p",{className:"text-sm text-slate-600 mb-4",children:l.businessDesc}),r.jsx("div",{className:"space-y-3",children:Object.values(a.business).map((c,d)=>r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("span",{className:"text-sm text-slate-700",children:c.desc}),r.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(c.min,c.max)})]},d))})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[r.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:l.gst}),r.jsx("p",{className:"text-sm text-slate-600 mb-4",children:l.gstDesc}),r.jsx("div",{className:"space-y-3",children:Object.values(a.gst).map((c,d)=>r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("span",{className:"text-sm text-slate-700",children:c.desc}),r.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(c.min,c.max)})]},d))})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[r.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:l.compliance}),r.jsx("p",{className:"text-sm text-slate-600 mb-4",children:l.complianceDesc}),r.jsx("div",{className:"space-y-3",children:Object.values(a.compliance).map((c,d)=>r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("span",{className:"text-sm text-slate-700",children:c.desc}),r.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(c.min,c.max)})]},d))})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[r.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:l.planning}),r.jsx("p",{className:"text-sm text-slate-600 mb-4",children:l.planningDesc}),r.jsx("div",{className:"space-y-3",children:Object.values(a.planning).map((c,d)=>r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("span",{className:"text-sm text-slate-700",children:c.desc}),r.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(c.min,c.max)})]},d))})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 border border-slate-200 rounded-xl p-6 mb-12",children:[r.jsx("h3",{className:"text-lg text-slate-900 mb-2",children:l.representation}),r.jsx("p",{className:"text-sm text-slate-600 mb-4",children:l.representationDesc}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.values(a.representation).map((c,d)=>r.jsxs("div",{className:"flex justify-between items-start bg-white rounded-lg p-3",children:[r.jsx("span",{className:"text-sm text-slate-700",children:c.desc}),r.jsx("span",{className:"text-sm text-blue-600 ml-2 whitespace-nowrap",children:i(c.min,c.max)})]},d))})]}),r.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 rounded-r-lg p-6 mb-8",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(G2,{className:"w-6 h-6 text-amber-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-slate-900 mb-2",children:l.note}),r.jsx("p",{className:"text-slate-700 text-sm",children:l.noteText})]})]})}),r.jsx("div",{className:"text-center",children:r.jsx("a",{href:"#contact",className:"inline-flex items-center px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:l.cta})})]})})}),uT=p.memo(function(){const{t}=Qt(),[s,n]=p.useState("personal"),o=s==="personal"?[{number:"01",icon:qt,titleKey:"process.step1Title",descKey:"process.step1Desc",timeKey:"process.step1Time"},{number:"02",icon:Ye,titleKey:"process.step2Title",descKey:"process.step2Desc",timeKey:"process.step2Time"},{number:"03",icon:Q,titleKey:"process.step3Title",descKey:"process.step3Desc",timeKey:"process.step3Time"},{number:"04",icon:fa,titleKey:"process.step4Title",descKey:"process.step4Desc",timeKey:"process.step4Time"},{number:"05",icon:or,titleKey:"process.step5Title",descKey:"process.step5Desc",timeKey:"process.step5Time"}]:[{number:"01",icon:qt,titleKey:"process.business1Title",descKey:"process.business1Desc",timeKey:"process.business1Time"},{number:"02",icon:Ye,titleKey:"process.business2Title",descKey:"process.business2Desc",timeKey:"process.business2Time"},{number:"03",icon:Q,titleKey:"process.business3Title",descKey:"process.business3Desc",timeKey:"process.business3Time"},{number:"04",icon:fa,titleKey:"process.business4Title",descKey:"process.business4Desc",timeKey:"process.business4Time"},{number:"05",icon:or,titleKey:"process.business5Title",descKey:"process.business5Desc",timeKey:"process.business5Time"}];return r.jsx("section",{id:"process",className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[r.jsx("div",{className:"text-blue-600 uppercase tracking-wide mb-3",children:t("process.section")}),r.jsx("h2",{className:"text-4xl text-slate-900 mb-4",children:t("process.title")}),r.jsx("p",{className:"text-lg text-slate-600",children:t("process.description")}),r.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[r.jsx("button",{onClick:()=>n("personal"),className:`px-6 py-3 rounded-lg transition-all ${s==="personal"?"bg-blue-600 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:t("process.tabPersonal")}),r.jsx("button",{onClick:()=>n("business"),className:`px-6 py-3 rounded-lg transition-all ${s==="business"?"bg-blue-600 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:t("process.tabBusiness")})]})]}),s==="business"&&r.jsx("div",{className:"mb-12 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-2xl p-8",children:r.jsxs("div",{className:"flex items-start gap-4 max-w-4xl mx-auto",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(qt,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl text-slate-900 mb-2",children:t("process.businessBannerTitle")}),r.jsx("p",{className:"text-slate-600 mb-4",children:t("process.businessBannerDesc")}),r.jsxs("button",{onClick:()=>{var l;return(l=document.getElementById("contact"))==null?void 0:l.scrollIntoView({behavior:"smooth"})},className:"inline-flex items-center gap-2 px-5 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[r.jsx(qt,{className:"w-4 h-4"}),t("process.businessBannerButton")]})]})]})}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"hidden lg:block absolute left-1/2 top-0 bottom-0 w-0.5 bg-slate-200 -translate-x-1/2"}),r.jsx("div",{className:"space-y-12",children:o.map((l,c)=>r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:`grid lg:grid-cols-2 gap-8 items-center ${c%2===0?"":"lg:flex-row-reverse"}`,children:[r.jsxs("div",{className:`${c%2===0?"lg:text-right lg:pr-12":"lg:pl-12 lg:col-start-2"}`,children:[r.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[r.jsx("div",{className:`w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center ${c%2===0?"lg:order-2":""}`,children:r.jsx(l.icon,{className:"w-7 h-7 text-blue-600"})}),r.jsx("div",{className:`text-5xl text-slate-200 ${c%2===0?"lg:order-1":""}`,children:l.number})]}),r.jsx("h3",{className:"text-2xl text-slate-900 mb-2",children:t(l.titleKey)}),r.jsx("p",{className:"text-slate-600 mb-3",children:t(l.descKey)}),r.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-blue-600",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{children:t(l.timeKey)})]})]}),r.jsx("div",{className:`hidden lg:block ${c%2===0?"lg:col-start-2":"lg:col-start-1 lg:row-start-1"}`})]}),r.jsx("div",{className:"hidden lg:block absolute left-1/2 top-8 -translate-x-1/2",children:r.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded-full border-4 border-white"})})]},l.number))})]}),r.jsx("div",{className:"mt-16 bg-gradient-to-r from-blue-50 to-slate-50 rounded-2xl p-8 border border-blue-100",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h3",{className:"text-2xl text-slate-900 mb-3",children:t("process.turnaroundTitle")}),r.jsx("p",{className:"text-slate-600 mb-6",children:t("process.turnaroundDesc")}),r.jsxs("div",{className:"flex flex-wrap gap-6 justify-center text-sm text-slate-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fs,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{children:t("process.benefit1")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fs,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{children:t("process.benefit2")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fs,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{children:t("process.benefit3")})]})]})]})})]})})});function Lp(){const{t:e}=Qt(),[t,s]=p.useState(null);Be();const n=a=>{s(t===a?null:a)};return r.jsxs(r.Fragment,{children:[r.jsxs(Gi,{children:[r.jsx("title",{children:"DuoPro Services - Canadian Tax Services | Personal & Small Business Tax Returns"}),r.jsx("meta",{name:"description",content:"Professional Canadian tax services for individuals, newcomers, and small businesses. Expert personal and small business tax returns in English and French."})]}),r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(oy,{}),r.jsx(lE,{}),r.jsx("section",{className:"relative bg-white pt-24 pb-16 md:pt-32 md:pb-24",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center max-w-7xl mx-auto",children:[r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"inline-block",children:r.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-full text-sm font-medium",children:[r.jsx(Q,{className:"w-4 h-4"}),"Professional Canadian Tax Services"]})}),r.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 leading-tight",children:e("hero.title")}),r.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:e("hero.subtitle")})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?q=80&w=2000&auto=format&fit=crop",alt:"Professional tax services",className:"w-full h-[500px] object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),r.jsx("div",{className:"absolute -bottom-6 -left-6 bg-white p-6 rounded-xl shadow-xl border border-gray-100",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:r.jsx(Q,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:"CRA Certified"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Trusted & Secure"})]})]})})]})]})})}),r.jsx("section",{id:"services",className:"py-20 bg-gray-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[r.jsxs("button",{onClick:()=>n("personal"),className:"w-full p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Ye,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Personal Tax"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Complete tax preparation and filing services for individuals and newcomers to Canada."})]})]}),t==="personal"?r.jsx(ti,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}):r.jsx(Yn,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),t==="personal"&&r.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"T1 Personal Tax Returns"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Complete preparation and filing of individual income tax returns"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Employment income (T4s)"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Investment income and capital gains"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"RRSP contributions and deductions"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Medical expenses and credits"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Newcomer Tax Services"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Specialized support for new immigrants navigating Canadian taxes"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"First-time tax filer assistance"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Residency status determination"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Foreign income reporting"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Tax treaty benefits"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Tax Compliance & Review"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Ensuring your tax filings meet all CRA requirements"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Prior year tax review"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Notice of Assessment review"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Missing slips and documentation"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Amendment requests (T1-ADJ)"})]})]})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[r.jsxs("button",{onClick:()=>n("business"),className:"w-full p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"bg-green-100 w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Ze,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Small Business Tax"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Comprehensive tax services for small businesses and self-employed individuals."})]})]}),t==="business"?r.jsx(ti,{className:"w-5 h-5 text-green-600 flex-shrink-0"}):r.jsx(Yn,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),t==="business"&&r.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Corporate Tax Returns"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"T2 corporate tax return preparation"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"GST/HST filing and compliance"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Payroll deductions and remittances"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Self-Employed Returns"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Business income and expense tracking"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Home office deductions"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Vehicle and equipment expenses"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Business Advisory"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Tax planning and optimization"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Business structure consultation"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"CRA audit support"})]})]})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[r.jsxs("button",{onClick:()=>n("bookkeeping"),className:"w-full p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"bg-orange-100 w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Q,{className:"w-6 h-6 text-orange-600"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Bookkeeping"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Professional accounting and bookkeeping services for small businesses."})]})]}),t==="bookkeeping"?r.jsx(ti,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}):r.jsx(Yn,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),t==="bookkeeping"&&r.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Monthly Bookkeeping"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Bank reconciliation"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Accounts payable/receivable"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Expense categorization"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Financial Reports"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Profit & loss statements"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Balance sheets"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Cash flow reports"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Payroll Services"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Employee payroll processing"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"T4 and T4A preparation"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"ROE preparation"})]})]})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[r.jsxs("button",{onClick:()=>n("financial"),className:"w-full p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"bg-purple-100 w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Ye,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Financial Reports & Management"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Management reports, financial analysis, and controller services for business insights."})]})]}),t==="financial"?r.jsx(ti,{className:"w-5 h-5 text-purple-600 flex-shrink-0"}):r.jsx(Yn,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),t==="financial"&&r.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Management Reports"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Comprehensive management reports for informed decision-making."}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Profit & Loss statements"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Cash flow reports"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Budget vs Actual analysis"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Custom management dashboards"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Financial Analysis"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"In-depth financial analysis to drive business performance."}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Financial ratio analysis"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Profitability analysis"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Cost structure analysis"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Trend and variance analysis"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Controller Services"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Strategic controller services for business oversight and planning."}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"KPI tracking and reporting"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Performance metrics"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Financial planning & forecasting"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Q,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Strategic business insights"})]})]})]})]})})]})]})})}),r.jsx("section",{id:"about",className:"py-20 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Why Choose DuoPro Services?"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Trusted by hundreds of Canadians for their tax needs"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white p-8 rounded-2xl border border-blue-100 hover:shadow-lg transition-all hover:-translate-y-1",children:[r.jsx("div",{className:"bg-blue-100 w-14 h-14 rounded-xl flex items-center justify-center mb-4",children:r.jsx(ty,{className:"w-7 h-7 text-blue-600"})}),r.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:"Bilingual Service"}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Full service in English and French to serve you better"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-white p-8 rounded-2xl border border-green-100 hover:shadow-lg transition-all hover:-translate-y-1",children:[r.jsx("div",{className:"bg-green-100 w-14 h-14 rounded-xl flex items-center justify-center mb-4",children:r.jsx(Q,{className:"w-7 h-7 text-green-600"})}),r.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:"Expert Team"}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Qualified tax professionals with years of experience"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-white p-8 rounded-2xl border border-purple-100 hover:shadow-lg transition-all hover:-translate-y-1",children:[r.jsx("div",{className:"bg-purple-100 w-14 h-14 rounded-xl flex items-center justify-center mb-4",children:r.jsx(Ye,{className:"w-7 h-7 text-purple-600"})}),r.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:"Secure Portal"}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Safe document upload and real-time tracking"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-white p-8 rounded-2xl border border-orange-100 hover:shadow-lg transition-all hover:-translate-y-1",children:[r.jsx("div",{className:"bg-orange-100 w-14 h-14 rounded-xl flex items-center justify-center mb-4",children:r.jsx(wc,{className:"w-7 h-7 text-orange-600"})}),r.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:"Fast Processing"}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Quick turnaround times for your tax returns"})]})]})]})})}),r.jsx(dT,{}),r.jsx(uT,{}),r.jsx(cT,{}),r.jsx(oE,{})]})]})}function Mp(){const{t:e,language:t}=Qt(),{signIn:s,resetPassword:n}=Tt(),a=Be(),[i,o]=p.useState(""),[l,c]=p.useState(""),[d,h]=p.useState(!1),[u,f]=p.useState(!1),[x,b]=p.useState(""),[y,w]=p.useState(!1),m=async g=>{g.preventDefault(),h(!0),b("");try{await s(i,l),a(i==="admin@duoproservices.ca"||i==="veprass@gmail.com"||i==="germana.canada@gmail.com"||i==="jamila.coura15@gmail.com"?"/admin":"/"),G.success(t==="en"?" Welcome back!":" Bienvenue!")}catch(j){console.error("Login error:",j);let k=j.message||"Failed to sign in";k.includes("Invalid login credentials")||k.includes("Invalid email or password")?(k=t==="en"?" Invalid email or password.":" Email ou mot de passe invalide.",w(!0)):k.includes("Failed to fetch")&&(k=t==="en"?" Cannot connect to server. Please check your internet connection.":" Impossible de se connecter au serveur. Veuillez vrifier votre connexion Internet."),b(k),G.error(k)}finally{h(!1)}},v=async g=>{g.preventDefault(),h(!0),b("");try{await n(i),G.success(t==="en"?" Password reset link sent to your email!":" Lien de rinitialisation envoy  votre email!"),f(!1),o("")}catch(j){console.error("Reset password error:",j);let k=j.message||"Failed to send reset email";k.includes("User not found")&&(k=t==="en"?" No account found with this email address.":" Aucun compte trouv avec cette adresse email."),b(k)}finally{h(!1)}};return r.jsxs(r.Fragment,{children:[r.jsxs(Gi,{children:[r.jsx("title",{children:"Login - DuoPro Services"}),r.jsx("meta",{name:"description",content:"Login to your DuoPro Services client portal"})]}),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(oy,{}),r.jsx("div",{className:"container mx-auto px-4 pt-24 pb-20",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:u?r.jsx(Vl,{className:"w-8 h-8 text-blue-600"}):r.jsx(ny,{className:"w-8 h-8 text-blue-600"})}),r.jsx("h1",{className:"text-2xl font-bold mb-2",children:u?t==="en"?"Reset Password":"Rinitialiser le mot de passe":e("nav.login")}),r.jsx("p",{className:"text-gray-600",children:u?t==="en"?"Enter your email to receive a reset link":"Entrez votre email pour recevoir un lien de rinitialisation":t==="en"?"Access your client portal":"Accdez  votre portail client"})]}),x&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[r.jsx(tt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsx("p",{className:"text-sm text-red-800",children:x})]}),u?r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"email",value:i,onChange:g=>o(g.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"you@example.com",required:!0})]})]}),r.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?e("common.loading"):t==="en"?"Send Reset Link":"Envoyer le lien"}),r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"button",onClick:()=>{f(!1),b("")},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:t==="en"?" Back to Login":" Retour  la connexion"})})]}):r.jsxs("form",{onSubmit:m,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"email",value:i,onChange:g=>o(g.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"you@example.com",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(X2,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"password",value:l,onChange:g=>c(g.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"",required:!0})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"button",onClick:()=>{f(!0),b("")},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:t==="en"?"Forgot password?":"Mot de passe oubli?"})}),r.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e(d?"common.loading":"nav.login")}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-2 bg-white text-gray-500",children:t==="en"?"or":"ou"})})]}),r.jsxs("button",{type:"button",onClick:()=>a("/signup"),className:"w-full flex items-center justify-center gap-2 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 hover:border-blue-600 transition-colors",children:[r.jsx(ga,{className:"w-5 h-5"}),t==="en"?"New here? Create Account":"Nouveau? Crer un compte"]}),y&&r.jsx("div",{className:"space-y-3",children:r.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-300 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(tt,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-sm font-semibold text-amber-900 mb-1",children:t==="en"?" Admin Setup Options:":" Options de configuration admin:"}),r.jsx("p",{className:"text-xs text-amber-800 mb-3",children:t==="en"?"Choose the appropriate option based on your situation:":"Choisissez l'option approprie selon votre situation:"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{type:"button",onClick:()=>a("/direct-reset"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 px-4 rounded-lg font-bold text-sm transition-colors flex items-center justify-center gap-2 shadow-lg",children:[r.jsx(Vl,{className:"w-5 h-5"}),t==="en"?" VER INSTRUES (Recomendado)":" VOIR INSTRUCTIONS (Recommand)"]}),r.jsxs("button",{type:"button",onClick:()=>a("/auth-debug"),className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg font-medium text-sm transition-colors flex items-center justify-center gap-2",children:[r.jsx(ga,{className:"w-4 h-4"}),t==="en"?" Deletar e Recriar Tudo":" Supprimer et recrer"]})]})]})]})})})]})]}),r.jsx("div",{className:"text-center mt-4 space-y-2",children:r.jsxs("div",{className:"flex items-center justify-center gap-3 flex-wrap",children:[r.jsx("button",{onClick:()=>a("/direct-reset"),className:"text-xs text-purple-600 hover:text-purple-700 underline font-bold",children:" INSTRUES"}),r.jsx("span",{className:"text-gray-300",children:""}),r.jsx("button",{onClick:()=>a("/auth-debug"),className:"text-xs text-red-600 hover:text-red-700 underline font-bold",children:" RESETAR TUDO"}),r.jsx("span",{className:"text-gray-300",children:""}),r.jsx("button",{onClick:()=>a("/admin-diagnostic"),className:"text-xs text-gray-400 hover:text-gray-600 underline",children:" Diagnostic"})]})})]})})]})]})}function Up(){var o;const{user:e,isAdmin:t,loading:s}=Tt(),[n,a]=p.useState(null),i=async()=>{var d;const{data:l,error:c}=await ue.auth.getSession();console.log("Supabase session:",l),console.log("Supabase error:",c),a((d=l.session)==null?void 0:d.user)};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:r.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:" Auth Debug Panel"}),s&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:r.jsx("p",{className:"text-yellow-800",children:" Loading..."})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border-b pb-4",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Configured Admin Emails"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:fn.map(l=>r.jsx("li",{className:"font-mono text-sm text-blue-600",children:l},l))})]}),r.jsxs("div",{className:"border-b pb-4",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Current User (from AuthContext)"}),e?r.jsxs("div",{className:"bg-gray-50 rounded p-4 font-mono text-sm space-y-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"ID:"})," ",e.id]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Email:"})," ",e.email]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Name:"})," ",e.name]}),r.jsxs("div",{className:`text-lg font-bold ${t?"text-green-600":"text-red-600"}`,children:[r.jsx("strong",{children:"Is Admin:"})," ",t?" YES":" NO"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Email Check Result:"})," ",xs(e.email)?" TRUE":" FALSE"]})]}):r.jsx("p",{className:"text-gray-500",children:"No user logged in"})]}),r.jsxs("div",{className:"border-b pb-4",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Supabase Session"}),r.jsx("button",{onClick:i,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 mb-4",children:"Check Supabase Session"}),n&&r.jsxs("div",{className:"bg-gray-50 rounded p-4 font-mono text-sm space-y-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"ID:"})," ",n.id]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Email:"})," ",n.email]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Email (lowercase):"})," ",(o=n.email)==null?void 0:o.toLowerCase()]}),r.jsx("div",{children:r.jsx("strong",{children:"User Metadata:"})}),r.jsx("pre",{className:"bg-gray-100 p-2 rounded overflow-auto",children:JSON.stringify(n.user_metadata,null,2)})]})]}),e&&r.jsxs("div",{className:"border-b pb-4",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Email Matching Test"}),r.jsxs("div",{className:"bg-gray-50 rounded p-4 space-y-2",children:[r.jsxs("div",{className:"font-mono text-sm",children:[r.jsx("strong",{children:"User Email:"}),' "',e.email,'"']}),r.jsxs("div",{className:"font-mono text-sm",children:[r.jsx("strong",{children:"Normalized:"}),' "',e.email.toLowerCase(),'"']}),r.jsxs("div",{className:"font-mono text-sm",children:[r.jsx("strong",{children:"Admin Emails:"})," [",fn.map(l=>`"${l}"`).join(", "),"]"]}),r.jsxs("div",{className:"font-mono text-sm",children:[r.jsx("strong",{children:"Includes?"})," ",fn.includes(e.email.toLowerCase())?" YES":" NO"]}),r.jsxs("div",{className:"mt-4 space-y-1",children:[r.jsx("p",{className:"font-semibold",children:"Individual Checks:"}),fn.map(l=>r.jsxs("div",{className:"text-sm",children:['"',e.email.toLowerCase(),'" === "',l,'" ?',e.email.toLowerCase()===l?"  MATCH":"  NO MATCH"]},l))]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Instructions"}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-4 text-sm",children:r.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[r.jsx("li",{children:"Abra o Console do navegador (F12  Console)"}),r.jsx("li",{children:"Faa login com um dos emails admin"}),r.jsx("li",{children:"Veja os logs prefixados com , , "}),r.jsx("li",{children:"Volte a esta pgina para ver o status"})]})})]})]})]})})})}const Ms="lqpmyvizjfwzddxspacv",on="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxxcG15dml6amZ3emRkeHNwYWN2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNjY5NTgsImV4cCI6MjA4MTc0Mjk1OH0.h1tslLVJ3gD2rIjcM6f7NaVQn3s4BAZM1YdPFlAjT_U";function Bp(){const e=Be(),[t,s]=p.useState(!1),[n,a]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState(!1),d=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"],h=w=>{o(m=>[...m,w])},u=async()=>{var w;s(!0),o([]),c(!1),h(" Listando usurios do Supabase Auth...");try{const m=await fetch(`https://${Ms}.supabase.co/functions/v1/make-server-c2a25be0/auth/admin/list-users`,{method:"GET",headers:{Authorization:`Bearer ${on}`}});if(m.ok){const v=await m.json();a(v.users||[]),h(` Encontrados ${((w=v.users)==null?void 0:w.length)||0} usurios`),v.users&&v.users.length>0&&(h(""),h(" USURIOS ENCONTRADOS:"),v.users.forEach((g,j)=>{h(`   ${j+1}. ${g.email} (ID: ${g.id.substring(0,8)}...)`)}))}else h(` Erro ao listar usurios: ${m.status}`)}catch(m){h(` Erro de conexo: ${m.message}`)}s(!1)},f=async()=>{s(!0),o([]),c(!1),h(" Criando usurio de teste..."),h(" Email: test@example.com"),h(" Senha: test123456");try{const w=await fetch(`https://${Ms}.supabase.co/functions/v1/make-server-c2a25be0/auth/create-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${on}`},body:JSON.stringify({email:"test@example.com",password:"test123456",name:"Test User"})}),m=await w.json();w.ok&&m.success?(h(" Usurio de teste criado com sucesso!"),h(""),h(" Credenciais:"),h("   Email: test@example.com"),h("   Senha: test123456"),c(!0)):h(` Erro: ${m.error||"Erro desconhecido"}`)}catch(w){h(` Erro de conexo: ${w.message}`)}s(!1)},x=async()=>{if(confirm(" ATENO: Isso vai DELETAR todos os usurios do Supabase Auth! Tem certeza?")){s(!0),o([]),c(!1),h(" Deletando TODOS os usurios...");try{const w=await fetch(`https://${Ms}.supabase.co/functions/v1/make-server-c2a25be0/auth/reset-all-users`,{method:"POST",headers:{Authorization:`Bearer ${on}`}}),m=await w.json();w.ok&&m.success?(h(` ${m.deletedCount} usurios deletados com sucesso!`),c(!0)):h(` Erro: ${m.error||"Erro desconhecido"}`)}catch(w){h(` Erro de conexo: ${w.message}`)}s(!1)}},b=async()=>{if(confirm(" PERIGO: Isso vai DELETAR TUDO (usurios, dados do KV store, documentos, etc)! TEM CERTEZA ABSOLUTA?")&&confirm(" LTIMA CHANCE: Voc tem CERTEZA que quer deletar TODO o sistema?")){s(!0),o([]),c(!1),h(" INICIANDO RESET COMPLETO DO SISTEMA..."),h("  Deletando: usurios, dados, documentos, tudo!");try{const w=await fetch(`https://${Ms}.supabase.co/functions/v1/make-server-c2a25be0/auth/complete-reset`,{method:"POST",headers:{Authorization:`Bearer ${on}`}}),m=await w.json();w.ok&&m.success?(h(""),h(" RELATRIO DE DELEO:"),h(`    Usurios deletados: ${m.report.authUsersDeleted}`),h(`    Registros KV deletados: ${m.report.kvRecordsDeleted}`),h(`    Arquivos deletados: ${m.report.storageFilesDeleted}`),h(`    Buckets deletados: ${m.report.bucketsDeleted}`),h(""),h(" SISTEMA COMPLETAMENTE RESETADO!"),c(!0)):h(` Erro: ${m.error||"Erro desconhecido"}`)}catch(w){h(` Erro de conexo: ${w.message}`)}s(!1)}},y=async()=>{s(!0),o([]),c(!1),h(" INICIANDO FIX AUTOMTICO..."),h(""),h("Passo 1/2: Deletando usurios existentes...");try{const w=await fetch(`https://${Ms}.supabase.co/functions/v1/make-server-c2a25be0/auth/reset-all-users`,{method:"POST",headers:{Authorization:`Bearer ${on}`}}),m=await w.json();w.ok&&m.success?h(`    ${m.deletedCount} usurios deletados`):h(`    Aviso: ${m.error||"Nenhum usurio para deletar"}`),h(""),h("Passo 2/2: Criando 3 contas admin...");let v=0;for(const g of d){h(`    Criando: ${g}`);const j=await fetch(`https://${Ms}.supabase.co/functions/v1/make-server-c2a25be0/auth/create-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${on}`},body:JSON.stringify({email:g,password:"admin123",name:g.split("@")[0]})}),k=await j.json();j.ok&&k.success?(h("       Criado com sucesso!"),v++):h(`       Erro: ${k.error}`),await new Promise(E=>setTimeout(E,300))}h(""),h(" RESULTADO FINAL:"),h(`    ${v}/3 contas admin criadas`),v===3&&(h(""),h(" SUCESSO TOTAL!"),h(""),h(" NOVAS CREDENCIAIS:"),d.forEach(g=>{h(`    ${g} / admin123`)}),h(""),h(" Agora voc pode fazer login!"),c(!0))}catch(w){h(` Erro fatal: ${w.message}`)}s(!1)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 p-4 sm:p-8",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-600 to-indigo-600 rounded-full mb-4",children:r.jsx(Fi,{className:"w-8 h-8 text-white"})}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Auth Debug Panel"}),r.jsx("p",{className:"text-gray-600",children:"Manage Supabase Auth users for testing"})]}),r.jsx("div",{className:"mb-6 bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl shadow-2xl p-6 text-white",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx($i,{className:"w-6 h-6"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:" SOLUO RPIDA - Resolver Erro de Login"}),r.jsx("p",{className:"text-sm text-white/90 mb-4",children:'Deleta todos os usurios antigos e cria 3 novas contas admin com senha "admin123"'}),r.jsx("button",{onClick:y,disabled:t,className:"bg-white text-green-600 px-6 py-3 rounded-lg font-bold hover:bg-gray-100 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:t?r.jsxs(r.Fragment,{children:[r.jsx(ve,{className:"w-5 h-5 animate-spin"}),"Executando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Q,{className:"w-5 h-5"})," EXECUTAR FIX AUTOMTICO"]})})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[r.jsxs("button",{onClick:u,disabled:t,className:"bg-blue-500 hover:bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(Ze,{className:"w-5 h-5"})," List All Users"]}),r.jsxs("button",{onClick:f,disabled:t,className:"bg-green-500 hover:bg-green-600 text-white py-3 px-4 rounded-lg font-semibold transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(ga,{className:"w-5 h-5"})," Create Test User"]}),r.jsxs("button",{onClick:x,disabled:t,className:"bg-orange-500 hover:bg-orange-600 text-white py-3 px-4 rounded-lg font-semibold transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(pa,{className:"w-5 h-5"})," Reset All Users"]})]}),r.jsxs("div",{className:"bg-red-50 border-2 border-red-300 rounded-xl p-6 mb-6",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx(fm,{className:"w-6 h-6 text-red-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-red-900 text-lg",children:" DANGER ZONE"}),r.jsx("p",{className:"text-sm text-red-800",children:"Deleta TUDO: usurios, clientes, documentos, invoices, histrico completo!"})]})]}),r.jsxs("button",{onClick:b,disabled:t,className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-lg font-bold transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(pa,{className:"w-5 h-5"}),"  COMPLETE SYSTEM RESET (DELETE EVERYTHING)"]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mb-6",children:[r.jsx("h3",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:" How to use:"}),r.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"1. List All Users"})," - See which users exist in Supabase Auth"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"2. Create Test User"})," - Creates a test user with known credentials"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"3. Reset All Users"})," - Deletes ALL users (use carefully!)"]})]})]}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6 mb-6",children:[r.jsx("h3",{className:"font-bold text-yellow-900 mb-3 flex items-center gap-2",children:" Common Issues:"}),r.jsxs("div",{className:"space-y-2 text-sm text-yellow-800",children:[r.jsxs("div",{children:[r.jsx("strong",{children:'"Invalid login credentials"'}),"  User exists but wrong password"]}),r.jsxs("div",{children:[r.jsx("strong",{children:'"User already registered"'}),"  Email already exists in database"]}),r.jsxs("div",{className:"mt-3 pt-3 border-t border-yellow-300",children:[r.jsx("strong",{children:"Solution:"}),' Click "Reset All Users" then go to /setup to create fresh admin']})]})]}),i.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:" Operation Log"}),r.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm text-green-400 max-h-[400px] overflow-y-auto",children:[i.map((w,m)=>r.jsx("div",{className:"mb-1",children:w},m)),t&&r.jsx("div",{className:"animate-pulse mt-2",children:""})]}),l&&r.jsx("div",{className:"mt-4 space-y-3",children:r.jsx("button",{onClick:()=>e("/login"),className:"w-full py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-bold hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:" Ir para Login"})})]}),n.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[r.jsxs("h3",{className:"font-bold text-gray-900 mb-4",children:[" Users Found: ",n.length]}),r.jsx("div",{className:"space-y-2",children:n.map(w=>r.jsxs("div",{className:"bg-gray-50 rounded p-3 text-sm",children:[r.jsx("div",{className:"font-mono text-blue-600",children:w.email}),r.jsxs("div",{className:"text-gray-500 text-xs",children:["ID: ",w.id]})]},w.id))})]}),r.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm",children:[r.jsx("button",{onClick:()=>e("/login"),className:"text-blue-600 hover:text-blue-800 underline",children:" Go to Login"}),r.jsx("span",{className:"text-gray-300",children:""}),r.jsx("button",{onClick:()=>e("/quick-setup"),className:"text-green-600 hover:text-green-800 underline",children:" Go to Setup Page"})]})]})})}function zp(){const e=Be(),[t,s]=p.useState("choose"),[n,a]=p.useState("admin123"),[i,o]=p.useState(""),[l,c]=p.useState([]),[d,h]=p.useState(""),u=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"],f=b=>{c(y=>[...y,`${new Date().toLocaleTimeString()} - ${b}`]),console.log(b)},x=async b=>{s("creating"),h(""),c([]),f(" Iniciando criao de contas admin..."),f(` Data: ${new Date().toLocaleString()}`),f(` URL atual: ${window.location.href}`),f(" Project ID: undefined"),f(" Anon Key:  No encontrado");{h(" Variveis de ambiente no configuradas!"),f(" ERRO: VITE_SUPABASE_PROJECT_ID ou VITE_SUPABASE_ANON_KEY no encontrado");return}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 p-4 sm:p-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border-2 border-yellow-400 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-yellow-900 mb-1",children:" Se voc est vendo uma pgina diferente:"}),r.jsxs("p",{className:"text-sm text-yellow-800 mb-2",children:["Pressione ",r.jsx("kbd",{className:"px-2 py-1 bg-yellow-200 rounded font-mono text-xs",children:"Ctrl + Shift + R"})," (Windows/Linux) ou ",r.jsx("kbd",{className:"px-2 py-1 bg-yellow-200 rounded font-mono text-xs",children:"Cmd + Shift + R"})," (Mac) para recarregar sem cache"]}),r.jsx("p",{className:"text-xs text-yellow-700",children:"Verso da pgina: 2.0.0 - QuickAdminSetup ativa"})]})]})}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-600 to-blue-600 rounded-full mb-4",children:r.jsx("span",{className:"text-3xl",children:""})}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Quick Admin Setup"}),r.jsx("p",{className:"text-gray-600",children:"Crie as 3 contas admin em segundos"})]}),t==="choose"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Escolha a senha para as contas admin"}),r.jsx("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-300 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("input",{type:"radio",id:"quick",name:"password-option",checked:n==="admin123",onChange:()=>a("admin123"),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{htmlFor:"quick",className:"block font-semibold text-gray-900 mb-1 cursor-pointer",children:' Rpido: Usar "admin123" (Recomendado para testes)'}),r.jsx("p",{className:"text-sm text-gray-600",children:"Perfeito para desenvolvimento. Voc pode mudar depois."})]})]})}),r.jsx("div",{className:"mb-6 p-4 bg-blue-50 border-2 border-blue-300 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("input",{type:"radio",id:"custom",name:"password-option",checked:n==="custom",onChange:()=>a("custom"),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{htmlFor:"custom",className:"block font-semibold text-gray-900 mb-2 cursor-pointer",children:" Personalizado: Escolher minha prpria senha"}),n==="custom"&&r.jsx("input",{type:"text",value:i,onChange:b=>o(b.target.value),placeholder:"Digite sua senha (mn. 6 caracteres)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",autoFocus:!0})]})]})}),r.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:" Informao:"})," A mesma senha ser usada para as 3 contas:"]}),r.jsxs("ul",{className:"mt-2 text-sm text-yellow-800 space-y-1",children:[r.jsx("li",{children:" veprass@gmail.com"}),r.jsx("li",{children:" germana.canada@gmail.com"}),r.jsx("li",{children:" jamila.coura15@gmail.com"})]})]}),d&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-800",children:d})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>{const b=n==="custom"?i:"admin123";if(n==="custom"&&(!b||b.length<6)){h(" A senha deve ter pelo menos 6 caracteres");return}x()},className:"flex-1 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold text-lg hover:from-purple-700 hover:to-blue-700 transition-all shadow-lg",children:" Criar Contas Agora"}),r.jsx("button",{onClick:()=>e("/login"),className:"px-6 py-4 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Ir para Login"})]})]}),t==="creating"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4 animate-pulse",children:r.jsx("span",{className:"text-3xl",children:""})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Criando contas..."})]}),r.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm text-green-400 max-h-96 overflow-y-auto",children:[l.map((b,y)=>r.jsx("div",{className:"mb-1",children:b},y)),r.jsx("div",{className:"animate-pulse",children:""})]})]}),t==="done"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:r.jsx("span",{className:"text-3xl",children:""})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Contas Criadas!"}),r.jsx("p",{className:"text-gray-600",children:"Agora voc pode fazer login"})]}),r.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-300 rounded-lg",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-4 text-center",children:" Suas Credenciais"}),r.jsx("div",{className:"space-y-3",children:u.map(b=>r.jsxs("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Email:"}),r.jsx("div",{className:"font-mono font-semibold text-gray-900",children:b}),r.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Senha:"}),r.jsx("div",{className:"font-mono font-semibold text-gray-900",children:n==="custom"?i:"admin123"})]},b))})]}),r.jsxs("details",{className:"mb-6",children:[r.jsx("summary",{className:"cursor-pointer text-gray-600 hover:text-gray-900 font-medium mb-2",children:" Ver logs detalhados"}),r.jsx("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-xs text-green-400 max-h-64 overflow-y-auto",children:l.map((b,y)=>r.jsx("div",{className:"mb-1",children:b},y))})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>e("/login"),className:"flex-1 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-semibold text-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:" Ir para Login"}),r.jsx("button",{onClick:()=>{s("choose"),c([]),h("")},className:"px-6 py-4 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Criar Novamente"})]})]})]})})}const hT="pwlacumydrxvshklvttp",mT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB3bGFjdW15ZHJ4dnNoa2x2dHRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNjM3MTQsImV4cCI6MjA4MTczOTcxNH0.uj1rVapx5bBzp6YVFbcOwxCDZftpLzjwfMJ4aCy_B_A";function Vp(){const e=Be(),[t,s]=p.useState(!1),[n,a]=p.useState([]),[i,o]=p.useState(!1),[l,c]=p.useState("admin123"),d=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"],h=async()=>{var b,y;s(!0),a([]),o(!1);const u=[];u.push(" Iniciando criao de contas admin..."),a([...u]);let f=0;const x=`https://${hT}.supabase.co/functions/v1/make-server-c2a25be0`;for(const w of d){u.push(`
 Criando: ${w}`),a([...u]);try{u.push("    Enviando requisio para o servidor..."),a([...u]);const m=await fetch(`${x}/auth/create-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mT}`},body:JSON.stringify({email:w,password:l,name:w.split("@")[0]})});u.push(`    Status: ${m.status}`),a([...u]);const v=await m.json();console.log("Server response:",v),m.ok?(u.push("    Conta criada com sucesso!"),u.push(`    User ID: ${v.userId||"N/A"}`),f++):(b=v.error)!=null&&b.includes("already registered")||(y=v.error)!=null&&y.includes("User already registered")?(u.push("    Conta j existe (OK!)"),f++):u.push(`    Erro: ${v.error||JSON.stringify(v)}`)}catch(m){u.push(`    Erro de rede: ${m.message}`),console.error("Network error:",m)}a([...u]),await new Promise(m=>setTimeout(m,500))}u.push(`
 RESULTADO FINAL:`),u.push(`    Sucessos: ${f}`),f===3&&(u.push(`
 TODAS AS CONTAS ESTO PRONTAS!`),u.push(`
 CREDENCIAIS PARA LOGIN:`),d.forEach(w=>{u.push(`    Email: ${w}`),u.push(`     Senha: ${l}`)}),o(!0)),a([...u]),s(!1)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4 sm:p-8",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-full mb-4",children:r.jsx(ga,{className:"w-8 h-8 text-white"})}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Quick Admin Setup"}),r.jsx("p",{className:"text-gray-600",children:"Crie as 3 contas admin em segundos"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[!i&&!t&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Configurar Senha"}),r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha para as contas admin"}),r.jsx("input",{type:"text",value:l,onChange:u=>c(u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"admin123"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Mnimo 6 caracteres. A mesma senha ser usada para todas as contas."})]}),r.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("p",{className:"text-sm text-blue-800 font-semibold mb-2",children:" Contas que sero criadas:"}),r.jsx("ul",{className:"text-sm text-blue-800 space-y-1",children:d.map(u=>r.jsxs("li",{children:[" ",u]},u))})]}),r.jsx("button",{onClick:h,disabled:l.length<6,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-semibold text-lg hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:" Criar Contas Agora"})]}),t&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ve,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Criando contas..."})]}),n.length>0&&r.jsx("div",{className:"mt-6",children:r.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm text-green-400 max-h-96 overflow-y-auto",children:[n.map((u,f)=>r.jsx("div",{className:"mb-1 whitespace-pre-wrap",children:u},f)),t&&r.jsx("div",{className:"animate-pulse",children:""})]})}),i&&r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsxs("div",{className:"p-4 bg-green-50 border-2 border-green-300 rounded-lg flex items-start gap-3",children:[r.jsx(Q,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-green-900 mb-1",children:" Contas criadas com sucesso!"}),r.jsx("p",{className:"text-sm text-green-800",children:"Agora voc pode fazer login com qualquer uma das contas acima."})]})]}),r.jsx("button",{onClick:()=>e("/login"),className:"w-full py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-semibold text-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:" Ir para Login"})]})]}),r.jsx("div",{className:"text-center mt-6",children:r.jsx("button",{onClick:()=>e("/login"),className:"text-sm text-gray-600 hover:text-gray-900 underline",children:" Voltar para Login"})})]})})}function Hp(){const e=Be(),[t,s]=p.useState(!1),[n,a]=p.useState([]),[i,o]=p.useState(!1),[l,c]=p.useState("admin123"),d=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"],h=async()=>{s(!0),a([]),o(!1);const u=[];u.push(" Resetando senhas dos admins..."),a([...u]),u.push(` ProjectID: ${Ms}`),u.push(" AnonKey: Configurado"),a([...u]);const f=`https://${Ms}.supabase.co/functions/v1/make-server-c2a25be0/auth/reset-password`;u.push(` Server: ${f}`),a([...u]),u.push(`
 Testando conectividade do servidor...`),a([...u]);try{const b=await fetch(`https://${Ms}.supabase.co/functions/v1/make-server-c2a25be0/auth/admin/list-users`,{method:"GET",headers:{Authorization:`Bearer ${on}`}});if(u.push(`    Status: ${b.status}`),b.ok)u.push("    Servidor est online e respondendo!");else{u.push(`    Servidor respondeu com status ${b.status}`);const y=await b.text();u.push(`    Resposta: ${y.substring(0,200)}`)}}catch(b){u.push(`    Servidor no est acessvel: ${b.message}`),u.push("    Possveis causas:"),u.push("       Edge Function no foi deployada"),u.push("       CORS bloqueando a requisio"),u.push("       Servidor offline"),a([...u]),s(!1);return}a([...u]),u.push(`
 Iniciando reset de senhas...`),a([...u]);let x=0;for(const b of d){u.push(`
 Resetando: ${b}`),a([...u]);try{const y=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${on}`},body:JSON.stringify({email:b,newPassword:l})});u.push(`    Status: ${y.status} ${y.statusText}`),a([...u]);const w=await y.text();u.push(`    Response: ${w.substring(0,200)}...`),a([...u]);let m;try{m=JSON.parse(w)}catch{u.push("    Resposta no  JSON vlido"),u.push("    O servidor pode no estar respondendo corretamente"),a([...u]);continue}y.ok&&m.success?(u.push("    Senha resetada com sucesso!"),x++):u.push(`    Erro: ${m.error||"Erro desconhecido"}`)}catch(y){u.push(`    Erro de requisio: ${y.message}`)}a([...u]),await new Promise(y=>setTimeout(y,500))}u.push(`
 RESULTADO:`),u.push(`    Senhas resetadas: ${x}/3`),x>0&&(u.push(`
 SENHAS ATUALIZADAS!`),u.push(`
 NOVAS CREDENCIAIS:`),d.forEach(b=>{u.push(`    Email: ${b}`),u.push(`     Senha: ${l}`)}),o(!0)),a([...u]),s(!1)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50 p-4 sm:p-8",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-orange-600 to-amber-600 rounded-full mb-4",children:r.jsx(Vl,{className:"w-8 h-8 text-white"})}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Reset Admin Passwords"}),r.jsx("p",{className:"text-gray-600",children:"Redefina as senhas das 3 contas admin"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[!i&&!t&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border-2 border-blue-300 rounded-lg",children:[r.jsx("h3",{className:"font-bold text-blue-900 mb-2",children:" Informao Importante"}),r.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Os usurios admin j existem no banco de dados! Esta ferramenta vai apenas resetar suas senhas."}),r.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[r.jsx("div",{children:" veprass@gmail.com"}),r.jsx("div",{children:" germana.canada@gmail.com"}),r.jsx("div",{children:" jamila.coura15@gmail.com"})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nova senha para todas as contas"}),r.jsx("input",{type:"text",value:l,onChange:u=>c(u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-600 focus:border-transparent",placeholder:"admin123"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Mnimo 6 caracteres. A mesma senha ser definida para todas as 3 contas."})]}),r.jsx("button",{onClick:h,disabled:l.length<6,className:"w-full py-4 bg-gradient-to-r from-orange-600 to-amber-600 text-white rounded-lg font-semibold text-lg hover:from-orange-700 hover:to-amber-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:" Resetar Senhas Agora"})]}),t&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ve,{className:"w-12 h-12 animate-spin text-orange-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Resetando senhas..."})]}),n.length>0&&r.jsx("div",{className:"mt-6",children:r.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm text-green-400 max-h-96 overflow-y-auto",children:[n.map((u,f)=>r.jsx("div",{className:"mb-1 whitespace-pre-wrap",children:u},f)),t&&r.jsx("div",{className:"animate-pulse",children:""})]})}),i&&r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsxs("div",{className:"p-4 bg-green-50 border-2 border-green-300 rounded-lg flex items-start gap-3",children:[r.jsx(Q,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-green-900 mb-1",children:" Senhas resetadas com sucesso!"}),r.jsx("p",{className:"text-sm text-green-800",children:"Agora voc pode fazer login com a nova senha."})]})]}),r.jsx("button",{onClick:()=>e("/login"),className:"w-full py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-semibold text-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:" Ir para Login"})]})]}),r.jsx("div",{className:"text-center mt-6",children:r.jsx("button",{onClick:()=>e("/login"),className:"text-sm text-gray-600 hover:text-gray-900 underline",children:" Voltar para Login"})})]})})}function Wp(){const e=Be(),[t,s]=p.useState(!1),[n,a]=p.useState([]),[i,o]=p.useState(!1),l=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"],c=async()=>{s(!0),a([]),o(!1);const d=[];d.push(" Verificando contas admin no Supabase..."),d.push(""),d.push(" SITUAO ATUAL:"),d.push(""),d.push(" CONTAS EXISTENTES NO SUPABASE:"),l.forEach(h=>{d.push(`    ${h}`)}),d.push(""),d.push(" SENHAS QUE VOC DEVE TENTAR:"),d.push(""),d.push("   1 admin123"),d.push("   2 admin123456"),d.push("   3 A senha que voc configurou antes"),d.push(""),d.push(" INSTRUES:"),d.push(""),d.push("Como as contas J EXISTEM no Supabase, voc precisa:"),d.push(""),d.push("OPO 1 - Resetar pelo Supabase Dashboard (RECOMENDADO):"),d.push("   1. Abra: https://supabase.com/dashboard"),d.push("   2. V em: Authentication > Users"),d.push("   3. Para cada usurio:"),d.push("       Clique nos 3 pontinhos ()"),d.push('       Clique em "Reset Password"'),d.push("       Copie o link de reset"),d.push("       Abra o link para definir nova senha"),d.push(""),d.push("OPO 2 - Usar senha temporria:"),d.push("   1. No Supabase Dashboard > Authentication > Users"),d.push("   2. Clique no usurio veprass@gmail.com"),d.push('   3. Clique em "Send Magic Link"'),d.push('   4. Ou clique em "Reset Password"'),d.push(""),d.push("OPO 3 - Deletar e recriar:"),d.push("   1. V para: /auth-debug"),d.push('   2. Use a funo "Delete All Users"'),d.push("   3. Depois v para: /quick-setup"),d.push("   4. Crie as contas novamente"),d.push(""),d.push(" IMPORTANTE:"),d.push("    O servidor Edge Function pode no estar deployado"),d.push("    Por isso no conseguimos resetar pelo app"),d.push("    Use o Supabase Dashboard para resetar"),d.push(""),a([...d]),s(!1)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 p-4 sm:p-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full mb-4",children:r.jsx(Vl,{className:"w-8 h-8 text-white"})}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Password Reset Instructions"}),r.jsx("p",{className:"text-gray-600",children:"Como acessar as contas admin existentes"})]}),r.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-xl p-6 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(tt,{className:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-yellow-900 mb-2",children:" Servidor Edge Function Indisponvel"}),r.jsx("p",{className:"text-sm text-yellow-800",children:"O servidor backend no est respondendo. Isso  normal se voc ainda no fez deploy da Edge Function. Use as opes abaixo para acessar suas contas."})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[!t&&n.length===0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-300 rounded-lg",children:[r.jsxs("h3",{className:"font-bold text-green-900 mb-2 flex items-center gap-2",children:[r.jsx(Q,{className:"w-5 h-5"})," Contas Encontradas no Supabase"]}),r.jsx("div",{className:"space-y-1 text-sm text-green-800 ml-7",children:l.map(d=>r.jsxs("div",{children:[" ",d]},d))})]}),r.jsx("button",{onClick:c,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-semibold text-lg hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg",children:" Ver Instrues de Reset"})]}),t&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ve,{className:"w-12 h-12 animate-spin text-purple-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Preparando instrues..."})]}),n.length>0&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-xs sm:text-sm text-green-400 max-h-[500px] overflow-y-auto",children:n.map((d,h)=>r.jsx("div",{className:"mb-1 whitespace-pre-wrap",children:d},h))}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-semibold text-center hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:" Abrir Supabase Dashboard"}),r.jsx("button",{onClick:()=>e("/auth-debug"),className:"py-3 px-4 bg-gradient-to-r from-red-600 to-rose-600 text-white rounded-lg font-semibold hover:from-red-700 hover:to-rose-700 transition-all shadow-lg",children:" Deletar & Recriar Contas"})]}),r.jsx("button",{onClick:()=>e("/login"),className:"w-full py-3 px-4 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-all",children:" Voltar para Login"})]})]}),r.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-xl p-6",children:[r.jsx("h3",{className:"font-bold text-blue-900 mb-3",children:" Dica Rpida"}),r.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Se voc quer comear do zero sem complicaes:"}),r.jsxs("ol",{className:"text-sm text-blue-800 space-y-2 ml-4",children:[r.jsxs("li",{children:["1. V para ",r.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded",children:"/auth-debug"})]}),r.jsx("li",{children:'2. Clique em "Delete All Users"'}),r.jsxs("li",{children:["3. V para ",r.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded",children:"/quick-setup"})]}),r.jsx("li",{children:"4. Crie as 3 contas admin novamente"}),r.jsx("li",{children:"5. Use: veprass@gmail.com / admin123"})]})]}),r.jsx("div",{className:"text-center mt-6",children:r.jsx("button",{onClick:()=>e("/login"),className:"text-sm text-gray-600 hover:text-gray-900 underline",children:" Voltar para Login"})})]})})}function qp(){const e=Be(),[t,s]=p.useState("admin123"),[n,a]=p.useState(""),[i,o]=p.useState(!1),[l,c]=p.useState([]),[d,h]=p.useState("idle"),[u,f]=p.useState(""),x=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"],b=w=>{const v=`[${new Date().toLocaleTimeString()}] ${w}`;c(g=>[...g,v]),console.log(v)},y=async()=>{const w=i?n:t;if(!w||w.length<6){f(" A senha deve ter pelo menos 6 caracteres");return}h("resetting"),f(""),c([]),b(" Iniciando reset de senhas...");{f(" Variveis de ambiente no configuradas!"),b(" VITE_SUPABASE_PROJECT_ID ou VITE_SUPABASE_ANON_KEY no encontrado"),h("idle");return}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-pink-50 p-4 sm:p-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-orange-600 to-red-600 rounded-full mb-4",children:r.jsx("span",{className:"text-3xl",children:""})}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Reset Admin Passwords"}),r.jsx("p",{className:"text-gray-600",children:"Redefina as senhas das 3 contas admin existentes"})]}),r.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-xl p-6 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-yellow-900 mb-2",children:"Importante: Use esta pgina quando"}),r.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[r.jsx("li",{children:" As contas admin J EXISTEM no Supabase"}),r.jsx("li",{children:" Voc esqueceu a senha ou ela no funciona"}),r.jsx("li",{children:" Voc quer definir uma nova senha para todos os admins"})]})]})]})}),d==="idle"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Escolha a nova senha"}),r.jsx("div",{className:"mb-4 p-4 bg-green-50 border-2 border-green-300 rounded-lg",children:r.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"password-type",checked:!i,onChange:()=>o(!1),className:"mt-1"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900 mb-1",children:' Usar "admin123" (Rpido)'}),r.jsx("div",{className:"text-sm text-gray-600",children:"Senha simples para testes. Voc pode mudar depois."})]})]})}),r.jsx("div",{className:"mb-6 p-4 bg-blue-50 border-2 border-blue-300 rounded-lg",children:r.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"password-type",checked:i,onChange:()=>o(!0),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold text-gray-900 mb-2",children:" Senha personalizada"}),i&&r.jsx("input",{type:"text",value:n,onChange:w=>a(w.target.value),placeholder:"Digite a nova senha (mn. 6 caracteres)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",autoFocus:!0})]})]})}),r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-700 mb-2",children:r.jsx("strong",{children:" Contas que sero atualizadas:"})}),r.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:x.map(w=>r.jsxs("li",{className:"font-mono",children:[" ",w]},w))})]}),u&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-800",children:u})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:y,className:"flex-1 py-4 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-lg font-semibold text-lg hover:from-orange-700 hover:to-red-700 transition-all shadow-lg",children:" Resetar Senhas Agora"}),r.jsx("button",{onClick:()=>e("/login"),className:"px-6 py-4 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]}),d==="resetting"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-orange-100 rounded-full mb-4 animate-pulse",children:r.jsx("span",{className:"text-3xl",children:""})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Resetando senhas..."})]}),r.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-xs sm:text-sm text-green-400 max-h-96 overflow-y-auto",children:[l.map((w,m)=>r.jsx("div",{className:"mb-1 break-all",children:w},m)),r.jsx("div",{className:"animate-pulse",children:""})]})]}),d==="done"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:r.jsx("span",{className:"text-3xl",children:""})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Senhas Resetadas!"}),r.jsx("p",{className:"text-gray-600",children:"Agora voc pode fazer login com a nova senha"})]}),r.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-300 rounded-lg",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-4 text-center",children:" Suas Novas Credenciais"}),r.jsx("div",{className:"space-y-3",children:x.map(w=>r.jsxs("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Email:"}),r.jsx("div",{className:"font-mono font-semibold text-gray-900 break-all",children:w}),r.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Nova Senha:"}),r.jsx("div",{className:"font-mono font-semibold text-gray-900",children:i?n:t})]},w))})]}),r.jsxs("details",{className:"mb-6",children:[r.jsx("summary",{className:"cursor-pointer text-gray-600 hover:text-gray-900 font-medium mb-2",children:" Ver logs detalhados"}),r.jsx("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-xs text-green-400 max-h-64 overflow-y-auto",children:l.map((w,m)=>r.jsx("div",{className:"mb-1 break-all",children:w},m))})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>e("/login"),className:"flex-1 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-semibold text-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:" Ir para Login"}),r.jsx("button",{onClick:()=>{h("idle"),c([]),f("")},className:"px-6 py-4 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Resetar Novamente"})]})]}),r.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:[r.jsxs("p",{children:["Precisa criar novas contas? ",r.jsx("button",{onClick:()=>e("/setup"),className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"Ir para Setup"})]}),r.jsxs("p",{className:"mt-2",children:["Precisa de ajuda? ",r.jsx("button",{onClick:()=>e("/auth-debug"),className:"text-gray-500 hover:text-gray-700 underline",children:"Abrir Debug"})]})]})]})})}const fT="modulepreload",pT=function(e){return"/"+e},Kp={},Pa=function(t,s,n){let a=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(s.map(c=>{if(c=pT(c),c in Kp)return;Kp[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":fT,d||(u.as="script"),u.crossOrigin="",u.href=c,l&&u.setAttribute("nonce",l),document.head.appendChild(u),d)return new Promise((f,x)=>{u.addEventListener("load",f),u.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Gp(){const e=Be(),[t,s]=p.useState([]),[n,a]=p.useState(!1),[i,o]=p.useState([]),[l,c]=p.useState(""),[d,h]=p.useState("admin123"),[u,f]=p.useState("veprass@gmail.com"),[x,b]=p.useState("admin123"),y=void 0,w=void 0,m=N=>{const T=`[${new Date().toLocaleTimeString()}] ${N}`;o(R=>[...R,T]),console.log(T)},v=async()=>{a(!0),o([]),m(" Listando todos os usurios no Supabase...");try{const N=await fetch(`https://${y}.supabase.co/functions/v1/make-server-c2a25be0/admin/list-users`,{method:"GET",headers:{Authorization:`Bearer ${w}`}}),C=await N.json();N.ok&&C.users?(s(C.users),m(` Encontrados ${C.users.length} usurios`),C.users.forEach((T,R)=>{m(`   ${R+1}. ${T.email} (ID: ${T.id.substring(0,8)}...)`)})):m(` Erro: ${C.error||"Falha ao listar usurios"}`)}catch(N){m(` Erro de rede: ${N.message}`)}finally{a(!1)}},g=async(N,C)=>{m(`
 Resetando senha para: ${N}`);try{const T=await fetch(`https://${y}.supabase.co/functions/v1/make-server-c2a25be0/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify({email:N,newPassword:C})}),R=await T.json();return T.ok&&R.success?(m(` Senha resetada com sucesso para ${N}!`),m(`   Nova senha: ${C}`),!0):(m(` Erro: ${R.error||"Falha ao resetar senha"}`),!1)}catch(T){return m(` Erro de rede: ${T.message}`),!1}},j=async()=>{var N,C;o([]),m(` Testando login com: ${u}`),m(` Senha: ${x}`);try{const{createClient:T}=await Pa(async()=>{const{createClient:O}=await Promise.resolve().then(()=>m2);return{createClient:O}},[]),R=T(`https://${y}.supabase.co`,w);m(" Enviando requisio de login...");const{data:$,error:H}=await R.auth.signInWithPassword({email:u,password:x});return H?(m(` ERRO DE LOGIN: ${H.message}`),m(`   Cdigo: ${H.status}`),m(`   Detalhes: ${JSON.stringify(H)}`),H.message.includes("Invalid login credentials")&&(m(`
 DIAGNSTICO:`),m("    O usurio existe mas a senha est incorreta"),m("    OU o email no est confirmado"),m('    Use o boto "Reset Password" abaixo para corrigir')),!1):$.user?(m(" LOGIN BEM SUCEDIDO!"),m(`   User ID: ${$.user.id}`),m(`   Email: ${$.user.email}`),m(`   Email confirmado: ${$.user.email_confirmed_at?"Sim":"No"}`),m(`   Access Token: ${(C=(N=$.session)==null?void 0:N.access_token)==null?void 0:C.substring(0,20)}...`),m(`
 Voc pode fazer login normalmente agora!`),!0):(m(" Login retornou sem erro mas sem dados"),!1)}catch(T){return m(` Erro crtico: ${T.message}`),m(`   Stack: ${T.stack}`),!1}},k=async()=>{const N=["veprass@gmail.com","germana.canada@gmail.com","jamila.coura15@gmail.com"];o([]),m(" Resetando senhas de todos os 3 admins..."),m(` Nova senha: ${d}
`);let C=0;for(const T of N)await g(T,d)&&C++,await new Promise($=>setTimeout($,500));m(`
 RESULTADO: ${C}/3 senhas resetadas`),C===3&&(m(`
 SUCESSO TOTAL! Agora voc pode fazer login com:`),N.forEach(T=>{m(`   Email: ${T}`),m(`   Senha: ${d}
`)}))},E=async N=>{if(confirm(` Tem certeza que quer DELETAR ${N}?`)){m(`
 Deletando usurio: ${N}`);try{const C=await fetch(`https://${y}.supabase.co/functions/v1/make-server-c2a25be0/admin/delete-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify({email:N})}),T=await C.json();C.ok&&T.success?(m(` Usurio deletado: ${N}`),v()):m(` Erro: ${T.error||"Falha ao deletar"}`)}catch(C){m(` Erro: ${C.message}`)}}};return p.useEffect(()=>{v()},[]),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 p-4",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" Admin Diagnostic Center"}),r.jsx("p",{className:"text-gray-600",children:"Diagnstico completo, reset de senhas e testes de login"})]}),r.jsx("button",{onClick:()=>e("/login"),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg font-medium transition-colors",children:" Voltar para Login"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Project ID"}),r.jsx("div",{className:"font-mono text-sm font-semibold",children:" No configurado"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Anon Key"}),r.jsx("div",{className:"font-mono text-sm font-semibold",children:" No configurado"})]})]})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:" Usurios Existentes"}),r.jsxs("button",{onClick:v,disabled:n,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[r.jsx($i,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Atualizar"]})]}),t.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:n?" Carregando...":" Nenhum usurio encontrado"}):r.jsx("div",{className:"space-y-3",children:t.map(N=>r.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-mono font-semibold text-gray-900 mb-1",children:N.email}),r.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[r.jsxs("div",{children:["ID: ",N.id]}),r.jsxs("div",{children:["Criado: ",new Date(N.created_at).toLocaleString()]}),r.jsx("div",{className:"flex items-center gap-2",children:N.email_confirmed_at?r.jsxs(r.Fragment,{children:[r.jsx(Q,{className:"w-3 h-3 text-green-600"}),r.jsx("span",{className:"text-green-600",children:"Email confirmado"})]}):r.jsxs(r.Fragment,{children:[r.jsx(pr,{className:"w-3 h-3 text-red-600"}),r.jsx("span",{className:"text-red-600",children:"Email NO confirmado"})]})})]})]}),r.jsx("button",{onClick:()=>E(N.email),className:"ml-2 p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Deletar usurio",children:r.jsx(pa,{className:"w-4 h-4"})})]})},N.id))})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-blue-600 rounded-xl shadow-xl p-6 text-white",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:" Aes Rpidas"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:k,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-white text-purple-600 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:[r.jsx(J2,{className:"w-5 h-5"}),"Resetar TODOS os 3 Admins (senha: ",d,")"]}),r.jsx("input",{type:"text",value:d,onChange:N=>h(N.target.value),placeholder:"Nova senha para todos",className:"w-full px-4 py-2 rounded-lg text-gray-900 border-2 border-white/20"}),r.jsxs("button",{onClick:()=>e("/setup"),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition-colors",children:[r.jsx(ga,{className:"w-5 h-5"}),"Criar Novas Contas Admin"]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:" Testar Login"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:u,onChange:N=>f(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),r.jsx("input",{type:"text",value:x,onChange:N=>b(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"})]}),r.jsxs("button",{onClick:j,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors",children:[r.jsx(ny,{className:"w-5 h-5"}),"Testar Login Agora"]}),r.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsx("p",{className:"text-xs text-yellow-800",children:" Este teste faz login real no Supabase e mostra logs detalhados abaixo"})})]})]}),r.jsxs("div",{className:"bg-gray-900 rounded-xl shadow-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:" Logs"}),r.jsx("button",{onClick:()=>o([]),className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Limpar"})]}),r.jsx("div",{className:"bg-black rounded-lg p-4 font-mono text-xs text-green-400 max-h-96 overflow-y-auto",children:i.length===0?r.jsx("div",{className:"text-gray-500",children:"Aguardando aes..."}):i.map((N,C)=>r.jsx("div",{className:"mb-1 break-all",children:N},C))})]})]})]})]})})}function Yp(){const e=Be(),{user:t,isAdmin:s,loading:n}=Tt(),[a,i]=p.useState(null),[o,l]=p.useState({reactRouterLoaded:!1,authContextLoaded:!1,supabaseClientLoaded:!1,adminConfigLoaded:!1,consoleFilterLoaded:!1});p.useEffect(()=>{(async()=>{const u=!!Tt,f=!!ue,x=fn.length>0;l({reactRouterLoaded:!0,authContextLoaded:u,supabaseClientLoaded:f,adminConfigLoaded:x,consoleFilterLoaded:!0});try{const{error:y}=await ue.auth.getSession();i(!y)}catch{i(!1)}})()},[]);const c=({status:d})=>d===null?r.jsx(tt,{className:"w-5 h-5 text-yellow-500"}):d?r.jsx(Q,{className:"w-5 h-5 text-green-500"}):r.jsx(pr,{className:"w-5 h-5 text-red-500"});return r.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:r.jsx(Ji,{className:"w-5 h-5"})}),r.jsx("h1",{className:"text-3xl font-bold",children:" System Status"})]}),r.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Q,{className:"w-8 h-8 text-green-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-green-900 mb-2",children:" React Router Fixed Successfully!"}),r.jsxs("p",{className:"text-green-800",children:["All imports have been updated from ",r.jsx("code",{className:"bg-green-100 px-2 py-1 rounded",children:"react-router-dom"})," to"," ",r.jsx("code",{className:"bg-green-100 px-2 py-1 rounded",children:"react-router"})]}),r.jsx("p",{className:"text-green-800 mt-2",children:"The application is loading correctly and all routes are functional."})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:" Core Components"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"React Router"}),r.jsx(c,{status:o.reactRouterLoaded})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Auth Context"}),r.jsx(c,{status:o.authContextLoaded})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Supabase Client"}),r.jsx(c,{status:o.supabaseClientLoaded})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Admin Configuration"}),r.jsx(c,{status:o.adminConfigLoaded})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Console Filter"}),r.jsx(c,{status:o.consoleFilterLoaded})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Supabase Connection"}),r.jsx(c,{status:a})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:" Authentication Status"}),n?r.jsx("p",{className:"text-gray-500",children:"Loading..."}):t?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Q,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{className:"font-semibold text-green-900",children:"Logged In"})]}),r.jsxs("div",{className:"ml-7 space-y-1 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",t.email]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Name:"})," ",t.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"ID:"})," ",r.jsx("code",{className:"text-xs",children:t.id})]})]})]}),r.jsxs("div",{className:`p-3 rounded-lg border ${s?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200"}`,children:[r.jsx("div",{className:"flex items-center gap-2 mb-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx(Q,{className:"w-5 h-5 text-purple-600"}),r.jsx("span",{className:"font-semibold text-purple-900",children:"Admin Access"})]}):r.jsxs(r.Fragment,{children:[r.jsx(tt,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"font-semibold text-gray-900",children:"Regular User"})]})}),r.jsxs("div",{className:"ml-7 space-y-1 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"isAdmin (Context):"})," ",s?" YES":" NO"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"isAdminEmail():"})," ",xs(t.email)?" YES":" NO"]})]})]})]}):r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tt,{className:"w-5 h-5 text-yellow-600"}),r.jsx("span",{className:"font-semibold text-yellow-900",children:"Not Logged In"})]}),r.jsx("p",{className:"ml-7 text-sm text-yellow-800 mt-2",children:"Please log in to test the authentication system."})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:" Configured Admin Emails"}),r.jsx("ul",{className:"space-y-2",children:fn.map((d,h)=>r.jsx("li",{className:`p-3 rounded-lg ${(t==null?void 0:t.email.toLowerCase())===d?"bg-purple-50 border-2 border-purple-300":"bg-gray-50 border border-gray-200"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("code",{className:"font-mono text-sm",children:d}),(t==null?void 0:t.email.toLowerCase())===d&&r.jsx("span",{className:"text-xs bg-purple-600 text-white px-2 py-1 rounded font-semibold",children:"YOU"})]})},d))})]}),r.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-blue-900 mb-3",children:" Next Steps"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-blue-800",children:[r.jsxs("li",{children:["If not logged in, go to ",r.jsx("strong",{children:"/login"})," and sign in with an admin email"]}),r.jsxs("li",{children:["After login, visit ",r.jsx("strong",{children:"/auth-debug"})," for detailed authentication info"]}),r.jsx("li",{children:"Check the browser console (F12) for detailed logs (Datadog errors are now filtered)"}),r.jsx("li",{children:`If you're an admin, you should see an "Admin Panel" button in the dashboard`})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>e("/login"),className:"flex-1 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Go to Login"}),r.jsx("button",{onClick:()=>e("/auth-debug"),className:"flex-1 py-3 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700 transition-colors",children:"Go to Auth Debug"})]})]})})}function Jp(){const[e,t]=p.useState([]),[s,n]=p.useState(!0),a=async()=>{n(!0),t([]);const l=[],c=void 0,d=void 0;l.push({name:"Environment Variables",status:"error",message:"Variveis de ambiente no encontradas",details:"Project ID: MISSING, Anon Key: MISSING"});try{const x=`https://${c}.supabase.co/functions/v1/make-server-c2a25be0/health`,b=await fetch(x,{method:"GET",headers:{Authorization:`Bearer ${d}`}});b.ok?l.push({name:"Server Connection",status:"success",message:"Servidor respondendo corretamente",details:`Status: ${b.status}`}):l.push({name:"Server Connection",status:"warning",message:`Servidor retornou status: ${b.status}`,details:await b.text()})}catch(x){l.push({name:"Server Connection",status:"error",message:"No foi possvel conectar ao servidor",details:x.message})}const h=localStorage.getItem("app_version"),u="2.0.0";h===u?l.push({name:"Page Version",status:"success",message:"Verso da pgina est atualizada",details:`Verso: ${u}`}):l.push({name:"Page Version",status:"warning",message:"Verso da pgina pode estar desatualizada",details:`Armazenada: ${h||"none"}, Atual: ${u}`});const f=window.location.href;l.push({name:"Current URL",status:"success",message:"URL atual",details:f}),l.push({name:"Browser Info",status:"success",message:"Informaes do navegador",details:`${navigator.userAgent.substring(0,50)}...`}),t(l),n(!1)};p.useEffect(()=>{a()},[]);const i=l=>{switch(l){case"success":return r.jsx(Q,{className:"w-6 h-6 text-green-600"});case"error":return r.jsx(pr,{className:"w-6 h-6 text-red-600"});case"warning":return r.jsx(fm,{className:"w-6 h-6 text-yellow-600"})}},o=l=>{switch(l){case"success":return"border-green-300 bg-green-50";case"error":return"border-red-300 bg-red-50";case"warning":return"border-yellow-300 bg-yellow-50"}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4 sm:p-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-gray-700 to-gray-900 rounded-full mb-4",children:r.jsx("span",{className:"text-3xl",children:""})}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"System Diagnostics"}),r.jsx("p",{className:"text-gray-600",children:"Verificao completa do sistema"})]}),r.jsx("div",{className:"mb-6 flex justify-center",children:r.jsxs("button",{onClick:a,disabled:s,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50",children:[r.jsx($i,{className:`w-5 h-5 ${s?"animate-spin":""}`}),s?"Verificando...":"Verificar Novamente"]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:" Resultados da Verificao"}),r.jsx("div",{className:"space-y-4",children:e.map((l,c)=>r.jsx("div",{className:`p-4 rounded-lg border-2 ${o(l.status)}`,children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 mt-1",children:i(l.status)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:l.name}),r.jsx("p",{className:"text-sm text-gray-700 mb-2",children:l.message}),l.details&&r.jsx("div",{className:"bg-white/50 rounded p-2 font-mono text-xs text-gray-600 overflow-x-auto",children:l.details})]})]})},c))}),e.length===0&&!s&&r.jsx("div",{className:"text-center py-12 text-gray-500",children:"Nenhuma verificao realizada ainda."}),s&&r.jsx("div",{className:"text-center py-12",children:r.jsxs("div",{className:"inline-flex items-center gap-3",children:[r.jsx($i,{className:"w-6 h-6 animate-spin text-blue-600"}),r.jsx("span",{className:"text-gray-600",children:"Executando diagnsticos..."})]})})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-green-50 border-2 border-green-300 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.filter(l=>l.status==="success").length}),r.jsx("div",{className:"text-sm text-green-800 mt-1",children:" Sucessos"})]}),r.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:e.filter(l=>l.status==="warning").length}),r.jsx("div",{className:"text-sm text-yellow-800 mt-1",children:" Avisos"})]}),r.jsxs("div",{className:"bg-red-50 border-2 border-red-300 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-red-600",children:e.filter(l=>l.status==="error").length}),r.jsx("div",{className:"text-sm text-red-800 mt-1",children:" Erros"})]})]}),r.jsxs("div",{className:"mt-8 flex flex-wrap gap-3 justify-center",children:[r.jsx("a",{href:"/setup",className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:" Ir para Setup"}),r.jsx("a",{href:"/login",className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:" Ir para Login"}),r.jsx("a",{href:"/auth-debug",className:"px-4 py-2 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700 transition-colors",children:" Debug Panel"})]})]})})}const Ao=[{id:"control-panel",name:"Admin Control Panel",description:"Main control center with modular views",route:"/admin/control-panel",icon:ar,color:"text-blue-600",bgColor:"bg-blue-50",category:"primary"},{id:"admin-hub",name:"Admin Hub",description:"Dashboard overview with analytics",route:"/admin/hub",icon:ar,color:"text-purple-600",bgColor:"bg-purple-50",category:"primary"},{id:"clients",name:"Client Management",description:"View and manage all clients",route:"/admin/clients",icon:Ze,color:"text-green-600",bgColor:"bg-green-50",category:"management"},{id:"users",name:"User Management",description:"Manage users and permissions",route:"/admin/users",icon:rE,color:"text-indigo-600",bgColor:"bg-indigo-50",category:"management"},{id:"crm",name:"CRM - Lead Management",description:"Manage leads and opportunities",route:"/admin/crm",icon:xm,color:"text-orange-600",bgColor:"bg-orange-50",category:"management"},{id:"team-activity",name:"Team Activities",description:"Track team tasks and activities",route:"/admin/team-activity",icon:sy,color:"text-pink-600",bgColor:"bg-pink-50",category:"tools"}],gT={primary:"Primary Dashboards",management:"Management Tools",tools:"Productivity Tools"};function xT(){const e=Be(),{user:t}=Tt();p.useEffect(()=>{const n=performance.now();if(console.log(" [AdminIndex] Page load started"),!t||!xs(t.email)){G.error("Access denied. Admin only."),e("/login");return}const a=performance.now()-n;console.log(` [AdminIndex] Page loaded in ${a.toFixed(2)}ms`),a<100&&console.log(" FAST LOAD - Excellent performance!")},[t,e]);const s={primary:Ao.filter(n=>n.category==="primary"),management:Ao.filter(n=>n.category==="management"),tools:Ao.filter(n=>n.category==="tools")};return r.jsxs(r.Fragment,{children:[r.jsxs(Gi,{children:[r.jsx("title",{children:"Admin Access - DuoPro Services"}),r.jsx("meta",{name:"robots",content:"noindex"})]}),r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-blue-600 rounded-xl",children:r.jsx(Fi,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Access Center"}),r.jsxs("p",{className:"text-gray-600 mt-1",children:["Welcome, ",t==null?void 0:t.email,"  Select a panel to manage"]})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Panels"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:Ao.length})]}),r.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:r.jsx(ar,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Management Tools"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:s.management.length})]}),r.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:r.jsx(sE,{className:"w-6 h-6 text-green-600"})})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-all",onClick:()=>e("/admin-check"),children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Admin Users"}),r.jsx("p",{className:"text-xl font-bold text-green-600 mt-1",children:"3 Configured"})]}),r.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:r.jsx(Fi,{className:"w-6 h-6 text-green-600"})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Click to verify "})]})]}),Object.entries(s).map(([n,a])=>r.jsxs("div",{className:"mb-12",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("div",{className:"w-1 h-6 bg-blue-600 rounded-full"}),gT[n]]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(i=>{const o=i.icon;return r.jsxs("button",{onClick:()=>e(i.route),className:"group bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-left hover:shadow-lg hover:border-blue-300 transition-all duration-200 hover:-translate-y-1",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:`p-3 ${i.bgColor} rounded-lg group-hover:scale-110 transition-transform`,children:r.jsx(o,{className:`w-6 h-6 ${i.color}`})}),r.jsx(Ul,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.name}),r.jsx("p",{className:"text-sm text-gray-600",children:i.description}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:r.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Click to access "})})]},i.id)})})]},n)),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 mb-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("div",{className:"w-1 h-6 bg-green-600 rounded-full"})," Recommendations"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"p-6 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Daily Operations"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:" Control Panel"}),r.jsx("li",{children:" Client Management"}),r.jsx("li",{children:" Team Activities"})]})]}),r.jsxs("div",{className:"p-6 bg-purple-50 rounded-lg border border-purple-200",children:[r.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:" Analytics"}),r.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[r.jsx("li",{children:" Admin Hub"}),r.jsx("li",{children:" Client Management"})]})]}),r.jsxs("div",{className:"p-6 bg-orange-50 rounded-lg border border-orange-200",children:[r.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:" Advanced"}),r.jsxs("ul",{className:"text-sm text-orange-800 space-y-1",children:[r.jsx("li",{children:" User Management"}),r.jsx("li",{children:" CRM"})]})]})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl shadow-lg p-8 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Ready to start?"}),r.jsx("p",{className:"text-blue-100",children:"Open the Control Panel for quick access to all modules"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>e("/admin/control-panel"),className:"px-6 py-3 bg-white text-blue-600 rounded-lg font-semibold hover:bg-blue-50 transition-colors shadow-lg",children:"Open Control Panel"}),r.jsx("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-blue-700 text-white rounded-lg font-semibold hover:bg-blue-800 transition-colors border border-blue-500",children:"Back to Home"})]})]})})]})]})]})}const Qp=p.lazy(()=>Pa(()=>import("./ClientsModule-WILFRnja.js"),[])),vT=p.lazy(()=>Pa(()=>import("./FinancialModule-DvgU7-HS.js"),__vite__mapDeps([0,1]))),yT=p.lazy(()=>Pa(()=>import("./ProjectsModuleNew-BvCShOC5.js"),__vite__mapDeps([2,1,3]))),bT=p.lazy(()=>Pa(()=>import("./SocialCalendarModule-COVR27xo.js"),__vite__mapDeps([4,3]))),Xp=[{id:"clients",name:"Client Management",icon:Ze,color:"text-blue-600",bgColor:"bg-blue-50"},{id:"financial",name:"Financial Control",icon:Le,color:"text-green-600",bgColor:"bg-green-50"},{id:"projects",name:"Project Management",icon:K2,color:"text-purple-600",bgColor:"bg-purple-50"},{id:"social",name:"Social Media Calendar",icon:Dt,color:"text-pink-600",bgColor:"bg-pink-50"},{id:"crm",name:"CRM - Lead Management",icon:xm,color:"text-orange-600",bgColor:"bg-orange-50"}];function Zp(){const{user:e}=Tt(),t=Be(),[s,n]=p.useState("clients"),[a,i]=p.useState(!0),[o,l]=p.useState(!0);p.useEffect(()=>{if(!e||!xs(e.email)){G.error("Access denied. Admin only."),t("/login");return}l(!1)},[e,t]);const c=async()=>{try{await ue.auth.signOut(),t("/login"),G.success("Signed out successfully")}catch(f){console.error("Sign out error:",f),G.error("Failed to sign out")}},d=()=>r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading module..."})]})}),h=()=>{const f=(()=>{switch(s){case"clients":return Qp;case"financial":return vT;case"projects":return yT;case"social":return bT;default:return Qp}})();return r.jsx(p.Suspense,{fallback:r.jsx(d,{}),children:r.jsx(f,{})})};if(o)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading admin panel..."})]})});const u=Xp.find(f=>f.id===s);return r.jsxs(r.Fragment,{children:[r.jsxs(Gi,{children:[r.jsx("title",{children:"Admin Control Panel - DuoPro Services"}),r.jsx("meta",{name:"robots",content:"noindex"})]}),r.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[r.jsxs("aside",{className:`${a?"w-64":"w-20"} bg-white border-r border-gray-200 flex flex-col transition-all duration-300`,children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a&&r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold text-lg text-gray-900",children:"Admin Panel"}),r.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.email})]}),r.jsx("button",{onClick:()=>i(!a),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a?r.jsx(kn,{className:"w-5 h-5 text-gray-600"}):r.jsx(eE,{className:"w-5 h-5 text-gray-600"})})]}),r.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[Xp.map(f=>{const x=f.icon,b=s===f.id;return f.id==="crm"?r.jsxs("button",{onClick:()=>t("/admin/crm"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all text-gray-700 hover:bg-gray-50",title:a?void 0:f.name,children:[r.jsx(x,{className:"w-5 h-5 text-gray-600"}),a&&r.jsx("span",{className:"text-sm",children:f.name})]},f.id):r.jsxs("button",{onClick:()=>n(f.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${b?`${f.bgColor} ${f.color} font-semibold`:"text-gray-700 hover:bg-gray-50"}`,title:a?void 0:f.name,children:[r.jsx(x,{className:`w-5 h-5 ${b?f.color:"text-gray-600"}`}),a&&r.jsx("span",{className:"text-sm",children:f.name})]},f.id)}),r.jsx("div",{className:"py-2",children:r.jsx("div",{className:"border-t border-gray-200"})}),r.jsxs("button",{onClick:()=>t("/admin/team-activity"),className:"w-full flex items-center gap-3 px-4 py-3 bg-indigo-50 text-indigo-600 hover:bg-indigo-100 rounded-lg transition-all font-medium",title:a?void 0:"Team Activities",children:[r.jsx(sy,{className:"w-5 h-5 text-indigo-600"}),a&&r.jsx("span",{className:"text-sm",children:"Team Activities"})]})]}),r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsxs("button",{onClick:c,className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:a?void 0:"Sign Out",children:[r.jsx(ry,{className:"w-5 h-5"}),a&&r.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})})]}),r.jsxs("main",{className:"flex-1 overflow-y-auto",children:[r.jsx("header",{className:"bg-white border-b border-gray-200 px-8 py-6",children:r.jsx("div",{className:"flex items-center gap-4",children:u&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`p-3 ${u.bgColor} rounded-lg`,children:r.jsx(u.icon,{className:`w-6 h-6 ${u.color}`})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:u.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Manage and monitor your ",u.name.toLowerCase()]})]})]})})}),r.jsx("div",{className:"p-8",children:h()})]})]})]})}function de({className:e,...t}){return r.jsx("div",{"data-slot":"card",className:lt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}const is=[{id:"individual-simple",name:{en:"Individual - Simple",fr:"Individuel - Simple",pt:"Individual - Simples"},description:{en:"T4 only, no deductions",fr:"T4 seulement, sans dductions",pt:"Apenas T4, sem dedues"},amount:80,category:"personal",filingType:"individual"},{id:"individual-standard",name:{en:"Individual - Standard",fr:"Individuel - Standard",pt:"Individual - Padro"},description:{en:"T4 + basic deductions (medical, donations, RRSP)",fr:"T4 + dductions de base (mdical, dons, REER)",pt:"T4 + dedues bsicas (mdico, doaes, RRSP)"},amount:120,category:"personal",filingType:"individual"},{id:"individual-complex",name:{en:"Individual - Complex",fr:"Individuel - Complexe",pt:"Individual - Complexo"},description:{en:"Multiple income sources, rental, investments",fr:"Sources multiples de revenus, location, investissements",pt:"Mltiplas fontes de renda, aluguel, investimentos"},amount:200,category:"personal",filingType:"individual"},{id:"couple-simple",name:{en:"Couple - Simple",fr:"Couple - Simple",pt:"Casal - Simples"},description:{en:"2 coordinated T1 returns, T4 only",fr:"2 dclarations T1 coordonnes, T4 seulement",pt:"2 declaraes T1 coordenadas, apenas T4"},amount:150,category:"personal",filingType:"couple"},{id:"couple-standard",name:{en:"Couple - Standard",fr:"Couple - Standard",pt:"Casal - Padro"},description:{en:"2 coordinated T1 returns with basic deductions",fr:"2 dclarations T1 coordonnes avec dductions de base",pt:"2 declaraes T1 coordenadas com dedues bsicas"},amount:180,category:"personal",filingType:"couple"},{id:"couple-complex",name:{en:"Couple - Complex",fr:"Couple - Complexe",pt:"Casal - Complexo"},description:{en:"2 coordinated T1 returns, multiple income sources",fr:"2 dclarations T1 coordonnes, sources multiples",pt:"2 declaraes T1 coordenadas, mltiplas fontes de renda"},amount:350,category:"personal",filingType:"couple"},{id:"personal-quebec",name:{en:"Personal - Quebec (with RL-1)",fr:"Personnel - Qubec (avec RL-1)",pt:"Pessoal - Quebec (com RL-1)"},description:{en:"Quebec residents with Relev 1",fr:"Rsidents du Qubec avec Relev 1",pt:"Residentes de Quebec com Relev 1"},amount:200,category:"personal"},{id:"business-self-employed",name:{en:"Self-Employed",fr:"Travailleur Autonome",pt:"Autnomo"},description:{en:"Self-employment income (T2125)",fr:"Revenus de travail autonome (T2125)",pt:"Renda de trabalho autnomo (T2125)"},amount:350,category:"business"},{id:"business-small",name:{en:"Small Business",fr:"Petite Entreprise",pt:"Pequena Empresa"},description:{en:"Small business with basic bookkeeping",fr:"Petite entreprise avec tenue de livres de base",pt:"Pequena empresa com contabilidade bsica"},amount:400,category:"business"},{id:"business-corporate",name:{en:"Corporate Return",fr:"Dclaration de Socit",pt:"Declarao Corporativa"},description:{en:"Corporation tax return (T2)",fr:"Dclaration d'impt des socits (T2)",pt:"Declarao de imposto corporativo (T2)"},amount:600,category:"business"},{id:"addon-previous-year",name:{en:"Previous Year Filing",fr:"Dclaration Anne Prcdente",pt:"Declarao Ano Anterior"},description:{en:"Additional charge per previous year",fr:"Frais supplmentaire par anne prcdente",pt:"Taxa adicional por ano anterior"},amount:100,category:"addon"},{id:"addon-quebec-return",name:{en:"Quebec Tax Return",fr:"Dclaration Qubec",pt:"Declarao Quebec"},description:{en:"Provincial Quebec tax return (TP-1)",fr:"Dclaration provinciale du Qubec (TP-1)",pt:"Declarao provincial de Quebec (TP-1)"},amount:75,category:"addon"},{id:"addon-quebec-tax",name:{en:"Quebec Tax Filing Fee",fr:"Frais de Production Qubec",pt:"Taxa de Declarao Quebec"},description:{en:"Additional filing fee for Quebec residents",fr:"Frais supplmentaire pour rsidents du Qubec",pt:"Taxa adicional para residentes de Quebec"},amount:50,category:"addon"},{id:"addon-amendment",name:{en:"Tax Return Amendment",fr:"Modification de Dclaration",pt:"Retificao de Declarao"},description:{en:"Amend previously filed return",fr:"Modifier une dclaration dj produite",pt:"Retificar declarao j enviada"},amount:75,category:"addon"}];function eg(e){return is.find(t=>t.id===e)}function Pe(e){return new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}).format(e)}const wT=`https://${Ke}.supabase.co/functions/v1/make-server-c2a25be0`;let Sd=!1;const kd=new Set;async function kc(e,t={}){try{const s=await fetch(`${wT}${e}`,{...t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${us}`,...t.headers}});if(!s.ok)throw new Error(`HTTP ${s.status}`);const n=await s.json();return Sd&&(kd.clear(),Qe.success("Backend Online","API")),Sd=!1,{data:n,isMocked:!1}}catch{return Sd=!0,kd.has(e)||kd.add(e),{data:jT(e),isMocked:!0}}}function jT(e){return e.includes("/messages/unread-count")?{count:0}:e.includes("/messages")?{messages:[]}:e.includes("/dashboard/stats")?{totalClients:0,activeReturns:0,completedReturns:0,pendingDocuments:0,totalRevenue:0,monthlyRevenue:0,upcomingDeadlines:0,messagesCount:0,recentActivities:[]}:e.includes("/permissions")?{canAccessClientHub:!1,canAccessContentCalendar:!1,canAccessUserManagement:!1,canAccessLaunchRoadmap:!1,canAccessInvoices:!1,canEditClients:!1,canDeleteClients:!1,canManageUsers:!1,canManagePermissions:!1,isAdmin:!1}:e.includes("/roadmap/stats")?{total:0,completed:0,inProgress:0,pending:0,byPhase:{},byPerson:{},overallProgress:0}:e.includes("/roadmap")?{tasks:[],teamMembers:{}}:e.includes("/users/list")?[]:e.includes("/admin/clients")?{clients:[]}:{}}function Ey(){const{user:e}=Tt(),[t,s]=p.useState(null),[n,a]=p.useState(!0);p.useEffect(()=>{e?i():(s(null),a(!1))},[e]);const i=async()=>{var c,d,h,u;if(e)try{const{data:f,isMocked:x}=await kc(`/users/permissions/${e.id}`,{headers:{Authorization:`Bearer ${us}`,"Content-Type":"application/json"}});if(x){const b={userId:e.id,email:e.email||"",name:((c=e.user_metadata)==null?void 0:c.name)||((d=e.email)==null?void 0:d.split("@")[0])||"User",role:"admin",modules:["dashboard","bookkeeping","financial","customers","marketing","users"],isActive:!0};s(b)}else s(f)}catch(f){console.error("Error loading permissions:",f),s({userId:e.id,email:e.email||"",name:((h=e.user_metadata)==null?void 0:h.name)||((u=e.email)==null?void 0:u.split("@")[0])||"User",role:"admin",modules:["dashboard","bookkeeping","financial","customers","marketing","users"],isActive:!0})}finally{a(!1)}};return{permissions:t,loading:n,hasPermission:c=>t?t.role==="admin"?!0:t.modules.includes(c):!1,isAdmin:()=>(t==null?void 0:t.role)==="admin"||!1,refresh:i}}function NT(){const e=Be(),[t,s]=p.useState("checking");p.useEffect(()=>{n()},[]);const n=async()=>{var a;try{const{data:i}=await ue.auth.getSession();if(!((a=i.session)!=null&&a.access_token)){s("not-configured");return}const o=await fetch(mt.createInitialPaymentInvoice,{method:"POST",headers:{Authorization:`Bearer ${i.session.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({year:2025,documentCount:1,amount:50})}),l=await o.json();o.ok&&(l.checkoutUrl||l.paymentUrl)?s("configured"):s("not-configured")}catch{s("not-configured")}};return t==="checking"?null:t==="configured"?r.jsx(de,{className:"p-4 bg-green-50 border-green-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Q,{className:"w-5 h-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-green-900 text-sm",children:"Stripe Configured"}),r.jsx("p",{className:"text-xs text-green-700",children:"Payments are working correctly"})]})]}),r.jsx(se,{size:"sm",variant:"outline",onClick:()=>e("/admin/payment-setup"),children:"Test"})]})}):r.jsx(de,{className:"p-4 bg-amber-50 border-amber-300 border-2",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(tt,{className:"w-5 h-5 text-amber-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-amber-900 text-sm",children:" Stripe Not Configured"}),r.jsx("p",{className:"text-xs text-amber-700",children:"Set up payments to accept $50 deposits"})]})]}),r.jsx(se,{size:"sm",className:"bg-amber-600 hover:bg-amber-700",onClick:()=>e("/admin/payment-setup"),children:"Setup Now"})]})})}function ST(){const[e,t]=p.useState(!1),[s,n]=p.useState(!1),[a,i]=p.useState([]),o=async()=>{var d,h;n(!0);const l=[];l.push({name:"Project ID",status:"success",message:Ke,details:{projectId:Ke}});const c=`https://${Ke}.supabase.co/functions/v1/make-server-c2a25be0`;l.push({name:"API Base URL",status:"success",message:c,details:{baseUrl:c}}),i([...l]);try{const u=mt.health;console.log("Testing health endpoint:",u);const f=await fetch(u,{method:"GET",headers:{"Content-Type":"application/json"}});if(f.ok){const x=await f.json();l.push({name:"Server Health Check",status:"success",message:"Server is running",details:x})}else{const x=await f.text();l.push({name:"Server Health Check",status:"error",message:`HTTP ${f.status}`,details:{status:f.status,body:x}})}}catch(u){l.push({name:"Server Health Check",status:"error",message:u instanceof Error?u.message:"Network error",details:{error:String(u)}})}i([...l]);try{const u=`https://${Ke}.supabase.co/functions/v1/make-server-c2a25be0/admin-hub/ping`;console.log(" Testing PING endpoint (no auth):",u);const f=await fetch(u,{method:"GET",headers:{"Content-Type":"application/json"}});if(f.ok){const x=await f.json();l.push({name:"Admin Hub PING (No Auth)",status:"success",message:"Admin Hub responding without auth",details:x})}else{const x=await f.text();l.push({name:"Admin Hub PING (No Auth)",status:"error",message:`HTTP ${f.status}`,details:{status:f.status,body:x}})}}catch(u){l.push({name:"Admin Hub PING (No Auth)",status:"error",message:u instanceof Error?u.message:"Network error",details:{error:String(u)}})}i([...l]);try{const{data:u,error:f}=await ue.auth.getSession();if(f)l.push({name:"Authentication",status:"error",message:f.message,details:f});else if(!u.session)l.push({name:"Authentication",status:"error",message:"No active session",details:null});else{l.push({name:"Authentication",status:"success",message:`Logged in as ${u.session.user.email}`,details:{userId:u.session.user.id}});try{const x=mt.adminHubTasks.replace("/tasks","/health");console.log("Testing admin hub endpoint:",x);const b=await fetch(x,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.session.access_token}`}});if(b.ok){const y=await b.json();l.push({name:"Admin Hub Health",status:"success",message:"Admin Hub is accessible",details:y})}else{const y=await b.text();l.push({name:"Admin Hub Health",status:"error",message:`HTTP ${b.status}`,details:{status:b.status,body:y}})}}catch(x){l.push({name:"Admin Hub Health",status:"error",message:x instanceof Error?x.message:"Network error",details:{error:String(x)}})}try{const x=await fetch(mt.adminHubTasks,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.session.access_token}`}});if(x.ok){const b=await x.json();l.push({name:"Get Tasks",status:"success",message:`Found ${((d=b.tasks)==null?void 0:d.length)||0} tasks`,details:b})}else{const b=await x.text();l.push({name:"Get Tasks",status:"error",message:`HTTP ${x.status}`,details:{status:x.status,body:b}})}}catch(x){l.push({name:"Get Tasks",status:"error",message:x instanceof Error?x.message:"Network error",details:{error:String(x)}})}try{const x=await fetch(mt.adminHubSocialPosts,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.session.access_token}`}});if(x.ok){const b=await x.json();l.push({name:"Get Posts",status:"success",message:`Found ${((h=b.posts)==null?void 0:h.length)||0} posts`,details:b})}else{const b=await x.text();l.push({name:"Get Posts",status:"error",message:`HTTP ${x.status}`,details:{status:x.status,body:b}})}}catch(x){l.push({name:"Get Posts",status:"error",message:x instanceof Error?x.message:"Network error",details:{error:String(x)}})}}}catch(u){l.push({name:"Authentication",status:"error",message:u instanceof Error?u.message:"Unknown error",details:{error:String(u)}})}i([...l]),n(!1)};return e?r.jsxs("div",{className:"fixed bottom-4 right-4 bg-white rounded-lg shadow-2xl border border-gray-200 w-96 max-h-[600px] overflow-hidden z-50",children:[r.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"System Diagnostics"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:o,disabled:s,className:"p-1 hover:bg-gray-200 rounded transition-colors disabled:opacity-50",children:r.jsx($i,{className:`w-4 h-4 ${s?"animate-spin":""}`})}),r.jsx("button",{onClick:()=>t(!1),className:"text-gray-600 hover:text-gray-900",children:""})]})]}),r.jsxs("div",{className:"p-4 max-h-[500px] overflow-y-auto space-y-3",children:[s&&a.length===0&&r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(ve,{className:"w-6 h-6 animate-spin text-blue-600"})}),a.map((l,c)=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-start gap-2",children:[l.status==="success"&&r.jsx(Q,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),l.status==="error"&&r.jsx(tt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),l.status==="pending"&&r.jsx(ve,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5 animate-spin"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-sm text-gray-900",children:l.name}),r.jsx("div",{className:"text-xs text-gray-600 mt-1 break-words",children:l.message}),l.details&&r.jsxs("details",{className:"mt-2",children:[r.jsx("summary",{className:"text-xs text-blue-600 cursor-pointer",children:"View details"}),r.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded mt-1 overflow-x-auto",children:JSON.stringify(l.details,null,2)})]})]})]})},c))]}),r.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-t border-gray-200 text-xs text-gray-600",children:[a.length," test(s) completed"]})]}):r.jsxs("button",{onClick:()=>{t(!0),o()},className:"fixed bottom-4 right-4 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-blue-700 transition-colors flex items-center gap-2 z-50",children:[r.jsx(tt,{className:"w-4 h-4"}),"Run Diagnostics"]})}const kT=e=>{switch(e){case"dashboard":return ar;case"bookkeeping":return gm;case"financial":return Le;case"customers":return Ze;case"marketing":return Z2;case"calendar":return Dt;case"users":return Fi;case"productivity":return Xv;default:return ar}},CT=[{id:"bookkeeping",title:"Bookkeeping Dashboard",description:"Track expenses, manage invoices, and handle day-to-day accounting",iconType:"bookkeeping",color:"from-indigo-500 to-indigo-600",bgColor:"bg-indigo-50",borderColor:"border-indigo-200",route:"/admin/bookkeeping-dashboard"},{id:"financial",title:"Financial Dashboard",description:"View KPIs, revenue analytics, and comprehensive financial reports",iconType:"financial",color:"from-green-500 to-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",route:"/admin/financial-dashboard"},{id:"invoices",title:"Invoice Management",description:"View, manage, and download all client invoices",iconType:"financial",color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",route:"/admin/invoices"},{id:"payment-setup",title:" Payment Setup",description:"Configure and test Stripe payment integration",iconType:"dashboard",color:"from-purple-500 to-pink-500",bgColor:"bg-gradient-to-br from-purple-50 to-pink-50",borderColor:"border-purple-200",route:"/admin/payment-setup"},{id:"customers",title:"Customer Dashboard",description:"Manage all customers, view details, documents, and filing status",iconType:"customers",color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",route:"/admin/clients"},{id:"content-calendar",title:"Content Calendar",description:"Manage your marketing calendar and create post images",iconType:"calendar",color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",route:"/admin/content-calendar"},{id:"roadmap",title:" Launch Roadmap",description:"Track February launch preparation with the team",iconType:"dashboard",color:"from-blue-500 to-green-500",bgColor:"bg-gradient-to-br from-blue-50 to-green-50",borderColor:"border-blue-300",route:"/admin/roadmap"},{id:"users",title:"User Management",description:"Manage team members, permissions, and access control",iconType:"users",color:"from-pink-500 to-pink-600",bgColor:"bg-pink-50",borderColor:"border-pink-200",route:"/admin/users"}];function tg(){const{user:e,signOut:t}=Tt(),s=Be(),{t:n}=Qt(),{hasPermission:a,isAdmin:i,loading:o}=Ey(),[l,c]=p.useState(null),[d,h]=p.useState(!0);p.useEffect(()=>{f()},[]);const u=async()=>{try{await t(),s("/login")}catch(w){console.error("Error signing out:",w)}},f=async()=>{var w,m,v,g;h(!0);try{const{data:j}=await ue.auth.getSession();if(!j.session)return;const{data:k,isMocked:E}=await kc("/dashboard/stats",{headers:{Authorization:`Bearer ${j.session.access_token}`}});if(E)c({totalCustomers:k.totalClients||0,pendingInvoices:k.pendingDocuments||0,monthlyRevenue:k.monthlyRevenue||0,activeFilings:k.activeReturns||0});else{const N=k.clients||{},C=k.financial||{},T=new Date().getFullYear(),R=((w=N.clients)==null?void 0:w.reduce((U,D)=>{var L;return U+(((L=D.taxFilings)==null?void 0:L.filter(S=>S.year===T&&["in-progress","review","awaiting-payment"].includes(S.status)).length)||0)},0))||0,$=((m=N.clients)==null?void 0:m.reduce((U,D)=>{var L;return U+(((L=D.taxFilings)==null?void 0:L.filter(S=>{var A;return S.status==="awaiting-payment"&&((A=S.payment)==null?void 0:A.status)==="pending"}).length)||0)},0))||0,H=new Date().getMonth()+1,O=`${T}-${H.toString().padStart(2,"0")}`,_=(v=C.monthlyRevenue)==null?void 0:v.find(U=>U.month===O);c({totalCustomers:((g=N.clients)==null?void 0:g.length)||0,pendingInvoices:$,monthlyRevenue:(_==null?void 0:_.revenue)||0,activeFilings:R})}}catch(j){console.error("Error loading dashboard stats:",j)}finally{h(!1)}},x=w=>{s(w)},y=o?[]:CT.filter(w=>w.id==="content-calendar"?a("marketing"):w.id==="productivity"?a("customers"):w.id==="users"?i():a(w.id));return o?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600"})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[r.jsx("header",{className:"bg-white border-b shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(ar,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:n("admin.panel")}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n("admin.welcomeBack"),", ",e==null?void 0:e.email]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(se,{onClick:u,variant:"ghost",children:[r.jsx(ry,{className:"w-4 h-4 mr-2"}),n("admin.signOut")]})})]})})}),r.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-12",children:[r.jsx("div",{className:"mb-6",children:r.jsx(NT,{})}),r.jsxs("div",{className:"mb-10",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Select a Category"}),r.jsx("p",{className:"text-gray-600",children:"Choose from the administrative tools below to manage your tax consultancy business"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:y.map(w=>{const m=kT(w.iconType);return r.jsxs(de,{className:`
                  group relative overflow-hidden border-2 ${w.borderColor} 
                  hover:shadow-2xl transition-all duration-300 cursor-pointer
                  transform hover:-translate-y-1
                `,onClick:()=>x(w.route),children:[r.jsx("div",{className:`absolute inset-0 ${w.bgColor} opacity-40 group-hover:opacity-60 transition-opacity`}),r.jsxs("div",{className:"relative p-8",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${w.color} rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform`,children:r.jsx(m,{className:"w-8 h-8 text-white"})}),r.jsx("div",{className:"w-10 h-10 rounded-full bg-white/50 flex items-center justify-center group-hover:bg-white transition-colors",children:r.jsx(wc,{className:"w-5 h-5 text-gray-700 group-hover:translate-x-1 transition-transform"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:w.title}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:w.description})]}),r.jsx("div",{className:`mt-6 h-1 bg-gradient-to-r ${w.color} rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left`})]})]},w.id)})}),r.jsxs("div",{className:"mt-12 bg-white rounded-xl shadow-sm border p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Quick Overview"}),l&&l.totalCustomers===0&&!d&&r.jsx("div",{className:"flex items-center gap-2 px-4 py-2 bg-amber-50 border border-amber-200 rounded-lg",children:r.jsx("span",{className:"text-amber-600 text-sm font-medium",children:" No real data yet - Add clients to see stats"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx(Ze,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:d?r.jsx(ve,{className:"w-8 h-8 animate-spin"}):(l==null?void 0:l.totalCustomers)||""}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Customers"})]}),r.jsxs("div",{className:"text-center p-4 bg-indigo-50 rounded-lg",children:[r.jsx(gm,{className:"w-8 h-8 text-indigo-600 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-indigo-900",children:d?r.jsx(ve,{className:"w-8 h-8 animate-spin"}):(l==null?void 0:l.pendingInvoices)||""}),r.jsx("p",{className:"text-sm text-gray-600",children:"Pending Invoices"})]}),r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx(Le,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-green-900",children:d?r.jsx(ve,{className:"w-8 h-8 animate-spin"}):Pe((l==null?void 0:l.monthlyRevenue)||0)}),r.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Revenue"})]}),r.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[r.jsx(ar,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-purple-900",children:d?r.jsx(ve,{className:"w-8 h-8 animate-spin"}):(l==null?void 0:l.activeFilings)||""}),r.jsx("p",{className:"text-sm text-gray-600",children:"Active Filings"})]})]})]}),r.jsx("div",{className:"mt-12",children:r.jsx(ST,{})})]})]})}function Ce(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function ET(e,t){const s=p.createContext(t),n=i=>{const{children:o,...l}=i,c=p.useMemo(()=>l,Object.values(l));return r.jsx(s.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=p.useContext(s);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Cc(e,t=[]){let s=[];function n(i,o){const l=p.createContext(o),c=s.length;s=[...s,o];const d=u=>{var m;const{scope:f,children:x,...b}=u,y=((m=f==null?void 0:f[e])==null?void 0:m[c])||l,w=p.useMemo(()=>b,Object.values(b));return r.jsx(y.Provider,{value:w,children:x})};d.displayName=i+"Provider";function h(u,f){var y;const x=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,b=p.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return[d,h]}const a=()=>{const i=s.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,TT(a,...t)]}function TT(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const u=c(i)[`__scope${d}`];return{...l,...u}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}var pt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},_T=mh[" useId ".trim().toString()]||(()=>{}),AT=0;function ta(e){const[t,s]=p.useState(_T());return pt(()=>{s(n=>n??String(AT++))},[e]),e||(t?`radix-${t}`:"")}var PT=mh[" useInsertionEffect ".trim().toString()]||pt;function Xu({prop:e,defaultProp:t,onChange:s=()=>{},caller:n}){const[a,i,o]=RT({defaultProp:t,onChange:s}),l=e!==void 0,c=l?e:a;{const h=p.useRef(e!==void 0);p.useEffect(()=>{const u=h.current;u!==l&&console.warn(`${n} is changing from ${u?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,n])}const d=p.useCallback(h=>{var u;if(l){const f=OT(h)?h(e):h;f!==e&&((u=o.current)==null||u.call(o,f))}else i(h)},[l,e,i,o]);return[c,d]}function RT({defaultProp:e,onChange:t}){const[s,n]=p.useState(e),a=p.useRef(s),i=p.useRef(t);return PT(()=>{i.current=t},[t]),p.useEffect(()=>{var o;a.current!==s&&((o=i.current)==null||o.call(i,s),a.current=s)},[s,a]),[s,n,i]}function OT(e){return typeof e=="function"}function IT(e){const t=DT(e),s=p.forwardRef((n,a)=>{const{children:i,...o}=n,l=p.Children.toArray(i),c=l.find(FT);if(c){const d=c.props.children,h=l.map(u=>u===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:u);return r.jsx(t,{...o,ref:a,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return r.jsx(t,{...o,ref:a,children:i})});return s.displayName=`${e}.Slot`,s}function DT(e){const t=p.forwardRef((s,n)=>{const{children:a,...i}=s;if(p.isValidElement(a)){const o=MT(a),l=LT(i,a.props);return a.type!==p.Fragment&&(l.ref=n?Ea(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $T=Symbol("radix.slottable");function FT(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$T}function LT(e,t){const s={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?s[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(s[n]=a):n==="style"?s[n]={...a,...i}:n==="className"&&(s[n]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function MT(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var UT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=UT.reduce((e,t)=>{const s=IT(`Primitive.${t}`),n=p.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function BT(e,t){e&&wa.flushSync(()=>e.dispatchEvent(t))}function lr(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}function zT(e,t=globalThis==null?void 0:globalThis.document){const s=lr(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var VT="DismissableLayer",Zu="dismissableLayer.update",HT="dismissableLayer.pointerDownOutside",WT="dismissableLayer.focusOutside",sg,Ty=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ym=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=p.useContext(Ty),[h,u]=p.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=p.useState({}),b=Ue(t,N=>u(N)),y=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),m=y.indexOf(w),v=h?y.indexOf(h):-1,g=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=m,k=GT(N=>{const C=N.target,T=[...d.branches].some(R=>R.contains(C));!j||T||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},f),E=YT(N=>{const C=N.target;[...d.branches].some(R=>R.contains(C))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},f);return zT(N=>{v===d.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},f),p.useEffect(()=>{if(h)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(sg=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),ng(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=sg)}},[h,f,s,d]),p.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),ng())},[h,d]),p.useEffect(()=>{const N=()=>x({});return document.addEventListener(Zu,N),()=>document.removeEventListener(Zu,N)},[]),r.jsx(Se.div,{...c,ref:b,style:{pointerEvents:g?j?"auto":"none":void 0,...e.style},onFocusCapture:Ce(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Ce(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ce(e.onPointerDownCapture,k.onPointerDownCapture)})});ym.displayName=VT;var qT="DismissableLayerBranch",KT=p.forwardRef((e,t)=>{const s=p.useContext(Ty),n=p.useRef(null),a=Ue(t,n);return p.useEffect(()=>{const i=n.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),r.jsx(Se.div,{...e,ref:a})});KT.displayName=qT;function GT(e,t=globalThis==null?void 0:globalThis.document){const s=lr(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){_y(HT,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function YT(e,t=globalThis==null?void 0:globalThis.document){const s=lr(e),n=p.useRef(!1);return p.useEffect(()=>{const a=i=>{i.target&&!n.current&&_y(WT,s,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ng(){const e=new CustomEvent(Zu);document.dispatchEvent(e)}function _y(e,t,s,{discrete:n}){const a=s.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),n?BT(a,i):a.dispatchEvent(i)}var Cd="focusScope.autoFocusOnMount",Ed="focusScope.autoFocusOnUnmount",rg={bubbles:!1,cancelable:!0},JT="FocusScope",bm=p.forwardRef((e,t)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=p.useState(null),d=lr(a),h=lr(i),u=p.useRef(null),f=Ue(t,y=>c(y)),x=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let y=function(g){if(x.paused||!l)return;const j=g.target;l.contains(j)?u.current=j:sn(u.current,{select:!0})},w=function(g){if(x.paused||!l)return;const j=g.relatedTarget;j!==null&&(l.contains(j)||sn(u.current,{select:!0}))},m=function(g){if(document.activeElement===document.body)for(const k of g)k.removedNodes.length>0&&sn(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const v=new MutationObserver(m);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),v.disconnect()}}},[n,l,x.paused]),p.useEffect(()=>{if(l){ig.add(x);const y=document.activeElement;if(!l.contains(y)){const m=new CustomEvent(Cd,rg);l.addEventListener(Cd,d),l.dispatchEvent(m),m.defaultPrevented||(QT(s_(Ay(l)),{select:!0}),document.activeElement===y&&sn(l))}return()=>{l.removeEventListener(Cd,d),setTimeout(()=>{const m=new CustomEvent(Ed,rg);l.addEventListener(Ed,h),l.dispatchEvent(m),m.defaultPrevented||sn(y??document.body,{select:!0}),l.removeEventListener(Ed,h),ig.remove(x)},0)}}},[l,d,h,x]);const b=p.useCallback(y=>{if(!s&&!n||x.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,m=document.activeElement;if(w&&m){const v=y.currentTarget,[g,j]=XT(v);g&&j?!y.shiftKey&&m===j?(y.preventDefault(),s&&sn(g,{select:!0})):y.shiftKey&&m===g&&(y.preventDefault(),s&&sn(j,{select:!0})):m===v&&y.preventDefault()}},[s,n,x.paused]);return r.jsx(Se.div,{tabIndex:-1,...o,ref:f,onKeyDown:b})});bm.displayName=JT;function QT(e,{select:t=!1}={}){const s=document.activeElement;for(const n of e)if(sn(n,{select:t}),document.activeElement!==s)return}function XT(e){const t=Ay(e),s=ag(t,e),n=ag(t.reverse(),e);return[s,n]}function Ay(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function ag(e,t){for(const s of e)if(!ZT(s,{upTo:t}))return s}function ZT(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function e_(e){return e instanceof HTMLInputElement&&"select"in e}function sn(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&e_(e)&&t&&e.select()}}var ig=t_();function t_(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=og(e,t),e.unshift(t)},remove(t){var s;e=og(e,t),(s=e[0])==null||s.resume()}}}function og(e,t){const s=[...e],n=s.indexOf(t);return n!==-1&&s.splice(n,1),s}function s_(e){return e.filter(t=>t.tagName!=="A")}var n_="Portal",wm=p.forwardRef((e,t)=>{var l;const{container:s,...n}=e,[a,i]=p.useState(!1);pt(()=>i(!0),[]);const o=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?J0.createPortal(r.jsx(Se.div,{...n,ref:t}),o):null});wm.displayName=n_;function r_(e,t){return p.useReducer((s,n)=>t[s][n]??s,e)}var Ec=e=>{const{present:t,children:s}=e,n=a_(t),a=typeof s=="function"?s({present:n.isPresent}):p.Children.only(s),i=Ue(n.ref,i_(a));return typeof s=="function"||n.isPresent?p.cloneElement(a,{ref:i}):null};Ec.displayName="Presence";function a_(e){const[t,s]=p.useState(),n=p.useRef(null),a=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=r_(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=Po(n.current);i.current=l==="mounted"?d:"none"},[l]),pt(()=>{const d=n.current,h=a.current;if(h!==e){const f=i.current,x=Po(d);e?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&f!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),pt(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,u=x=>{const y=Po(n.current).includes(CSS.escape(x.animationName));if(x.target===t&&y&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=x=>{x.target===t&&(i.current=Po(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{n.current=d?getComputedStyle(d):null,s(d)},[])}}function Po(e){return(e==null?void 0:e.animationName)||"none"}function i_(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Td=0;function Py(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??lg()),document.body.insertAdjacentElement("beforeend",e[1]??lg()),Td++,()=>{Td===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Td--}},[])}function lg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var il="right-scroll-bar-position",ol="width-before-scroll-bar",o_="with-scroll-bars-hidden",l_="--removed-body-scroll-bar-size";function _d(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function c_(e,t){var s=p.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(n){var a=s.value;a!==n&&(s.value=n,s.callback(n,a))}}}})[0];return s.callback=t,s.facade}var d_=typeof window<"u"?p.useLayoutEffect:p.useEffect,cg=new WeakMap;function u_(e,t){var s=c_(null,function(n){return e.forEach(function(a){return _d(a,n)})});return d_(function(){var n=cg.get(s);if(n){var a=new Set(n),i=new Set(e),o=s.current;a.forEach(function(l){i.has(l)||_d(l,null)}),i.forEach(function(l){a.has(l)||_d(l,o)})}cg.set(s,e)},[e]),s}function h_(e){return e}function m_(e,t){t===void 0&&(t=h_);var s=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(i){var o=t(i,n);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;s.length;){var o=s;s=[],o.forEach(i)}s={push:function(l){return i(l)},filter:function(){return s}}},assignMedium:function(i){n=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(i),o=s}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),s}}}};return a}function f_(e){e===void 0&&(e={});var t=m_(null);return t.options=Es({async:!0,ssr:!1},e),t}var Ry=function(e){var t=e.sideCar,s=ka(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,Es({},s))};Ry.isSideCarExport=!0;function p_(e,t){return e.useMedium(t),Ry}var Oy=f_(),Ad=function(){},Tc=p.forwardRef(function(e,t){var s=p.useRef(null),n=p.useState({onScrollCapture:Ad,onWheelCapture:Ad,onTouchMoveCapture:Ad}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,h=e.enabled,u=e.shards,f=e.sideCar,x=e.noRelative,b=e.noIsolation,y=e.inert,w=e.allowPinchZoom,m=e.as,v=m===void 0?"div":m,g=e.gapMode,j=ka(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,E=u_([s,t]),N=Es(Es({},j),a);return p.createElement(p.Fragment,null,h&&p.createElement(k,{sideCar:Oy,removeScrollBar:d,shards:u,noRelative:x,noIsolation:b,inert:y,setCallbacks:i,allowPinchZoom:!!w,lockRef:s,gapMode:g}),o?p.cloneElement(p.Children.only(l),Es(Es({},N),{ref:E})):p.createElement(v,Es({},N,{className:c,ref:E}),l))});Tc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tc.classNames={fullWidth:ol,zeroRight:il};var g_=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function x_(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=g_();return t&&e.setAttribute("nonce",t),e}function v_(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function y_(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var b_=function(){var e=0,t=null;return{add:function(s){e==0&&(t=x_())&&(v_(t,s),y_(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},w_=function(){var e=b_();return function(t,s){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},Iy=function(){var e=w_(),t=function(s){var n=s.styles,a=s.dynamic;return e(n,a),null};return t},j_={left:0,top:0,right:0,gap:0},Pd=function(e){return parseInt(e||"",10)||0},N_=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Pd(s),Pd(n),Pd(a)]},S_=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return j_;var t=N_(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},k_=Iy(),sa="data-scroll-locked",C_=function(e,t,s,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(o_,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(sa,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(il,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ol,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(il," .").concat(il,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ol," .").concat(ol,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(sa,`] {
    `).concat(l_,": ").concat(l,`px;
  }
`)},dg=function(){var e=parseInt(document.body.getAttribute(sa)||"0",10);return isFinite(e)?e:0},E_=function(){p.useEffect(function(){return document.body.setAttribute(sa,(dg()+1).toString()),function(){var e=dg()-1;e<=0?document.body.removeAttribute(sa):document.body.setAttribute(sa,e.toString())}},[])},T_=function(e){var t=e.noRelative,s=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;E_();var i=p.useMemo(function(){return S_(a)},[a]);return p.createElement(k_,{styles:C_(i,!t,a,s?"":"!important")})},eh=!1;if(typeof window<"u")try{var Ro=Object.defineProperty({},"passive",{get:function(){return eh=!0,!0}});window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{eh=!1}var Cr=eh?{passive:!1}:!1,__=function(e){return e.tagName==="TEXTAREA"},Dy=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!__(e)&&s[t]==="visible")},A_=function(e){return Dy(e,"overflowY")},P_=function(e){return Dy(e,"overflowX")},ug=function(e,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=$y(e,n);if(a){var i=Fy(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},R_=function(e){var t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;return[t,s,n]},O_=function(e){var t=e.scrollLeft,s=e.scrollWidth,n=e.clientWidth;return[t,s,n]},$y=function(e,t){return e==="v"?A_(t):P_(t)},Fy=function(e,t){return e==="v"?R_(t):O_(t)},I_=function(e,t){return e==="h"&&t==="rtl"?-1:1},D_=function(e,t,s,n,a){var i=I_(e,window.getComputedStyle(t).direction),o=i*n,l=s.target,c=t.contains(l),d=!1,h=o>0,u=0,f=0;do{if(!l)break;var x=Fy(e,l),b=x[0],y=x[1],w=x[2],m=y-w-i*b;(b||m)&&$y(e,l)&&(u+=m,f+=b);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(u)<1||!h&&Math.abs(f)<1)&&(d=!0),d},Oo=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hg=function(e){return[e.deltaX,e.deltaY]},mg=function(e){return e&&"current"in e?e.current:e},$_=function(e,t){return e[0]===t[0]&&e[1]===t[1]},F_=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},L_=0,Er=[];function M_(e){var t=p.useRef([]),s=p.useRef([0,0]),n=p.useRef(),a=p.useState(L_++)[0],i=p.useState(Iy)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var y=G1([e.lockRef.current],(e.shards||[]).map(mg),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var m=Oo(y),v=s.current,g="deltaX"in y?y.deltaX:v[0]-m[0],j="deltaY"in y?y.deltaY:v[1]-m[1],k,E=y.target,N=Math.abs(g)>Math.abs(j)?"h":"v";if("touches"in y&&N==="h"&&E.type==="range")return!1;var C=window.getSelection(),T=C&&C.anchorNode,R=T?T===E||T.contains(E):!1;if(R)return!1;var $=ug(N,E);if(!$)return!0;if($?k=N:(k=N==="v"?"h":"v",$=ug(N,E)),!$)return!1;if(!n.current&&"changedTouches"in y&&(g||j)&&(n.current=k),!k)return!0;var H=n.current||k;return D_(H,w,y,H==="h"?g:j)},[]),c=p.useCallback(function(y){var w=y;if(!(!Er.length||Er[Er.length-1]!==i)){var m="deltaY"in w?hg(w):Oo(w),v=t.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&$_(k.delta,m)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var g=(o.current.shards||[]).map(mg).filter(Boolean).filter(function(k){return k.contains(w.target)}),j=g.length>0?l(w,g[0]):!o.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),d=p.useCallback(function(y,w,m,v){var g={name:y,delta:w,target:m,should:v,shadowParent:U_(m)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(j){return j!==g})},1)},[]),h=p.useCallback(function(y){s.current=Oo(y),n.current=void 0},[]),u=p.useCallback(function(y){d(y.type,hg(y),y.target,l(y,e.lockRef.current))},[]),f=p.useCallback(function(y){d(y.type,Oo(y),y.target,l(y,e.lockRef.current))},[]);p.useEffect(function(){return Er.push(i),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Cr),document.addEventListener("touchmove",c,Cr),document.addEventListener("touchstart",h,Cr),function(){Er=Er.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,Cr),document.removeEventListener("touchmove",c,Cr),document.removeEventListener("touchstart",h,Cr)}},[]);var x=e.removeScrollBar,b=e.inert;return p.createElement(p.Fragment,null,b?p.createElement(i,{styles:F_(a)}):null,x?p.createElement(T_,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function U_(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const B_=p_(Oy,M_);var jm=p.forwardRef(function(e,t){return p.createElement(Tc,Es({},e,{ref:t,sideCar:B_}))});jm.classNames=Tc.classNames;var z_=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Tr=new WeakMap,Io=new WeakMap,Do={},Rd=0,Ly=function(e){return e&&(e.host||Ly(e.parentNode))},V_=function(e,t){return t.map(function(s){if(e.contains(s))return s;var n=Ly(s);return n&&e.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},H_=function(e,t,s,n){var a=V_(t,Array.isArray(e)?e:[e]);Do[s]||(Do[s]=new WeakMap);var i=Do[s],o=[],l=new Set,c=new Set(a),d=function(u){!u||l.has(u)||(l.add(u),d(u.parentNode))};a.forEach(d);var h=function(u){!u||c.has(u)||Array.prototype.forEach.call(u.children,function(f){if(l.has(f))h(f);else try{var x=f.getAttribute(n),b=x!==null&&x!=="false",y=(Tr.get(f)||0)+1,w=(i.get(f)||0)+1;Tr.set(f,y),i.set(f,w),o.push(f),y===1&&b&&Io.set(f,!0),w===1&&f.setAttribute(s,"true"),b||f.setAttribute(n,"true")}catch(m){console.error("aria-hidden: cannot operate on ",f,m)}})};return h(t),l.clear(),Rd++,function(){o.forEach(function(u){var f=Tr.get(u)-1,x=i.get(u)-1;Tr.set(u,f),i.set(u,x),f||(Io.has(u)||u.removeAttribute(n),Io.delete(u)),x||u.removeAttribute(s)}),Rd--,Rd||(Tr=new WeakMap,Tr=new WeakMap,Io=new WeakMap,Do={})}},My=function(e,t,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=z_(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),H_(n,a,s,"aria-hidden")):function(){return null}};function W_(e){const t=q_(e),s=p.forwardRef((n,a)=>{const{children:i,...o}=n,l=p.Children.toArray(i),c=l.find(G_);if(c){const d=c.props.children,h=l.map(u=>u===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:u);return r.jsx(t,{...o,ref:a,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return r.jsx(t,{...o,ref:a,children:i})});return s.displayName=`${e}.Slot`,s}function q_(e){const t=p.forwardRef((s,n)=>{const{children:a,...i}=s;if(p.isValidElement(a)){const o=J_(a),l=Y_(i,a.props);return a.type!==p.Fragment&&(l.ref=n?Ea(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var K_=Symbol("radix.slottable");function G_(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===K_}function Y_(e,t){const s={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?s[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(s[n]=a):n==="style"?s[n]={...a,...i}:n==="className"&&(s[n]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function J_(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var _c="Dialog",[Uy]=Cc(_c),[Q_,ws]=Uy(_c),By=e=>{const{__scopeDialog:t,children:s,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[d,h]=Xu({prop:n,defaultProp:a??!1,onChange:i,caller:_c});return r.jsx(Q_,{scope:t,triggerRef:l,contentRef:c,contentId:ta(),titleId:ta(),descriptionId:ta(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(u=>!u),[h]),modal:o,children:s})};By.displayName=_c;var zy="DialogTrigger",X_=p.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,a=ws(zy,s),i=Ue(t,a.triggerRef);return r.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":km(a.open),...n,ref:i,onClick:Ce(e.onClick,a.onOpenToggle)})});X_.displayName=zy;var Nm="DialogPortal",[Z_,Vy]=Uy(Nm,{forceMount:void 0}),Hy=e=>{const{__scopeDialog:t,forceMount:s,children:n,container:a}=e,i=ws(Nm,t);return r.jsx(Z_,{scope:t,forceMount:s,children:p.Children.map(n,o=>r.jsx(Ec,{present:s||i.open,children:r.jsx(wm,{asChild:!0,container:a,children:o})}))})};Hy.displayName=Nm;var Kl="DialogOverlay",Wy=p.forwardRef((e,t)=>{const s=Vy(Kl,e.__scopeDialog),{forceMount:n=s.forceMount,...a}=e,i=ws(Kl,e.__scopeDialog);return i.modal?r.jsx(Ec,{present:n||i.open,children:r.jsx(tA,{...a,ref:t})}):null});Wy.displayName=Kl;var eA=W_("DialogOverlay.RemoveScroll"),tA=p.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,a=ws(Kl,s);return r.jsx(jm,{as:eA,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(Se.div,{"data-state":km(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),cr="DialogContent",qy=p.forwardRef((e,t)=>{const s=Vy(cr,e.__scopeDialog),{forceMount:n=s.forceMount,...a}=e,i=ws(cr,e.__scopeDialog);return r.jsx(Ec,{present:n||i.open,children:i.modal?r.jsx(sA,{...a,ref:t}):r.jsx(nA,{...a,ref:t})})});qy.displayName=cr;var sA=p.forwardRef((e,t)=>{const s=ws(cr,e.__scopeDialog),n=p.useRef(null),a=Ue(t,s.contentRef,n);return p.useEffect(()=>{const i=n.current;if(i)return My(i)},[]),r.jsx(Ky,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ce(e.onFocusOutside,i=>i.preventDefault())})}),nA=p.forwardRef((e,t)=>{const s=ws(cr,e.__scopeDialog),n=p.useRef(!1),a=p.useRef(!1);return r.jsx(Ky,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=s.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Ky=p.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ws(cr,s),c=p.useRef(null),d=Ue(t,c);return Py(),r.jsxs(r.Fragment,{children:[r.jsx(bm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(ym,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":km(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(rA,{titleId:l.titleId}),r.jsx(iA,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Sm="DialogTitle",Gy=p.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,a=ws(Sm,s);return r.jsx(Se.h2,{id:a.titleId,...n,ref:t})});Gy.displayName=Sm;var Yy="DialogDescription",Jy=p.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,a=ws(Yy,s);return r.jsx(Se.p,{id:a.descriptionId,...n,ref:t})});Jy.displayName=Yy;var Qy="DialogClose",Xy=p.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,a=ws(Qy,s);return r.jsx(Se.button,{type:"button",...n,ref:t,onClick:Ce(e.onClick,()=>a.onOpenChange(!1))})});Xy.displayName=Qy;function km(e){return e?"open":"closed"}var Zy="DialogTitleWarning",[r4,eb]=ET(Zy,{contentName:cr,titleName:Sm,docsSlug:"dialog"}),rA=({titleId:e})=>{const t=eb(Zy),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},aA="DialogDescriptionWarning",iA=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eb(aA).contentName}}.`;return p.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},oA=By,lA=Hy,cA=Wy,dA=qy,uA=Gy,hA=Jy,mA=Xy;function tb({...e}){return r.jsx(oA,{"data-slot":"dialog",...e})}function fA({...e}){return r.jsx(lA,{"data-slot":"dialog-portal",...e})}const sb=p.forwardRef(({className:e,...t},s)=>r.jsx(cA,{ref:s,"data-slot":"dialog-overlay",className:lt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));sb.displayName="DialogOverlay";function nb({className:e,children:t,...s}){return r.jsxs(fA,{"data-slot":"dialog-portal",children:[r.jsx(sb,{}),r.jsxs(dA,{"data-slot":"dialog-content",className:lt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...s,children:[t,r.jsxs(mA,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[r.jsx(kn,{}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function rb({className:e,...t}){return r.jsx("div",{"data-slot":"dialog-header",className:lt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ab({className:e,...t}){return r.jsx(uA,{"data-slot":"dialog-title",className:lt("text-lg leading-none font-semibold",e),...t})}function ib({className:e,...t}){return r.jsx(hA,{"data-slot":"dialog-description",className:lt("text-muted-foreground text-sm",e),...t})}function pA({open:e,onOpenChange:t,clientId:s,clientName:n}){const{t:a}=Qt(),[i,o]=p.useState([]),[l,c]=p.useState(""),[d,h]=p.useState(!1),[u,f]=p.useState(!1);p.useEffect(()=>{e&&s&&x()},[e,s]);const x=async()=>{h(!0);try{const{data:y,error:w}=await ue.auth.getSession();if(w||!y.session)throw new Error("Not authenticated");const m=y.session.access_token,v=await fetch(mt.messages(s),{headers:{Authorization:`Bearer ${m}`}});if(!v.ok)throw new Error("Failed to fetch messages");const g=await v.json();o(g.messages||[])}catch(y){console.error("Error fetching messages:",y),G.error("Failed to load messages")}finally{h(!1)}},b=async()=>{if(l.trim()){f(!0);try{const{data:y,error:w}=await ue.auth.getSession();if(w||!y.session)throw new Error("Not authenticated");const m=y.session.access_token;if(!(await fetch(mt.messagesSend,{method:"POST",headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"},body:JSON.stringify({clientId:s,senderId:"admin",senderRole:"admin",senderName:"Tax Advisor",subject:"Admin Response",content:l})})).ok)throw new Error("Failed to send message");c(""),G.success("Message sent successfully!"),await x()}catch(y){console.error("Error sending message:",y),G.error("Failed to send message")}finally{f(!1)}}};return r.jsx(tb,{open:e,onOpenChange:t,children:r.jsxs(nb,{className:"max-w-3xl max-h-[80vh] flex flex-col",children:[r.jsxs(rb,{children:[r.jsxs(ab,{className:"flex items-center gap-2",children:[r.jsx(Ii,{className:"w-5 h-5"}),a("messages.title")," - ",n]}),r.jsx(ib,{children:"View and send messages to this client"})]}),r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col gap-4",children:[r.jsx("div",{className:"flex-1 bg-gray-50 rounded-lg p-4 overflow-y-auto space-y-4 min-h-[400px]",children:d?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx(ve,{className:"w-8 h-8 animate-spin text-gray-400"})}):i.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ii,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:a("messages.noMessages")})]}):i.map(y=>{const w=y.senderRole==="admin",m=new Date(y.createdAt),v=new Date,g=new Date(v);g.setDate(g.getDate()-1);let j=m.toLocaleDateString();return m.toDateString()===v.toDateString()?j=a("messages.today"):m.toDateString()===g.toDateString()&&(j=a("messages.yesterday")),r.jsx("div",{className:`flex ${w?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[70%] rounded-lg p-4 ${w?"bg-blue-600 text-white":"bg-white border border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-xs font-semibold",children:w?a("messages.admin"):y.senderName}),r.jsxs("span",{className:`text-xs ${w?"text-blue-100":"text-gray-500"}`,children:[j,"  ",m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),r.jsx("p",{className:"whitespace-pre-wrap",children:y.content})]})},y.id)})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Aa,{value:l,onChange:y=>c(y.target.value),placeholder:a("messages.writeMessage"),className:"flex-1 min-h-[80px] resize-none",onKeyDown:y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),b())}}),r.jsx(se,{onClick:b,disabled:!l.trim()||u,className:"h-[80px]",children:u?r.jsx(ve,{className:"w-4 h-4 animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(fa,{className:"w-4 h-4 mr-2"}),a("messages.send")]})})]})]})]})})}function gA({open:e,onOpenChange:t,data:s,onSuccess:n}){const[a,i]=p.useState([]),[o,l]=p.useState(!0),[c,d]=p.useState(!1),[h,u]=p.useState((s==null?void 0:s.currentAssignedTo)||null),[f,x]=p.useState("");p.useEffect(()=>{e&&s&&(b(),u(s.currentAssignedTo||null))},[e,s]);const b=async()=>{try{const m=await fetch(`https://${Ke}.supabase.co/functions/v1/make-server-c2a25be0/users/list`,{headers:{Authorization:`Bearer ${us}`,"Content-Type":"application/json"}});if(!m.ok)throw new Error("Failed to load users");const v=await m.json();i(v.filter(g=>g.isActive&&g.modules.includes("customers")))}catch(m){console.error("Error loading users:",m),G.error("Failed to load team members")}finally{l(!1)}},y=async()=>{if(!h){G.error("Please select a team member");return}d(!0);try{const m=(s==null?void 0:s.currentAssignedTo)&&s.currentAssignedTo!==h,v=m?"cases/transfer":"cases/assign",g=m?{clientId:s==null?void 0:s.clientId,year:s==null?void 0:s.year,fromUserId:s.currentAssignedTo,toUserId:h,reason:f||"Manual reassignment"}:{clientId:s==null?void 0:s.clientId,year:s==null?void 0:s.year,assignedTo:h};if(!(await fetch(`https://${Ke}.supabase.co/functions/v1/make-server-c2a25be0/${v}`,{method:"POST",headers:{Authorization:`Bearer ${us}`,"Content-Type":"application/json"},body:JSON.stringify(g)})).ok)throw new Error("Failed to assign case");G.success(m?"Case transferred successfully":"Case assigned successfully"),n==null||n(),t(!1)}catch(m){console.error("Error assigning case:",m),G.error("Failed to assign case")}finally{d(!1)}},w=(s==null?void 0:s.currentAssignedTo)&&h&&s.currentAssignedTo!==h;return!e||!s?null:r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:r.jsx(Ze,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:s!=null&&s.currentAssignedTo?"Reassign Case":"Assign Case"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[s==null?void 0:s.clientName," - Tax Year ",s==null?void 0:s.year]})]})]})}),r.jsx("div",{className:"p-6",children:o?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select Team Member"}),a.map(m=>r.jsx("button",{onClick:()=>u(m.userId),className:`w-full p-4 border-2 rounded-lg text-left transition-all ${h===m.userId?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} ${m.userId===(s==null?void 0:s.currentAssignedTo)?"bg-yellow-50":""}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center text-white font-bold",children:m.name.split(" ").map(v=>v[0]).join("").toUpperCase()}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-900",children:[m.name,m.userId===(s==null?void 0:s.currentAssignedTo)&&r.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded",children:"Currently Assigned"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:m.email}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[m.casesCount," total cases  ",m.pendingCases," pending"]})]})]}),h===m.userId&&r.jsx(fs,{className:"w-5 h-5 text-blue-600"})]})},m.userId))]}),w&&r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Transfer Reason (Optional)"}),r.jsx("textarea",{value:f,onChange:m=>x(m.target.value),placeholder:"Why is this case being transferred?",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3})]}),a.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ze,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No available team members"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Users need customer management permissions to be assigned cases"})]})]})}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end",children:[r.jsx(se,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),r.jsx(se,{onClick:y,disabled:!h||c||h===(s==null?void 0:s.currentAssignedTo),className:"bg-blue-600 hover:bg-blue-700",children:c?r.jsxs(r.Fragment,{children:[r.jsx(ve,{className:"w-4 h-4 mr-2 animate-spin"}),w?"Transferring...":"Assigning..."]}):r.jsxs(r.Fragment,{children:[w?"Transfer Case":"Assign Case",r.jsx(wc,{className:"w-4 h-4 ml-2"})]})})]})]})})}const xA=my("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Zn({className:e,variant:t,asChild:s=!1,...n}){const a=s?dy:"span";return r.jsx(a,{"data-slot":"badge",className:lt(xA({variant:t}),e),...n})}function fg(){const e=Be(),{user:t}=Tt(),{t:s}=Qt(),[n,a]=p.useState([]),[i,o]=p.useState(!0),[l,c]=p.useState(""),[d,h]=p.useState(!1),[u,f]=p.useState(null),[x,b]=p.useState(!1),[y,w]=p.useState(null),m=!1;p.useEffect(()=>{if(!t||!xs(t.email)){e("/login");return}v()},[t]);const v=async()=>{o(!0);try{const{data:N,error:C}=await ue.auth.getSession();if(C||!N.session)throw new Error("Not authenticated");const T=N.session.access_token;console.log(" Got access token, fetching clients from server...");try{const R=await fetch(mt.adminClients,{headers:{Authorization:`Bearer ${T}`}});if(!R.ok)throw new Error("Backend not available");const $=await R.json();console.log(" Fetched clients from server:",$.clients),a($.clients||[]),(!$.clients||$.clients.length===0)&&G.info("No customers found. Users need to sign up first.")}catch{console.log(" Backend not available, fetching from Supabase directly...");const{data:{users:$},error:H}=await ue.auth.admin.listUsers();if(H)throw console.error("Error fetching users from Supabase:",H),new Error("Failed to fetch users from Supabase");console.log(" [DEMO MODE] Found users:",$==null?void 0:$.length);const O=await Promise.all($.map(async _=>{var L,S;const{data:U}=await ue.from("kv_store_c2a25be0").select("*").ilike("key",`personal_info:${_.id}%`).limit(1).single(),{data:D}=await ue.from("kv_store_c2a25be0").select("*").ilike("key",`tax_filing:${_.id}%`);return{id:_.id,email:_.email||"",name:((L=_.user_metadata)==null?void 0:L.name)||((S=_.email)==null?void 0:S.split("@")[0])||"Unknown",createdAt:_.created_at,personalInfo:(U==null?void 0:U.value)||null,taxFilings:(D==null?void 0:D.map(A=>A.value))||[],onboardingComplete:!!(U!=null&&U.value),assignedAccountant:null}}));console.log(" [DEMO MODE] Loaded clients from Supabase:",O.length),a(O),O.length===0?G.info("No customers found. Users need to sign up first."):G.success(` Loaded ${O.length} client(s) from database`)}}catch(N){console.error("Error loading clients:",N),G.error(`Failed to load customers: ${N instanceof Error?N.message:"Unknown error"}`)}finally{o(!1)}},g=n.filter(N=>N.name.toLowerCase().includes(l.toLowerCase())||N.email.toLowerCase().includes(l.toLowerCase())),j=N=>{var T;if(!N.onboardingComplete)return{label:"Pending Onboarding",color:"bg-yellow-100 text-yellow-700 border-yellow-300",icon:tt};const C=(T=N.taxFilings)==null?void 0:T.find(R=>R.status==="in-progress"||R.status==="under-review");return C?C.status==="under-review"?{label:"Needs Review",color:"bg-orange-100 text-orange-700 border-orange-300",icon:tt}:{label:"In Progress",color:"bg-blue-100 text-blue-700 border-blue-300",icon:jc}:{label:"Active",color:"bg-green-100 text-green-700 border-green-300",icon:Q}},k=N=>{var C;return((C=N.taxFilings)==null?void 0:C.length)||0},E=N=>{if(!N.taxFilings||N.taxFilings.length===0)return null;const C=[];return N.taxFilings.forEach(T=>{T&&typeof T=="object"&&"year"in T&&typeof T.year=="number"&&C.push(T.year)}),C.length===0?null:(C.sort((T,R)=>R-T),C[0])};return i?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ve,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),r.jsx("p",{className:"text-gray-600",children:"Loading clients..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white border-b sticky top-0 z-10",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Ze,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold",children:s("admin.customerDashboard")}),r.jsxs("p",{className:"text-sm text-gray-500",children:[n.length," ",n.length===1?s("admin.customer"):s("admin.customers")," ",s("admin.customersTotal")]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(se,{onClick:()=>e("/admin/bookkeeping-dashboard"),className:"bg-indigo-600 hover:bg-indigo-700",children:[r.jsx(gm,{className:"w-4 h-4 mr-2"}),s("admin.bookkeepingTitle")]}),r.jsxs(se,{onClick:()=>e("/admin/financial-dashboard"),className:"bg-green-600 hover:bg-green-700",children:[r.jsx(Le,{className:"w-4 h-4 mr-2"}),s("admin.financialTitle")]}),r.jsx("div",{className:"w-px h-8 bg-gray-300 mx-2"}),r.jsx(se,{onClick:()=>e("/admin"),variant:"ghost",children:s("admin.backToHub")}),r.jsx(se,{onClick:()=>e("/"),variant:"ghost",children:"Home"})]})]})})}),r.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[r.jsx(de,{className:"p-4 mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx(tE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx(be,{type:"text",placeholder:"Search clients by name or email...",value:l,onChange:N=>c(N.target.value),className:"pl-10"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(de,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Clients"}),r.jsx("p",{className:"text-2xl font-semibold mt-1",children:n.length})]}),r.jsx(Ze,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx(de,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Onboarded"}),r.jsx("p",{className:"text-2xl font-semibold mt-1",children:n.filter(N=>N.onboardingComplete).length})]}),r.jsx(Q,{className:"w-8 h-8 text-green-600"})]})}),r.jsx(de,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Needs Review"}),r.jsx("p",{className:"text-2xl font-semibold mt-1",children:n.filter(N=>{var C;return(C=N.taxFilings)==null?void 0:C.some(T=>T.status==="under-review")}).length})]}),r.jsx(tt,{className:"w-8 h-8 text-orange-600"})]})}),r.jsx(de,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Active Filings"}),r.jsx("p",{className:"text-2xl font-semibold mt-1",children:n.reduce((N,C)=>{var T;return N+(((T=C.taxFilings)==null?void 0:T.filter(R=>R.status==="in-progress"||R.status==="under-review").length)||0)},0)})]}),r.jsx(Ye,{className:"w-8 h-8 text-blue-600"})]})})]}),r.jsx("div",{className:"space-y-4",children:g.length===0?r.jsxs(de,{className:"p-8 text-center",children:[r.jsx(Ze,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:l?"No clients found matching your search":"No clients yet"})]}):g.map(N=>{const C=j(N),T=C.icon,R=E(N);return r.jsx(de,{className:"p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e(`/admin/client/${N.id}`),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-semibold text-lg",children:N.name.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[r.jsx("h3",{className:"font-semibold text-lg",children:N.name}),r.jsxs(Zn,{variant:"outline",className:`${C.color} border`,children:[r.jsx(T,{className:"w-3 h-3 mr-1"}),C.label]})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-3",children:N.email}),r.jsxs("div",{className:"flex items-center gap-6 text-sm flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-600",children:["Joined ",new Date(N.createdAt).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ye,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-600",children:[k(N)," ",k(N)===1?"filing":"filings"]})]}),R&&r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("span",{className:"text-gray-600",children:["Latest: Tax Year ",R]})}),N.assignedAccountant?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ze,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-600",children:["Managed by:"," ",r.jsx("span",{className:"font-medium text-purple-600",children:N.assignedAccountant.name})]})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ze,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-500 italic",children:"Unassigned"})]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(se,{variant:"outline",size:"sm",onClick:$=>{$.stopPropagation(),f({id:N.id,name:N.name}),h(!0)},children:[r.jsx(Ii,{className:"w-4 h-4 mr-2"}),"Message"]}),r.jsxs(se,{variant:"ghost",size:"sm",children:["View Details",r.jsx(wc,{className:"w-4 h-4 ml-2"})]})]})]})},N.id)})})]}),r.jsx(pA,{open:d,onOpenChange:h,clientId:(u==null?void 0:u.id)||"",clientName:(u==null?void 0:u.name)||""}),r.jsx(gA,{open:x,onOpenChange:b,data:y})]})}function vA({initialData:e,onSubmit:t,onCancel:s}){var D,L,S,A,P,q,J;const[n,a]=p.useState(((D=e==null?void 0:e.federalRefund)==null?void 0:D.toString())||""),[i,o]=p.useState(((L=e==null?void 0:e.federalOwing)==null?void 0:L.toString())||""),[l,c]=p.useState(((S=e==null?void 0:e.provincialRefund)==null?void 0:S.toString())||""),[d,h]=p.useState(((A=e==null?void 0:e.provincialOwing)==null?void 0:A.toString())||""),[u,f]=p.useState(((P=e==null?void 0:e.gstHstCredit)==null?void 0:P.toString())||""),[x,b]=p.useState(((q=e==null?void 0:e.childBenefit)==null?void 0:q.toString())||""),[y,w]=p.useState(((J=e==null?void 0:e.otherCredits)==null?void 0:J.toString())||""),[m,v]=p.useState((e==null?void 0:e.estimatedRefundDate)||""),[g,j]=p.useState((e==null?void 0:e.notes)||""),k=parseFloat(n)||0,E=parseFloat(i)||0,N=parseFloat(l)||0,C=parseFloat(d)||0,T=parseFloat(u)||0,R=parseFloat(x)||0,$=parseFloat(y)||0,H=k+N+T+R+$,O=E+C,_=H-O,U=z=>{z.preventDefault();const ne={federalRefund:k>0?k:void 0,federalOwing:E>0?E:void 0,provincialRefund:N>0?N:void 0,provincialOwing:C>0?C:void 0,gstHstCredit:T>0?T:void 0,childBenefit:R>0?R:void 0,otherCredits:$>0?$:void 0,totalRefund:H>0?H:void 0,totalOwing:O>0?O:void 0,netAmount:_,estimatedRefundDate:m||void 0,notes:g.trim()||void 0};t(ne)};return r.jsxs("form",{onSubmit:U,className:"space-y-6",children:[r.jsxs(de,{className:"p-6",children:[r.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(Ye,{className:"w-5 h-5 text-blue-600"}),"Federal Tax"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{htmlFor:"federalRefund",className:"flex items-center gap-2",children:[r.jsx(or,{className:"w-4 h-4 text-green-600"}),"Federal Refund"]}),r.jsxs("div",{className:"relative",children:[r.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(be,{id:"federalRefund",type:"number",step:"0.01",min:"0",value:n,onChange:z=>a(z.target.value),className:"pl-8",placeholder:"0.00"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{htmlFor:"federalOwing",className:"flex items-center gap-2",children:[r.jsx(Hl,{className:"w-4 h-4 text-red-600"}),"Federal Owing"]}),r.jsxs("div",{className:"relative",children:[r.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(be,{id:"federalOwing",type:"number",step:"0.01",min:"0",value:i,onChange:z=>o(z.target.value),className:"pl-8",placeholder:"0.00"})]})]})]})]}),r.jsxs(de,{className:"p-6",children:[r.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(Ye,{className:"w-5 h-5 text-purple-600"}),"Provincial Tax"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{htmlFor:"provincialRefund",className:"flex items-center gap-2",children:[r.jsx(or,{className:"w-4 h-4 text-green-600"}),"Provincial Refund"]}),r.jsxs("div",{className:"relative",children:[r.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(be,{id:"provincialRefund",type:"number",step:"0.01",min:"0",value:l,onChange:z=>c(z.target.value),className:"pl-8",placeholder:"0.00"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{htmlFor:"provincialOwing",className:"flex items-center gap-2",children:[r.jsx(Hl,{className:"w-4 h-4 text-red-600"}),"Provincial Owing"]}),r.jsxs("div",{className:"relative",children:[r.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(be,{id:"provincialOwing",type:"number",step:"0.01",min:"0",value:d,onChange:z=>h(z.target.value),className:"pl-8",placeholder:"0.00"})]})]})]})]}),r.jsxs(de,{className:"p-6",children:[r.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(ey,{className:"w-5 h-5 text-green-600"}),"Credits & Benefits"]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"gstHstCredit",children:"GST/HST Credit (Annual)"}),r.jsxs("div",{className:"relative",children:[r.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(be,{id:"gstHstCredit",type:"number",step:"0.01",min:"0",value:u,onChange:z=>f(z.target.value),className:"pl-8",placeholder:"0.00"})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Quarterly payments totaling per year"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"childBenefit",children:"Canada Child Benefit (CCB)"}),r.jsxs("div",{className:"relative",children:[r.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(be,{id:"childBenefit",type:"number",step:"0.01",min:"0",value:x,onChange:z=>b(z.target.value),className:"pl-8",placeholder:"0.00"})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Monthly benefit amount per year"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"otherCredits",children:"Other Credits/Benefits"}),r.jsxs("div",{className:"relative",children:[r.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(be,{id:"otherCredits",type:"number",step:"0.01",min:"0",value:y,onChange:z=>w(z.target.value),className:"pl-8",placeholder:"0.00"})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Other applicable credits"})]})]})]}),r.jsxs(de,{className:"p-6",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Additional Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"estimatedRefundDate",children:"Estimated Refund Date (Optional)"}),r.jsx(be,{id:"estimatedRefundDate",type:"date",value:m,onChange:z=>v(z.target.value)}),r.jsx("p",{className:"text-xs text-gray-500",children:"When client can expect to receive refund"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"notes",children:"Notes (Optional)"}),r.jsx(Aa,{id:"notes",value:g,onChange:z=>j(z.target.value),placeholder:"Additional information about the tax return...",rows:3})]})]})]}),r.jsxs(de,{className:"p-6 bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Summary"}),r.jsxs("div",{className:"space-y-3",children:[H>0&&r.jsxs("div",{className:"flex items-center justify-between pb-2 border-b",children:[r.jsx("span",{className:"text-green-700 font-medium",children:"Total Refund:"}),r.jsx("span",{className:"text-green-700 font-bold text-xl",children:Pe(H)})]}),O>0&&r.jsxs("div",{className:"flex items-center justify-between pb-2 border-b",children:[r.jsx("span",{className:"text-red-700 font-medium",children:"Total Owing:"}),r.jsx("span",{className:"text-red-700 font-bold text-xl",children:Pe(O)})]}),r.jsxs("div",{className:`flex items-center justify-between pt-2 ${_>0?"text-green-700":_<0?"text-red-700":"text-gray-700"}`,children:[r.jsx("span",{className:"font-bold text-xl",children:"Net Amount:"}),r.jsxs("span",{className:"font-bold text-3xl",children:[_>0&&"+",Pe(Math.abs(_))]})]}),_>0&&r.jsx("p",{className:"text-sm text-green-700 text-center pt-2",children:" Client will receive a refund!"}),_<0&&r.jsx("p",{className:"text-sm text-red-700 text-center pt-2",children:" Client will need to pay CRA"}),_===0&&r.jsx("p",{className:"text-sm text-gray-700 text-center pt-2",children:" Balanced - No refund or payment needed"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s&&r.jsx(se,{type:"button",variant:"outline",onClick:s,className:"flex-1",children:"Cancel"}),r.jsx(se,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Save Summary & Generate Preview"})]})]})}function yA({isOpen:e,onClose:t,client:s,filingYear:n,onSuccess:a}){var U,D,L,S,A;const[i,o]=p.useState(1),[l,c]=p.useState(!1),[d,h]=p.useState(null),[u,f]=p.useState(""),[x,b]=p.useState(""),[y,w]=p.useState(""),[m,v]=p.useState(!1),[g,j]=p.useState(!1),[k,E]=p.useState(null);if(!e)return null;const N=P=>{var J;const q=(J=P.target.files)==null?void 0:J[0];if(q){if(q.type!=="application/pdf"){G.error("Please upload a PDF file");return}if(q.size>10485760){G.error("File size must be less than 10MB");return}h(q)}},C=P=>{E(P),G.success("Tax return summary saved!")},T=async()=>{var q;if(!d){G.error("Please upload a PDF report");return}const P=u==="custom"?parseFloat(x):((q=is.find(J=>J.id===u))==null?void 0:q.amount)||0;if(!P||P<=0){G.error("Please select a pricing option or enter a custom amount");return}c(!0);try{const{data:J,error:z}=await ue.auth.getSession();if(z||!J.session)throw new Error("Not authenticated");const ne=J.session.access_token,le="tax-documents-c2a25be0",fe=Date.now(),W=`${s.id}/${n}/report/tax_return_${n}_${fe}.pdf`,{error:V}=await ue.storage.from(le).upload(W,d,{cacheControl:"3600",upsert:!1});if(V)throw console.error("Upload error:",V),new Error(`Failed to upload file: ${V.message}`);const{data:I,error:M}=await ue.storage.from(le).createSignedUrl(W,31536e3);if(M||!I)throw new Error("Failed to get file URL");const K=await fetch(mt.taxFilingSubmitReport,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ne}`},body:JSON.stringify({userId:s.id,year:n,reportUrl:I.signedUrl,fileName:d.name,fileSize:d.size,pricingPresetId:u!=="custom"?u:null,customAmount:P,adminNotes:y,includeQuebecReturn:m,includeQuebecTax:g,taxReturnSummary:k||void 0,summaryPdfUrl:null||void 0})});if(!K.ok){const ge=await K.json();throw new Error(ge.error||"Failed to submit report")}G.success("Report submitted successfully! Client will be notified."),a==null||a(),R()}catch(J){console.error("Error submitting report:",J),G.error(J instanceof Error?J.message:"Failed to submit report")}finally{c(!1)}},R=()=>{o(1),h(null),f(""),b(""),w(""),v(!1),j(!1),E(null),t()},$=u==="custom"?parseFloat(x)||0:((U=is.find(P=>P.id===u))==null?void 0:U.amount)||0,H=m&&((D=is.find(P=>P.id==="addon-quebec-return"))==null?void 0:D.amount)||0,O=g&&((L=is.find(P=>P.id==="addon-quebec-tax"))==null?void 0:L.amount)||0,_=$+H+O;return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between z-10",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Submit Tax Return Report"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[s.name," - Tax Year ",n]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${i===1?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:[r.jsx(Ye,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"1. Report & Pricing"})]}),r.jsx(Ul,{className:"w-4 h-4 text-gray-400"}),r.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${i===2?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[r.jsx(ma,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"2. CRA Assessment"})]})]}),r.jsx(se,{variant:"ghost",size:"sm",onClick:R,disabled:l,children:r.jsx(kn,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"p-6",children:i===1?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{htmlFor:"report-upload",className:"text-base font-medium",children:["Upload Completed Tax Return (PDF) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:d?r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx(Ye,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-medium",children:d.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[(d.size/1024/1024).toFixed(2)," MB"]})]}),r.jsx(se,{variant:"ghost",size:"sm",onClick:()=>h(null),disabled:l,children:r.jsx(kn,{className:"w-4 h-4"})})]}):r.jsxs("div",{children:[r.jsx(qt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Click to upload or drag and drop"}),r.jsx("p",{className:"text-xs text-gray-500",children:"PDF only, max 10MB"}),r.jsx("input",{type:"file",id:"report-upload",accept:".pdf",onChange:N,className:"hidden"}),r.jsx(se,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>{var P;return(P=document.getElementById("report-upload"))==null?void 0:P.click()},children:"Choose File"})]})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(ce,{className:"text-base font-medium",children:["Select Service Price ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Personal Tax Returns"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:is.filter(P=>P.category==="personal").map(P=>r.jsx("label",{className:`flex flex-col gap-2 p-3 border rounded-lg cursor-pointer transition-colors ${u===P.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("input",{type:"radio",name:"pricing",value:P.id,checked:u===P.id,onChange:q=>f(q.target.value),className:"mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-sm",children:P.name.en}),r.jsx("span",{className:"font-semibold text-blue-600",children:Pe(P.amount)})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:P.description.en})]})]})},P.id))})]}),r.jsxs("div",{className:"space-y-2 pt-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Business Returns"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:is.filter(P=>P.category==="business").map(P=>r.jsx("label",{className:`flex flex-col gap-2 p-3 border rounded-lg cursor-pointer transition-colors ${u===P.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("input",{type:"radio",name:"pricing",value:P.id,checked:u===P.id,onChange:q=>f(q.target.value),className:"mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-sm",children:P.name.en}),r.jsx("span",{className:"font-semibold text-blue-600",children:Pe(P.amount)})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:P.description.en})]})]})},P.id))})]}),r.jsx("div",{className:"pt-2",children:r.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer transition-colors ${u==="custom"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("input",{type:"radio",name:"pricing",value:"custom",checked:u==="custom",onChange:P=>f(P.target.value),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"font-medium",children:"Custom Amount"}),u==="custom"&&r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(be,{type:"number",min:"0",step:"0.01",value:x,onChange:P=>b(P.target.value),placeholder:"0.00",className:"pl-8"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Amount in CAD"})]})]})]})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(ce,{className:"text-base font-medium flex items-center gap-2",children:[r.jsx(Nc,{className:"w-4 h-4 text-indigo-600"}),"Quebec Provincial Add-ons"]}),r.jsxs("div",{className:"border rounded-lg p-4 space-y-3 bg-indigo-50/30",children:[r.jsxs("label",{className:`flex items-center justify-between p-3 border rounded-lg cursor-pointer transition-colors ${m?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:m,onChange:P=>v(P.target.checked),className:"w-4 h-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Quebec Tax Return (TP-1)"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Provincial Quebec tax return"})]})]}),r.jsxs("span",{className:"font-semibold text-indigo-600",children:["+",Pe(((S=is.find(P=>P.id==="addon-quebec-return"))==null?void 0:S.amount)||0)]})]}),r.jsxs("label",{className:`flex items-center justify-between p-3 border rounded-lg cursor-pointer transition-colors ${g?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:g,onChange:P=>j(P.target.checked),className:"w-4 h-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Quebec Tax Filing Fee"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Additional filing fee for Quebec residents"})]})]}),r.jsxs("span",{className:"font-semibold text-indigo-600",children:["+",Pe(((A=is.find(P=>P.id==="addon-quebec-tax"))==null?void 0:A.amount)||0)]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"admin-notes",className:"text-base font-medium",children:"Internal Notes (Optional)"}),r.jsx("textarea",{id:"admin-notes",value:y,onChange:P=>w(P.target.value),placeholder:"Add any internal notes about this filing...",className:"w-full px-3 py-2 border rounded-lg min-h-[80px]"})]}),_>0&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:"Total Amount"}),r.jsx("span",{className:"text-2xl font-bold text-blue-600",children:Pe(_)})]})}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(se,{variant:"outline",onClick:R,children:"Cancel"}),r.jsxs(se,{onClick:()=>o(2),disabled:!d||_<=0,className:"bg-green-600 hover:bg-green-700",children:["Next: CRA Assessment ",r.jsx(Ul,{className:"w-4 h-4 ml-2"})]})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"Step 2: CRA Assessment Details (Optional but Recommended)"}),r.jsx("p",{className:"text-sm text-green-700",children:"Fill in the values from the tax return so the client can see what they'll receive or owe from CRA. A professional PDF summary will be generated automatically."})]}),r.jsx(vA,{initialData:k||void 0,onSubmit:C,onCancel:()=>E(null)}),r.jsxs("div",{className:"flex justify-between gap-3 pt-4 border-t",children:[r.jsx(se,{variant:"outline",onClick:()=>o(1),children:"Back to Report & Pricing"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(se,{variant:"outline",onClick:T,disabled:l,children:"Skip & Submit Report Only"}),r.jsx(se,{onClick:T,disabled:l||!k,className:"bg-green-600 hover:bg-green-700",children:l?r.jsxs(r.Fragment,{children:[r.jsx(ve,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ma,{className:"w-4 h-4 mr-2"}),"Submit with CRA Assessment"]})})]})]})]})})]})})}function bA({isOpen:e,onClose:t,clientId:s,clientName:n,year:a,onSuccess:i}){const[o,l]=p.useState(!1),[c,d]=p.useState([]);if(!e)return null;const h=[{id:"income",label:"Income Documents"},{id:"deductions",label:"Deduction Receipts"},{id:"business",label:"Business Documents"},{id:"property",label:"Property & Investments"},{id:"other",label:"Other Documents"}],u=m=>{const g=Array.from(m.target.files||[]).map(j=>({file:j,category:"other"}));d(j=>[...j,...g])},f=m=>{d(v=>v.filter((g,j)=>j!==m))},x=(m,v)=>{d(g=>g.map((j,k)=>k===m?{...j,category:v}:j))},b=async()=>{if(c.length===0){G.error("Please select at least one file");return}l(!0);try{const m="tax-documents-c2a25be0",v=[];for(const{file:N,category:C}of c){const T=Date.now(),R=`${s}/${a}/${C}/${T}_${N.name}`,{error:$}=await ue.storage.from(m).upload(R,N,{cacheControl:"3600",upsert:!1});if($)throw console.error("Upload error:",$),new Error(`Failed to upload ${N.name}: ${$.message}`);v.push({id:`${T}_${N.name}`,name:N.name,size:N.size,category:C,uploadedAt:new Date().toISOString(),path:R})}const{data:g}=await ue.from("kv_store_c2a25be0").select("value").eq("key",`user:${s}:documents:${a}`).single(),k=[...(g==null?void 0:g.value)||[],...v],{error:E}=await ue.from("kv_store_c2a25be0").upsert({key:`user:${s}:documents:${a}`,value:k});if(E)throw new Error("Failed to save document metadata");G.success(`${v.length} file(s) uploaded successfully`),i==null||i(),y()}catch(m){console.error("Error uploading documents:",m),G.error(m instanceof Error?m.message:"Failed to upload documents")}finally{l(!1)}},y=()=>{d([]),t()},w=m=>{if(m===0)return"0 Bytes";const v=1024,g=["Bytes","KB","MB","GB"],j=Math.floor(Math.log(m)/Math.log(v));return Math.round(m/Math.pow(v,j)*100)/100+" "+g[j]};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Upload Documents"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n," - Tax Year ",a]})]}),r.jsx(se,{variant:"ghost",size:"sm",onClick:y,disabled:o,children:r.jsx(kn,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{htmlFor:"document-upload",className:"text-base font-medium",children:["Select Files ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[r.jsx(qt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Click to upload or drag and drop"}),r.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"PDF, images, or documents"}),r.jsx("input",{type:"file",id:"document-upload",multiple:!0,onChange:u,className:"hidden",disabled:o}),r.jsx(se,{variant:"outline",size:"sm",onClick:()=>{var m;return(m=document.getElementById("document-upload"))==null?void 0:m.click()},disabled:o,children:"Choose Files"})]})]}),c.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{className:"text-base font-medium",children:["Selected Files (",c.length,")"]}),r.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:c.map((m,v)=>r.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-50",children:[r.jsx(Ye,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-1"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:m.file.name}),r.jsx("p",{className:"text-xs text-gray-500",children:w(m.file.size)}),r.jsxs("div",{className:"mt-2",children:[r.jsx(ce,{className:"text-xs text-gray-600",children:"Category:"}),r.jsx("select",{value:m.category,onChange:g=>x(v,g.target.value),className:"mt-1 w-full text-sm border rounded px-2 py-1",disabled:o,children:h.map(g=>r.jsx("option",{value:g.id,children:g.label},g.id))})]})]}),r.jsx(se,{variant:"ghost",size:"sm",onClick:()=>f(v),disabled:o,className:"flex-shrink-0",children:r.jsx(pa,{className:"w-4 h-4 text-red-500"})})]},v))})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t px-6 py-4 flex items-center justify-end gap-3",children:[r.jsx(se,{variant:"outline",onClick:y,disabled:o,children:"Cancel"}),r.jsx(se,{onClick:b,disabled:o||c.length===0,children:o?r.jsxs(r.Fragment,{children:[r.jsx(ve,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(qt,{className:"w-4 h-4 mr-2"}),"Upload ",c.length," File",c.length!==1?"s":""]})})]})]})})}function pg(e,[t,s]){return Math.min(s,Math.max(t,e))}function gg(e){const t=wA(e),s=p.forwardRef((n,a)=>{const{children:i,...o}=n,l=p.Children.toArray(i),c=l.find(NA);if(c){const d=c.props.children,h=l.map(u=>u===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:u);return r.jsx(t,{...o,ref:a,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return r.jsx(t,{...o,ref:a,children:i})});return s.displayName=`${e}.Slot`,s}function wA(e){const t=p.forwardRef((s,n)=>{const{children:a,...i}=s;if(p.isValidElement(a)){const o=kA(a),l=SA(i,a.props);return a.type!==p.Fragment&&(l.ref=n?Ea(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jA=Symbol("radix.slottable");function NA(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jA}function SA(e,t){const s={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?s[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(s[n]=a):n==="style"?s[n]={...a,...i}:n==="className"&&(s[n]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function kA(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function CA(e){const t=e+"CollectionProvider",[s,n]=Cc(t),[a,i]=s(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:m}=y,v=F.useRef(null),g=F.useRef(new Map).current;return r.jsx(a,{scope:w,itemMap:g,collectionRef:v,children:m})};o.displayName=t;const l=e+"CollectionSlot",c=gg(l),d=F.forwardRef((y,w)=>{const{scope:m,children:v}=y,g=i(l,m),j=Ue(w,g.collectionRef);return r.jsx(c,{ref:j,children:v})});d.displayName=l;const h=e+"CollectionItemSlot",u="data-radix-collection-item",f=gg(h),x=F.forwardRef((y,w)=>{const{scope:m,children:v,...g}=y,j=F.useRef(null),k=Ue(w,j),E=i(h,m);return F.useEffect(()=>(E.itemMap.set(j,{ref:j,...g}),()=>void E.itemMap.delete(j))),r.jsx(f,{[u]:"",ref:k,children:v})});x.displayName=h;function b(y){const w=i(e+"CollectionConsumer",y);return F.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const g=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((E,N)=>g.indexOf(E.ref.current)-g.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},b,n]}var EA=p.createContext(void 0);function TA(e){const t=p.useContext(EA);return e||t||"ltr"}const _A=["top","right","bottom","left"],Cn=Math.min,Rt=Math.max,Gl=Math.round,$o=Math.floor,Ps=e=>({x:e,y:e}),AA={left:"right",right:"left",bottom:"top",top:"bottom"},PA={start:"end",end:"start"};function th(e,t,s){return Rt(e,Cn(t,s))}function Ys(e,t){return typeof e=="function"?e(t):e}function Js(e){return e.split("-")[0]}function Ra(e){return e.split("-")[1]}function Cm(e){return e==="x"?"y":"x"}function Em(e){return e==="y"?"height":"width"}const RA=new Set(["top","bottom"]);function Ts(e){return RA.has(Js(e))?"y":"x"}function Tm(e){return Cm(Ts(e))}function OA(e,t,s){s===void 0&&(s=!1);const n=Ra(e),a=Tm(e),i=Em(a);let o=a==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Yl(o)),[o,Yl(o)]}function IA(e){const t=Yl(e);return[sh(e),t,sh(t)]}function sh(e){return e.replace(/start|end/g,t=>PA[t])}const xg=["left","right"],vg=["right","left"],DA=["top","bottom"],$A=["bottom","top"];function FA(e,t,s){switch(e){case"top":case"bottom":return s?t?vg:xg:t?xg:vg;case"left":case"right":return t?DA:$A;default:return[]}}function LA(e,t,s,n){const a=Ra(e);let i=FA(Js(e),s==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(sh)))),i}function Yl(e){return e.replace(/left|right|bottom|top/g,t=>AA[t])}function MA(e){return{top:0,right:0,bottom:0,left:0,...e}}function ob(e){return typeof e!="number"?MA(e):{top:e,right:e,bottom:e,left:e}}function Jl(e){const{x:t,y:s,width:n,height:a}=e;return{width:n,height:a,top:s,left:t,right:t+n,bottom:s+a,x:t,y:s}}function yg(e,t,s){let{reference:n,floating:a}=e;const i=Ts(t),o=Tm(t),l=Em(o),c=Js(t),d=i==="y",h=n.x+n.width/2-a.width/2,u=n.y+n.height/2-a.height/2,f=n[l]/2-a[l]/2;let x;switch(c){case"top":x={x:h,y:n.y-a.height};break;case"bottom":x={x:h,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:u};break;case"left":x={x:n.x-a.width,y:u};break;default:x={x:n.x,y:n.y}}switch(Ra(t)){case"start":x[o]-=f*(s&&d?-1:1);break;case"end":x[o]+=f*(s&&d?-1:1);break}return x}const UA=async(e,t,s)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=s,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:u}=yg(d,n,c),f=n,x={},b=0;for(let y=0;y<l.length;y++){const{name:w,fn:m}=l[y],{x:v,y:g,data:j,reset:k}=await m({x:h,y:u,initialPlacement:n,placement:f,strategy:a,middlewareData:x,rects:d,platform:o,elements:{reference:e,floating:t}});h=v??h,u=g??u,x={...x,[w]:{...x[w],...j}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(d=k.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:h,y:u}=yg(d,f,c)),y=-1)}return{x:h,y:u,placement:f,strategy:a,middlewareData:x}};async function Li(e,t){var s;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:f=!1,padding:x=0}=Ys(t,e),b=ob(x),w=l[f?u==="floating"?"reference":"floating":u],m=Jl(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(w)))==null||s?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),v=u==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,g=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(g))?await(i.getScale==null?void 0:i.getScale(g))||{x:1,y:1}:{x:1,y:1},k=Jl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:g,strategy:c}):v);return{top:(m.top-k.top+b.top)/j.y,bottom:(k.bottom-m.bottom+b.bottom)/j.y,left:(m.left-k.left+b.left)/j.x,right:(k.right-m.right+b.right)/j.x}}const BA=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:h=0}=Ys(e,t)||{};if(d==null)return{};const u=ob(h),f={x:s,y:n},x=Tm(a),b=Em(x),y=await o.getDimensions(d),w=x==="y",m=w?"top":"left",v=w?"bottom":"right",g=w?"clientHeight":"clientWidth",j=i.reference[b]+i.reference[x]-f[x]-i.floating[b],k=f[x]-i.reference[x],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=E?E[g]:0;(!N||!await(o.isElement==null?void 0:o.isElement(E)))&&(N=l.floating[g]||i.floating[b]);const C=j/2-k/2,T=N/2-y[b]/2-1,R=Cn(u[m],T),$=Cn(u[v],T),H=R,O=N-y[b]-$,_=N/2-y[b]/2+C,U=th(H,_,O),D=!c.arrow&&Ra(a)!=null&&_!==U&&i.reference[b]/2-(_<H?R:$)-y[b]/2<0,L=D?_<H?_-H:_-O:0;return{[x]:f[x]+L,data:{[x]:U,centerOffset:_-U-L,...D&&{alignmentOffset:L}},reset:D}}}),zA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:h=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...w}=Ys(e,t);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const m=Js(a),v=Ts(l),g=Js(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=f||(g||!y?[Yl(l)]:IA(l)),E=b!=="none";!f&&E&&k.push(...LA(l,y,b,j));const N=[l,...k],C=await Li(t,w),T=[];let R=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&T.push(C[m]),u){const _=OA(a,o,j);T.push(C[_[0]],C[_[1]])}if(R=[...R,{placement:a,overflows:T}],!T.every(_=>_<=0)){var $,H;const _=((($=i.flip)==null?void 0:$.index)||0)+1,U=N[_];if(U&&(!(u==="alignment"?v!==Ts(U):!1)||R.every(S=>Ts(S.placement)===v?S.overflows[0]>0:!0)))return{data:{index:_,overflows:R},reset:{placement:U}};let D=(H=R.filter(L=>L.overflows[0]<=0).sort((L,S)=>L.overflows[1]-S.overflows[1])[0])==null?void 0:H.placement;if(!D)switch(x){case"bestFit":{var O;const L=(O=R.filter(S=>{if(E){const A=Ts(S.placement);return A===v||A==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(A=>A>0).reduce((A,P)=>A+P,0)]).sort((S,A)=>S[1]-A[1])[0])==null?void 0:O[0];L&&(D=L);break}case"initialPlacement":D=l;break}if(a!==D)return{reset:{placement:D}}}return{}}}};function bg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function wg(e){return _A.some(t=>e[t]>=0)}const VA=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:n="referenceHidden",...a}=Ys(e,t);switch(n){case"referenceHidden":{const i=await Li(t,{...a,elementContext:"reference"}),o=bg(i,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:wg(o)}}}case"escaped":{const i=await Li(t,{...a,altBoundary:!0}),o=bg(i,s.floating);return{data:{escapedOffsets:o,escaped:wg(o)}}}default:return{}}}}},lb=new Set(["left","top"]);async function HA(e,t){const{placement:s,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Js(s),l=Ra(s),c=Ts(s)==="y",d=lb.has(o)?-1:1,h=i&&c?-1:1,u=Ys(t,e);let{mainAxis:f,crossAxis:x,alignmentAxis:b}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof b=="number"&&(x=l==="end"?b*-1:b),c?{x:x*h,y:f*d}:{x:f*d,y:x*h}}const WA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await HA(t,e);return o===((s=l.offset)==null?void 0:s.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},qA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:m,y:v}=w;return{x:m,y:v}}},...c}=Ys(e,t),d={x:s,y:n},h=await Li(t,c),u=Ts(Js(a)),f=Cm(u);let x=d[f],b=d[u];if(i){const w=f==="y"?"top":"left",m=f==="y"?"bottom":"right",v=x+h[w],g=x-h[m];x=th(v,x,g)}if(o){const w=u==="y"?"top":"left",m=u==="y"?"bottom":"right",v=b+h[w],g=b-h[m];b=th(v,b,g)}const y=l.fn({...t,[f]:x,[u]:b});return{...y,data:{x:y.x-s,y:y.y-n,enabled:{[f]:i,[u]:o}}}}}},KA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ys(e,t),h={x:s,y:n},u=Ts(a),f=Cm(u);let x=h[f],b=h[u];const y=Ys(l,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const g=f==="y"?"height":"width",j=i.reference[f]-i.floating[g]+w.mainAxis,k=i.reference[f]+i.reference[g]-w.mainAxis;x<j?x=j:x>k&&(x=k)}if(d){var m,v;const g=f==="y"?"width":"height",j=lb.has(Js(a)),k=i.reference[u]-i.floating[g]+(j&&((m=o.offset)==null?void 0:m[u])||0)+(j?0:w.crossAxis),E=i.reference[u]+i.reference[g]+(j?0:((v=o.offset)==null?void 0:v[u])||0)-(j?w.crossAxis:0);b<k?b=k:b>E&&(b=E)}return{[f]:x,[u]:b}}}},GA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Ys(e,t),h=await Li(t,d),u=Js(a),f=Ra(a),x=Ts(a)==="y",{width:b,height:y}=i.floating;let w,m;u==="top"||u==="bottom"?(w=u,m=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(m=u,w=f==="end"?"top":"bottom");const v=y-h.top-h.bottom,g=b-h.left-h.right,j=Cn(y-h[w],v),k=Cn(b-h[m],g),E=!t.middlewareData.shift;let N=j,C=k;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(C=g),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=v),E&&!f){const R=Rt(h.left,0),$=Rt(h.right,0),H=Rt(h.top,0),O=Rt(h.bottom,0);x?C=b-2*(R!==0||$!==0?R+$:Rt(h.left,h.right)):N=y-2*(H!==0||O!==0?H+O:Rt(h.top,h.bottom))}await c({...t,availableWidth:C,availableHeight:N});const T=await o.getDimensions(l.floating);return b!==T.width||y!==T.height?{reset:{rects:!0}}:{}}}};function Ac(){return typeof window<"u"}function Oa(e){return cb(e)?(e.nodeName||"").toLowerCase():"#document"}function $t(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Is(e){var t;return(t=(cb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cb(e){return Ac()?e instanceof Node||e instanceof $t(e).Node:!1}function vs(e){return Ac()?e instanceof Element||e instanceof $t(e).Element:!1}function Rs(e){return Ac()?e instanceof HTMLElement||e instanceof $t(e).HTMLElement:!1}function jg(e){return!Ac()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $t(e).ShadowRoot}const YA=new Set(["inline","contents"]);function Qi(e){const{overflow:t,overflowX:s,overflowY:n,display:a}=ys(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!YA.has(a)}const JA=new Set(["table","td","th"]);function QA(e){return JA.has(Oa(e))}const XA=[":popover-open",":modal"];function Pc(e){return XA.some(t=>{try{return e.matches(t)}catch{return!1}})}const ZA=["transform","translate","scale","rotate","perspective"],eP=["transform","translate","scale","rotate","perspective","filter"],tP=["paint","layout","strict","content"];function _m(e){const t=Am(),s=vs(e)?ys(e):e;return ZA.some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||eP.some(n=>(s.willChange||"").includes(n))||tP.some(n=>(s.contain||"").includes(n))}function sP(e){let t=En(e);for(;Rs(t)&&!xa(t);){if(_m(t))return t;if(Pc(t))return null;t=En(t)}return null}function Am(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const nP=new Set(["html","body","#document"]);function xa(e){return nP.has(Oa(e))}function ys(e){return $t(e).getComputedStyle(e)}function Rc(e){return vs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function En(e){if(Oa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||jg(e)&&e.host||Is(e);return jg(t)?t.host:t}function db(e){const t=En(e);return xa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Rs(t)&&Qi(t)?t:db(t)}function Mi(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=db(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=$t(a);if(i){const l=nh(o);return t.concat(o,o.visualViewport||[],Qi(a)?a:[],l&&s?Mi(l):[])}return t.concat(a,Mi(a,[],s))}function nh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ub(e){const t=ys(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Rs(e),i=a?e.offsetWidth:s,o=a?e.offsetHeight:n,l=Gl(s)!==i||Gl(n)!==o;return l&&(s=i,n=o),{width:s,height:n,$:l}}function Pm(e){return vs(e)?e:e.contextElement}function na(e){const t=Pm(e);if(!Rs(t))return Ps(1);const s=t.getBoundingClientRect(),{width:n,height:a,$:i}=ub(t);let o=(i?Gl(s.width):s.width)/n,l=(i?Gl(s.height):s.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const rP=Ps(0);function hb(e){const t=$t(e);return!Am()||!t.visualViewport?rP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function aP(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==$t(e)?!1:t}function dr(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),i=Pm(e);let o=Ps(1);t&&(n?vs(n)&&(o=na(n)):o=na(e));const l=aP(i,s,n)?hb(i):Ps(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,h=a.width/o.x,u=a.height/o.y;if(i){const f=$t(i),x=n&&vs(n)?$t(n):n;let b=f,y=nh(b);for(;y&&n&&x!==b;){const w=na(y),m=y.getBoundingClientRect(),v=ys(y),g=m.left+(y.clientLeft+parseFloat(v.paddingLeft))*w.x,j=m.top+(y.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,d*=w.y,h*=w.x,u*=w.y,c+=g,d+=j,b=$t(y),y=nh(b)}}return Jl({width:h,height:u,x:c,y:d})}function Oc(e,t){const s=Rc(e).scrollLeft;return t?t.left+s:dr(Is(e)).left+s}function mb(e,t){const s=e.getBoundingClientRect(),n=s.left+t.scrollLeft-Oc(e,s),a=s.top+t.scrollTop;return{x:n,y:a}}function iP(e){let{elements:t,rect:s,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Is(n),l=t?Pc(t.floating):!1;if(n===o||l&&i)return s;let c={scrollLeft:0,scrollTop:0},d=Ps(1);const h=Ps(0),u=Rs(n);if((u||!u&&!i)&&((Oa(n)!=="body"||Qi(o))&&(c=Rc(n)),Rs(n))){const x=dr(n);d=na(n),h.x=x.x+n.clientLeft,h.y=x.y+n.clientTop}const f=o&&!u&&!i?mb(o,c):Ps(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+h.x+f.x,y:s.y*d.y-c.scrollTop*d.y+h.y+f.y}}function oP(e){return Array.from(e.getClientRects())}function lP(e){const t=Is(e),s=Rc(e),n=e.ownerDocument.body,a=Rt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Rt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-s.scrollLeft+Oc(e);const l=-s.scrollTop;return ys(n).direction==="rtl"&&(o+=Rt(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const Ng=25;function cP(e,t){const s=$t(e),n=Is(e),a=s.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const h=Am();(!h||h&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=Oc(n);if(d<=0){const h=n.ownerDocument,u=h.body,f=getComputedStyle(u),x=h.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,b=Math.abs(n.clientWidth-u.clientWidth-x);b<=Ng&&(i-=b)}else d<=Ng&&(i+=d);return{width:i,height:o,x:l,y:c}}const dP=new Set(["absolute","fixed"]);function uP(e,t){const s=dr(e,!0,t==="fixed"),n=s.top+e.clientTop,a=s.left+e.clientLeft,i=Rs(e)?na(e):Ps(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function Sg(e,t,s){let n;if(t==="viewport")n=cP(e,s);else if(t==="document")n=lP(Is(e));else if(vs(t))n=uP(t,s);else{const a=hb(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Jl(n)}function fb(e,t){const s=En(e);return s===t||!vs(s)||xa(s)?!1:ys(s).position==="fixed"||fb(s,t)}function hP(e,t){const s=t.get(e);if(s)return s;let n=Mi(e,[],!1).filter(l=>vs(l)&&Oa(l)!=="body"),a=null;const i=ys(e).position==="fixed";let o=i?En(e):e;for(;vs(o)&&!xa(o);){const l=ys(o),c=_m(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&dP.has(a.position)||Qi(o)&&!c&&fb(e,o))?n=n.filter(h=>h!==o):a=l,o=En(o)}return t.set(e,n),n}function mP(e){let{element:t,boundary:s,rootBoundary:n,strategy:a}=e;const o=[...s==="clippingAncestors"?Pc(t)?[]:hP(t,this._c):[].concat(s),n],l=o[0],c=o.reduce((d,h)=>{const u=Sg(t,h,a);return d.top=Rt(u.top,d.top),d.right=Cn(u.right,d.right),d.bottom=Cn(u.bottom,d.bottom),d.left=Rt(u.left,d.left),d},Sg(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fP(e){const{width:t,height:s}=ub(e);return{width:t,height:s}}function pP(e,t,s){const n=Rs(t),a=Is(t),i=s==="fixed",o=dr(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ps(0);function d(){c.x=Oc(a)}if(n||!n&&!i)if((Oa(t)!=="body"||Qi(a))&&(l=Rc(t)),n){const x=dr(t,!0,i,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else a&&d();i&&!n&&a&&d();const h=a&&!n&&!i?mb(a,l):Ps(0),u=o.left+l.scrollLeft-c.x-h.x,f=o.top+l.scrollTop-c.y-h.y;return{x:u,y:f,width:o.width,height:o.height}}function Od(e){return ys(e).position==="static"}function kg(e,t){if(!Rs(e)||ys(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Is(e)===s&&(s=s.ownerDocument.body),s}function pb(e,t){const s=$t(e);if(Pc(e))return s;if(!Rs(e)){let a=En(e);for(;a&&!xa(a);){if(vs(a)&&!Od(a))return a;a=En(a)}return s}let n=kg(e,t);for(;n&&QA(n)&&Od(n);)n=kg(n,t);return n&&xa(n)&&Od(n)&&!_m(n)?s:n||sP(e)||s}const gP=async function(e){const t=this.getOffsetParent||pb,s=this.getDimensions,n=await s(e.floating);return{reference:pP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function xP(e){return ys(e).direction==="rtl"}const vP={convertOffsetParentRelativeRectToViewportRelativeRect:iP,getDocumentElement:Is,getClippingRect:mP,getOffsetParent:pb,getElementRects:gP,getClientRects:oP,getDimensions:fP,getScale:na,isElement:vs,isRTL:xP};function gb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function yP(e,t){let s=null,n;const a=Is(e);function i(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:h,top:u,width:f,height:x}=d;if(l||t(),!f||!x)return;const b=$o(u),y=$o(a.clientWidth-(h+f)),w=$o(a.clientHeight-(u+x)),m=$o(h),g={rootMargin:-b+"px "+-y+"px "+-w+"px "+-m+"px",threshold:Rt(0,Cn(1,c))||1};let j=!0;function k(E){const N=E[0].intersectionRatio;if(N!==c){if(!j)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!gb(d,e.getBoundingClientRect())&&o(),j=!1}try{s=new IntersectionObserver(k,{...g,root:a.ownerDocument})}catch{s=new IntersectionObserver(k,g)}s.observe(e)}return o(!0),i}function bP(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Pm(e),h=a||i?[...d?Mi(d):[],...Mi(t)]:[];h.forEach(m=>{a&&m.addEventListener("scroll",s,{passive:!0}),i&&m.addEventListener("resize",s)});const u=d&&l?yP(d,s):null;let f=-1,x=null;o&&(x=new ResizeObserver(m=>{let[v]=m;v&&v.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var g;(g=x)==null||g.observe(t)})),s()}),d&&!c&&x.observe(d),x.observe(t));let b,y=c?dr(e):null;c&&w();function w(){const m=dr(e);y&&!gb(y,m)&&s(),y=m,b=requestAnimationFrame(w)}return s(),()=>{var m;h.forEach(v=>{a&&v.removeEventListener("scroll",s),i&&v.removeEventListener("resize",s)}),u==null||u(),(m=x)==null||m.disconnect(),x=null,c&&cancelAnimationFrame(b)}}const wP=WA,jP=qA,NP=zA,SP=GA,kP=VA,Cg=BA,CP=KA,EP=(e,t,s)=>{const n=new Map,a={platform:vP,...s},i={...a.platform,_c:n};return UA(e,t,{...a,platform:i})};var TP=typeof document<"u",_P=function(){},ll=TP?p.useLayoutEffect:_P;function Ql(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!Ql(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=s;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Ql(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function xb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Eg(e,t){const s=xb(e);return Math.round(t*s)/s}function Id(e){const t=p.useRef(e);return ll(()=>{t.current=e}),t}function AP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,u]=p.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[f,x]=p.useState(n);Ql(f,n)||x(n);const[b,y]=p.useState(null),[w,m]=p.useState(null),v=p.useCallback(S=>{S!==E.current&&(E.current=S,y(S))},[]),g=p.useCallback(S=>{S!==N.current&&(N.current=S,m(S))},[]),j=i||b,k=o||w,E=p.useRef(null),N=p.useRef(null),C=p.useRef(h),T=c!=null,R=Id(c),$=Id(a),H=Id(d),O=p.useCallback(()=>{if(!E.current||!N.current)return;const S={placement:t,strategy:s,middleware:f};$.current&&(S.platform=$.current),EP(E.current,N.current,S).then(A=>{const P={...A,isPositioned:H.current!==!1};_.current&&!Ql(C.current,P)&&(C.current=P,wa.flushSync(()=>{u(P)}))})},[f,t,s,$,H]);ll(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,u(S=>({...S,isPositioned:!1})))},[d]);const _=p.useRef(!1);ll(()=>(_.current=!0,()=>{_.current=!1}),[]),ll(()=>{if(j&&(E.current=j),k&&(N.current=k),j&&k){if(R.current)return R.current(j,k,O);O()}},[j,k,O,R,T]);const U=p.useMemo(()=>({reference:E,floating:N,setReference:v,setFloating:g}),[v,g]),D=p.useMemo(()=>({reference:j,floating:k}),[j,k]),L=p.useMemo(()=>{const S={position:s,left:0,top:0};if(!D.floating)return S;const A=Eg(D.floating,h.x),P=Eg(D.floating,h.y);return l?{...S,transform:"translate("+A+"px, "+P+"px)",...xb(D.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:A,top:P}},[s,l,D.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:O,refs:U,elements:D,floatingStyles:L}),[h,O,U,D,L])}const PP=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:a}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?Cg({element:n.current,padding:a}).fn(s):{}:n?Cg({element:n,padding:a}).fn(s):{}}}},RP=(e,t)=>({...wP(e),options:[e,t]}),OP=(e,t)=>({...jP(e),options:[e,t]}),IP=(e,t)=>({...CP(e),options:[e,t]}),DP=(e,t)=>({...NP(e),options:[e,t]}),$P=(e,t)=>({...SP(e),options:[e,t]}),FP=(e,t)=>({...kP(e),options:[e,t]}),LP=(e,t)=>({...PP(e),options:[e,t]});var MP="Arrow",vb=p.forwardRef((e,t)=>{const{children:s,width:n=10,height:a=5,...i}=e;return r.jsx(Se.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});vb.displayName=MP;var UP=vb;function BP(e){const[t,s]=p.useState(void 0);return pt(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}var Rm="Popper",[yb,bb]=Cc(Rm),[zP,wb]=yb(Rm),jb=e=>{const{__scopePopper:t,children:s}=e,[n,a]=p.useState(null);return r.jsx(zP,{scope:t,anchor:n,onAnchorChange:a,children:s})};jb.displayName=Rm;var Nb="PopperAnchor",Sb=p.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:n,...a}=e,i=wb(Nb,s),o=p.useRef(null),l=Ue(t,o),c=p.useRef(null);return p.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),n?null:r.jsx(Se.div,{...a,ref:l})});Sb.displayName=Nb;var Om="PopperContent",[VP,HP]=yb(Om),kb=p.forwardRef((e,t)=>{var W,V,I,M,Y,K;const{__scopePopper:s,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:u="partial",hideWhenDetached:f=!1,updatePositionStrategy:x="optimized",onPlaced:b,...y}=e,w=wb(Om,s),[m,v]=p.useState(null),g=Ue(t,ge=>v(ge)),[j,k]=p.useState(null),E=BP(j),N=(E==null?void 0:E.width)??0,C=(E==null?void 0:E.height)??0,T=n+(i!=="center"?"-"+i:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},$=Array.isArray(d)?d:[d],H=$.length>0,O={padding:R,boundary:$.filter(qP),altBoundary:H},{refs:_,floatingStyles:U,placement:D,isPositioned:L,middlewareData:S}=AP({strategy:"fixed",placement:T,whileElementsMounted:(...ge)=>bP(...ge,{animationFrame:x==="always"}),elements:{reference:w.anchor},middleware:[RP({mainAxis:a+C,alignmentAxis:o}),c&&OP({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?IP():void 0,...O}),c&&DP({...O}),$P({...O,apply:({elements:ge,rects:xe,availableWidth:Bt,availableHeight:Xt})=>{const{width:Zt,height:Xi}=xe.reference,bt=ge.floating.style;bt.setProperty("--radix-popper-available-width",`${Bt}px`),bt.setProperty("--radix-popper-available-height",`${Xt}px`),bt.setProperty("--radix-popper-anchor-width",`${Zt}px`),bt.setProperty("--radix-popper-anchor-height",`${Xi}px`)}}),j&&LP({element:j,padding:l}),KP({arrowWidth:N,arrowHeight:C}),f&&FP({strategy:"referenceHidden",...O})]}),[A,P]=Tb(D),q=lr(b);pt(()=>{L&&(q==null||q())},[L,q]);const J=(W=S.arrow)==null?void 0:W.x,z=(V=S.arrow)==null?void 0:V.y,ne=((I=S.arrow)==null?void 0:I.centerOffset)!==0,[le,fe]=p.useState();return pt(()=>{m&&fe(window.getComputedStyle(m).zIndex)},[m]),r.jsx("div",{ref:_.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:L?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(M=S.transformOrigin)==null?void 0:M.x,(Y=S.transformOrigin)==null?void 0:Y.y].join(" "),...((K=S.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(VP,{scope:s,placedSide:A,onArrowChange:k,arrowX:J,arrowY:z,shouldHideArrow:ne,children:r.jsx(Se.div,{"data-side":A,"data-align":P,...y,ref:g,style:{...y.style,animation:L?void 0:"none"}})})})});kb.displayName=Om;var Cb="PopperArrow",WP={top:"bottom",right:"left",bottom:"top",left:"right"},Eb=p.forwardRef(function(t,s){const{__scopePopper:n,...a}=t,i=HP(Cb,n),o=WP[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(UP,{...a,ref:s,style:{...a.style,display:"block"}})})});Eb.displayName=Cb;function qP(e){return e!==null}var KP=e=>({name:"transformOrigin",options:e,fn(t){var w,m,v;const{placement:s,rects:n,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,h]=Tb(s),u={start:"0%",center:"50%",end:"100%"}[h],f=(((m=a.arrow)==null?void 0:m.x)??0)+l/2,x=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let b="",y="";return d==="bottom"?(b=o?u:`${f}px`,y=`${-c}px`):d==="top"?(b=o?u:`${f}px`,y=`${n.floating.height+c}px`):d==="right"?(b=`${-c}px`,y=o?u:`${x}px`):d==="left"&&(b=`${n.floating.width+c}px`,y=o?u:`${x}px`),{data:{x:b,y}}}});function Tb(e){const[t,s="center"]=e.split("-");return[t,s]}var GP=jb,YP=Sb,JP=kb,QP=Eb;function XP(e){const t=ZP(e),s=p.forwardRef((n,a)=>{const{children:i,...o}=n,l=p.Children.toArray(i),c=l.find(tR);if(c){const d=c.props.children,h=l.map(u=>u===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:u);return r.jsx(t,{...o,ref:a,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return r.jsx(t,{...o,ref:a,children:i})});return s.displayName=`${e}.Slot`,s}function ZP(e){const t=p.forwardRef((s,n)=>{const{children:a,...i}=s;if(p.isValidElement(a)){const o=nR(a),l=sR(i,a.props);return a.type!==p.Fragment&&(l.ref=n?Ea(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eR=Symbol("radix.slottable");function tR(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eR}function sR(e,t){const s={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?s[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(s[n]=a):n==="style"?s[n]={...a,...i}:n==="className"&&(s[n]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function nR(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function rR(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var _b=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),aR="VisuallyHidden",iR=p.forwardRef((e,t)=>r.jsx(Se.span,{...e,ref:t,style:{..._b,...e.style}}));iR.displayName=aR;var oR=[" ","Enter","ArrowUp","ArrowDown"],lR=[" ","Enter"],ur="Select",[Ic,Dc,cR]=CA(ur),[Ia]=Cc(ur,[cR,bb]),$c=bb(),[dR,Rn]=Ia(ur),[uR,hR]=Ia(ur),Ab=e=>{const{__scopeSelect:t,children:s,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:u,disabled:f,required:x,form:b}=e,y=$c(t),[w,m]=p.useState(null),[v,g]=p.useState(null),[j,k]=p.useState(!1),E=TA(d),[N,C]=Xu({prop:n,defaultProp:a??!1,onChange:i,caller:ur}),[T,R]=Xu({prop:o,defaultProp:l,onChange:c,caller:ur}),$=p.useRef(null),H=w?b||!!w.closest("form"):!0,[O,_]=p.useState(new Set),U=Array.from(O).map(D=>D.props.value).join(";");return r.jsx(GP,{...y,children:r.jsxs(dR,{required:x,scope:t,trigger:w,onTriggerChange:m,valueNode:v,onValueNodeChange:g,valueNodeHasChildren:j,onValueNodeHasChildrenChange:k,contentId:ta(),value:T,onValueChange:R,open:N,onOpenChange:C,dir:E,triggerPointerDownPosRef:$,disabled:f,children:[r.jsx(Ic.Provider,{scope:t,children:r.jsx(uR,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(D=>{_(L=>new Set(L).add(D))},[]),onNativeOptionRemove:p.useCallback(D=>{_(L=>{const S=new Set(L);return S.delete(D),S})},[]),children:s})}),H?r.jsxs(Xb,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:u,value:T,onChange:D=>R(D.target.value),disabled:f,form:b,children:[T===void 0?r.jsx("option",{value:""}):null,Array.from(O)]},U):null]})})};Ab.displayName=ur;var Pb="SelectTrigger",Rb=p.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:n=!1,...a}=e,i=$c(s),o=Rn(Pb,s),l=o.disabled||n,c=Ue(t,o.onTriggerChange),d=Dc(s),h=p.useRef("touch"),[u,f,x]=ew(y=>{const w=d().filter(g=>!g.disabled),m=w.find(g=>g.value===o.value),v=tw(w,y,m);v!==void 0&&o.onValueChange(v.value)}),b=y=>{l||(o.onOpenChange(!0),x()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return r.jsx(YP,{asChild:!0,...i,children:r.jsx(Se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Zb(o.value)?"":void 0,...a,ref:c,onClick:Ce(a.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&b(y)}),onPointerDown:Ce(a.onPointerDown,y=>{h.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:Ce(a.onKeyDown,y=>{const w=u.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(w&&y.key===" ")&&oR.includes(y.key)&&(b(),y.preventDefault())})})})});Rb.displayName=Pb;var Ob="SelectValue",Ib=p.forwardRef((e,t)=>{const{__scopeSelect:s,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Rn(Ob,s),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,u=Ue(t,c.onValueNodeChange);return pt(()=>{d(h)},[d,h]),r.jsx(Se.span,{...l,ref:u,style:{pointerEvents:"none"},children:Zb(c.value)?r.jsx(r.Fragment,{children:o}):i})});Ib.displayName=Ob;var mR="SelectIcon",Db=p.forwardRef((e,t)=>{const{__scopeSelect:s,children:n,...a}=e;return r.jsx(Se.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});Db.displayName=mR;var fR="SelectPortal",$b=e=>r.jsx(wm,{asChild:!0,...e});$b.displayName=fR;var hr="SelectContent",Fb=p.forwardRef((e,t)=>{const s=Rn(hr,e.__scopeSelect),[n,a]=p.useState();if(pt(()=>{a(new DocumentFragment)},[]),!s.open){const i=n;return i?wa.createPortal(r.jsx(Lb,{scope:e.__scopeSelect,children:r.jsx(Ic.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(Mb,{...e,ref:t})});Fb.displayName=hr;var rs=10,[Lb,On]=Ia(hr),pR="SelectContentImpl",gR=XP("SelectContent.RemoveScroll"),Mb=p.forwardRef((e,t)=>{const{__scopeSelect:s,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:f,collisionPadding:x,sticky:b,hideWhenDetached:y,avoidCollisions:w,...m}=e,v=Rn(hr,s),[g,j]=p.useState(null),[k,E]=p.useState(null),N=Ue(t,W=>j(W)),[C,T]=p.useState(null),[R,$]=p.useState(null),H=Dc(s),[O,_]=p.useState(!1),U=p.useRef(!1);p.useEffect(()=>{if(g)return My(g)},[g]),Py();const D=p.useCallback(W=>{const[V,...I]=H().map(K=>K.ref.current),[M]=I.slice(-1),Y=document.activeElement;for(const K of W)if(K===Y||(K==null||K.scrollIntoView({block:"nearest"}),K===V&&k&&(k.scrollTop=0),K===M&&k&&(k.scrollTop=k.scrollHeight),K==null||K.focus(),document.activeElement!==Y))return},[H,k]),L=p.useCallback(()=>D([C,g]),[D,C,g]);p.useEffect(()=>{O&&L()},[O,L]);const{onOpenChange:S,triggerPointerDownPosRef:A}=v;p.useEffect(()=>{if(g){let W={x:0,y:0};const V=M=>{var Y,K;W={x:Math.abs(Math.round(M.pageX)-(((Y=A.current)==null?void 0:Y.x)??0)),y:Math.abs(Math.round(M.pageY)-(((K=A.current)==null?void 0:K.y)??0))}},I=M=>{W.x<=10&&W.y<=10?M.preventDefault():g.contains(M.target)||S(!1),document.removeEventListener("pointermove",V),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",I,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",I,{capture:!0})}}},[g,S,A]),p.useEffect(()=>{const W=()=>S(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[S]);const[P,q]=ew(W=>{const V=H().filter(Y=>!Y.disabled),I=V.find(Y=>Y.ref.current===document.activeElement),M=tw(V,W,I);M&&setTimeout(()=>M.ref.current.focus())}),J=p.useCallback((W,V,I)=>{const M=!U.current&&!I;(v.value!==void 0&&v.value===V||M)&&(T(W),M&&(U.current=!0))},[v.value]),z=p.useCallback(()=>g==null?void 0:g.focus(),[g]),ne=p.useCallback((W,V,I)=>{const M=!U.current&&!I;(v.value!==void 0&&v.value===V||M)&&$(W)},[v.value]),le=n==="popper"?rh:Ub,fe=le===rh?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:f,collisionPadding:x,sticky:b,hideWhenDetached:y,avoidCollisions:w}:{};return r.jsx(Lb,{scope:s,content:g,viewport:k,onViewportChange:E,itemRefCallback:J,selectedItem:C,onItemLeave:z,itemTextRefCallback:ne,focusSelectedItem:L,selectedItemText:R,position:n,isPositioned:O,searchRef:P,children:r.jsx(jm,{as:gR,allowPinchZoom:!0,children:r.jsx(bm,{asChild:!0,trapped:v.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:Ce(a,W=>{var V;(V=v.trigger)==null||V.focus({preventScroll:!0}),W.preventDefault()}),children:r.jsx(ym,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:r.jsx(le,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:W=>W.preventDefault(),...m,...fe,onPlaced:()=>_(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...m.style},onKeyDown:Ce(m.onKeyDown,W=>{const V=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!V&&W.key.length===1&&q(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let M=H().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);if(["ArrowUp","End"].includes(W.key)&&(M=M.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const Y=W.target,K=M.indexOf(Y);M=M.slice(K+1)}setTimeout(()=>D(M)),W.preventDefault()}})})})})})})});Mb.displayName=pR;var xR="SelectItemAlignedPosition",Ub=p.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:n,...a}=e,i=Rn(hr,s),o=On(hr,s),[l,c]=p.useState(null),[d,h]=p.useState(null),u=Ue(t,N=>h(N)),f=Dc(s),x=p.useRef(!1),b=p.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:m,focusSelectedItem:v}=o,g=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&y&&w&&m){const N=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),R=m.getBoundingClientRect();if(i.dir!=="rtl"){const Y=R.left-C.left,K=T.left-Y,ge=N.left-K,xe=N.width+ge,Bt=Math.max(xe,C.width),Xt=window.innerWidth-rs,Zt=pg(K,[rs,Math.max(rs,Xt-Bt)]);l.style.minWidth=xe+"px",l.style.left=Zt+"px"}else{const Y=C.right-R.right,K=window.innerWidth-T.right-Y,ge=window.innerWidth-N.right-K,xe=N.width+ge,Bt=Math.max(xe,C.width),Xt=window.innerWidth-rs,Zt=pg(K,[rs,Math.max(rs,Xt-Bt)]);l.style.minWidth=xe+"px",l.style.right=Zt+"px"}const $=f(),H=window.innerHeight-rs*2,O=y.scrollHeight,_=window.getComputedStyle(d),U=parseInt(_.borderTopWidth,10),D=parseInt(_.paddingTop,10),L=parseInt(_.borderBottomWidth,10),S=parseInt(_.paddingBottom,10),A=U+D+O+S+L,P=Math.min(w.offsetHeight*5,A),q=window.getComputedStyle(y),J=parseInt(q.paddingTop,10),z=parseInt(q.paddingBottom,10),ne=N.top+N.height/2-rs,le=H-ne,fe=w.offsetHeight/2,W=w.offsetTop+fe,V=U+D+W,I=A-V;if(V<=ne){const Y=$.length>0&&w===$[$.length-1].ref.current;l.style.bottom="0px";const K=d.clientHeight-y.offsetTop-y.offsetHeight,ge=Math.max(le,fe+(Y?z:0)+K+L),xe=V+ge;l.style.height=xe+"px"}else{const Y=$.length>0&&w===$[0].ref.current;l.style.top="0px";const ge=Math.max(ne,U+y.offsetTop+(Y?J:0)+fe)+I;l.style.height=ge+"px",y.scrollTop=V-ne+y.offsetTop}l.style.margin=`${rs}px 0`,l.style.minHeight=P+"px",l.style.maxHeight=H+"px",n==null||n(),requestAnimationFrame(()=>x.current=!0)}},[f,i.trigger,i.valueNode,l,d,y,w,m,i.dir,n]);pt(()=>g(),[g]);const[j,k]=p.useState();pt(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const E=p.useCallback(N=>{N&&b.current===!0&&(g(),v==null||v(),b.current=!1)},[g,v]);return r.jsx(yR,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:E,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:r.jsx(Se.div,{...a,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Ub.displayName=xR;var vR="SelectPopperPosition",rh=p.forwardRef((e,t)=>{const{__scopeSelect:s,align:n="start",collisionPadding:a=rs,...i}=e,o=$c(s);return r.jsx(JP,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rh.displayName=vR;var[yR,Im]=Ia(hr,{}),ah="SelectViewport",Bb=p.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:n,...a}=e,i=On(ah,s),o=Im(ah,s),l=Ue(t,i.onViewportChange),c=p.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),r.jsx(Ic.Slot,{scope:s,children:r.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ce(a.onScroll,d=>{const h=d.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&u){const x=Math.abs(c.current-h.scrollTop);if(x>0){const b=window.innerHeight-rs*2,y=parseFloat(u.style.minHeight),w=parseFloat(u.style.height),m=Math.max(y,w);if(m<b){const v=m+x,g=Math.min(b,v),j=v-g;u.style.height=g+"px",u.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,u.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});Bb.displayName=ah;var zb="SelectGroup",[bR,wR]=Ia(zb),jR=p.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,a=ta();return r.jsx(bR,{scope:s,id:a,children:r.jsx(Se.div,{role:"group","aria-labelledby":a,...n,ref:t})})});jR.displayName=zb;var Vb="SelectLabel",NR=p.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,a=wR(Vb,s);return r.jsx(Se.div,{id:a.id,...n,ref:t})});NR.displayName=Vb;var Xl="SelectItem",[SR,Hb]=Ia(Xl),Wb=p.forwardRef((e,t)=>{const{__scopeSelect:s,value:n,disabled:a=!1,textValue:i,...o}=e,l=Rn(Xl,s),c=On(Xl,s),d=l.value===n,[h,u]=p.useState(i??""),[f,x]=p.useState(!1),b=Ue(t,v=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,v,n,a)}),y=ta(),w=p.useRef("touch"),m=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(SR,{scope:s,value:n,disabled:a,textId:y,isSelected:d,onItemTextChange:p.useCallback(v=>{u(g=>g||((v==null?void 0:v.textContent)??"").trim())},[]),children:r.jsx(Ic.ItemSlot,{scope:s,value:n,disabled:a,textValue:h,children:r.jsx(Se.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:b,onFocus:Ce(o.onFocus,()=>x(!0)),onBlur:Ce(o.onBlur,()=>x(!1)),onClick:Ce(o.onClick,()=>{w.current!=="mouse"&&m()}),onPointerUp:Ce(o.onPointerUp,()=>{w.current==="mouse"&&m()}),onPointerDown:Ce(o.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:Ce(o.onPointerMove,v=>{var g;w.current=v.pointerType,a?(g=c.onItemLeave)==null||g.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(o.onPointerLeave,v=>{var g;v.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:Ce(o.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(lR.includes(v.key)&&m(),v.key===" "&&v.preventDefault())})})})})});Wb.displayName=Xl;var si="SelectItemText",qb=p.forwardRef((e,t)=>{const{__scopeSelect:s,className:n,style:a,...i}=e,o=Rn(si,s),l=On(si,s),c=Hb(si,s),d=hR(si,s),[h,u]=p.useState(null),f=Ue(t,m=>u(m),c.onItemTextChange,m=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,m,c.value,c.disabled)}),x=h==null?void 0:h.textContent,b=p.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=d;return pt(()=>(y(b),()=>w(b)),[y,w,b]),r.jsxs(r.Fragment,{children:[r.jsx(Se.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?wa.createPortal(i.children,o.valueNode):null]})});qb.displayName=si;var Kb="SelectItemIndicator",Gb=p.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e;return Hb(Kb,s).isSelected?r.jsx(Se.span,{"aria-hidden":!0,...n,ref:t}):null});Gb.displayName=Kb;var ih="SelectScrollUpButton",Yb=p.forwardRef((e,t)=>{const s=On(ih,e.__scopeSelect),n=Im(ih,e.__scopeSelect),[a,i]=p.useState(!1),o=Ue(t,n.onScrollButtonChange);return pt(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?r.jsx(Qb,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Yb.displayName=ih;var oh="SelectScrollDownButton",Jb=p.forwardRef((e,t)=>{const s=On(oh,e.__scopeSelect),n=Im(oh,e.__scopeSelect),[a,i]=p.useState(!1),o=Ue(t,n.onScrollButtonChange);return pt(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?r.jsx(Qb,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Jb.displayName=oh;var Qb=p.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:n,...a}=e,i=On("SelectScrollButton",s),o=p.useRef(null),l=Dc(s),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),pt(()=>{var h;const d=l().find(u=>u.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),r.jsx(Se.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ce(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ce(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ce(a.onPointerLeave,()=>{c()})})}),kR="SelectSeparator",CR=p.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e;return r.jsx(Se.div,{"aria-hidden":!0,...n,ref:t})});CR.displayName=kR;var lh="SelectArrow",ER=p.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,a=$c(s),i=Rn(lh,s),o=On(lh,s);return i.open&&o.position==="popper"?r.jsx(QP,{...a,...n,ref:t}):null});ER.displayName=lh;var TR="SelectBubbleInput",Xb=p.forwardRef(({__scopeSelect:e,value:t,...s},n)=>{const a=p.useRef(null),i=Ue(n,a),o=rR(t);return p.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&h){const u=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(u)}},[o,t]),r.jsx(Se.select,{...s,style:{..._b,...s.style},ref:i,defaultValue:t})});Xb.displayName=TR;function Zb(e){return e===""||e===void 0}function ew(e){const t=lr(e),s=p.useRef(""),n=p.useRef(0),a=p.useCallback(o=>{const l=s.current+o;t(l),function c(d){s.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=p.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,a,i]}function tw(e,t,s){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=s?e.indexOf(s):-1;let o=_R(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function _R(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var AR=Ab,PR=Rb,RR=Ib,OR=Db,IR=$b,DR=Fb,$R=Bb,FR=Wb,LR=qb,MR=Gb,UR=Yb,BR=Jb;function Tg({...e}){return r.jsx(AR,{"data-slot":"select",...e})}function _g({...e}){return r.jsx(RR,{"data-slot":"select-value",...e})}function Ag({className:e,size:t="default",children:s,...n}){return r.jsxs(PR,{"data-slot":"select-trigger","data-size":t,className:lt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[s,r.jsx(OR,{asChild:!0,children:r.jsx(Yn,{className:"size-4 opacity-50"})})]})}function Pg({className:e,children:t,position:s="popper",...n}){return r.jsx(IR,{children:r.jsxs(DR,{"data-slot":"select-content",className:lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-[9999] max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...n,children:[r.jsx(zR,{}),r.jsx($R,{className:lt("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),r.jsx(VR,{})]})})}function Fo({className:e,children:t,...s}){return r.jsxs(FR,{"data-slot":"select-item",className:lt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...s,children:[r.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:r.jsx(MR,{children:r.jsx(al,{className:"size-4"})})}),r.jsx(LR,{children:t})]})}function zR({className:e,...t}){return r.jsx(UR,{"data-slot":"select-scroll-up-button",className:lt("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(ti,{className:"size-4"})})}function VR({className:e,...t}){return r.jsx(BR,{"data-slot":"select-scroll-down-button",className:lt("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Yn,{className:"size-4"})})}const HR={"returning-customer":{percentage:15,label:{en:"Returning Customer",fr:"Client Fidle",pt:"Cliente Recorrente"},description:{en:"15% discount for returning customers",fr:"15% de rabais pour clients fidles",pt:"15% de desconto para clientes recorrentes"}},referral:{percentage:10,label:{en:"Referral Discount",fr:"Rabais de Rfrence",pt:"Desconto por Indicao"},description:{en:"10% discount for referrals",fr:"10% de rabais pour rfrences",pt:"10% de desconto por indicao"}},none:{percentage:0,label:{en:"No Discount",fr:"Aucun Rabais",pt:"Sem Desconto"},description:{en:"Regular price",fr:"Prix rgulier",pt:"Preo regular"}}};function Rg(e,t,s){const a=HR[t].percentage,i=Math.round(e*a/100*100)/100;return{type:t,percentage:a,amount:i,referredBy:s}}function WR(e,t){return Math.round((e-t.amount)*100)/100}function qR({isOpen:e,onClose:t,onSubmit:s,existingYears:n,clientFilingType:a}){const i=new Date().getFullYear(),[o,l]=p.useState(i),[c,d]=p.useState(!1),[h,u]=p.useState(null),[f,x]=p.useState(""),[b,y]=p.useState(null),[w,m]=p.useState("none"),[v,g]=p.useState(""),[j,k]=p.useState(""),E=a?is.filter(O=>!O.filingType||O.filingType===a):is;p.useEffect(()=>{var O;e&&(l(i),u(null),d(!1),x(((O=E[0])==null?void 0:O.id)||""),y(null),m("none"),g(""),k(""))},[e,i]);const N=async O=>{var D;if(O.preventDefault(),u(null),n.includes(o)){u(`Tax filing for ${o} already exists`);return}const _=b||((D=eg(f))==null?void 0:D.amount)||0,U=w!=="none"?Rg(_,w,v):void 0;d(!0);try{await s({year:o,pricingPresetId:f,customAmount:b||void 0,discount:U,adminNotes:j||void 0}),t()}catch(L){console.error("Error creating tax filing:",L),u(L instanceof Error?L.message:"Failed to create tax filing")}finally{d(!1)}},C=n.includes(o),T=eg(f),R=b||(T==null?void 0:T.amount)||0,$=w!=="none"?Rg(R,w,v):null,H=$?WR(R,$):R;return r.jsx(tb,{open:e,onOpenChange:t,children:r.jsxs(nb,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(rb,{children:[r.jsxs(ab,{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"w-5 h-5 text-blue-600"}),"Create New Tax Filing"]}),r.jsx(ib,{children:"Select the tax year and pricing for the new filing. You can only create one filing per year."})]}),r.jsxs("form",{onSubmit:N,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"year",children:"Tax Year *"}),r.jsx(be,{id:"year",type:"number",value:o,onChange:O=>l(parseInt(O.target.value)),min:2e3,max:i+1,required:!0,className:C?"border-red-500":""}),C&&r.jsxs("p",{className:"text-sm text-red-500",children:["Tax filing for ",o," already exists"]})]}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:[i,i-1,i-2].map(O=>{const _=n.includes(O);return r.jsxs(se,{type:"button",variant:o===O?"default":"outline",size:"sm",onClick:()=>l(O),disabled:_,className:_?"opacity-50":"",children:[O,_&&" "]},O)})}),n.length>0&&r.jsxs("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-3",children:[r.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Existing Tax Filings:"}),r.jsx("p",{className:"text-xs text-blue-700",children:n.sort((O,_)=>_-O).join(", ")})]}),r.jsxs("div",{className:"border-t pt-4 space-y-4",children:[r.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[r.jsx(Le,{className:"w-4 h-4"}),"Pricing"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"pricingPresetId",children:"Pricing Preset *"}),r.jsxs(Tg,{value:f,onValueChange:x,required:!0,children:[r.jsx(Ag,{id:"pricingPresetId",children:r.jsx(_g,{placeholder:"Select a pricing preset"})}),r.jsx(Pg,{children:E.map(O=>r.jsxs(Fo,{value:O.id,children:[O.name.en," - ",Pe(O.amount)]},O.id))})]}),T&&r.jsx("p",{className:"text-xs text-gray-600",children:T.description.en})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"customAmount",children:"Custom Amount (Optional)"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Le,{className:"w-4 h-4 text-gray-400"}),r.jsx(be,{id:"customAmount",type:"number",value:b||"",onChange:O=>y(O.target.value?parseFloat(O.target.value):null),min:0,step:.01,placeholder:"Leave empty to use preset amount"})]})]})]}),r.jsxs("div",{className:"border-t pt-4 space-y-4",children:[r.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[r.jsx(nE,{className:"w-4 h-4"}),"Discount (Optional)"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"discountType",children:"Discount Type"}),r.jsxs(Tg,{value:w,onValueChange:O=>m(O),children:[r.jsx(Ag,{id:"discountType",children:r.jsx(_g,{placeholder:"No discount"})}),r.jsxs(Pg,{children:[r.jsx(Fo,{value:"none",children:"No Discount"}),r.jsx(Fo,{value:"returning-customer",children:"Returning Customer (15%)"}),r.jsx(Fo,{value:"referral",children:"Referral Discount (10%)"})]})]})]}),w==="referral"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"referredBy",children:"Referred By"}),r.jsx(be,{id:"referredBy",type:"text",value:v,onChange:O=>g(O.target.value),placeholder:"Client name or email"})]}),$&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Base Amount:"}),r.jsx("span",{className:"font-medium",children:Pe(R)})]}),r.jsxs("div",{className:"flex justify-between text-sm text-green-700",children:[r.jsxs("span",{children:["Discount (",$.percentage,"%):"]}),r.jsxs("span",{className:"font-medium",children:["-",Pe($.amount)]})]}),r.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-2 border-t border-green-300",children:[r.jsx("span",{children:"Final Amount:"}),r.jsx("span",{className:"text-green-700",children:Pe(H)})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"adminNotes",children:"Admin Notes (Optional)"}),r.jsx(Aa,{id:"adminNotes",value:j,onChange:O=>k(O.target.value),placeholder:"Internal notes about this filing...",rows:3})]}),h&&r.jsx("p",{className:"text-sm text-red-500 bg-red-50 border border-red-200 rounded p-2",children:h}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(se,{type:"button",variant:"outline",onClick:t,className:"flex-1",disabled:c,children:"Cancel"}),r.jsx(se,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:c||C||!f,children:c?r.jsxs(r.Fragment,{children:[r.jsx(ve,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Dt,{className:"w-4 h-4 mr-2"}),"Create Filing"]})})]})]})]})})}function KR({summary:e,year:t}){const{language:s}=Qt(),n={title:{en:"Tax Return Assessment",fr:"valuation de la Dclaration",pt:"Avaliao da Declarao"},subtitle:{en:`Estimated CRA results for ${t}`,fr:`Rsultats estims de l'ARC pour ${t}`,pt:`Resultados estimados da CRA para ${t}`},federal:{en:"Federal Tax",fr:"Impt Fdral",pt:"Imposto Federal"},provincial:{en:"Provincial Tax",fr:"Impt Provincial",pt:"Imposto Provincial"},refund:{en:"Refund",fr:"Remboursement",pt:"Reembolso"},owing:{en:"Owing",fr:" Payer",pt:"A Pagar"},credits:{en:"Credits & Benefits",fr:"Crdits et Prestations",pt:"Crditos e Benefcios"},gstCredit:{en:"GST/HST Credit (Annual)",fr:"Crdit TPS/TVH (Annuel)",pt:"Crdito GST/HST (Anual)"},childBenefit:{en:"Canada Child Benefit",fr:"Allocation Canadienne pour Enfants",pt:"Benefcio Infantil do Canad"},otherCredits:{en:"Other Credits",fr:"Autres Crdits",pt:"Outros Crditos"},totalRefund:{en:"Total Refund",fr:"Remboursement Total",pt:"Reembolso Total"},totalOwing:{en:"Total Owing",fr:"Total  Payer",pt:"Total a Pagar"},netAmount:{en:"Net Amount",fr:"Montant Net",pt:"Valor Lquido"},estimatedDate:{en:"Estimated Refund Date",fr:"Date Estime du Remboursement",pt:"Data Estimada do Reembolso"},notes:{en:"Important Notes",fr:"Notes Importantes",pt:"Notas Importantes"},willReceive:{en:"You will receive a refund!",fr:"Vous recevrez un remboursement!",pt:"Voc receber um reembolso!"},willOwe:{en:"You will need to pay CRA",fr:"Vous devrez payer l'ARC",pt:"Voc precisar pagar para CRA"},balanced:{en:"Balanced - No refund or payment",fr:"quilibr - Aucun remboursement ni paiement",pt:"Equilibrado - Sem reembolso ou pagamento"}},a=e.netAmount>0,i=e.netAmount<0,o=e.netAmount===0;return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:n.title[s]}),r.jsx("p",{className:"text-gray-600",children:n.subtitle[s]})]}),(e.federalRefund||e.federalOwing)&&r.jsxs(de,{className:"p-6 bg-blue-50 border-blue-200",children:[r.jsxs("h4",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(Ye,{className:"w-5 h-5 text-blue-600"}),n.federal[s]]}),r.jsxs("div",{className:"space-y-3",children:[e.federalRefund&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(or,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-green-700",children:n.refund[s]})]}),r.jsx("span",{className:"font-bold text-green-700 text-xl",children:Pe(e.federalRefund)})]}),e.federalOwing&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hl,{className:"w-4 h-4 text-red-600"}),r.jsx("span",{className:"text-red-700",children:n.owing[s]})]}),r.jsx("span",{className:"font-bold text-red-700 text-xl",children:Pe(e.federalOwing)})]})]})]}),(e.provincialRefund||e.provincialOwing)&&r.jsxs(de,{className:"p-6 bg-purple-50 border-purple-200",children:[r.jsxs("h4",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(Ye,{className:"w-5 h-5 text-purple-600"}),n.provincial[s]]}),r.jsxs("div",{className:"space-y-3",children:[e.provincialRefund&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(or,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-green-700",children:n.refund[s]})]}),r.jsx("span",{className:"font-bold text-green-700 text-xl",children:Pe(e.provincialRefund)})]}),e.provincialOwing&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hl,{className:"w-4 h-4 text-red-600"}),r.jsx("span",{className:"text-red-700",children:n.owing[s]})]}),r.jsx("span",{className:"font-bold text-red-700 text-xl",children:Pe(e.provincialOwing)})]})]})]}),(e.gstHstCredit||e.childBenefit||e.otherCredits)&&r.jsxs(de,{className:"p-6 bg-green-50 border-green-200",children:[r.jsxs("h4",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(ey,{className:"w-5 h-5 text-green-600"}),n.credits[s]]}),r.jsxs("div",{className:"space-y-3",children:[e.gstHstCredit&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-700",children:n.gstCredit[s]}),r.jsx("span",{className:"font-bold text-green-700",children:Pe(e.gstHstCredit)})]}),e.childBenefit&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-700",children:n.childBenefit[s]}),r.jsx("span",{className:"font-bold text-green-700",children:Pe(e.childBenefit)})]}),e.otherCredits&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-700",children:n.otherCredits[s]}),r.jsx("span",{className:"font-bold text-green-700",children:Pe(e.otherCredits)})]})]})]}),r.jsx(de,{className:"p-6 border-2 border-gray-300",children:r.jsxs("div",{className:"space-y-4",children:[e.totalRefund&&e.totalRefund>0&&r.jsxs("div",{className:"flex items-center justify-between pb-3 border-b",children:[r.jsx("span",{className:"font-medium text-lg",children:n.totalRefund[s]}),r.jsx("span",{className:"font-bold text-green-700 text-2xl",children:Pe(e.totalRefund)})]}),e.totalOwing&&e.totalOwing>0&&r.jsxs("div",{className:"flex items-center justify-between pb-3 border-b",children:[r.jsx("span",{className:"font-medium text-lg",children:n.totalOwing[s]}),r.jsx("span",{className:"font-bold text-red-700 text-2xl",children:Pe(e.totalOwing)})]}),r.jsxs("div",{className:`p-6 rounded-lg ${a?"bg-green-100 border-2 border-green-300":i?"bg-red-100 border-2 border-red-300":"bg-gray-100 border-2 border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"font-bold text-xl",children:n.netAmount[s]}),r.jsxs("span",{className:`font-bold text-4xl ${a?"text-green-700":i?"text-red-700":"text-gray-700"}`,children:[a&&"+",Pe(Math.abs(e.netAmount))]})]}),r.jsxs("div",{className:`text-center text-sm font-medium ${a?"text-green-700":i?"text-red-700":"text-gray-700"}`,children:[a&&` ${n.willReceive[s]}`,i&&` ${n.willOwe[s]}`,o&&` ${n.balanced[s]}`]})]})]})}),e.estimatedRefundDate&&a&&r.jsx(de,{className:"p-4 bg-blue-50 border-blue-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dt,{className:"w-5 h-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-900",children:n.estimatedDate[s]}),r.jsx("p",{className:"text-lg font-bold text-blue-700",children:new Date(e.estimatedRefundDate).toLocaleDateString(s==="fr"?"fr-CA":s==="pt"?"pt-BR":"en-CA",{year:"numeric",month:"long",day:"numeric"})})]})]})}),e.notes&&r.jsx(de,{className:"p-4 bg-amber-50 border-amber-200",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(tt,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-amber-900 mb-1",children:n.notes[s]}),r.jsx("p",{className:"text-sm text-amber-800",children:e.notes})]})]})})]})}function GR({userId:e,clientName:t,clientEmail:s,year:n,initialData:a,onSave:i}){var q,J,z,ne,le,fe,W;const[o,l]=p.useState(!a),[c,d]=p.useState(!1),[h,u]=p.useState(!1),[f,x]=p.useState(((q=a==null?void 0:a.federalRefund)==null?void 0:q.toString())||""),[b,y]=p.useState(((J=a==null?void 0:a.federalOwing)==null?void 0:J.toString())||""),[w,m]=p.useState(((z=a==null?void 0:a.provincialRefund)==null?void 0:z.toString())||""),[v,g]=p.useState(((ne=a==null?void 0:a.provincialOwing)==null?void 0:ne.toString())||""),[j,k]=p.useState(((le=a==null?void 0:a.gstCredit)==null?void 0:le.toString())||""),[E,N]=p.useState(((fe=a==null?void 0:a.childBenefit)==null?void 0:fe.toString())||""),[C,T]=p.useState(((W=a==null?void 0:a.otherCredits)==null?void 0:W.toString())||""),[R,$]=p.useState((a==null?void 0:a.estimatedRefundDate)||""),[H,O]=p.useState((a==null?void 0:a.notes)||""),_=(parseFloat(f)||0)+(parseFloat(w)||0)+(parseFloat(j)||0)+(parseFloat(E)||0)+(parseFloat(C)||0),U=(parseFloat(b)||0)+(parseFloat(v)||0),D=_-U,L=async()=>{d(!0);try{const V={federalRefund:parseFloat(f)||0,federalOwing:parseFloat(b)||0,provincialRefund:parseFloat(w)||0,provincialOwing:parseFloat(v)||0,gstCredit:parseFloat(j)||0,childBenefit:parseFloat(E)||0,otherCredits:parseFloat(C)||0,estimatedRefundDate:R||void 0,notes:H||void 0},{error:I}=await ue.from("kv_store_c2a25be0").upsert({key:`user:${e}:craAssessment:${n}`,value:V});if(I)throw new Error("Failed to save CRA Assessment");G.success("CRA Assessment saved successfully!"),l(!1),i==null||i()}catch(V){console.error("Error saving CRA Assessment:",V),G.error(V instanceof Error?V.message:"Failed to save")}finally{d(!1)}},S=async()=>{G.info("PDF generation has been disabled. Tax summary is stored as structured data.")},A=()=>{var V,I,M,Y,K,ge,xe;a?(x(((V=a.federalRefund)==null?void 0:V.toString())||""),y(((I=a.federalOwing)==null?void 0:I.toString())||""),m(((M=a.provincialRefund)==null?void 0:M.toString())||""),g(((Y=a.provincialOwing)==null?void 0:Y.toString())||""),k(((K=a.gstCredit)==null?void 0:K.toString())||""),N(((ge=a.childBenefit)==null?void 0:ge.toString())||""),T(((xe=a.otherCredits)==null?void 0:xe.toString())||""),$(a.estimatedRefundDate||""),O(a.notes||""),l(!1)):(x(""),y(""),m(""),g(""),k(""),N(""),T(""),$(""),O(""))},P={federalRefund:parseFloat(f)||0,federalOwing:parseFloat(b)||0,provincialRefund:parseFloat(w)||0,provincialOwing:parseFloat(v)||0,gstCredit:parseFloat(j)||0,childBenefit:parseFloat(E)||0,otherCredits:parseFloat(C)||0,estimatedRefundDate:R||void 0,notes:H||void 0};return r.jsxs(de,{className:"p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ma,{className:"w-5 h-5 text-orange-600"}),r.jsxs("h2",{className:"font-semibold text-lg",children:["CRA Assessment - Tax Year ",n]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[!o&&a&&r.jsxs(r.Fragment,{children:[r.jsx(se,{size:"sm",variant:"outline",onClick:S,disabled:h,className:"border-orange-300 text-orange-600 hover:bg-orange-50",children:h?r.jsxs(r.Fragment,{children:[r.jsx(ve,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Download PDF"]})}),r.jsxs(se,{size:"sm",onClick:()=>l(!0),className:"bg-orange-600 hover:bg-orange-700",children:[r.jsx(_p,{className:"w-4 h-4 mr-2"}),"Edit Assessment"]})]}),a&&r.jsx(Zn,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:"Saved"})]})]}),o?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-orange-800",children:[r.jsx("strong",{children:"Instructions:"})," Fill in the amounts from the completed tax return. Leave fields at $0.00 if not applicable. This information will be shown to the client."]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ce,{className:"text-base font-semibold text-gray-900",children:"Federal Tax"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ce,{htmlFor:"federal-refund",children:"Federal Refund"}),r.jsxs("div",{className:"relative mt-1",children:[r.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(be,{id:"federal-refund",type:"number",min:"0",step:"0.01",value:f,onChange:V=>x(V.target.value),placeholder:"0.00",className:"pl-9"})]})]}),r.jsxs("div",{children:[r.jsx(ce,{htmlFor:"federal-owing",children:"Federal Owing"}),r.jsxs("div",{className:"relative mt-1",children:[r.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(be,{id:"federal-owing",type:"number",min:"0",step:"0.01",value:b,onChange:V=>y(V.target.value),placeholder:"0.00",className:"pl-9"})]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ce,{className:"text-base font-semibold text-gray-900",children:"Provincial Tax"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ce,{htmlFor:"provincial-refund",children:"Provincial Refund"}),r.jsxs("div",{className:"relative mt-1",children:[r.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(be,{id:"provincial-refund",type:"number",min:"0",step:"0.01",value:w,onChange:V=>m(V.target.value),placeholder:"0.00",className:"pl-9"})]})]}),r.jsxs("div",{children:[r.jsx(ce,{htmlFor:"provincial-owing",children:"Provincial Owing"}),r.jsxs("div",{className:"relative mt-1",children:[r.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(be,{id:"provincial-owing",type:"number",min:"0",step:"0.01",value:v,onChange:V=>g(V.target.value),placeholder:"0.00",className:"pl-9"})]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ce,{className:"text-base font-semibold text-gray-900",children:"Credits & Benefits (Annual)"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(ce,{htmlFor:"gst-credit",children:"GST/HST Credit"}),r.jsxs("div",{className:"relative mt-1",children:[r.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(be,{id:"gst-credit",type:"number",min:"0",step:"0.01",value:j,onChange:V=>k(V.target.value),placeholder:"0.00",className:"pl-9"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Yearly amount"})]}),r.jsxs("div",{children:[r.jsx(ce,{htmlFor:"child-benefit",children:"Child Benefit (CCB)"}),r.jsxs("div",{className:"relative mt-1",children:[r.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(be,{id:"child-benefit",type:"number",min:"0",step:"0.01",value:E,onChange:V=>N(V.target.value),placeholder:"0.00",className:"pl-9"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Yearly amount"})]}),r.jsxs("div",{children:[r.jsx(ce,{htmlFor:"other-credits",children:"Other Credits"}),r.jsxs("div",{className:"relative mt-1",children:[r.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(be,{id:"other-credits",type:"number",min:"0",step:"0.01",value:C,onChange:V=>T(V.target.value),placeholder:"0.00",className:"pl-9"})]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ce,{className:"text-base font-semibold text-gray-900",children:"Additional Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ce,{htmlFor:"refund-date",children:"Estimated Refund Date (Optional)"}),r.jsx(be,{id:"refund-date",type:"date",value:R,onChange:V=>$(V.target.value),className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx(ce,{htmlFor:"notes",children:"Notes (Optional)"}),r.jsx(Aa,{id:"notes",value:H,onChange:V=>O(V.target.value),placeholder:"Any additional notes for the client...",className:"mt-1",rows:3})]})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Total Refund:"}),r.jsxs("span",{className:"font-semibold text-green-600",children:["$",_.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Total Owing:"}),r.jsxs("span",{className:"font-semibold text-red-600",children:["$",U.toFixed(2)]})]}),r.jsx("div",{className:"border-t pt-2 mt-2",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-semibold",children:"Net Amount:"}),r.jsxs("span",{className:`text-xl font-bold ${D>=0?"text-green-600":"text-red-600"}`,children:[D>=0?"+":""," $",D.toFixed(2)]})]})})]})}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsxs(se,{variant:"outline",onClick:A,disabled:c,children:[r.jsx(kn,{className:"w-4 h-4 mr-2"}),"Cancel"]}),r.jsx(se,{onClick:L,disabled:c,className:"bg-orange-600 hover:bg-orange-700",children:c?r.jsxs(r.Fragment,{children:[r.jsx(ve,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(iy,{className:"w-4 h-4 mr-2"}),"Save CRA Assessment"]})})]})]}):r.jsx("div",{children:a?r.jsx(KR,{summary:P}):r.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[r.jsx(ma,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"No CRA Assessment filled yet"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Fill in the tax return values to show the client what they'll receive or owe"}),r.jsxs(se,{onClick:()=>l(!0),className:"bg-orange-600 hover:bg-orange-700",children:[r.jsx(_p,{className:"w-4 h-4 mr-2"}),"Fill CRA Assessment"]})]})})]})}function YR({userId:e,clientName:t}){const[s,n]=p.useState([]),[a,i]=p.useState(!0),[o,l]=p.useState(null),[c,d]=p.useState(!1),[h,u]=p.useState(!1),[f,x]=p.useState(!1),[b,y]=p.useState(null);p.useEffect(()=>{w()},[e]);const w=async()=>{i(!0);try{const{data:j,error:k}=await ue.from("kv_store_c2a25be0").select("*").like("key",`user:${e}:taxFiling:%`).order("key",{ascending:!1});if(k)throw k;const E=[];j==null||j.forEach(N=>{const C=parseInt(N.key.split(":")[3]);isNaN(C)||E.push({year:C,craDocument:N.value.craDocument,quebecDocument:N.value.quebecDocument,createdAt:N.value.createdAt||new Date().toISOString()})}),n(E.sort((N,C)=>C.year-N.year))}catch(j){console.error("Error loading tax filings:",j),G.error("Failed to load tax filings")}finally{i(!1)}},m=async j=>{try{const k={year:j,createdAt:new Date().toISOString()},{error:E}=await ue.from("kv_store_c2a25be0").upsert({key:`user:${e}:taxFiling:${j}`,value:k});if(E)throw E;G.success(`Tax filing folder created for ${j}`),w(),d(!1),l(j)}catch(k){console.error("Error creating folder:",k),G.error("Failed to create tax filing folder")}},v=async(j,k,E)=>{var C;const N=E==="cra"?u:x;N(!0);try{const T=`${e}/${j}/${E}_${Date.now()}_${k.name}`,{data:R,error:$}=await ue.storage.from("tax-documents-c2a25be0").upload(T,k);if($)throw $;const{data:H}=await ue.storage.from("tax-documents-c2a25be0").createSignedUrl(T,60*60*24*365);if(!(H!=null&&H.signedUrl))throw new Error("Failed to get file URL");const O=s.find(D=>D.year===j);if(!O)throw new Error("Folder not found");const _={...O,[E==="cra"?"craDocument":"quebecDocument"]:{name:k.name,url:H.signedUrl,uploadedAt:new Date().toISOString()}},{error:U}=await ue.from("kv_store_c2a25be0").upsert({key:`user:${e}:taxFiling:${j}`,value:_});if(U)throw U;G.success(`${E.toUpperCase()} document uploaded successfully!`);try{const{data:D}=await ue.auth.getSession();if((C=D.session)!=null&&C.access_token){const L=await fetch(`https://${Ke}.supabase.co/functions/v1/make-server-c2a25be0/admin/tax-document/notify`,{method:"POST",headers:{Authorization:`Bearer ${D.session.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({userId:e,year:j,documentType:E,language:"en"})});if(L.ok){const S=await L.json();console.log(` Email notification sent for ${E.toUpperCase()} document:`,S),G.success(`Client notified via email about ${E.toUpperCase()} document!`,{description:"The client will receive an email with download instructions."})}else console.error("Failed to send email notification:",await L.text()),G.warning("Document uploaded but email notification failed")}}catch(D){console.error("Error sending email notification:",D)}w()}catch(T){console.error("Error uploading document:",T),G.error(`Failed to upload ${E.toUpperCase()} document`)}finally{N(!1)}},g=(j,k,E)=>{var C;const N=(C=j.target.files)==null?void 0:C[0];N&&v(k,N,E)};return r.jsxs(de,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"font-semibold text-lg flex items-center gap-2",children:[r.jsx(Ye,{className:"w-5 h-5 text-blue-600"}),"Tax Filings"]}),r.jsxs(se,{size:"sm",onClick:()=>d(!0),className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(qt,{className:"w-4 h-4 mr-2"}),"Create Tax Filing"]})]}),a?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600"})}):s.length===0?r.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[r.jsx(zl,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"No tax filings yet"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Create a tax filing folder for a specific year to upload final documents"})]}):r.jsx("div",{className:"space-y-3",children:s.map(j=>{var T,R,$,H;const k=o===j.year,E=!!j.craDocument,N=!!j.quebecDocument,C=(E?1:0)+(N?1:0);return r.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[r.jsx("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>l(k?null:j.year),children:r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[k?r.jsx(Yn,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}):r.jsx(Ul,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Dt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("h3",{className:"font-semibold text-gray-900",children:["Tax Year ",j.year]}),r.jsx("p",{className:"text-sm text-gray-500",children:C===0?"No documents uploaded":C===1?"1 document uploaded":"2 documents uploaded"})]}),C>0&&r.jsxs(Zn,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:[C,"/2 Complete"]})]})}),k&&r.jsxs("div",{className:"border-t bg-gray-50 p-4 space-y-4",children:[r.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ma,{className:"w-5 h-5 text-blue-600"}),r.jsx("h4",{className:"font-medium",children:"CRA Federal Document"})]}),E&&r.jsx(Zn,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:"Uploaded"})]}),E?r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx(Ye,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:(T=j.craDocument)==null?void 0:T.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded ",new Date(((R=j.craDocument)==null?void 0:R.uploadedAt)||"").toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(se,{size:"sm",variant:"ghost",onClick:()=>{var O;return window.open((O=j.craDocument)==null?void 0:O.url,"_blank")},children:r.jsx(Bl,{className:"w-4 h-4"})}),r.jsx(ce,{htmlFor:`cra-replace-${j.year}`,className:"cursor-pointer",children:r.jsx(se,{size:"sm",variant:"outline",disabled:h,asChild:!0,children:r.jsx("span",{children:h?r.jsxs(r.Fragment,{children:[r.jsx(ve,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(qt,{className:"w-4 h-4 mr-2"}),"Replace"]})})})}),r.jsx(be,{id:`cra-replace-${j.year}`,type:"file",accept:".pdf",className:"hidden",onChange:O=>g(O,j.year,"cra"),disabled:h})]})]}):r.jsxs("div",{children:[r.jsx(ce,{htmlFor:`cra-upload-${j.year}`,className:"cursor-pointer",children:r.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:bg-gray-50 transition-colors",children:h?r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(qt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Upload CRA Federal Document"}),r.jsx("p",{className:"text-xs text-gray-500",children:"PDF only"})]})})}),r.jsx(be,{id:`cra-upload-${j.year}`,type:"file",accept:".pdf",className:"hidden",onChange:O=>g(O,j.year,"cra"),disabled:h})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ma,{className:"w-5 h-5 text-indigo-600"}),r.jsx("h4",{className:"font-medium",children:"Quebec Provincial Document"})]}),N&&r.jsx(Zn,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:"Uploaded"})]}),N?r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx(Ye,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:($=j.quebecDocument)==null?void 0:$.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded ",new Date(((H=j.quebecDocument)==null?void 0:H.uploadedAt)||"").toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(se,{size:"sm",variant:"ghost",onClick:()=>{var O;return window.open((O=j.quebecDocument)==null?void 0:O.url,"_blank")},children:r.jsx(Bl,{className:"w-4 h-4"})}),r.jsx(ce,{htmlFor:`quebec-replace-${j.year}`,className:"cursor-pointer",children:r.jsx(se,{size:"sm",variant:"outline",disabled:f,asChild:!0,children:r.jsx("span",{children:f?r.jsxs(r.Fragment,{children:[r.jsx(ve,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(qt,{className:"w-4 h-4 mr-2"}),"Replace"]})})})}),r.jsx(be,{id:`quebec-replace-${j.year}`,type:"file",accept:".pdf",className:"hidden",onChange:O=>g(O,j.year,"quebec"),disabled:f})]})]}):r.jsxs("div",{children:[r.jsx(ce,{htmlFor:`quebec-upload-${j.year}`,className:"cursor-pointer",children:r.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:bg-gray-50 transition-colors",children:f?r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(ve,{className:"w-8 h-8 animate-spin text-indigo-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(qt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Upload Quebec Provincial Document"}),r.jsx("p",{className:"text-xs text-gray-500",children:"PDF only (if applicable)"})]})})}),r.jsx(be,{id:`quebec-upload-${j.year}`,type:"file",accept:".pdf",className:"hidden",onChange:O=>g(O,j.year,"quebec"),disabled:f})]})]})]})]},j.year)})}),c&&r.jsx(JR,{onClose:()=>d(!1),onCreate:m,existingYears:s.map(j=>j.year)})]})}function JR({onClose:e,onCreate:t,existingYears:s}){const[n,a]=p.useState(new Date().getFullYear()),[i,o]=p.useState(!1),l=async()=>{if(s.includes(n)){G.error("Tax filing for this year already exists");return}o(!0);try{await t(n)}finally{o(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full m-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Create Tax Filing Folder"}),r.jsx(se,{variant:"ghost",size:"sm",onClick:e,disabled:i,children:r.jsx(kn,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx(ce,{htmlFor:"year",children:"Tax Year"}),r.jsx(be,{id:"year",type:"number",min:"2000",max:new Date().getFullYear()+1,value:n,onChange:c=>a(parseInt(c.target.value)),className:"mt-1"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the tax year for this filing"})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Note:"})," This will create a folder where you can upload the final CRA (Federal) and Quebec (Provincial) documents for this tax year."]})})]}),r.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:[r.jsx(se,{variant:"outline",onClick:e,disabled:i,children:"Cancel"}),r.jsx(se,{onClick:l,disabled:i,className:"bg-blue-600 hover:bg-blue-700",children:i?r.jsxs(r.Fragment,{children:[r.jsx(ve,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(zl,{className:"w-4 h-4 mr-2"}),"Create Folder"]})})]})]})})}async function QR(e){var t;try{console.log(` Calling backend to fix tax filings for user ${e}...`);const s=await fetch(`https://${Ke}.supabase.co/functions/v1/make-server-c2a25be0/fix-tax-filings/${e}`,{method:"POST",headers:{Authorization:`Bearer ${us}`,"Content-Type":"application/json"}});if(!s.ok){const a=await s.json();throw new Error(((t=a.errors)==null?void 0:t[0])||"Failed to fix tax filings")}const n=await s.json();return console.log(` Backend fixed ${n.fixed} tax filings`),{success:n.success,fixed:n.fixed,errors:n.errors||[]}}catch(s){return console.error(" Error calling fix tax filings API:",s),{success:!1,fixed:0,errors:[s instanceof Error?s.message:String(s)]}}}function Og(){var V;const{userId:e}=jS(),t=Be(),{user:s}=Tt(),[n,a]=p.useState(null),[i,o]=p.useState(!0),[l,c]=p.useState(null),[d,h]=p.useState({}),[u,f]=p.useState({}),[x,b]=p.useState(!1),[y,w]=p.useState(null),[m,v]=p.useState([]),[g,j]=p.useState(!1),[k,E]=p.useState(""),[N,C]=p.useState(!1),[T,R]=p.useState([]),[$,H]=p.useState(!1),[O,_]=p.useState(!1),[U,D]=p.useState(!1),L=!1;p.useEffect(()=>{if(!s||!xs(s.email)){t("/login");return}S(),J(),le()},[s,e]);const S=async()=>{o(!0);try{if(!e)throw new Error("No user ID provided");const{data:I,error:M}=await ue.auth.getSession();if(M||!I.session)throw new Error("Not authenticated");const Y=I.session.access_token,K=await fetch(`${mt.adminClients}/${e}`,{headers:{Authorization:`Bearer ${Y}`}});if(!K.ok){const xe=await K.json();throw new Error(xe.error||"Failed to fetch client")}const ge=await K.json();console.log("Fetched client from server:",ge.client),a(ge.client)}catch(I){console.error("Error loading client:",I),G.error(`Failed to load client data: ${I instanceof Error?I.message:"Unknown error"}`)}finally{o(!1)}},A=async I=>{if(!d[I]){f(M=>({...M,[I]:!0}));try{if(!e)throw new Error("No user ID provided");const{data:M,error:Y}=await ue.from("kv_store_c2a25be0").select("key, value").eq("key",`user:${e}:documents:${I}`);if(Y)throw console.error("Error fetching documents from KV:",Y),new Error("Failed to load documents");let K=[];if(M&&M.length>0){const ge=M[0].value;Array.isArray(ge)&&(K=await Promise.all(ge.map(async xe=>{let Bt=null;if(xe.path){const{data:Xt}=await ue.storage.from("tax-documents-c2a25be0").createSignedUrl(xe.path,3600);Xt&&(Bt=Xt.signedUrl)}return{id:xe.id||xe.path,name:xe.name||xe.fileName||"Unknown",size:xe.size||0,category:xe.category||"other",uploadedAt:xe.uploadedAt||xe.createdAt||new Date().toISOString(),path:xe.path||"",url:Bt}})))}console.log(`Loaded ${K.length} files for year ${I}`),h(ge=>({...ge,[I]:K}))}catch(M){console.error("Error loading files:",M),G.error(`Failed to load documents: ${M instanceof Error?M.message:"Unknown error"}`),h(Y=>({...Y,[I]:[]}))}finally{f(M=>({...M,[I]:!1}))}}},P=I=>{if(I===0)return"0 Bytes";const M=1024,Y=["Bytes","KB","MB","GB"],K=Math.floor(Math.log(I)/Math.log(M));return Math.round(I/Math.pow(M,K)*100)/100+" "+Y[K]},q=I=>({income:"Income Documents",deductions:"Deduction Receipts",business:"Business Documents",property:"Property & Investments",other:"Other Documents"})[I]||I,J=async()=>{j(!0);try{if(!e)throw new Error("No user ID provided");const{data:I,isMocked:M}=await kc(`/messages?clientId=${e}`,{});v(M?I.messages||[]:I.messages||[]),console.log(`Loaded ${m.length} messages`)}catch(I){console.error("Error loading messages:",I),G.error(`Failed to load messages: ${I instanceof Error?I.message:"Unknown error"}`),v([])}finally{j(!1)}},z=async()=>{C(!0);try{if(!e||!n||!k.trim())throw new Error("Missing user, client, or message data");console.log("Sending message to client:",e);const{data:I,error:M}=await ue.auth.getSession();if(M||!I.session)throw new Error("Not authenticated");const Y=I.session.access_token,K=await fetch(mt.messagesSend,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({clientId:e,subject:"Admin Message",content:k})});if(!K.ok){const ge=await K.json();throw new Error(ge.error||"Failed to send message")}console.log("Message sent successfully via API"),G.success("Message sent successfully"),await J(),E("")}catch(I){console.error("Error sending message:",I);const M=I instanceof Error?I.message:"Unknown error";G.error(`Failed to send message: ${M}`)}finally{C(!1)}},ne=async(I,M)=>{if(confirm(`Are you sure you want to delete the message "${M}"?

This action cannot be undone.`))try{const{data:Y}=await ue.auth.getSession();if(!Y.session)throw new Error("Not authenticated");const K=await fetch(`${mt.messages(e||"")}/${I}`,{method:"DELETE",headers:{Authorization:`Bearer ${Y.session.access_token}`}});if(!K.ok){const ge=await K.json();throw new Error(ge.error||"Failed to delete message")}G.success(" Message deleted successfully"),await J()}catch(Y){console.error("Delete error:",Y),G.error(`Failed to delete message: ${Y.message}`)}},le=async()=>{H(!0);try{if(!e)throw new Error("No user ID provided");const{data:I,error:M}=await ue.auth.getSession();if(M||!I.session)throw new Error("Not authenticated");const Y=I.session.access_token,K=await fetch(`https://${Ke}.supabase.co/functions/v1/make-server-c2a25be0/admin/client-documents/${e}`,{headers:{Authorization:`Bearer ${Y}`}});if(!K.ok){const Bt=await K.json();throw new Error(Bt.error||"Failed to load documents")}const xe=(await K.json()).documents||[];console.log(` Loaded ${xe.length} years with documents from backend`),R(xe)}catch(I){console.error("Error loading all documents:",I),G.error(`Failed to load all documents: ${I instanceof Error?I.message:"Unknown error"}`),R([])}finally{H(!1)}},fe=async I=>{var Y;const{year:M}=I;try{const{data:K}=await ue.auth.getSession();if(!((Y=K.session)!=null&&Y.access_token))throw new Error("Please log in again");const ge=await fetch(mt.taxFilingCreate,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K.session.access_token}`},body:JSON.stringify({userId:e,year:I.year,pricingPresetId:I.pricingPresetId,customAmount:I.customAmount,discount:I.discount,adminNotes:I.adminNotes})}),xe=await ge.json();if(!ge.ok)throw new Error(xe.error||"Failed to create tax filing");G.success(`Tax filing for ${M} created successfully`),await S()}catch(K){throw console.error("Error creating filing:",K),G.error(K.message||"Failed to create tax filing"),K}},W=async()=>{try{if(!e)throw new Error("Missing user ID");G.info("Fixing corrupted tax filings...");const I=await QR(e);if(I.success)I.fixed>0?G.success(`Fixed ${I.fixed} corrupted tax filing(s)!`):G.success("No corrupted tax filings found"),await S();else throw new Error(I.errors.join(", ")||"Unknown error")}catch(I){console.error("Error fixing tax filings:",I),G.error(`Failed to fix tax filings: ${I instanceof Error?I.message:"Unknown error"}`)}};return i?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ve,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),r.jsx("p",{className:"text-gray-600",children:"Loading client data..."})]})}):n?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white border-b sticky top-0 z-10",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>t("/admin"),children:[r.jsx(Ji,{className:"w-4 h-4 mr-2"}),"Back to Clients"]}),r.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-semibold text-xl",children:n.name.charAt(0).toUpperCase()})}),r.jsxs("div",{children:[r.jsx("h1",{className:"font-semibold text-xl",children:n.name}),r.jsx("p",{className:"text-sm text-gray-500",children:n.email})]})]}),r.jsx(Zn,{variant:"outline",className:`${n.onboardingComplete?"bg-green-100 text-green-700 border-green-300":"bg-yellow-100 text-yellow-700 border-yellow-300"} border`,children:n.onboardingComplete?"Onboarded":"Pending Onboarding"})]})})}),r.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsxs(de,{className:"p-6",children:[r.jsxs("h2",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(Ju,{className:"w-5 h-5 text-blue-600"}),"Personal Information"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),r.jsx("p",{className:"font-medium",children:n.name||"N/A"})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(ir,{className:"w-3 h-3"}),"Email"]}),r.jsx("p",{className:"font-medium",children:n.email})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(Dt,{className:"w-3 h-3"}),"Account Created"]}),r.jsx("p",{className:"font-medium",children:new Date(n.createdAt).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"User ID"}),r.jsx("p",{className:"font-mono text-xs text-gray-600 break-all",children:n.id})]}),r.jsx("div",{className:"border-t pt-4 mt-4"}),n.personalInfo?r.jsxs(r.Fragment,{children:[n.personalInfo.phone&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(Di,{className:"w-3 h-3"}),"Phone"]}),r.jsx("p",{className:"font-medium",children:n.personalInfo.phone})]}),n.personalInfo.dateOfBirth&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(Dt,{className:"w-3 h-3"}),"Date of Birth"]}),r.jsx("p",{className:"font-medium",children:n.personalInfo.dateOfBirth})]}),n.personalInfo.sin&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"SIN"}),r.jsx("p",{className:"font-medium font-mono",children:n.personalInfo.sin})]}),n.personalInfo.address&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(Nc,{className:"w-3 h-3"}),"Address"]}),r.jsx("p",{className:"font-medium",children:n.personalInfo.address}),n.personalInfo.city&&r.jsxs("p",{className:"font-medium",children:[n.personalInfo.city,", ",n.personalInfo.province," ",n.personalInfo.postalCode]})]}),n.personalInfo.maritalStatus&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Marital Status"}),r.jsx("p",{className:"font-medium capitalize",children:n.personalInfo.maritalStatus.replace("-"," ")})]}),n.personalInfo.residenceStatus&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Residence Status"}),r.jsx("p",{className:"font-medium capitalize",children:n.personalInfo.residenceStatus.replace("-"," ")})]})]}):r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(tt,{className:"w-5 h-5 text-yellow-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-yellow-900 mb-1",children:"Additional Information Pending"}),r.jsx("p",{className:"text-xs text-yellow-700",children:"The client hasn't completed the onboarding process yet. Additional details like phone, address, SIN, and tax information will appear here once they complete their profile."})]})]})})]})]}),r.jsxs(de,{className:"p-6",children:[r.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Account Details"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Joined"}),r.jsx("p",{className:"font-medium",children:new Date(n.createdAt).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Total Filings"}),r.jsx("p",{className:"font-medium",children:((V=n.taxFilings)==null?void 0:V.length)||0})]})]})]})]}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs(de,{className:"p-6 mb-6",children:[r.jsxs("h2",{className:"font-semibold text-lg mb-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zl,{className:"w-5 h-5 text-green-600"}),"All Client Documents"]}),r.jsxs(Zn,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:[T.reduce((I,M)=>I+M.files.length,0)," files"]})]}),$?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600"})}):T.length>0?r.jsx("div",{className:"space-y-4",children:T.map(I=>r.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 px-4 py-3 border-b",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Dt,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900",children:["Tax Year ",I.year]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[I.files.length," document",I.files.length!==1?"s":""]})]})]})})}),r.jsx("div",{className:"p-4 bg-white",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:I.files.map(M=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Ye,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium truncate text-gray-900",children:M.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[q(M.category),"  ",P(M.size)]}),r.jsx("p",{className:"text-xs text-gray-400",children:new Date(M.uploadedAt).toLocaleDateString()})]})]}),M.url&&r.jsx(se,{size:"sm",variant:"ghost",onClick:()=>window.open(M.url,"_blank"),className:"flex-shrink-0 hover:bg-blue-50",children:r.jsx(Bl,{className:"w-4 h-4 text-blue-600"})})]},M.id))})})]},I.year))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(zl,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-gray-500",children:"No documents uploaded yet"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Documents will appear here once the client uploads them"})]})]}),T.map(I=>r.jsx(GR,{userId:e,clientName:n.name,clientEmail:n.email,year:I.year,onSave:S},`cra-${I.year}`)),r.jsx(YR,{userId:e,clientName:n.name}),r.jsxs(de,{className:"p-6 mt-6",children:[r.jsxs("h2",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(Ii,{className:"w-5 h-5 text-purple-600"}),"Messages"]}),r.jsx("div",{className:"mb-4 max-h-[400px] overflow-y-auto space-y-3",children:g?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(ve,{className:"w-6 h-6 animate-spin text-blue-600"})}):m.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ii,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-gray-500",children:"No messages yet"})]}):m.map(I=>{const M=I.senderRole==="admin",Y=new Date(I.createdAt);return r.jsx("div",{className:`flex ${M?"justify-end":"justify-start"} group`,children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${M?"bg-blue-600 text-white":"bg-gray-100 border border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-xs font-semibold",children:M?"You":I.senderName}),r.jsxs("span",{className:`text-xs ${M?"text-blue-100":"text-gray-500"}`,children:[Y.toLocaleDateString(),"  ",Y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),r.jsx("p",{className:"text-sm whitespace-pre-wrap",children:I.content})]}),r.jsx("button",{onClick:()=>ne(I.id,I.subject),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded",title:"Delete message",children:r.jsx(tt,{className:"w-4 h-4 text-red-500"})})]})},I.id)})}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx(Aa,{value:k,onChange:I=>E(I.target.value),placeholder:"Type your message to the client...",className:"min-h-[100px] mb-2",onKeyDown:I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),z())}}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(se,{onClick:z,disabled:!k.trim()||N,children:[N?r.jsx(ve,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(fa,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})]})]})]})}),x&&y&&r.jsx(yA,{isOpen:x,onClose:()=>{b(!1),w(null)},client:{id:n.id,name:n.name,email:n.email},filingYear:y,onSuccess:S}),O&&y&&r.jsx(bA,{isOpen:O,onClose:()=>{_(!1),w(null)},clientId:n.id,clientName:n.name,year:y,onSuccess:async()=>{await le(),y&&(h(I=>{const M={...I};return delete M[y],M}),await A(y))}}),U&&(()=>{console.log(" Full client.taxFilings:",n.taxFilings);const I=[];return Array.isArray(n.taxFilings)&&n.taxFilings.forEach(M=>{if(console.log(" Processing tax filing:",M),M&&typeof M=="object"&&"year"in M){const Y=M.year;typeof Y=="number"&&!isNaN(Y)?I.push(Y):console.warn(" Invalid year type:",typeof Y,Y)}else console.warn(" Invalid filing structure:",M)}),console.log(" Final existingYears array:",I),r.jsx(qR,{isOpen:U,onClose:()=>D(!1),onSubmit:fe,existingYears:I})})(),r.jsxs(se,{onClick:W,className:"absolute bottom-4 right-4 bg-red-500 text-white px-4 py-2 rounded",children:[r.jsx(aE,{className:"w-4 h-4 mr-2"}),"Fix Tax Filings"]})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(tt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Client not found"}),r.jsx(se,{onClick:()=>t("/admin"),className:"mt-4",children:"Back to Clients"})]})})}function Ig(){const e=Be(),{user:t}=Tt(),{isAdmin:s,loading:n}=Ey(),[a,i]=p.useState([]),[o,l]=p.useState(!0),[c,d]=p.useState(null),[h,u]=p.useState(!1),[f,x]=p.useState(!1);p.useEffect(()=>{!n&&!s()&&(G.error("Access denied. Admin permissions required."),e("/admin"))},[n,s,e]),p.useEffect(()=>{s()&&b()},[s]);const b=async()=>{try{const{data:m}=await kc("/users/list");i(m)}catch(m){console.error("Error loading users:",m),G.error("Failed to load users")}finally{l(!1)}},y=async(m,v)=>{try{if(!(await fetch(`https://${Ke}.supabase.co/functions/v1/make-server-c2a25be0/users/permissions/${m}`,{method:"PUT",headers:{Authorization:`Bearer ${us}`,"Content-Type":"application/json"},body:JSON.stringify(v)})).ok)throw new Error("Failed to update permissions");G.success("Permissions updated successfully"),await b(),u(!1),d(null)}catch(g){console.error("Error updating permissions:",g),G.error("Failed to update permissions")}},w=m=>{switch(m){case"admin":return"bg-purple-100 text-purple-700 border-purple-200";case"accountant":return"bg-blue-100 text-blue-700 border-blue-200";case"viewer":return"bg-gray-100 text-gray-700 border-gray-200";case"client":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return n||o?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600"})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(se,{variant:"ghost",onClick:()=>e("/admin"),className:"flex items-center gap-2",children:[r.jsx(Ji,{className:"w-4 h-4"}),"Back to Admin Hub"]}),r.jsx("div",{className:"h-8 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:r.jsx(Ze,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage team members and permissions"})]})]})]}),r.jsxs(se,{onClick:()=>x(!0),className:"bg-purple-600 hover:bg-purple-700 flex items-center gap-2",children:[r.jsx(ga,{className:"w-4 h-4"}),"Add User"]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx(de,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:a.length}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.filter(m=>m.userType==="client").length," clients, ",a.filter(m=>m.userType==="staff").length," staff"]})]}),r.jsx(Ze,{className:"w-8 h-8 text-blue-500"})]})}),r.jsx(de,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Users"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:a.filter(m=>m.isActive).length})]}),r.jsx(fs,{className:"w-8 h-8 text-green-500"})]})}),r.jsx(de,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Admins"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:a.filter(m=>m.role==="admin").length})]}),r.jsx(Fi,{className:"w-8 h-8 text-purple-500"})]})})]}),r.jsx(de,{className:"overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Modules Access"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Cases"}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(m=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:m.name}),r.jsx("p",{className:"text-sm text-gray-500",children:m.email})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${w(m.role)}`,children:m.role})}),r.jsx("td",{className:"px-6 py-4",children:m.isActive?r.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[r.jsx(fs,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Active"})]}):r.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[r.jsx(pr,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Inactive"})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[m.modules.slice(0,3).map(v=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-blue-50 text-blue-700 border border-blue-100",children:v},v)),m.modules.length>3&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-600",children:["+",m.modules.length-3," more"]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"font-medium text-gray-900",children:m.casesCount||0}),r.jsx("span",{className:"text-gray-500",children:" total"})]})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs(se,{variant:"outline",size:"sm",onClick:()=>{d(m),u(!0)},className:"flex items-center gap-2",children:[r.jsx(pm,{className:"w-3 h-3"}),"Edit"]})})]},m.userId))})]})})})]}),h&&c&&r.jsx(XR,{user:c,onClose:()=>{u(!1),d(null)},onSave:y}),f&&r.jsx(ZR,{onClose:()=>x(!1),onAddUser:b})]})}function XR({user:e,onClose:t,onSave:s}){const[n,a]=p.useState(e.role),[i,o]=p.useState(e.modules),[l,c]=p.useState(e.isActive),d=[{id:"dashboard",label:"Dashboard",description:"General overview and analytics"},{id:"customers",label:"Customers",description:"Manage clients and tax filings"},{id:"bookkeeping",label:"Bookkeeping",description:"Track expenses and invoices"},{id:"financial",label:"Financial",description:"Revenue and financial reports"},{id:"marketing",label:"Marketing",description:"Marketing tools and campaigns"},{id:"users",label:"User Management",description:"Manage team and permissions (Admin only)"}],h=f=>{i.includes(f)?o(i.filter(x=>x!==f)):o([...i,f])},u=()=>{s(e.userId,{role:n,modules:i,isActive:l})};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Permissions"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.name," - ",e.email]})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Role"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:["admin","accountant","viewer"].map(f=>r.jsx("button",{onClick:()=>a(f),className:`p-4 border-2 rounded-lg text-center transition-all ${n===f?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:r.jsx("p",{className:"font-medium text-gray-900 capitalize",children:f})},f))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Module Access"}),r.jsx("div",{className:"space-y-2",children:d.map(f=>r.jsx("button",{onClick:()=>h(f.id),disabled:n==="admin"&&f.id==="users",className:`w-full p-4 border-2 rounded-lg text-left transition-all ${i.includes(f.id)?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"} ${n==="admin"&&f.id==="users"?"opacity-50":""}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:f.label}),r.jsx("p",{className:"text-sm text-gray-600",children:f.description})]}),i.includes(f.id)&&r.jsx(fs,{className:"w-5 h-5 text-green-600"})]})},f.id))}),n==="admin"&&r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* Admin users automatically have access to all modules including User Management"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Status"}),r.jsxs("button",{onClick:()=>c(!l),className:`w-full p-4 border-2 rounded-lg flex items-center justify-between ${l?"border-green-500 bg-green-50":"border-gray-300 bg-gray-50"}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:l?"Active":"Inactive"}),r.jsx("p",{className:"text-sm text-gray-600",children:l?"User can access the system":"User is blocked from accessing"})]}),l?r.jsx(fs,{className:"w-5 h-5 text-green-600"}):r.jsx(pr,{className:"w-5 h-5 text-gray-400"})]})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end",children:[r.jsx(se,{variant:"outline",onClick:t,children:"Cancel"}),r.jsx(se,{onClick:u,className:"bg-blue-600 hover:bg-blue-700",children:"Save Changes"})]})]})})}function ZR({onClose:e,onAddUser:t}){const[s,n]=p.useState(""),[a,i]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState("viewer"),[h,u]=p.useState(["dashboard"]),[f,x]=p.useState(!0),[b,y]=p.useState(!1),w=[{id:"dashboard",label:"Dashboard",description:"General overview and analytics"},{id:"customers",label:"Customers",description:"Manage clients and tax filings"},{id:"bookkeeping",label:"Bookkeeping",description:"Track expenses and invoices"},{id:"financial",label:"Financial",description:"Revenue and financial reports"},{id:"marketing",label:"Marketing",description:"Marketing tools and campaigns"},{id:"users",label:"User Management",description:"Manage team and permissions (Admin only)"}],m=g=>{h.includes(g)?u(h.filter(j=>j!==g)):u([...h,g])},v=async()=>{y(!0);try{if(!s||!a||!o){G.error("Please fill in all required fields"),y(!1);return}if(o.length<6){G.error("Password must be at least 6 characters"),y(!1);return}const{supabase:g}=await Pa(async()=>{const{supabase:C}=await Promise.resolve().then(()=>p2);return{supabase:C}},void 0),{data:j,error:k}=await g.auth.getSession();if(k||!j.session){G.error("Authentication error. Please log in again."),y(!1);return}const E=await fetch(`https://${Ke}.supabase.co/functions/v1/make-server-c2a25be0/admin/create-user`,{method:"POST",headers:{Authorization:`Bearer ${j.session.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({name:s,email:a,password:o,role:c,modules:h,isActive:f})}),N=await E.json();if(!E.ok){if(E.status===409)G.error(N.error||"A user with this email already exists"),console.log("Existing user details:",N.existingUser);else throw new Error(N.error||"Failed to add user");y(!1);return}console.log("User created successfully:",N),G.success(`User ${s} created successfully!`),t(),e()}catch(g){console.error("Error adding user:",g),G.error(g instanceof Error?g.message:"Failed to add user")}finally{y(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add User"})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Name"}),r.jsx("input",{type:"text",value:s,onChange:g=>n(g.target.value),className:"w-full p-4 border-2 rounded-lg text-left transition-all border-gray-200 hover:border-gray-300"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email"}),r.jsx("input",{type:"email",value:a,onChange:g=>i(g.target.value),className:"w-full p-4 border-2 rounded-lg text-left transition-all border-gray-200 hover:border-gray-300"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Password"}),r.jsx("input",{type:"password",value:o,onChange:g=>l(g.target.value),className:"w-full p-4 border-2 rounded-lg text-left transition-all border-gray-200 hover:border-gray-300"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Role"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:["admin","accountant","viewer"].map(g=>r.jsx("button",{onClick:()=>d(g),className:`p-4 border-2 rounded-lg text-center transition-all ${c===g?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:r.jsx("p",{className:"font-medium text-gray-900 capitalize",children:g})},g))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Module Access"}),r.jsx("div",{className:"space-y-2",children:w.map(g=>r.jsx("button",{onClick:()=>m(g.id),disabled:c==="admin"&&g.id==="users",className:`w-full p-4 border-2 rounded-lg text-left transition-all ${h.includes(g.id)?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"} ${c==="admin"&&g.id==="users"?"opacity-50":""}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:g.label}),r.jsx("p",{className:"text-sm text-gray-600",children:g.description})]}),h.includes(g.id)&&r.jsx(fs,{className:"w-5 h-5 text-green-600"})]})},g.id))}),c==="admin"&&r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* Admin users automatically have access to all modules including User Management"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Status"}),r.jsxs("button",{onClick:()=>x(!f),className:`w-full p-4 border-2 rounded-lg flex items-center justify-between ${f?"border-green-500 bg-green-50":"border-gray-300 bg-gray-50"}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:f?"Active":"Inactive"}),r.jsx("p",{className:"text-sm text-gray-600",children:f?"User can access the system":"User is blocked from accessing"})]}),f?r.jsx(fs,{className:"w-5 h-5 text-green-600"}):r.jsx(pr,{className:"w-5 h-5 text-gray-400"})]})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end",children:[r.jsx(se,{variant:"outline",onClick:e,children:"Cancel"}),r.jsx(se,{onClick:v,className:"bg-blue-600 hover:bg-blue-700",children:b?r.jsx(ve,{className:"w-4 h-4 animate-spin"}):"Add User"})]})]})})}const Dg="crm-leads-local",Lo="crm-offline-mode";function $g(){const e=Be(),{user:t,loading:s}=Tt(),[n,a]=p.useState([]),[i,o]=p.useState(null),[l,c]=p.useState(!0),[d,h]=p.useState(!1),[u,f]=p.useState(null),[x,b]=p.useState("all"),[y,w]=p.useState("all"),[m,v]=p.useState(!1),[g,j]=p.useState({name:"",email:"",phone:"",company:"",contactMethod:"email",status:"new",estimatedValue:0,notes:"",source:"",assignedTo:""});p.useEffect(()=>{!s&&t&&!xs(t.email)&&(G.error("Access denied. Admin permissions required."),e("/admin"))},[s,t,e]),p.useEffect(()=>{if(t&&xs(t.email)){const S=localStorage.getItem(Lo)==="true";v(S),C(),T()}},[t]);const k=()=>{try{const S=localStorage.getItem(Dg);return S?JSON.parse(S):[]}catch(S){return console.error("Error loading from localStorage:",S),[]}},E=S=>{try{localStorage.setItem(Dg,JSON.stringify(S))}catch(A){console.error("Error saving to localStorage:",A)}},N=S=>({total:S.length,new:S.filter(A=>A.status==="new").length,contacted:S.filter(A=>A.status==="contacted").length,quoteSent:S.filter(A=>A.status==="quote-sent").length,negotiating:S.filter(A=>A.status==="negotiating").length,won:S.filter(A=>A.status==="won").length,lost:S.filter(A=>A.status==="lost").length,conversionRate:S.length>0?Math.round(S.filter(A=>A.status==="won").length/S.length*100):0,totalValue:S.filter(A=>A.status==="won").reduce((A,P)=>A+(P.estimatedValue||0),0),estimatedPipeline:S.filter(A=>!["won","lost"].includes(A.status)).reduce((A,P)=>A+(P.estimatedValue||0),0),byContactMethod:{email:S.filter(A=>A.contactMethod==="email").length,whatsapp:S.filter(A=>A.contactMethod==="whatsapp").length,phone:S.filter(A=>A.contactMethod==="phone").length,form:S.filter(A=>A.contactMethod==="form").length,referral:S.filter(A=>A.contactMethod==="referral").length,linkedin:S.filter(A=>A.contactMethod==="linkedin").length,instagram:S.filter(A=>A.contactMethod==="instagram").length,other:S.filter(A=>A.contactMethod==="other").length}}),C=async()=>{try{if(console.log(" [CRM] Loading leads..."),m){console.log(" [CRM] Using localStorage (offline mode)");const P=k();a(P),c(!1);return}console.log(" [CRM] Attempting backend connection...");const S=new AbortController,A=setTimeout(()=>S.abort(),5e3);try{const P=await fetch(`https://${Ke}.supabase.co/functions/v1/make-server-c2a25be0/crm/leads`,{headers:{Authorization:`Bearer ${us}`,"Content-Type":"application/json"},signal:S.signal});if(clearTimeout(A),console.log(" [CRM] Response status:",P.status),!P.ok){const z=await P.text();throw console.warn(" [CRM] Backend returned error:",P.status,z),new Error(`Backend returned ${P.status}`)}const q=await P.json();console.log(" [CRM] Connected to backend. Loaded",q.length||0,"leads");const J=Array.isArray(q)?q:[];a(J),E(J),localStorage.getItem(Lo)==="true"&&(localStorage.removeItem(Lo),v(!1),console.log(" [CRM] Backend is back online!"))}catch(P){throw clearTimeout(A),P.name==="AbortError"?(console.log(" [CRM] Backend connection timeout (backend not available)"),new Error("Backend timeout")):P}}catch{console.log(" [CRM] Backend unavailable - activating offline mode"),console.log(" [CRM] All data will be saved locally");const A=m;localStorage.setItem(Lo,"true"),v(!0);const P=k();a(P),A||G.info("Working in offline mode",{description:"Your changes will be saved locally in your browser.",duration:4e3})}finally{c(!1)}},T=async()=>{try{if(m){console.log(" [CRM] Calculating stats from local data");const P=k(),q=N(P);o(q);return}console.log(" [CRM] Loading stats from backend...");const S=new AbortController,A=setTimeout(()=>S.abort(),5e3);try{const P=await fetch(`https://${Ke}.supabase.co/functions/v1/make-server-c2a25be0/crm/stats`,{headers:{Authorization:`Bearer ${us}`,"Content-Type":"application/json"},signal:S.signal});if(clearTimeout(A),!P.ok){const J=await P.text();throw console.warn(" [CRM] Backend stats error:",P.status,J),new Error(`Backend returned ${P.status}`)}const q=await P.json();console.log(" [CRM] Stats loaded from backend"),o(q)}catch(P){throw clearTimeout(A),P.name==="AbortError"?(console.log(" [CRM] Stats timeout - using local calculation"),new Error("Backend timeout")):P}}catch{console.log(" [CRM] Calculating stats locally");const A=k(),P=N(A);o(P)}},R=async()=>{try{if(!g.name){G.error("Name is required");return}if(m){const P=k();if(u){const q=P.map(J=>J.id===u.id?{...J,...g,estimatedValue:Number(g.estimatedValue)||0,updatedAt:new Date().toISOString()}:J);E(q),a(q)}else{const J=[{id:`lead-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,...g,estimatedValue:Number(g.estimatedValue)||0,activities:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},...P];E(J),a(J)}G.success(`Lead ${u?"updated":"created"} successfully (offline mode)`),h(!1),f(null),O(),T();return}const S=u?`https://${Ke}.supabase.co/functions/v1/make-server-c2a25be0/crm/leads/${u.id}`:`https://${Ke}.supabase.co/functions/v1/make-server-c2a25be0/crm/leads`;if(!(await fetch(S,{method:u?"PUT":"POST",headers:{Authorization:`Bearer ${us}`,"Content-Type":"application/json"},body:JSON.stringify({...g,estimatedValue:Number(g.estimatedValue)||0})})).ok)throw new Error("Failed to save lead");G.success(`Lead ${u?"updated":"created"} successfully`),h(!1),f(null),O(),C(),T()}catch(S){console.error("Error saving lead:",S),G.error("Failed to save lead")}},$=async S=>{if(confirm("Are you sure you want to delete this lead?"))try{if(m){const q=k().filter(J=>J.id!==S);E(q),a(q),G.success("Lead deleted successfully (offline mode)"),T();return}if(!(await fetch(`https://${Ke}.supabase.co/functions/v1/make-server-c2a25be0/crm/leads/${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${us}`}})).ok)throw new Error("Failed to delete lead");G.success("Lead deleted successfully"),C(),T()}catch(A){console.error("Error deleting lead:",A),G.error("Failed to delete lead")}},H=S=>{f(S),j({name:S.name,email:S.email||"",phone:S.phone||"",company:S.company||"",contactMethod:S.contactMethod,status:S.status,estimatedValue:S.estimatedValue||0,notes:S.notes||"",source:S.source||"",assignedTo:S.assignedTo||""}),h(!0)},O=()=>{j({name:"",email:"",phone:"",company:"",contactMethod:"email",status:"new",estimatedValue:0,notes:"",source:"",assignedTo:""})},_=S=>{switch(S){case"new":return"bg-blue-100 text-blue-700 border-blue-200";case"contacted":return"bg-purple-100 text-purple-700 border-purple-200";case"quote-sent":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"negotiating":return"bg-orange-100 text-orange-700 border-orange-200";case"won":return"bg-green-100 text-green-700 border-green-200";case"lost":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},U=S=>{switch(S){case"email":return r.jsx(ir,{className:"w-4 h-4"});case"whatsapp":return r.jsx(Sc,{className:"w-4 h-4"});case"phone":return r.jsx(Di,{className:"w-4 h-4"});case"form":return r.jsx(Ye,{className:"w-4 h-4"});case"linkedin":return r.jsx(Q2,{className:"w-4 h-4"});case"instagram":return r.jsx(Y2,{className:"w-4 h-4"});default:return r.jsx(Ze,{className:"w-4 h-4"})}},L=n.filter(S=>!(x!=="all"&&S.status!==x||y!=="all"&&S.contactMethod!==y));return s||l?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx(ve,{className:"w-8 h-8 animate-spin text-blue-600"})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(se,{variant:"ghost",onClick:()=>e("/admin"),className:"flex items-center gap-2",children:[r.jsx(Ji,{className:"w-4 h-4"}),"Back to Admin Hub"]}),r.jsx("div",{className:"h-8 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:r.jsx(xm,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"CRM - Lead Management"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Track contacts, quotes, and conversions"})]})]})]}),r.jsxs(se,{onClick:()=>{O(),f(null),h(!0)},className:"bg-blue-600 hover:bg-blue-700 flex items-center gap-2",children:[r.jsx(ay,{className:"w-4 h-4"}),"Add Lead"]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx(de,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Leads"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:i.total})]}),r.jsx(Ze,{className:"w-8 h-8 text-blue-500"})]})}),r.jsx(de,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Won Deals"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:i.won})]}),r.jsx(Xv,{className:"w-8 h-8 text-green-500"})]})}),r.jsx(de,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Conversion Rate"}),r.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:[i.conversionRate,"%"]})]}),r.jsx(or,{className:"w-8 h-8 text-purple-500"})]})}),r.jsx(de,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Value Won"}),r.jsxs("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:["$",i.totalValue.toLocaleString()]})]}),r.jsx(Le,{className:"w-8 h-8 text-blue-500"})]})})]}),i&&r.jsxs(de,{className:"p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales Pipeline"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.new}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"New"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:i.contacted}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Contacted"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:i.quoteSent}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Quote Sent"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:i.negotiating}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Negotiating"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.won}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Won"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:i.lost}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Lost"})]})]})]}),r.jsx(de,{className:"p-4 mb-6",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsx(Zv,{className:"w-5 h-5 text-gray-500"}),r.jsxs("select",{value:x,onChange:S=>b(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"new",children:"New"}),r.jsx("option",{value:"contacted",children:"Contacted"}),r.jsx("option",{value:"quote-sent",children:"Quote Sent"}),r.jsx("option",{value:"negotiating",children:"Negotiating"}),r.jsx("option",{value:"won",children:"Won"}),r.jsx("option",{value:"lost",children:"Lost"})]}),r.jsxs("select",{value:y,onChange:S=>w(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[r.jsx("option",{value:"all",children:"All Contact Methods"}),r.jsx("option",{value:"email",children:"Email"}),r.jsx("option",{value:"whatsapp",children:"WhatsApp"}),r.jsx("option",{value:"phone",children:"Phone"}),r.jsx("option",{value:"form",children:"Contact Form"}),r.jsx("option",{value:"referral",children:"Referral"}),r.jsx("option",{value:"linkedin",children:"LinkedIn"}),r.jsx("option",{value:"instagram",children:"Instagram"}),r.jsx("option",{value:"other",children:"Other"})]}),r.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:["Showing ",L.length," of ",n.length," leads"]})]})}),d&&r.jsxs(de,{className:"p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:u?"Edit Lead":"New Lead"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:g.name,onChange:S=>j({...g,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"John Doe"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:g.email,onChange:S=>j({...g,email:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"john@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",value:g.phone,onChange:S=>j({...g,phone:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"+1 (555) 000-0000"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),r.jsx("input",{type:"text",value:g.company,onChange:S=>j({...g,company:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Company Name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Method"}),r.jsxs("select",{value:g.contactMethod,onChange:S=>j({...g,contactMethod:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[r.jsx("option",{value:"email",children:"Email"}),r.jsx("option",{value:"whatsapp",children:"WhatsApp"}),r.jsx("option",{value:"phone",children:"Phone"}),r.jsx("option",{value:"form",children:"Contact Form"}),r.jsx("option",{value:"referral",children:"Referral"}),r.jsx("option",{value:"linkedin",children:"LinkedIn"}),r.jsx("option",{value:"instagram",children:"Instagram"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:g.status,onChange:S=>j({...g,status:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[r.jsx("option",{value:"new",children:"New"}),r.jsx("option",{value:"contacted",children:"Contacted"}),r.jsx("option",{value:"quote-sent",children:"Quote Sent"}),r.jsx("option",{value:"negotiating",children:"Negotiating"}),r.jsx("option",{value:"won",children:"Won"}),r.jsx("option",{value:"lost",children:"Lost"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Value ($)"}),r.jsx("input",{type:"number",value:g.estimatedValue,onChange:S=>j({...g,estimatedValue:Number(S.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),r.jsx("input",{type:"text",value:g.source,onChange:S=>j({...g,source:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Google Ads, Facebook, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{value:g.notes,onChange:S=>j({...g,notes:S.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Additional information..."})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t",children:[r.jsx(se,{variant:"outline",onClick:()=>{h(!1),f(null),O()},children:"Cancel"}),r.jsx(se,{onClick:R,className:"bg-blue-600 hover:bg-blue-700",children:u?"Update Lead":"Create Lead"})]})]}),r.jsx(de,{className:"overflow-hidden",children:L.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(Ze,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No leads found"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Lead"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Method"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Value"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Created"}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(S=>{var A;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:S.name}),S.company&&r.jsx("p",{className:"text-sm text-gray-500",children:S.company})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm",children:[S.email&&r.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[r.jsx(ir,{className:"w-3 h-3"}),r.jsx("span",{children:S.email})]}),S.phone&&r.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[r.jsx(Di,{className:"w-3 h-3"}),r.jsx("span",{children:S.phone})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[U(S.contactMethod),r.jsx("span",{className:"text-sm text-gray-600 capitalize",children:S.contactMethod.replace("-"," ")})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${_(S.status)}`,children:[S.status==="won"&&r.jsx(fs,{className:"w-3 h-3 mr-1"}),S.status==="lost"&&r.jsx(pr,{className:"w-3 h-3 mr-1"}),S.status==="quote-sent"&&r.jsx(fa,{className:"w-3 h-3 mr-1"}),S.status.replace("-"," ").toUpperCase()]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",((A=S.estimatedValue)==null?void 0:A.toLocaleString())||0]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[r.jsx(jc,{className:"w-3 h-3"}),r.jsx("span",{children:new Date(S.createdAt).toLocaleDateString()})]})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsxs(se,{variant:"outline",size:"sm",onClick:()=>H(S),className:"flex items-center gap-1",children:[r.jsx(pm,{className:"w-3 h-3"}),"Edit"]}),r.jsx(se,{variant:"outline",size:"sm",onClick:()=>$(S.id),className:"flex items-center gap-1 text-red-600 hover:text-red-700",children:r.jsx(pa,{className:"w-3 h-3"})})]})})]},S.id)})})]})})})]})]})}const Mo=[{id:"1",name:"Veronica Prass",email:"veprass@gmail.com",color:"bg-blue-100 text-blue-700 border-blue-300"},{id:"2",name:"Jamila Azevedo",email:"jamila.coura15@gmail.com",color:"bg-purple-100 text-purple-700 border-purple-300"},{id:"3",name:"Germana Azevedo",email:"germana.canada@gmail.com",color:"bg-green-100 text-green-700 border-green-300"}];function Fg(){const e=Be(),{user:t}=Tt(),[s,n]=p.useState([]),[a,i]=p.useState(!0),[o,l]=p.useState(!1),[c,d]=p.useState(null),[h,u]=p.useState("all"),[f,x]=p.useState("all"),[b,y]=p.useState("checking"),w="admin-hub-tasks",[m,v]=p.useState({title:"",description:"",assignedTo:"all",status:"todo",priority:"medium",dueDate:""});p.useEffect(()=>{xs(t==null?void 0:t.email)||e("/dashboard")},[t,e]);const g=async()=>{console.log(" [Team Activities] DEMO MODE: Loading from localStorage..."),i(!0);try{const _=localStorage.getItem(w);if(_){const U=JSON.parse(_),D=Array.isArray(U)?U:U.tasks||[];n(D),console.log(` [Team Activities] Loaded ${D.length} activities from localStorage`)}else n([]),console.log(" [Team Activities] No activities found - starting fresh")}catch(_){console.error(" [Team Activities] Error loading from localStorage:",_),n([])}y("online"),i(!1)};p.useEffect(()=>{g()},[]);const j=async()=>{if(console.log(" [Team Activities] Starting save...",m),!m.title.trim()){console.error(" [Team Activities] Title is required"),alert("Please enter a title");return}const _=c?{...c,...m}:{id:Date.now().toString(),...m,createdAt:new Date().toISOString(),createdBy:(t==null?void 0:t.email)||"Unknown"};console.log(" [Team Activities] Activity object created:",_);try{console.log(" [Team Activities] Getting session...");const{data:U,error:D}=await ue.auth.getSession();if(D||!U.session){console.error(" [Team Activities] No session found:",D),alert("Not authenticated. Please log in again.");return}console.log(" [Team Activities] Session found, sending POST request..."),console.log(" [Team Activities] URL:",mt.teamActivities);const L=new AbortController,S=setTimeout(()=>{console.error(" [Team Activities] Request timeout after 30 seconds!"),L.abort()},3e4);try{console.log(" [Team Activities] Initiating fetch...");const A=await fetch(mt.teamActivities,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U.session.access_token}`},body:JSON.stringify({activity:_}),signal:L.signal});if(clearTimeout(S),console.log(" [Team Activities]  RESPONSE RECEIVED!"),console.log(" [Team Activities] Response status:",A.status),console.log(" [Team Activities] Response ok?:",A.ok),!A.ok){const q=await A.json().catch(()=>({error:"Unknown error"}));console.error(" [Team Activities] API Error:",q),alert(`Failed to save: ${q.error||"Unknown error"}`);return}const P=await A.json();console.log(" [Team Activities] Save successful:",P),await g(),E(),l(!1),d(null),alert(c?"Activity updated successfully! ":"Activity created successfully! ")}catch(A){throw clearTimeout(S),A.name==="AbortError"?(console.error(" [Team Activities] Request was aborted due to timeout"),alert("Request timeout. The server is taking too long to respond. Please check your connection and try again.")):(console.error(" [Team Activities] FETCH ERROR:",A),console.error(" [Team Activities] Error name:",A.name),console.error(" [Team Activities] Error message:",A.message),alert(`Network error: ${A.message||"Failed to connect to server"}. Please try again.`)),A}}catch(U){console.error(" [Team Activities] Error saving activity:",U)}},k=async _=>{if(confirm("Are you sure you want to delete this activity?"))try{const{data:U}=await ue.auth.getSession();if(!U.session){alert("Not authenticated");return}const D=await fetch(mt.teamActivityDelete(_),{method:"DELETE",headers:{Authorization:`Bearer ${U.session.access_token}`,"Content-Type":"application/json"}});if(D.ok)await g(),alert("Activity deleted successfully");else{const L=await D.json();alert(`Failed to delete: ${L.error||"Unknown error"}`)}}catch(U){console.error("Error deleting activity:",U),alert("Failed to delete activity")}},E=()=>{v({title:"",description:"",assignedTo:"all",status:"todo",priority:"medium",dueDate:""})},N=_=>{d(_),v({title:_.title,description:_.description,assignedTo:_.assignedTo,status:_.status,priority:_.priority,dueDate:_.dueDate}),l(!0)},C=_=>Mo.find(U=>U.id===_),T=_=>{switch(_){case"todo":return r.jsx(jc,{className:"w-4 h-4"});case"in-progress":return r.jsx(tt,{className:"w-4 h-4"});case"completed":return r.jsx(Q,{className:"w-4 h-4"})}},R=_=>{switch(_){case"todo":return"bg-gray-100 text-gray-700 border-gray-300";case"in-progress":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"completed":return"bg-green-100 text-green-700 border-green-300"}},$=_=>{switch(_){case"low":return"bg-blue-100 text-blue-700 border-blue-300";case"medium":return"bg-orange-100 text-orange-700 border-orange-300";case"high":return"bg-red-100 text-red-700 border-red-300"}},H=s.filter(_=>{const U=h==="all"||_.assignedTo===h||_.assignedTo==="all",D=f==="all"||_.status===f;return U&&D}),O=_=>s.filter(U=>U.assignedTo===_&&U.status!=="completed").length;return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[b==="offline"&&r.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(tt,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-red-900 mb-2",children:" Edge Function Not Deployed"}),r.jsxs("p",{className:"text-red-800 mb-4",children:["The Supabase Edge Function ",r.jsx("code",{className:"bg-red-100 px-2 py-1 rounded",children:"make-server-c2a25be0"})," is not responding. This means it hasn't been deployed yet."]}),r.jsxs("div",{className:"space-y-2 text-sm text-red-900",children:[r.jsx("p",{className:"font-semibold",children:"Quick Fix:"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4",children:[r.jsxs("li",{children:["Go to:"," ",r.jsx("a",{href:"https://supabase.com/dashboard/project/pwlacumydrxvshklvttp/functions",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-red-700 font-medium",children:"Supabase Functions Dashboard"})]}),r.jsxs("li",{children:['Click "Create a new function"  Name it: ',r.jsx("code",{className:"bg-red-100 px-1 rounded",children:"make-server-c2a25be0"})]}),r.jsxs("li",{children:["Copy the code from ",r.jsx("code",{className:"bg-red-100 px-1 rounded",children:"/supabase/functions/make-server-c2a25be0/index.ts"})]}),r.jsx("li",{children:"Deploy and wait 10-30 seconds"}),r.jsx("li",{children:"Reload this page"})]}),r.jsxs("p",{className:"mt-3",children:[""," ",r.jsx("a",{href:"/test-server.html",target:"_blank",className:"underline hover:text-red-700 font-medium",children:"Open Server Test Page"})," ","to verify the deployment"]})]})]})]})})}),b==="online"&&r.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Q,{className:"w-5 h-5 text-green-600"}),r.jsx("p",{className:"text-green-900 font-medium",children:" Edge Function is online and responding"})]})})}),r.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{onClick:()=>e("/admin/control-panel"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[r.jsx(Ji,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:"Back to Control Panel"})]}),r.jsx("div",{className:"h-6 w-px bg-gray-300"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Team Activity Manager"})]}),r.jsxs("button",{onClick:()=>{E(),d(null),l(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(ay,{className:"w-5 h-5"}),"New Activity"]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:Mo.map(_=>r.jsxs("div",{className:`${_.color} border rounded-lg p-4`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ju,{className:"w-5 h-5"}),r.jsx("h3",{className:"font-semibold",children:_.name})]}),r.jsx("span",{className:"text-2xl font-bold",children:O(_.id)})]}),r.jsx("p",{className:"text-sm opacity-75",children:_.email}),r.jsx("p",{className:"text-xs mt-1 opacity-60",children:"Active tasks"})]},_.id))}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Zv,{className:"w-5 h-5 text-gray-500"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Team Member:"}),r.jsxs("select",{value:h,onChange:_=>u(_.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"all",children:"All Team Members"}),Mo.map(_=>r.jsx("option",{value:_.id,children:_.name},_.id))]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status:"}),r.jsxs("select",{value:f,onChange:_=>x(_.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"todo",children:"To Do"}),r.jsx("option",{value:"in-progress",children:"In Progress"}),r.jsx("option",{value:"completed",children:"Completed"})]})]})]})}),a?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading activities..."})]}):H.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[r.jsx(Dt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No activities found"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first activity to get started"}),r.jsx("button",{onClick:()=>l(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Activity"})]}):r.jsx("div",{className:"space-y-4",children:H.map(_=>{const U=C(_.assignedTo);return r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.title}),r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${R(_.status)} flex items-center gap-1`,children:[T(_.status),_.status.replace("-"," ").toUpperCase()]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${$(_.priority)}`,children:_.priority.toUpperCase()})]}),_.description&&r.jsx("p",{className:"text-gray-600 mb-3",children:_.description}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ju,{className:"w-4 h-4"}),r.jsx("span",{children:_.assignedTo==="all"?"All Team Members":(U==null?void 0:U.name)||"Unknown"})]}),_.dueDate&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Dt,{className:"w-4 h-4"}),r.jsx("span",{children:new Date(_.dueDate).toLocaleDateString()})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[r.jsx("button",{onClick:()=>N(_),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:r.jsx(pm,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>k(_.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(pa,{className:"w-4 h-4"})})]})]})},_.id)})})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c?"Edit Activity":"New Activity"}),r.jsx("button",{onClick:()=>{l(!1),d(null),E()},className:"text-gray-400 hover:text-gray-600",children:r.jsx(kn,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),r.jsx("input",{type:"text",value:m.title,onChange:_=>v({...m,title:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Activity title..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{value:m.description,onChange:_=>v({...m,description:_.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Activity description..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign To"}),r.jsxs("select",{value:m.assignedTo,onChange:_=>v({...m,assignedTo:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"all",children:"All Team Members"}),Mo.map(_=>r.jsx("option",{value:_.id,children:_.name},_.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{value:m.status,onChange:_=>v({...m,status:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"todo",children:"To Do"}),r.jsx("option",{value:"in-progress",children:"In Progress"}),r.jsx("option",{value:"completed",children:"Completed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),r.jsxs("select",{value:m.priority,onChange:_=>v({...m,priority:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),r.jsx("input",{type:"date",value:m.dueDate,onChange:_=>v({...m,dueDate:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 flex items-center justify-end gap-3 border-t border-gray-200",children:[r.jsx("button",{onClick:()=>{l(!1),d(null),E()},className:"px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(iy,{className:"w-4 h-4"}),c?"Update Activity":"Create Activity"]})]})]})})]})}const e4=()=>r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-lg flex items-center justify-center mx-auto mb-4 animate-pulse",children:r.jsx("span",{className:"text-white font-bold text-2xl",children:"DP"})}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),tn=({children:e,requireAdmin:t=!1})=>{const{user:s,isAdmin:n,loading:a}=Tt();return a?r.jsx(e4,{}):s?t&&!n?r.jsx(Au,{to:"/",replace:!0}):r.jsx(r.Fragment,{children:e}):r.jsx(Au,{to:"/login",replace:!0})},t4=()=>(Object.entries({HomePage:Lp,LoginPage:Mp,AuthDebugPage:Up,QuickAdminSetup:zp,QuickCreateAdminPage:Vp,SimpleResetPasswordPage:Hp,DirectResetPasswordPage:Wp,ResetAdminPasswordsPage:qp,SupabaseAuthManager:Bp,AdminDiagnosticPage:Gp,SystemStatusPage:Yp,DiagnosticPage:Jp,AdminControlPanelPage:Zp,AdminHubPage:tg,AdminClientsPage:fg,AdminClientDetailPage:Og,AdminUsersPage:Ig,AdminCRMPage:$g,AdminTeamActivityPage:Fg}).forEach(([t,s])=>{if(!s)throw console.error(` ${t} is undefined!`),new Error(`${t} component failed to load`)}),console.log(" All page components loaded successfully"),r.jsx(H2,{children:r.jsx(bv,{children:r.jsx(q1,{children:r.jsx(g2,{children:r.jsxs(o1,{children:[r.jsx(iE,{}),r.jsxs(Gi,{children:[r.jsx("title",{children:"DuoPro Services - Canadian Tax Services"}),r.jsx("meta",{name:"description",content:"Professional Canadian tax services for individuals, newcomers, and small businesses."})]}),r.jsxs(FS,{children:[r.jsx(De,{path:"/",element:r.jsx(Lp,{})}),r.jsx(De,{path:"/login",element:r.jsx(Mp,{})}),r.jsx(De,{path:"/setup",element:r.jsx(zp,{})}),r.jsx(De,{path:"/quick-setup",element:r.jsx(Vp,{})}),r.jsx(De,{path:"/simple-reset",element:r.jsx(Hp,{})}),r.jsx(De,{path:"/direct-reset",element:r.jsx(Wp,{})}),r.jsx(De,{path:"/reset-passwords",element:r.jsx(qp,{})}),r.jsx(De,{path:"/admin-diagnostic",element:r.jsx(Gp,{})}),r.jsx(De,{path:"/auth-debug",element:r.jsx(Bp,{})}),r.jsx(De,{path:"/auth-debug-old",element:r.jsx(Up,{})}),r.jsx(De,{path:"/system-status",element:r.jsx(Yp,{})}),r.jsx(De,{path:"/diagnostic",element:r.jsx(Jp,{})}),r.jsx(De,{path:"/admin",element:r.jsx(tn,{requireAdmin:!0,children:r.jsx(xT,{})})}),r.jsx(De,{path:"/admin/control-panel",element:r.jsx(tn,{requireAdmin:!0,children:r.jsx(Zp,{})})}),r.jsx(De,{path:"/admin/hub",element:r.jsx(tn,{requireAdmin:!0,children:r.jsx(tg,{})})}),r.jsx(De,{path:"/admin/clients",element:r.jsx(tn,{requireAdmin:!0,children:r.jsx(fg,{})})}),r.jsx(De,{path:"/admin/clients/:clientId",element:r.jsx(tn,{requireAdmin:!0,children:r.jsx(Og,{})})}),r.jsx(De,{path:"/admin/users",element:r.jsx(tn,{requireAdmin:!0,children:r.jsx(Ig,{})})}),r.jsx(De,{path:"/admin/crm",element:r.jsx(tn,{requireAdmin:!0,children:r.jsx($g,{})})}),r.jsx(De,{path:"/admin/team-activity",element:r.jsx(tn,{requireAdmin:!0,children:r.jsx(Fg,{})})}),r.jsx(De,{path:"*",element:r.jsx(Au,{to:"/",replace:!0})})]}),r.jsx(V2,{position:"top-right",richColors:!0,closeButton:!0})]})})})})}));$d.createRoot(document.getElementById("root")).render(r.jsx(F.StrictMode,{children:r.jsx(t4,{})}));export{mt as A,Dt as C,Le as D,Ye as F,Y2 as I,ve as L,ir as M,Di as P,tE as S,or as T,Ju as U,pr as X,Zv as a,tt as b,Ul as c,jc as d,Bl as e,Q as f,te as g,ay as h,kn as i,r as j,iy as k,pm as l,pa as m,Q2 as n,p as r,ue as s,G as t,Be as u};
